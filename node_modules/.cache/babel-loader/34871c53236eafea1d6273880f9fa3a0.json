{"ast":null,"code":"import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport { addCommas, nFormatter } from './HelperFunctions';\nimport { filter } from './App';\nlet maxX = 1000;\nlet maxY = 100;\nlet maxZ = 1000000;\nlet xScale;\nlet yScale;\nlet zScale;\nlet groupedData = [];\nlet width = 600;\nlet height = 233;\nlet x = 35;\nlet y = 58;\nlet bubbles;\nexport function drawBubblechart(data, options, filter) {\n  maxX = d3.max(data.country, function (d, i) {\n    return parseFloat(d.gni_2017);\n  });\n  maxY = d3.max(data.country, function (d, i) {\n    // if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return parseFloat(d.people_vaccinated_per_hundred);\n    if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return 100; // if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return parseFloat(d.people_fully_vaccinated_per_hundred);\n\n    if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') return 100;\n    if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return 100;\n  });\n  maxZ = d3.max(data.country, function (d, i) {\n    return parseFloat(d.population);\n  });\n  xScale = d3.scaleLinear().range([0, width]).domain([0, maxX]).nice();\n  yScale = d3.scaleLinear().range([height, 0]).domain([0, maxY]);\n  zScale = d3.scaleSqrt().domain([0, maxZ]).range([1, 20]);\n  const svg = d3.select('#bubblechart-tab').append('g').attr('transform', 'translate(' + x + ', ' + y + ')').attr('id', 'bubblechart'); // create y-axis\n\n  svg.append(\"g\").attr('id', 'bubbley').call(d3.axisLeft(yScale).ticks(3).tickSize(3)); // create x-axis\n\n  svg.append(\"g\").attr('id', 'bubblex').attr('class', 'xAxis').attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(xScale).ticks(4).tickSize(3)); // Add dots\n\n  bubbles = d3.select('#bubblechart').selectAll(\".bubble\").data(data.country).join(function (enter) {\n    enter.append(\"circle\").attr(\"class\", function (d) {\n      return \"bubble\";\n    }).attr(\"cx\", function (d) {\n      return xScale(parseFloat(d.gni_2017));\n    }).attr(\"cy\", function (d) {\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n    }).attr(\"r\", function (d) {\n      return zScale(parseFloat(d.population));\n    }).style(\"fill\", function (d) {\n      if (options.bubble_chart_color_by == 'region') {\n        if (colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n      }\n\n      if (options.bubble_chart_color_by == 'hdi') {\n        if (colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n      }\n\n      if (options.bubble_chart_color_by == 'inform-severity') {\n        if (colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n      }\n\n      return 'transparent';\n    }).style(\"stroke\", function (d) {\n      // if(options.bubble_chart_color_by == 'region') {\n      //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n      // } \n      // if(options.bubble_chart_color_by == 'hdi') {\n      //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n      //  }\n      //  if(options.bubble_chart_color_by == 'inform-severity') {\n      //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n      //  }\n      // return  'transparent';\n      return '#FFF';\n    }).style(\"stroke-width\", 1) // .style(\"fill-opacity\", 0.8)\n    .attr('display', function (d, i) {\n      var val = 0;\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n      if (isNaN(val)) return 'none';\n      return 'inline';\n    }).attr('opacity', function (d, i) {\n      var val = 0;\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n      if (isNaN(val)) return 0;\n      return 1;\n    });\n  }, function (update) {\n    update.transition().duration(800).attr(\"cx\", function (d) {\n      return xScale(parseFloat(d.gni_2017));\n    }).attr(\"cy\", function (d) {\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n    }).attr(\"r\", function (d) {\n      return zScale(parseFloat(d.population));\n    }).style(\"fill\", function (d) {\n      if (options.bubble_chart_color_by == 'region') {\n        if (colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n      }\n\n      if (options.bubble_chart_color_by == 'hdi') {\n        if (colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n      }\n\n      if (options.bubble_chart_color_by == 'inform-severity') {\n        if (colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n      }\n\n      return 'transparent';\n    }).style(\"stroke\", function (d) {\n      // if(options.bubble_chart_color_by == 'region') {\n      //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n      // } \n      // if(options.bubble_chart_color_by == 'hdi') {\n      //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n      //  }\n      //  if(options.bubble_chart_color_by == 'inform-severity') {\n      //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n      //  }\n      // return  'transparent';\n      return '#FFF';\n    }).attr('display', function (d, i) {\n      var val = 0;\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n      if (isNaN(val)) return 'none';\n      return 'inline';\n    }).attr('opacity', function (d, i) {\n      var val = 0;\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n      if (isNaN(val)) return 0;\n      return 1;\n    });\n  }, function (exit) {\n    exit.remove();\n  });\n  d3.select('#bubblechart').selectAll(\".bubble\").on('mousemove', function (event, d) {\n    d3.select('#bubbleSelectContainer').style('z-index', 1);\n    d3.select('#bubblechart_tooltip_title tspan').text(d.country_name);\n\n    if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') {\n      d3.select('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');\n      d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred) + '%').attr(\"text-anchor\", \"end\").attr('dx', 37);\n    }\n\n    if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') {\n      d3.select('#bubblechart_tooltip_label tspan').text('% fully vaccinated');\n      d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred) + '%').attr(\"text-anchor\", \"end\").attr('dx', 37);\n    }\n\n    if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') {\n      d3.select('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');\n      d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.vaccine_acceptance_percent).toFixed(2) + '%').attr(\"text-anchor\", \"end\").attr('dx', 37);\n    }\n\n    d3.select('#bubblechart_tooltip_gni tspan').text('$' + addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\", \"end\").attr('dx', 37);\n    d3.select('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\", \"end\").attr('dx', 37);\n    var coords = d3.pointer(event, d3.select('#svg').node());\n\n    if (coords[0] < 1110) {\n      d3.select('#bubblechart_tooltip').attr('transform', 'translate(' + (coords[0] + 20) + ',' + (coords[1] + y - 90) + ')').attr('display', 'inline');\n      d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'inline');\n      d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'none');\n    } else {\n      d3.select('#bubblechart_tooltip').attr('transform', 'translate(' + (coords[0] - 220) + ',' + (coords[1] + y - 90) + ')').attr('display', 'inline');\n      d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'none');\n      d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'inline');\n    }\n\n    d3.selectAll(\".bubble\").attr('opacity', 0.4);\n    d3.select(this).attr('opacity', 1).style('stroke-width', 2);\n  }).on('mouseout', function (event) {\n    if (event.toElement == 'tspan') return false;\n    d3.select('#bubbleSelectContainer').style('z-index', 2); // mapTooltip.attr('display', 'none');\n\n    d3.select('#bubblechart_tooltip').attr('display', 'none');\n    d3.selectAll(\".bubble\").attr('opacity', 1).style('stroke-width', 1);\n  });\n  d3.select('#bubblechart_tooltip').attr('display', 'none');\n  d3.select('#bubble_y_axis_label').attr('text-anchor', 'middle').select('tspan').attr('dx', 50);\n\n  if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') {\n    d3.select('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');\n  }\n\n  if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') {\n    d3.select('#bubble_y_axis_label tspan').text('% fully vaccinated');\n  }\n\n  if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') {\n    d3.select('#bubble_y_axis_label tspan').text('% vaccine acceptance');\n  }\n}\nexport function updateBubblechart(data, options, filter) {\n  maxX = d3.max(data.country, function (d, i) {\n    return parseFloat(d.gni_2017);\n  });\n  maxY = d3.max(data.country, function (d, i) {\n    if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return parseFloat(d.people_vaccinated_per_hundred);\n    if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') return parseFloat(d.people_fully_vaccinated_per_hundred);\n    if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return parseFloat(d.vaccine_acceptance_percent);\n  });\n  maxZ = d3.max(data.country, function (d, i) {\n    return parseFloat(d.population);\n  });\n  xScale = d3.scaleLinear().range([0, width]).domain([0, maxX]);\n  yScale = d3.scaleLinear().range([height, 0]).domain([0, maxY]);\n  zScale = d3.scaleSqrt().domain([0, maxZ]).range([1, 20]);\n  const svg = d3.select('#bubblechart'); // create y-axis\n\n  svg.select('#bubbley').transition().duration(800).call(d3.axisLeft(yScale).ticks(3)); // create x-axis\n\n  svg.select('#bubblex').transition().duration(800).call(d3.axisBottom(xScale).ticks(3));\n  bubbles = d3.select('#bubblechart').selectAll(\".bubble\").data(data.country).join(function (enter) {\n    enter.append(\"circle\").attr(\"cx\", function (d) {\n      return xScale(maxX);\n    }).attr(\"cy\", function (d) {\n      return yScale(maxY);\n    }).attr(\"class\", function (d) {\n      return \"bubble\";\n    }).transition().duration(800).attr(\"cx\", function (d) {\n      return xScale(parseFloat(d.gni_2017));\n    }).attr(\"cy\", function (d) {\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n    }).attr(\"r\", function (d) {\n      return zScale(parseFloat(d.population));\n    }).style(\"fill\", function (d) {\n      if (options.bubble_chart_color_by == 'region') {\n        if (colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n      }\n\n      if (options.bubble_chart_color_by == 'hdi') {\n        if (colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n      }\n\n      if (options.bubble_chart_color_by == 'inform-severity') {\n        if (colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n      }\n\n      return 'transparent';\n    }).style(\"stroke\", function (d) {\n      // if(options.bubble_chart_color_by == 'region') {\n      //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n      // } \n      // if(options.bubble_chart_color_by == 'hdi') {\n      //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n      //  }\n      //  if(options.bubble_chart_color_by == 'inform-severity') {\n      //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n      //  }\n      // return  'transparent';\n      return '#FFF';\n    }).style(\"stroke-width\", 1) // .style(\"fill-opacity\", 0.8)\n    .attr('display', function (d, i) {\n      var val = 0;\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n      if (isNaN(val)) return 'none';\n      return 'inline';\n    }).attr('opacity', function (d, i) {\n      var val = 0;\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n      if (isNaN(val)) return 0;\n      return 1;\n    });\n  }, function (update) {\n    update.attr('display', function (d, i) {\n      var val = 0;\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n      if (isNaN(val)) return 'none';\n      return 'inline';\n    }).attr('opacity', function (d, i) {\n      var val = 0;\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n      if (isNaN(val)) return 0;\n      return 1;\n    }).style(\"fill\", function (d) {\n      if (options.bubble_chart_color_by == 'region') {\n        if (colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n      }\n\n      if (options.bubble_chart_color_by == 'hdi') {\n        if (colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n      }\n\n      if (options.bubble_chart_color_by == 'inform-severity') {\n        if (colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n      }\n\n      return 'transparent';\n    }).transition().duration(800).attr(\"cx\", function (d) {\n      return xScale(parseFloat(d.gni_2017));\n    }).attr(\"cy\", function (d) {\n      if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n      if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n    }).attr(\"r\", function (d) {\n      return zScale(parseFloat(d.population));\n    });\n  }, function (exit) {\n    exit.remove();\n  });\n  d3.select('#bubblechart').selectAll(\".bubble\").on('mousemove', function (event, d) {\n    d3.select('#bubbleSelectContainer').style('z-index', 1);\n    d3.select('#bubblechart_tooltip_title tspan').text(d.country_name);\n\n    if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') {\n      d3.select('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');\n      d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred) + '%').attr(\"text-anchor\", \"end\").attr('dx', 37);\n    }\n\n    if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') {\n      d3.select('#bubblechart_tooltip_label tspan').text('% fully vaccinated');\n      d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred) + '%').attr(\"text-anchor\", \"end\").attr('dx', 37);\n    }\n\n    if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') {\n      d3.select('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');\n      d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.vaccine_acceptance_percent).toFixed(2) + '%').attr(\"text-anchor\", \"end\").attr('dx', 37);\n    }\n\n    d3.select('#bubblechart_tooltip_gni tspan').text('$' + addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\", \"end\").attr('dx', 37);\n    d3.select('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\", \"end\").attr('dx', 37);\n    var coords = d3.pointer(event, d3.select('#svg').node());\n\n    if (coords[0] < 1110) {\n      d3.select('#bubblechart_tooltip').attr('transform', 'translate(' + (coords[0] + 20) + ',' + (coords[1] + y - 90) + ')').attr('display', 'inline');\n      d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'inline');\n      d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'none');\n    } else {\n      d3.select('#bubblechart_tooltip').attr('transform', 'translate(' + (coords[0] - 220) + ',' + (coords[1] + y - 90) + ')').attr('display', 'inline');\n      d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'none');\n      d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'inline');\n    }\n\n    d3.selectAll(\".bubble\").attr('opacity', 0.4);\n    d3.select(this).attr('opacity', 1).style('stroke-width', 2);\n  }).on('mouseout', function (event) {\n    if (event.toElement == 'tspan') return false;\n    d3.select('#bubbleSelectContainer').style('z-index', 2); // mapTooltip.attr('display', 'none');\n\n    d3.select('#bubblechart_tooltip').attr('display', 'none');\n    d3.selectAll(\".bubble\").attr('opacity', 1).style('stroke-width', 1);\n  });\n\n  if (options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') {\n    d3.select('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');\n  }\n\n  if (options.bubble_chart_y_axis == 'percent-fully-vaccinated') {\n    d3.select('#bubble_y_axis_label tspan').text('% fully vaccinated');\n  }\n\n  if (options.bubble_chart_y_axis == 'percent-vaccine-acceptance') {\n    d3.select('#bubble_y_axis_label tspan').text('% vaccine acceptance');\n  }\n}\nexport default drawBubblechart;","map":{"version":3,"sources":["/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Bubblechart.js"],"names":["d3","moment","colors","addCommas","nFormatter","filter","maxX","maxY","maxZ","xScale","yScale","zScale","groupedData","width","height","x","y","bubbles","drawBubblechart","data","options","max","country","d","i","parseFloat","gni_2017","bubble_chart_y_axis","population","scaleLinear","range","domain","nice","scaleSqrt","svg","select","append","attr","call","axisLeft","ticks","tickSize","axisBottom","selectAll","join","enter","people_vaccinated_per_hundred","people_fully_vaccinated_per_hundred","vaccine_acceptance_percent","style","bubble_chart_color_by","regions","ifrc_region","hdi_category","inform_severity","val","isNaN","update","transition","duration","exit","remove","on","event","text","country_name","toFixed","Math","round","parseInt","coords","pointer","node","toElement","updateBubblechart"],"mappings":"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","sourcesContent":["import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {addCommas, nFormatter} from './HelperFunctions';\nimport {filter} from './App';\n\nlet maxX =1000;\nlet maxY = 100;\nlet maxZ = 1000000;\nlet xScale; \nlet yScale; \nlet zScale; \nlet groupedData = [];\nlet width = 600;\nlet height = 233;\nlet x = 35;\nlet y = 58;\nlet bubbles;\n\nexport function drawBubblechart(data, options, filter) {\n\n    maxX = d3.max(data.country, function(d,i){\n        return parseFloat(d.gni_2017);\n    })\n\n    maxY = d3.max(data.country, function(d,i){\n        // if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return parseFloat(d.people_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return 100;\n        // if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return parseFloat(d.people_fully_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return 100;\n        if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return 100;\n    });\n\n    maxZ = d3.max(data.country, function(d,i){\n        return parseFloat(d.population);\n    });\n\n    xScale = d3.scaleLinear()\n\t.range([0, width])\n\t.domain([0, maxX]).nice();\n\n    yScale = d3.scaleLinear()\n\t.range([height, 0])\n\t.domain([0, maxY]);\n\n    zScale = d3.scaleSqrt()\n    .domain([0, maxZ])\n    .range([1, 20]);\n\n    const svg = d3.select('#bubblechart-tab').append('g').attr('transform', 'translate('+x+', '+y+')')\n    .attr('id', 'bubblechart');\n\n    // create y-axis\n    svg.append(\"g\")\n    .attr('id', 'bubbley')\n    .call(d3.axisLeft(yScale).ticks(3).tickSize(3));\n\n    // create x-axis\n    svg.append(\"g\")\n    .attr('id', 'bubblex')\n    .attr('class', 'xAxis')\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\n    .call(d3.axisBottom(xScale).ticks(4).tickSize(3));\n\n    // Add dots\n    bubbles = d3.select('#bubblechart').selectAll(\".bubble\")\n    .data(data.country)\n    .join(function(enter){\n        enter.append(\"circle\")\n        .attr(\"class\", function(d) { return \"bubble\" })\n        .attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .style(\"stroke\", function (d) { \n            // if(options.bubble_chart_color_by == 'region') {\n            //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            // } \n            // if(options.bubble_chart_color_by == 'hdi') {\n            //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n            //  }\n            //  if(options.bubble_chart_color_by == 'inform-severity') {\n            //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n            //  }\n            // return  'transparent';\n            return '#FFF';\n        })\n        .style(\"stroke-width\", 1)\n        // .style(\"fill-opacity\", 0.8)\n        .attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        })\n        .attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n    }, function(update){\n        update.transition().duration(800).attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .style(\"stroke\", function (d) { \n            // if(options.bubble_chart_color_by == 'region') {\n            //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            // } \n            // if(options.bubble_chart_color_by == 'hdi') {\n            //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n            //  }\n            //  if(options.bubble_chart_color_by == 'inform-severity') {\n            //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n            //  }\n            // return  'transparent';\n            return '#FFF';\n        }).attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        })\n        .attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n    },function(exit){\n        exit.remove();\n    });\n\n    d3.select('#bubblechart').selectAll(\".bubble\").on('mousemove', function(event, d){\n        d3.select('#bubbleSelectContainer').style('z-index', 1);\n        d3.select('#bubblechart_tooltip_title tspan').text(d.country_name);\n        if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% fully vaccinated');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat((d.vaccine_acceptance_percent)).toFixed(2)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        d3.select('#bubblechart_tooltip_gni tspan').text('$'+addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n        d3.select('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n\n        var coords = d3.pointer( event, (d3.select('#svg').node()));\n        if(coords[0]<1110){\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]+20)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'none');\n        } else {\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]-220)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'none');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'inline');\n        }\n        d3.selectAll(\".bubble\").attr('opacity', 0.4);\n        d3.select(this).attr('opacity', 1).style('stroke-width', 2);\n    }).on('mouseout', function(event){\n        if(event.toElement=='tspan') return false;\n        d3.select('#bubbleSelectContainer').style('z-index', 2);\n\n        // mapTooltip.attr('display', 'none');\n        d3.select('#bubblechart_tooltip').attr('display', 'none');\n        d3.selectAll(\".bubble\").attr('opacity', 1).style('stroke-width', 1);\n    });\n\n    d3.select('#bubblechart_tooltip').attr('display', 'none');\n\n    d3.select('#bubble_y_axis_label').attr('text-anchor', 'middle').select('tspan').attr('dx', 50);\n    if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');\n    }\n    if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n        d3.select('#bubble_y_axis_label tspan').text('% fully vaccinated');\n    }\n    if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccine acceptance');\n    }\n\n\n}\n\nexport function updateBubblechart(data,options,filter) {\n    \n    maxX = d3.max(data.country, function(d,i){\n        return parseFloat(d.gni_2017);\n    })\n\n    maxY = d3.max(data.country, function(d,i){\n        if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return parseFloat(d.people_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return parseFloat(d.people_fully_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return parseFloat(d.vaccine_acceptance_percent);\n    });\n\n    maxZ = d3.max(data.country, function(d,i){\n        return parseFloat(d.population);\n    });\n\n    xScale = d3.scaleLinear()\n\t.range([0, width])\n\t.domain([0, maxX]);\n\n    yScale = d3.scaleLinear()\n\t.range([height, 0])\n\t.domain([0, maxY]);\n\n    zScale = d3.scaleSqrt()\n    .domain([0, maxZ])\n    .range([1, 20]);\n\n    const svg = d3.select('#bubblechart');\n\n    // create y-axis\n    svg.select('#bubbley')\n    .transition().duration(800)\n    .call(d3.axisLeft(yScale).ticks(3));\n\n    // create x-axis\n    svg.select('#bubblex')\n    .transition().duration(800)\n    .call(d3.axisBottom(xScale).ticks(3));\n\n    bubbles = d3.select('#bubblechart').selectAll(\".bubble\")\n    .data(data.country)\n    .join(function(enter){\n        enter.append(\"circle\")\n        .attr(\"cx\", function (d) { return xScale(maxX)})\n        .attr(\"cy\", function (d) { return yScale(maxY)})\n        .attr(\"class\", function(d) { return \"bubble\" })\n        .transition().duration(800)\n        .attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .style(\"stroke\", function (d) { \n            // if(options.bubble_chart_color_by == 'region') {\n            //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            // } \n            // if(options.bubble_chart_color_by == 'hdi') {\n            //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n            //  }\n            //  if(options.bubble_chart_color_by == 'inform-severity') {\n            //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n            //  }\n            // return  'transparent';\n            return '#FFF';\n        })\n        .style(\"stroke-width\", 1)\n        // .style(\"fill-opacity\", 0.8)\n        .attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        })\n        .attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n    }, function(update){\n        update\n        .attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        }).attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .transition().duration(800).attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        \n        \n    },function(exit){\n        exit.remove();\n    });\n\n    d3.select('#bubblechart').selectAll(\".bubble\").on('mousemove', function(event, d){\n        d3.select('#bubbleSelectContainer').style('z-index', 1);\n        d3.select('#bubblechart_tooltip_title tspan').text(d.country_name);\n        if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% fully vaccinated');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat((d.vaccine_acceptance_percent)).toFixed(2)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        d3.select('#bubblechart_tooltip_gni tspan').text('$'+addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n        d3.select('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n        var coords = d3.pointer( event, (d3.select('#svg').node()));\n        if(coords[0]<1110){\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]+20)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'none');\n        } else {\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]-220)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'none');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'inline');\n        }\n        d3.selectAll(\".bubble\").attr('opacity', 0.4);\n        d3.select(this).attr('opacity', 1).style('stroke-width', 2);\n    }).on('mouseout', function(event){\n        if(event.toElement=='tspan') return false;\n        d3.select('#bubbleSelectContainer').style('z-index', 2);\n\n        // mapTooltip.attr('display', 'none');\n        d3.select('#bubblechart_tooltip').attr('display', 'none');\n        d3.selectAll(\".bubble\").attr('opacity', 1).style('stroke-width', 1);\n    });\n\n    if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');\n    }\n    if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n        d3.select('#bubble_y_axis_label tspan').text('% fully vaccinated');\n    }\n    if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccine acceptance');\n    }\n    \n    \n\n\n}\n\nexport default drawBubblechart;\n"]},"metadata":{},"sourceType":"module"}