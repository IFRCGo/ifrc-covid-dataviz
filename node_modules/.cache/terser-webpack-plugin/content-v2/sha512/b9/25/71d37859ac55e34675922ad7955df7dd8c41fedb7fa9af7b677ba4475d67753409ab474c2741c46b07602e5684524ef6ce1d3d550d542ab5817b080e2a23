{"code":"(this[\"webpackJsonpifrc-covid-dataviz\"]=this[\"webpackJsonpifrc-covid-dataviz\"]||[]).push([[0],{119:function(t,e,a){},124:function(t,e,a){},130:function(t,e,a){\"use strict\";a.r(e);var n=a(6),i=a.n(n),r=a(35),c=a.n(r),o=(a(119),a(5)),l=a.n(o),s=(a(22),a(23)),u=a(4),d=a(0);var _=function(t,e,a){},p=a(1),h=a.n(p),g={hdi_category:{\"very-high\":\"#D8EF8B\",high:\"#FDE08B\",medium:\"#FB8D59\",low:\"#D63127\"},inform_severity:{\"very-high\":\"#D63127\",high:\"#FB8D59\",medium:\"#FDE08B\",low:\"#D8EF8B\",\"no-score\":\"#DAE0EA\"},blue:\"#1F558C\",lightblue:\"#62D7F7\",lightnavy:\"#799EAD\",red:\"#EE3224\",green:\"#D8EF8B\",ifrcgreen:\"#87C400\",black:\"#595454\",lightgrey:\"#e8e8e8\",darkgrey:\"#c1c1c1\",white:\"#fff\",olive:\"#87C400\",purple:\"#771966\",orange:\"#FF3500\",pink:\"#FB0080\"},f=[\"#00ADED\",\"#62D7F7\",\"#003A5A\",\"#799EAD\",\"#FFDD00\"];g.regions={AP:g.orange,AM:g.lightblue,EU:g.ifrcgreen,ME:\"#0A3248\",AF:\"#FCD204\"},g.regions={AP:f[1],AM:f[0],EU:f[2],ME:f[3],AF:f[4]};var m=g;function y(t){for(var e=(t+=\"\").split(\".\"),a=e[0],n=e.length>1?\".\"+e[1]:\"\",i=/(\\d+)(\\d{3})/;i.test(a);)a=a.replace(i,\"$1,$2\");return a+n}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[{value:1,symbol:\"\"},{value:1e3,symbol:\"k\"},{value:1e6,symbol:\"M\"},{value:1e9,symbol:\"B\"},{value:1e12,symbol:\"T\"},{value:1e15,symbol:\"P\"},{value:1e18,symbol:\"E\"}],n=/\\.0+$|(\\.[0-9]*[1-9])0+$/,i=a.slice().reverse().find((function(e){return t>=e.value}));return i?(t/i.value).toFixed(e).replace(n,\"$1\")+i.symbol:\"0\"}var b,x,w,k,q,F,O,A,E,D,T,N,j,M,P,C,S=a(36),H=a(12),I=a.n(H),z=[\"AF\",\"ME\",\"AP\",\"EU\",\"AM\",\"OTH\"];function B(t,e){P=e.minDate,M=e.maxDate;var a=[];t.who_data.forEach((function(t,n){a[t[e.timeline_frequency+\"Total\"]]||(a[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.month_start),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_cases+=t.new_cases,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_deaths+=t.new_deaths,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_cases=0})),a.forEach((function(t,e){z.forEach((function(n,i){t.hasOwnProperty(n)||(t[n]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),e>0?(t[n].cumulative_cases=a[e][n].new_cases+a[e-1][n].cumulative_cases,t[n].cumulative_deaths=a[e][n].new_deaths+a[e-1][n].cumulative_deaths):(t[n].cumulative_cases=a[e][n].new_cases,t[n].cumulative_deaths=a[e][n].new_deaths)})),t.total_new_cases=t.AF.new_cases+t.AP.new_cases+t.AM.new_cases+t.EU.new_cases+t.ME.new_cases+t.OTH.new_cases,t.total_cumulative_cases=t.AF.cumulative_cases+t.AP.cumulative_cases+t.AM.cumulative_cases+t.EU.cumulative_cases+t.ME.cumulative_cases+t.OTH.cumulative_cases,t.total_new_deaths=t.AF.new_deaths+t.AP.new_deaths+t.AM.new_deaths+t.EU.new_deaths+t.ME.new_deaths+t.OTH.new_deaths,t.total_cumulative_deaths=t.AF.cumulative_deaths+t.AP.cumulative_deaths+t.AM.cumulative_deaths+t.EU.cumulative_deaths+t.ME.cumulative_deaths+t.OTH.cumulative_deaths,t.region=[],z.forEach((function(e,a){t.region.push({region:e,new_cases:t[e].new_cases,new_deaths:t[e].new_deaths,cumulative_cases:t[e].cumulative_cases,cumulative_deaths:t[e].cumulative_deaths})}))}));var n=[];if(\"cumulative\"!=e.timeline_type)t.vaccines_data=t.vaccines_data_daily,t.vaccines_data.forEach((function(t,a){n[t[e.timeline_frequency+\"Total\"]]||(n[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.month_start),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_vaccines:0}),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_vaccines+=t.daily_vaccinations})),n.forEach((function(t,e){z.forEach((function(e,a){t[e]||(t[e]={new_vaccines:0,cumulative_vaccines:0})})),t.total_new_vaccines=t.AF.new_vaccines+t.AP.new_vaccines+t.AM.new_vaccines+t.EU.new_vaccines+t.ME.new_vaccines+t.OTH.new_vaccines,t.region=[],z.forEach((function(e,a){t.region.push({region:e,new_vaccines:t[e].new_vaccines})}))}));else{if(t.vaccines_data=[],\"day\"===e.timeline_frequency&&(t.vaccines_data=I()(t.vaccines_data_cumulative)),\"week\"===e.timeline_frequency&&t.vaccines_data_cumulative.forEach((function(a,n){var i=h()(a.date).endOf(\"isoWeek\").startOf(\"day\").unix(),r=h()(a.date).startOf(\"day\").unix();r!=i&&r!=h()(e.maxVDate).startOf(\"day\").unix()||t.vaccines_data.push(a)})),\"month\"===e.timeline_frequency){var i=h()(e.maxVDate).startOf(\"day\").unix();t.vaccines_data_cumulative.forEach((function(a,n){var r=h()(a.date).endOf(\"month\").startOf(\"day\").unix(),c=h()(a.date).startOf(\"day\").unix();(c==r||h()(e.maxVDate).startOf(\"day\").unix()!=r&&c==i)&&t.vaccines_data.push(a)}))}t.vaccines_data.forEach((function(t,a){n[t[e.timeline_frequency+\"Total\"]]||(n[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.month_start),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={cumulative_vaccines:0}),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_vaccines+=t.total_vaccinations})),n.forEach((function(t,e){z.forEach((function(e,a){t[e]||(t[e]={cumulative_vaccines:0})})),t.total_cumulative_vaccines=t.AF.cumulative_vaccines+t.AP.cumulative_vaccines+t.AM.cumulative_vaccines+t.EU.cumulative_vaccines+t.ME.cumulative_vaccines+t.OTH.cumulative_vaccines,t.region=[],z.forEach((function(e,a){t.region.push({region:e,cumulative_vaccines:t[e].cumulative_vaccines})}))}))}n=n.filter((function(t){return t}));var r=d.i(t.who_data,(function(t,a){return t[e.timeline_frequency+\"Total\"]})),c=d.i(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_cases:\"cumulative\"===e.timeline_type?t.total_cumulative_cases:\"stacked\"===e.timeline_type?100:void 0})),o=d.i(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_deaths:\"cumulative\"===e.timeline_type?t.total_cumulative_deaths:\"stacked\"===e.timeline_type?100:void 0})),l=d.i(n,(function(t,a){if(t){if(\"non-cumulative\"===e.timeline_type)return t.total_new_vaccines;if(\"cumulative\"===e.timeline_type)return t.total_cumulative_vaccines;if(\"stacked\"===e.timeline_type)return 100}}));\"month\"===e.timeline_frequency&&(P=h()(P).startOf(\"month\").startOf(\"day\").toDate()),\"month\"===e.timeline_frequency&&(M=h()(M).endOf(\"month\").startOf(\"day\").toDate()),\"week\"===e.timeline_frequency&&(M=h()(M).endOf(\"isoWeek\").startOf(\"day\").toDate()),C=h()(M),\"day\"===e.timeline_frequency&&(C=new Date(h()(M).add(1,\"days\").toDate()));var s=d.p(\"#timechart_svg\");s.selectAll(\"g\").remove(),d.q(\"#layout .yAxis\").remove(),d.q(\"#yAxis\").remove(),d.q(\"#layout .xAxis\").remove(),s.append(\"g\").append(\"rect\").attr(\"width\",2e3).attr(\"height\",\"100%\").attr(\"x\",0).attr(\"y\",0).attr(\"fill\",\"#FFF\").attr(\"opacity\",0);var u=2e3/r,_=.04;\"month\"===e.timeline_frequency&&(_=.03),\"day\"===e.timeline_frequency&&(_=0),D=d.o().range([0,2e3]).domain([P,C]),N=d.o().range([0,596]).domain([P,C]),b=d.m().range([0,140]).domain([0,c]),O=d.m().range([140,0]).domain([0,c]),x=d.m().range([0,140]).domain([0,o]),A=d.m().range([140,0]).domain([0,o]),w=d.m().range([0,140]).domain([0,l]),E=d.m().range([140,0]).domain([0,l]),T=d.a().scale(N).tickSize(2).tickPadding(3),k=d.c().scale(O).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?v(t)+\"%\":v(t)})),q=d.c().scale(A).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?v(t)+\"%\":v(t)})),F=d.c().scale(E).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?v(t)+\"%\":v(t)}));var p=d.p(\"#layout\").append(\"g\").attr(\"id\",\"yAxis\").attr(\"clip-path\",\"url(#mask)\"),g=(p.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"casesAxis\").attr(\"transform\",\"translate(620,363)\").call(k),p.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"deathsAxis\").attr(\"transform\",\"translate(620,534)\").call(q),p.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"VaccinesAxis\").attr(\"transform\",\"translate(620,707.5)\").call(F),p.append(\"g\").attr(\"id\",\"casesXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,504)\").call(T)),f=p.append(\"g\").attr(\"id\",\"deathsXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,674)\").call(T),y=p.append(\"g\").attr(\"id\",\"vaccinesXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,848)\").call(T),H=p.append(\"g\").attr(\"id\",\"timelineXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,908)\").call(T),B=s.selectAll(\".bar_group\").data(a).enter().append(\"g\").attr(\"class\",\"bar_group\").attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+D(t.date)+\")\"}));B.selectAll(\".cases_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",(function(t,e){return\"timeBar cases_bar time_\"+t.region})).attr(\"x\",u*_).attr(\"y\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_cases-d.p(this.parentNode).datum().OTH.new_cases,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].cumulative_cases),\"non-cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_cases),\"stacked\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_cases);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-b(t.cumulative_cases)-b(i)),\"non-cumulative\"===e.timeline_type&&(c=140-b(t.new_cases)-b(i)),\"stacked\"===e.timeline_type&&(c=140-t.new_cases/n*140-i/n*140),c&&c>0?c:0})).attr(\"width\",u-u*_*2).attr(\"height\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_cases-d.p(this.parentNode).datum().OTH.new_cases,i=0;return\"cumulative\"===e.timeline_type&&(i=b(t.cumulative_cases)),\"non-cumulative\"===e.timeline_type&&(i=b(t.new_cases)),\"stacked\"===e.timeline_type&&(i=t.new_cases/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return m.regions[t.region]})),B.selectAll(\".deaths_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",(function(t,e){return\"timeBar deaths_bar time_\"+t.region})).attr(\"x\",u*_).attr(\"y\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_deaths-d.p(this.parentNode).datum().OTH.new_deaths,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].cumulative_deaths),\"non-cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_deaths),\"stacked\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_deaths);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-x(t.cumulative_deaths)-x(i)+170),\"non-cumulative\"===e.timeline_type&&(c=140-x(t.new_deaths)-x(i)+170),\"stacked\"===e.timeline_type&&(c=140-t.new_deaths/n*140-i/n*140+170),c&&c>0?c:0})).attr(\"width\",u-u*_*2).attr(\"height\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_deaths-d.p(this.parentNode).datum().OTH.new_deaths,i=0;return\"cumulative\"===e.timeline_type&&(i=x(t.cumulative_deaths)),\"non-cumulative\"===e.timeline_type&&(i=x(t.new_deaths)),\"stacked\"===e.timeline_type&&(i=t.new_deaths/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return m.regions[t.region]})),\"month\"===e.timeline_frequency&&B.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=d.p(this.parentNode).datum().date,a=d.t.offset(e,1);return(D(a)-D(e))*(1-_)})).attr(\"x\",(function(t){var e=d.p(this.parentNode).datum().date,a=d.t.offset(e,1);return(D(a)-D(e))*(_/2)}));var L=s.selectAll(\".vbar_group\").data(n).enter().append(\"g\").attr(\"class\",\"vbar_group\").attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+D(t.date)+\", 344)\"}));L.selectAll(\".vaccines_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",\"timeBar vaccines_bar\").attr(\"class\",(function(t,e){return\"timeBar vaccines_bar time_\"+t.region})).attr(\"x\",u*_).attr(\"y\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_vaccines-d.p(this.parentNode).datum().OTH.new_vaccines,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].cumulative_vaccines),\"non-cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_vaccines),\"stacked\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_vaccines);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-w(t.cumulative_vaccines)-w(i)),\"non-cumulative\"===e.timeline_type&&(c=140-w(t.new_vaccines)-w(i)),\"stacked\"===e.timeline_type&&(c=140-t.new_vaccines/n*140-i/n*140),c&&c>0?c:0})).attr(\"width\",u-u*_*2).attr(\"height\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_vaccines-d.p(this.parentNode).datum().OTH.new_vaccines,i=0;return\"cumulative\"===e.timeline_type&&(i=w(t.cumulative_vaccines)),\"non-cumulative\"===e.timeline_type&&(i=w(t.new_vaccines)),\"stacked\"===e.timeline_type&&(i=t.new_vaccines/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return m.regions[t.region]})),\"month\"===e.timeline_frequency&&L.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=d.p(this.parentNode).datum().date,a=d.t.offset(e,1);return(D(a)-D(e))*(1-_)})).attr(\"x\",(function(t){var e=d.p(this.parentNode).datum().date,a=d.t.offset(e,1);return(D(a)-D(e))*(_/2)})),\"month\"===e.timeline_frequency&&B.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=d.p(this.parentNode).datum().date,a=d.t.offset(e,1);return(D(a)-D(e))*(1-_)})).attr(\"x\",(function(t){var e=d.p(this.parentNode).datum().date,a=d.t.offset(e,1);return(D(a)-D(e))*(_/2)})),t.vgroupedData=n,t.groupedData=a;var W=t.timeline_data;j=d.o().range([25,619]).domain([P,C]),document.getElementById(\"svg\").appendChild(d.p(\"#timeline_tooltip\").node()),document.getElementById(\"svg\").appendChild(d.p(\"#event_tooltip\").node());var Y=d.p(\"#timeline_tooltip\").attr(\"opacity\",0),U=d.p(\"#event_tooltip\").attr(\"opacity\",0),R=s.append(\"rect\").attr(\"id\",\"timechart_hover\").attr(\"width\",u).attr(\"x\",0).attr(\"y\",0).attr(\"opacity\",0).attr(\"height\",\"100%\").attr(\"fill\",\"rgb(221 221 221 / 40%)\");d.p(\"#timechart_svg\").on(\"mouseover\",(function(t){var a=d.l(t);R.attr(\"opacity\",1);var n=D.invert(a[0]);\"week\"==e.timeline_frequency&&(n=h()(n).startOf(\"isoWeek\")),\"day\"==e.timeline_frequency&&(n=h()(n).startOf(\"day\")),\"month\"==e.timeline_frequency&&(n=h()(n).startOf(\"month\")),a[1]<470?(Y.attr(\"opacity\",1).attr(\"display\",\"inline\"),R.attr(\"height\",\"100%\")):a[1]>510?(U.attr(\"opacity\",1),R.attr(\"height\",\"90%\")):(U.attr(\"opacity\",0),Y.attr(\"opacity\",0),R.attr(\"height\",\"100%\")),n.toDate().getTime()<P.getTime()&&(R.attr(\"opacity\",0),Y.attr(\"opacity\",0)),d.p(\"#svg_container\").style(\"z-index\",10)})).on(\"mouseout\",(function(t){R.attr(\"opacity\",0),Y.attr(\"opacity\",0).attr(\"display\",\"none\"),d.p(\"#svg_container\").style(\"z-index\",1),U.attr(\"opacity\",0).attr(\"transform\",\"translate(0,0)\"),d.q(\".event_marker circle\").style(\"stroke\",m.black)})).on(\"mousemove\",(function(a){var n=d.l(a),i=D.invert(n[0]),r=\"\";\"week\"==e.timeline_frequency&&(r=(i=h()(i).startOf(\"isoWeek\")).format(\"ll\"),d.p(\"#timeline_tooltip_date tspan\").text(r)),\"day\"==e.timeline_frequency&&(r=(i=h()(i).startOf(\"day\")).format(\"ll\"),d.p(\"#timeline_tooltip_date tspan\").text(r)),\"month\"==e.timeline_frequency&&(r=(i=h()(i).startOf(\"month\")).format(\"MMMM YYYY\"),d.p(\"#timeline_tooltip_date tspan\").text(r)),R.attr(\"x\",D(i.toDate()));var c=t.groupedData.filter((function(t,e){return h()(t.date).startOf(\"day\").unix()==i.startOf(\"day\").unix()})),o=t.vgroupedData.filter((function(t,e){return h()(t.date).startOf(\"day\").unix()==i.startOf(\"day\").unix()})),l=\"-\",s=\"-\",_=\"-\";if(\"cumulative\"==e.timeline_type?(c[0]&&(s=v(c[0].total_cumulative_cases,2)),c[0]&&(l=v(c[0].total_cumulative_deaths,2)),o[0]&&(_=v(o[0].total_cumulative_vaccines,2))):(c[0]&&(s=v(c[0].total_new_cases,2)),c[0]&&(l=v(c[0].total_new_deaths,2)),o[0]&&(_=v(o[0].total_new_vaccines,2))),d.p(\"#tooltip_cases tspan\").text(s).attr(\"text-anchor\",\"end\").attr(\"dx\",32),d.p(\"#tooltip_deaths tspan\").text(l).attr(\"text-anchor\",\"end\").attr(\"dx\",32),d.p(\"#tooltip_vaccines tspan\").text(_).attr(\"text-anchor\",\"end\").attr(\"dx\",32),i.toDate().getTime()<P.getTime()&&\"day\"==e.timeline_frequency&&(R.attr(\"opacity\",0),Y.attr(\"opacity\",0)),\"month\"==e.timeline_frequency&&R.attr(\"width\",(function(){return D(h()(i).endOf(\"month\"))-D(h()(i).startOf(\"month\"))})),Y.attr(\"transform\",(function(){var t=(e.brushR-e.brushL)/600,a=0;return t<.5&&(a=3),t<.3&&(a=12),t<.2&&(a=20),t<.15&&(a=21),\"month\"==e.timeline_frequency?(t<.6&&(a=20),t<.5&&(a=30),t<.3&&(a=50),t<.2&&(a=60),t<.1&&(a=70),\"translate(\"+(j(i.toDate())+u/3+a)+\",\"+(n[1]+353)+\")\"):\"translate(\"+(j(i.toDate())+18+a)+\",\"+(n[1]+353)+\")\"})),n[1]<470)Y.attr(\"opacity\",1),R.attr(\"opacity\",1),R.attr(\"height\",\"100%\");else if(n[1]>510){U.attr(\"opacity\",1),R.attr(\"height\",\"90%\");var p=h()(D.invert(n[0])).startOf(\"day\");D.invert(n[0]);U.attr(\"transform\",(function(){return\"translate(\"+(j(p.toDate())+-3)+\",817)\"}));var g=W.filter((function(t,e){return h()(t.date).startOf(\"day\").unix()==p.unix()}));if(0==g.length&&(g=W.filter((function(t,e){return h()(t.date).startOf(\"day\").unix()<=h()(p).add(1,\"days\").unix()&&h()(t.date).startOf(\"day\").unix()>=h()(p).subtract(1,\"days\").unix()}))),g.length>0){d.p(\"#event-\"+h()(g[0].date).startOf(\"day\").unix()).select(\"path\").style(\"stroke\",\"#000\").attr(\"opacity\",1),r=h()(g[0].date).startOf(\"day\").format(\"ll\"),d.p(\"#event_tooltip_date tspan\").text(r);var f=Object(S.textwrap)().bounds({height:200,width:230}).method(\"tspans\");a=d.p(\"#event_tooltip_text\").text(g[0].description).attr(\"y\",18).attr(\"x\",6);d.p(\"#event_tooltip_text\").call(f),d.q(\"#event_tooltip_text tspan\").attr(\"dy\",\"1.3em\");var y=d.p(\"#event_tooltip_text\").node().getBBox();d.p(\"#event_tooltip_rect\").attr(\"width\",y.width+17).attr(\"height\",y.height+26);d.p(\"#event_tooltip_rect\").attr(\"height\");var b=0;y.height<20?b=19:y.height<30?b=9:y.height<40?b=0:(y.height<50||y.height<60)&&(b=-20);d.p(\"#event_tooltip_rect\").attr(\"y\");d.p(\"#event_tooltip_rect\").attr(\"y\",b),d.q(\"#event_tooltip_text\").attr(\"y\",(function(t,e){return parseInt(d.p(this).attr(\"y\"))+b})),d.q(\"#event_tooltip_date tspan\").attr(\"dy\",(function(t,e){return b})),U.attr(\"opacity\",1)}else d.q(\".event_marker circle\").style(\"stroke\",m.black),U.attr(\"opacity\",0)}else U.attr(\"opacity\",0),Y.attr(\"opacity\",0),R.attr(\"opacity\",0),R.attr(\"height\",\"100%\");if(\"day\"==e.timeline_frequency&&i.toDate().getTime()<P.getTime())return R.attr(\"opacity\",0),Y.attr(\"opacity\",0),!1})),W=W.filter((function(t){return t.date.length>0})),p.append(\"line\").attr(\"id\",\"event-line\").attr(\"x1\",0).attr(\"x2\",620).attr(\"y1\",893).attr(\"y2\",893).attr(\"stroke-width\",2.5).attr(\"stroke\",m.black);var V=p.append(\"g\").selectAll(\".event_marker\").data(W).enter().append(\"g\").attr(\"class\",\"event_marker\").attr(\"id\",(function(t,e){return\"event-\"+h()(t.date).startOf(\"day\").unix()})).attr(\"transform\",(function(t){return\"translate(\"+j(new Date(t.date))+\", 893)\"})).style(\"cursor\",\"pointer\");V.append(\"circle\").style(\"stroke\",m.black).attr(\"opacity\",1).attr(\"r\",6.5).attr(\"cx\",0).attr(\"cy\",0).style(\"stroke-width\",2.2).style(\"fill\",\"white\"),V.append(\"circle\").attr(\"r\",2).attr(\"cx\",0).attr(\"cy\",0).attr(\"fill\",m.black).style(\"stroke\",m.black);var G=d.d().extent([[0,0],[600,20]]).on(\"start brush end\",(function(){var t=parseFloat(d.p(\".handle--w\").attr(\"x\")),a=parseFloat(d.p(\".handle--e\").attr(\"x\"));if(a-t<40)return!1;d.p(\".selection\").attr(\"width\");d.p(\"#zoomL\").attr(\"transform\",\"translate(\"+t+\",0)\"),d.p(\"#zoomR\").attr(\"transform\",\"translate(\"+a+\",0)\"),d.p(\"#zoomOverlay\").attr(\"width\",a-t),d.p(\"#zoomOverlay\").attr(\"x\",t),d.p(\"#zoomOverlay\").attr(\"transform\",\"translate(3,0)\");var n=Math.round(Z(a)-Z(t)),i=Math.round(Z(t));e.brushL=t+3,e.brushR=a+3,N=d.o().range([0,596]).domain([new Date(D.invert(Z(t))),new Date(D.invert(Z(a)))]),j=d.o().range([25,619]).domain([new Date(D.invert(Z(t))),new Date(D.invert(Z(a)))]),d.q(\".event_marker\").attr(\"transform\",(function(t){return\"translate(\"+j(new Date(t.date))+\", 893)\"})),T=d.a().ticks(5).scale(N),g.call(T),f.call(T),y.call(T),H.call(T),d.p(\"#timechart_svg\").attr(\"viewBox\",i+\" 0 \"+n+\" 553\")}));d.p(\".brush\").remove();var $=d.p(\"#zoombar\").append(\"g\").attr(\"class\",\"brush\").attr(\"opacity\",.1).call(G);d.q(\".handle rect\").attr(\"fill-opacity\",\"1\").style(\"visibility\",\"visible\").attr(\"width\",2).attr(\"fill\",\"#000\").style(\"stroke-opacity\",0);var Z=d.m().domain([-3,597]).range([0,2e3]);$.call(G.move,[e.brushL,e.brushR])}function L(t,e){var a=[];t.who_data.forEach((function(t,n){a[t[e.timeline_frequency+\"Total\"]]||(a[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.month_start),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_cases+=t.new_cases,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_deaths+=t.new_deaths,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_cases=0})),a.forEach((function(t,e){z.forEach((function(n,i){t.hasOwnProperty(n)||(t[n]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),e>0?(t[n].cumulative_cases=a[e][n].new_cases+a[e-1][n].cumulative_cases,t[n].cumulative_deaths=a[e][n].new_deaths+a[e-1][n].cumulative_deaths):(t[n].cumulative_cases=a[e][n].new_cases,t[n].cumulative_deaths=a[e][n].new_deaths)})),t.total_new_cases=t.AF.new_cases+t.AP.new_cases+t.AM.new_cases+t.EU.new_cases+t.ME.new_cases+t.OTH.new_cases,t.total_cumulative_cases=t.AF.cumulative_cases+t.AP.cumulative_cases+t.AM.cumulative_cases+t.EU.cumulative_cases+t.ME.cumulative_cases+t.OTH.cumulative_cases,t.total_new_deaths=t.AF.new_deaths+t.AP.new_deaths+t.AM.new_deaths+t.EU.new_deaths+t.ME.new_deaths+t.OTH.new_deaths,t.total_cumulative_deaths=t.AF.cumulative_deaths+t.AP.cumulative_deaths+t.AM.cumulative_deaths+t.EU.cumulative_deaths+t.ME.cumulative_deaths+t.OTH.cumulative_deaths,t.region=[],z.forEach((function(e,a){t.region.push({region:e,new_cases:t[e].new_cases,new_deaths:t[e].new_deaths,cumulative_cases:t[e].cumulative_cases,cumulative_deaths:t[e].cumulative_deaths})}))}));var n=[];if(\"cumulative\"!=e.timeline_type)t.vaccines_data=t.vaccines_data_daily,t.vaccines_data.forEach((function(t,a){n[t[e.timeline_frequency+\"Total\"]]||(n[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=h()(t.date).startOf(\"isoWeek\").toDate()),\"month\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=h()(t.date).startOf(\"month\").toDate()),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_vaccines:0}),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_vaccines+=t.daily_vaccinations})),n.forEach((function(t,e){z.forEach((function(e,a){t[e]||(t[e]={new_vaccines:0,cumulative_vaccines:0})})),t.total_new_vaccines=t.AF.new_vaccines+t.AP.new_vaccines+t.AM.new_vaccines+t.EU.new_vaccines+t.ME.new_vaccines+t.OTH.new_vaccines,t.region=[],z.forEach((function(e,a){t.region.push({region:e,new_vaccines:t[e].new_vaccines})}))}));else{if(t.vaccines_data=[],\"day\"===e.timeline_frequency&&(t.vaccines_data=I()(t.vaccines_data_cumulative)),\"week\"===e.timeline_frequency&&t.vaccines_data_cumulative.forEach((function(a,n){var i=h()(a.date).endOf(\"isoWeek\").startOf(\"day\").unix(),r=h()(a.date).startOf(\"day\").unix();r!=i&&r!=h()(e.maxVDate).startOf(\"day\").unix()||t.vaccines_data.push(a)})),\"month\"===e.timeline_frequency){var i=h()(e.maxVDate).startOf(\"day\").unix();t.vaccines_data_cumulative.forEach((function(a,n){var r=h()(a.date).endOf(\"month\").startOf(\"day\").unix(),c=h()(a.date).startOf(\"day\").unix();(c==r||h()(e.maxVDate).startOf(\"day\").unix()!=r&&c==i)&&t.vaccines_data.push(a)}))}t.vaccines_data.forEach((function(t,a){n[t[e.timeline_frequency+\"Total\"]]||(n[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=h()(t.date).startOf(\"isoWeek\").toDate()),\"month\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=h()(t.date).startOf(\"month\").toDate()),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={cumulative_vaccines:0}),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_vaccines+=t.total_vaccinations})),n.forEach((function(t,e){z.forEach((function(e,a){t[e]||(t[e]={cumulative_vaccines:0})})),t.total_cumulative_vaccines=t.AF.cumulative_vaccines+t.AP.cumulative_vaccines+t.AM.cumulative_vaccines+t.EU.cumulative_vaccines+t.ME.cumulative_vaccines+t.OTH.cumulative_vaccines,t.region=[],z.forEach((function(e,a){t.region.push({region:e,cumulative_vaccines:t[e].cumulative_vaccines})}))}))}n=n.filter((function(t){return t}));d.i(t.who_data,(function(t,a){return t[e.timeline_frequency+\"Total\"]}));var r=d.i(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_cases:\"cumulative\"===e.timeline_type?t.total_cumulative_cases:\"stacked\"===e.timeline_type?100:void 0})),c=d.i(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_deaths:\"cumulative\"===e.timeline_type?t.total_cumulative_deaths:\"stacked\"===e.timeline_type?100:void 0})),o=d.i(n,(function(t,a){if(t){if(\"non-cumulative\"===e.timeline_type)return t.total_new_vaccines;if(\"cumulative\"===e.timeline_type)return t.total_cumulative_vaccines;if(\"stacked\"===e.timeline_type)return 100}})),l=d.p(\"#timechart_svg\");e.timeline_frequency,e.timeline_frequency,b=d.m().range([0,140]).domain([0,r]),O=d.m().range([140,0]).domain([0,r]),x=d.m().range([0,140]).domain([0,c]),A=d.m().range([140,0]).domain([0,c]),w=d.m().range([0,140]).domain([0,o]),E=d.m().range([140,0]).domain([0,o]),k=d.c().scale(O).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?v(t)+\"%\":v(t)})),q=d.c().scale(A).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?v(t)+\"%\":v(t)})),F=d.c().scale(E).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?v(t)+\"%\":v(t)}));d.p(\"#casesAxis\").transition().duration(500).call(k),d.p(\"#deathsAxis\").transition().duration(500).call(q),d.p(\"#VaccinesAxis\").transition().duration(500).call(F);var s=l.selectAll(\".bar_group\").data(a).attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+D(t.date)+\")\"}));s.selectAll(\".cases_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_cases-d.p(this.parentNode).datum().OTH.new_cases,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].cumulative_cases),\"non-cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_cases),\"stacked\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_cases);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-b(t.cumulative_cases)-b(i)),\"non-cumulative\"===e.timeline_type&&(c=140-b(t.new_cases)-b(i)),\"stacked\"===e.timeline_type&&(c=140-t.new_cases/n*140-i/n*140),c&&c>0?c:0})).attr(\"height\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_cases-d.p(this.parentNode).datum().OTH.new_cases,i=0;return\"cumulative\"===e.timeline_type&&(i=b(t.cumulative_cases)),\"non-cumulative\"===e.timeline_type&&(i=b(t.new_cases)),\"stacked\"===e.timeline_type&&(i=t.new_cases/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return m.regions[t.region]})),s.selectAll(\".deaths_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_deaths-d.p(this.parentNode).datum().OTH.new_deaths,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].cumulative_deaths),\"non-cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_deaths),\"stacked\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_deaths);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-x(t.cumulative_deaths)-x(i)+170),\"non-cumulative\"===e.timeline_type&&(c=140-x(t.new_deaths)-x(i)+170),\"stacked\"===e.timeline_type&&(c=140-t.new_deaths/n*140-i/n*140+170),c&&c>0?c:0})).attr(\"height\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_deaths-d.p(this.parentNode).datum().OTH.new_deaths,i=0;return\"cumulative\"===e.timeline_type&&(i=x(t.cumulative_deaths)),\"non-cumulative\"===e.timeline_type&&(i=x(t.new_deaths)),\"stacked\"===e.timeline_type&&(i=t.new_deaths/n*140),i&&i>0?i:0})),0==a.length&&(d.q(\".cases_bar\").transition().duration(500).attr(\"y\",140).attr(\"height\",0),d.q(\".deaths_bar\").transition().duration(500).attr(\"y\",310).attr(\"height\",0)),l.selectAll(\".vbar_group\").data(n).attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+D(t.date)+\", 344)\"})).selectAll(\".vaccines_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_vaccines-d.p(this.parentNode).datum().OTH.new_vaccines,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].cumulative_vaccines),\"non-cumulative\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_vaccines),\"stacked\"===e.timeline_type&&(i+=d.p(this.parentNode).datum().region[r-1].new_vaccines);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-w(t.cumulative_vaccines)-w(i)),\"non-cumulative\"===e.timeline_type&&(c=140-w(t.new_vaccines)-w(i)),\"stacked\"===e.timeline_type&&(c=140-t.new_vaccines/n*140-i/n*140),c&&c>0?c:0})).attr(\"height\",(function(t,a){var n=d.p(this.parentNode).datum().total_new_vaccines-d.p(this.parentNode).datum().OTH.new_vaccines,i=0;return\"cumulative\"===e.timeline_type&&(i=w(t.cumulative_vaccines)),\"non-cumulative\"===e.timeline_type&&(i=w(t.new_vaccines)),\"stacked\"===e.timeline_type&&(i=t.new_vaccines/n*140),i&&i>0?i:0})),0==n.length&&d.q(\".vaccines_bar\").transition().duration(500).attr(\"y\",140).attr(\"height\",0),t.vgroupedData=n,t.groupedData=a}var W,Y,U,R,V,G,$,Z,J=[\"AF\",\"ME\",\"AP\",\"EU\",\"AM\",\"OTH\"],X=20,K=0,Q=58,tt=[];function et(t,e,a){tt=[];J.forEach((function(t,e){tt.push({region:t,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0})})),t.who_data.forEach((function(t,e){J.forEach((function(e,a){e==t.ifrc_region&&(tt[a].cumulative_cases+=t.new_cases,tt[a].cumulative_deaths+=t.new_deaths)}))})),W=d.i(tt,(function(t,e){return t.cumulative_cases})),Y=d.i(tt,(function(t,e){return t.cumulative_deaths}));var n=d.f(t.vaccines_data_cumulative,(function(t){return t.date}));n[n.length-1][1].forEach((function(t,e){J.forEach((function(e,a){e==t.ifrc_region&&\"OTH\"!=e&&(tt[a].cumulative_vaccines+=t.total_vaccinations)}))})),tt.sort((function(t,a){return\"cases\"==e.region_chart_toggle?a.cumulative_cases-t.cumulative_cases:\"deaths\"==e.region_chart_toggle?a.cumulative_deaths-t.cumulative_deaths:\"vaccines\"==e.region_chart_toggle?a.cumulative_vaccines-t.cumulative_vaccines:void 0})),U=d.i(tt,(function(t,e){return t.cumulative_vaccines}));var i=d.p(\"#layout #region_chart_container\").attr(\"opacity\",0);Z={x:i.attr(\"x\"),y:i.attr(\"y\"),width:i.attr(\"width\"),height:i.attr(\"height\")};var r=d.p(\"#layout\").append(\"g\").attr(\"transform\",\"translate(\"+Z.x+\", \"+Z.y+\")\").attr(\"id\",\"region_chart\"),c=Z.height/(tt.length-1),o=r.selectAll(\".bar-row\").data(tt.filter((function(t){return\"OTH\"!==t.region}))).enter().append(\"g\").attr(\"class\",\"bar-row\").attr(\"transform\",(function(t,e){return\"translate(0,\"+(e*c+K)+\")\"}));t.cumulative_totals=tt;var l=o.append(\"text\").attr(\"y\",c/2).attr(\"x\",X-5).attr(\"class\",(function(t,e){return\"bar-labels bar-label-\"+t.region})).style(\"alignment-baseline\",\"middle\").style(\"font-size\",\"11px\").attr(\"opacity\",1).attr(\"fill\",\"#000\").text((function(t,e){return\"AM\"===t.region?\"Americas\":\"EU\"===t.region?\"Europe\":\"AF\"===t.region?\"Africa\":\"ME\"===t.region?\"Middle East and North Africa\":\"AP\"===t.region?\"Asia-Pacific\":void 0})).style(\"text-anchor\",\"end\");$=o.node().getBBox().width+X,l.attr(\"x\",$+89),$+=94,d.q(\".timeBar\").attr(\"opacity\",1);o.append(\"rect\").attr(\"y\",0).attr(\"x\",0).attr(\"width\",$).attr(\"height\",c-2).style(\"opacity\",0).attr(\"fill\",\"grey\").style(\"cursor\",\"pointer\").attr(\"class\",(function(t,e){return\"bar-bg-\"+t.region})).attr(\"data-id\",(function(t,e){return t.region})).on(\"mouseover\",(function(t){d.p(this).style(\"opacity\",.1)})).on(\"mouseout\",(function(){d.p(this).style(\"opacity\",0)})).on(\"click\",(function(t,e){var n=d.p(this).attr(\"data-id\");a([n],\"regionchart\")}));R=d.m().range([0,Z.width-Q-$]).domain([0,W]),V=d.m().range([0,Z.width-Q-$]).domain([0,Y]),G=d.m().range([$,Z.width-Q-$]).domain([0,U]);o.append(\"rect\").attr(\"id\",(function(t,e){return\"bar-\"+t.region})).attr(\"data-id\",(function(t,e){return t.region})).attr(\"class\",\"region-bar\").attr(\"width\",(function(t,a){return\"cases\"==e.region_chart_toggle?R(t.cumulative_cases):\"deaths\"==e.region_chart_toggle?V(t.cumulative_deaths):\"vaccines\"==e.region_chart_toggle?V(t.cumulative_vaccines):void 0})).attr(\"x\",$).style(\"outline\",\"none\").style(\"cursor\",\"pointer\").attr(\"y\",.1*c-1).attr(\"height\",c-.1*c*2).style(\"fill\",(function(t){return m.regions[t.region]})).attr(\"opacity\",1).on(\"click\",(function(t,e){var n=d.p(this).attr(\"data-id\");a([n],\"regionchart\")})).on(\"mouseover\",(function(t){d.p(this.parentNode).datum()})).on(\"mouseout\",(function(){})),o.append(\"text\").text((function(t){return\"cases\"==e.region_chart_toggle?y(t.cumulative_cases):\"deaths\"==e.region_chart_toggle?y(t.cumulative_deaths):\"vaccines\"==e.region_chart_toggle?y(t.cumulative_vaccines):void 0})).attr(\"id\",(function(t,e){return\"data-label\"+t.region})).attr(\"data-id\",(function(t,e){return t.region})).attr(\"class\",\"data-label\").attr(\"y\",c/2).style(\"alignment-baseline\",\"middle\").style(\"text-anchor\",\"start\").attr(\"x\",(function(t,a){return\"cases\"==e.region_chart_toggle?R(t.cumulative_cases)+$+5:\"deaths\"==e.region_chart_toggle?V(t.cumulative_deaths)+$+5:\"vaccines\"==e.region_chart_toggle?G(t.cumulative_vaccines)+$+5:void 0})).attr(\"opacity\",(function(t,a){var n=0;return\"cases\"==e.region_chart_toggle&&(n=t.cumulative_cases),\"deaths\"==e.region_chart_toggle&&(n=t.cumulative_deaths),\"vaccines\"==e.region_chart_toggle&&(n=t.cumulative_vaccines),n>0?1:0})).style(\"fill\",\"#696969\").style(\"font-weight\",\"normal\").style(\"font-size\",\"10px\")}function at(t,e){tt=[],J.forEach((function(t,e){tt.push({region:t,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0})})),e.who_data.forEach((function(t,e){J.forEach((function(e,a){e==t.ifrc_region&&(tt[a].cumulative_cases+=t.new_cases,tt[a].cumulative_deaths+=t.new_deaths,tt[a].cumulative_vaccines=0)}))})),W=d.i(tt,(function(t,e){return t.cumulative_cases})),Y=d.i(tt,(function(t,e){return t.cumulative_deaths}));var a=d.f(e.vaccines_data_cumulative,(function(t){return t.date})),n=a[a.length-1];n&&n[1].forEach((function(t,e){J.forEach((function(e,a){e==t.ifrc_region&&(tt[a].cumulative_vaccines+=t.total_vaccinations)}))})),tt.sort((function(e,a){return\"cases\"==t.region_chart_toggle?a.cumulative_cases-e.cumulative_cases:\"deaths\"==t.region_chart_toggle?a.cumulative_deaths-e.cumulative_deaths:\"vaccines\"==t.region_chart_toggle?a.cumulative_vaccines-e.cumulative_vaccines:void 0})),e.cumulative_totals=tt,U=d.i(tt,(function(t,e){return t.cumulative_vaccines})),R=d.m().range([0,Z.width-Q-$]).domain([0,W]),V=d.m().range([0,Z.width-Q-$]).domain([0,Y]),G=d.m().range([0,Z.width-Q-$]).domain([0,U]),0==U&&0==W&&0==Y?(d.q(\".region-bar\").transition().duration(500).attr(\"width\",0),d.q(\".data-label\").transition().duration(500).attr(\"x\",$).attr(\"opacity\",0)):(d.q(\".region-bar\").transition().duration(500).attr(\"width\",(function(e,a){var n=d.p(this).attr(\"data-id\");tt.forEach((function(t,a){t.region==n&&(e=t)}));var i=0;return\"cases\"==t.region_chart_toggle&&(i=R(e.cumulative_cases)),\"deaths\"==t.region_chart_toggle&&(i=V(e.cumulative_deaths)),\"vaccines\"==t.region_chart_toggle&&(i=G(e.cumulative_vaccines)),isNaN(i)?0:parseFloat(i)})),d.q(\".data-label\").transition().duration(500).tween(\"text\",(function(e,a){var n=0,i=d.p(this).attr(\"data-id\");tt.forEach((function(t,a){t.region==i&&(e=t)})),\"cases\"==t.region_chart_toggle&&(n=e.cumulative_cases),\"deaths\"==t.region_chart_toggle&&(n=e.cumulative_deaths),\"vaccines\"==t.region_chart_toggle&&(n=e.cumulative_vaccines);a=d.g(Math.floor(112346*Math.random()+92345),n);return function(t){d.p(this).text(y(Math.round(a(t))))}})).attr(\"x\",(function(e,a){var n=d.p(this).attr(\"data-id\");return tt.forEach((function(t,a){t.region==n&&(e=t)})),\"cases\"==t.region_chart_toggle?R(e.cumulative_cases)+$+5:\"deaths\"==t.region_chart_toggle?V(e.cumulative_deaths)+$+5:\"vaccines\"==t.region_chart_toggle?G(e.cumulative_vaccines)+$+5:void 0})).attr(\"opacity\",(function(e,a){var n=d.p(this).attr(\"data-id\");tt.forEach((function(t,a){t.region==n&&(e=t)}));var i=0;return\"cases\"==t.region_chart_toggle&&(i=e.cumulative_cases),\"deaths\"==t.region_chart_toggle&&(i=e.cumulative_deaths),\"vaccines\"==t.region_chart_toggle&&(i=e.cumulative_vaccines),i>0?1:0})))}var nt=a(17),it=(a(122),a(123),\"#595454\"),rt=\"#EAEAEA\",ct=\"#000\",ot=\"#FFF\";var lt=function(t,e,a,n,i,r){d.p(\"#vaccine_tooltip\").attr(\"opacity\",0).style(\"display\",\"none\"),d.p(\"#vaccine_info path\").attr(\"fill\",m.black),t.select(\"#vaccine_info\").style(\"cursor\",\"pointer\").on(\"mouseover\",(function(t,e){d.p(\"#svg_container\").style(\"z-index\",10),d.p(\"#vaccine_tooltip\").style(\"display\",\"inline\").transition().duration(500).attr(\"opacity\",1),d.p(\"#vaccine_info path\").transition().duration(200).attr(\"fill\",m.blue)})).on(\"mouseout\",(function(t,e){d.p(\"#svg_container\").style(\"z-index\",1),d.p(\"#vaccine_tooltip\").style(\"display\",\"none\").attr(\"opacity\",0),d.p(\"#vaccine_info path\").transition().duration(500).attr(\"fill\",m.black)})),t.select(\"#region_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,a){e.region_filter=[],n(\"clear-region\")})),t.select(\"#region-chart-toggle #region-chart-toggle-cases\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"cases\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"cases\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",ct),t.select(\"#region-chart-toggle-cases rect\").attr(\"fill\",it),t.select(\"#region-chart-toggle-cases text\").attr(\"fill\",ot),at(e,a)})),t.select(\"#region-chart-toggle #region-chart-toggle-deaths\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"deaths\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"deaths\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",ct),t.select(\"#region-chart-toggle-deaths rect\").attr(\"fill\",it),t.select(\"#region-chart-toggle-deaths text\").attr(\"fill\",ot),at(e,a)})),t.select(\"#region-chart-toggle #region-chart-toggle-vaccines\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"vaccines\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"vaccines\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",ct),t.select(\"#region-chart-toggle-vaccines rect\").attr(\"fill\",it),t.select(\"#region-chart-toggle-vaccines text\").attr(\"fill\",ot),at(e,a)})),t.select(\"#map-toggle #map-toggle-bi-weekly-change\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"bi-weekly-change\"===e.map_toggle)return!1;e.map_toggle=\"bi-weekly-change\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#map-toggle text\").attr(\"fill\",ct),t.select(\"#map-toggle-bi-weekly-change rect\").attr(\"fill\",it),t.select(\"#map-toggle-bi-weekly-change text\").attr(\"fill\",ot),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-cases\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"cases\"===e.map_toggle)return!1;e.map_toggle=\"cases\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#map-toggle text\").attr(\"fill\",ct),t.select(\"#map-toggle-cases rect\").attr(\"fill\",it),t.select(\"#map-toggle-cases text\").attr(\"fill\",ot),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-deaths\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"deaths\"===e.map_toggle)return!1;e.map_toggle=\"deaths\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#map-toggle text\").attr(\"fill\",ct),t.select(\"#map-toggle-deaths rect\").attr(\"fill\",it),t.select(\"#map-toggle-deaths text\").attr(\"fill\",ot),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-percent-fully-vaccinated\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"percent-fully-vaccinated\"===e.map_toggle)return!1;e.map_toggle=\"percent-fully-vaccinated\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#map-toggle text\").attr(\"fill\",ct),t.select(\"#map-toggle-percent-fully-vaccinated rect\").attr(\"fill\",it),t.select(\"#map-toggle-percent-fully-vaccinated text\").attr(\"fill\",ot),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-percent-vaccine-acceptance\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"percent-vaccine-acceptance\"===e.map_toggle)return!1;e.map_toggle=\"percent-vaccine-acceptance\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#map-toggle text\").attr(\"fill\",ct),t.select(\"#map-toggle-percent-vaccine-acceptance rect\").attr(\"fill\",it),t.select(\"#map-toggle-percent-vaccine-acceptance text\").attr(\"fill\",ot),r(a,e,700)})),t.select(\"#timechart-type-toggle #timechart-type-toggle-cumulative\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"cumulative\"===e.timeline_type)return!1;e.timeline_type=\"cumulative\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",ct),t.select(\"#timechart-type-toggle-cumulative rect\").attr(\"fill\",it),t.select(\"#timechart-type-toggle-cumulative polyline\").attr(\"stroke\",ot),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",it),L(a,e)})),Object(nt.a)(\"#timechart-type-toggle-cumulative\",{content:\"Cumulative\",duration:0,placement:\"bottom\",theme:\"light\",arrow:!0,delay:[500,200]}),t.select(\"#timechart-type-toggle #timechart-type-toggle-non-cumulative\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"non-cumulative\"===e.timeline_type)return!1;e.timeline_type=\"non-cumulative\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",ct),t.select(\"#timechart-type-toggle-non-cumulative rect\").attr(\"fill\",it),t.select(\"#timechart-type-toggle-non-cumulative polyline\").attr(\"stroke\",ot),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",it),L(a,e)})),Object(nt.a)(\"#timechart-type-toggle-non-cumulative\",{content:\"Non-cumulative\",duration:0,placement:\"bottom\",theme:\"light\",arrow:!0,delay:[500,200]}),t.select(\"#timechart-type-toggle #timechart-type-toggle-stacked\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"stacked\"===e.timeline_type)return!1;e.timeline_type=\"stacked\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",ct),t.select(\"#timechart-type-toggle-stacked rect\").attr(\"fill\",it),t.select(\"#timechart-type-toggle-stacked polyline\").attr(\"stroke\",ot),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",ot),L(a,e)})),Object(nt.a)(\"#timechart-type-toggle-stacked\",{content:\"Stacked 100%\",duration:0,placement:\"bottom\",theme:\"light\",arrow:!0,delay:[500,200]}),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-day\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"day\"===e.timeline_frequency)return!1;e.timeline_frequency=\"day\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",ct),t.select(\"#timechart-frequency-toggle-day rect\").attr(\"fill\",it),t.select(\"#timechart-frequency-toggle-day text\").attr(\"fill\",ot),t.select(\"#tooltip_frequency tspan\").attr(\"text-anchor\",\"end\").attr(\"dx\",20).text(\"DAY\"),B(a,e)})),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-week\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"week\"===e.timeline_frequency)return!1;e.timeline_frequency=\"week\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",ct),t.select(\"#timechart-frequency-toggle-week rect\").attr(\"fill\",it),t.select(\"#tooltip_frequency tspan\").attr(\"text-anchor\",\"end\").attr(\"dx\",20).text(\"WEEK\"),t.select(\"#timechart-frequency-toggle-week text\").attr(\"fill\",ot),B(a,e)})),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-month\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"month\"===e.timeline_frequency)return!1;e.timeline_frequency=\"month\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",rt),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",ct),t.select(\"#timechart-frequency-toggle-month rect\").attr(\"fill\",it),t.select(\"#tooltip_frequency tspan\").attr(\"text-anchor\",\"end\").attr(\"dx\",20).text(\"MONTH\"),t.select(\"#timechart-frequency-toggle-month text\").attr(\"fill\",ot),B(a,e)})),t.select(\"#hdi_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,e){d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1),n(\"clear-hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-very-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){st(e.hdi_filter,\"very-high\"),4===e.hdi_filter.length?(e.hdi_filter=[],d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){d.p(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){st(e.hdi_filter,\"high\"),4===e.hdi_filter.length?(e.hdi_filter=[],d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){d.p(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-medium\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){st(e.hdi_filter,\"medium\"),4===e.hdi_filter.length?(e.hdi_filter=[],d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){d.p(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-low\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){st(e.hdi_filter,\"low\"),4===e.hdi_filter.length?(e.hdi_filter=[],d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&d.q(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){d.p(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#inform_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,e){d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1),n(\"clear-inform\")})),t.select(\"#inform-toggle #inform-toggle-no-score\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){st(e.inform_filter,\"no-score\"),5===e.inform_filter.length?(e.inform_filter=[],d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){d.p(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-low\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){st(e.inform_filter,\"low\"),5===e.inform_filter.length?(e.inform_filter=[],d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){d.p(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-medium\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){st(e.inform_filter,\"medium\"),5===e.inform_filter.length?(e.inform_filter=[],d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){d.p(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){st(e.inform_filter,\"high\"),5===e.inform_filter.length?(e.inform_filter=[],d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){d.p(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-very-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){st(e.inform_filter,\"very-high\"),5===e.inform_filter.length?(e.inform_filter=[],d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&d.q(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){d.p(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),d.p(\"#additional-indicators-tab\").attr(\"opacity\",0).select(\"#additional-indicators-tab-content\").attr(\"display\",\"none\"),d.p(\"#vac-tab\").attr(\"opacity\",1).select(\"#vac-tab-content\").attr(\"display\",\"inline\"),d.p(\"#bubblechart-tab\").attr(\"opacity\",0).selectAll(\"#bubblechart, #bubblechart-tab-content\").attr(\"display\",\"none\"),d.p(\"#bubbleSelectContainer\").style(\"display\",\"none\"),t.select(\"#tabs #vaccination-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"vaccination-data\"===e.tab_toggle)return!1;e.tab_toggle=\"vaccination-data\",d.p(\"#additional-indicators-tab\").attr(\"opacity\",0).select(\"#additional-indicators-tab-content\").attr(\"display\",\"none\"),d.p(\"#vac-tab\").attr(\"opacity\",1).select(\"#vac-tab-content\").attr(\"display\",\"inline\"),d.p(\"#bubblechart-tab\").attr(\"opacity\",0).selectAll(\"#bubblechart, #bubblechart-tab-content\").attr(\"display\",\"none\"),t.selectAll(\"#tabs rect\").attr(\"fill\",rt),t.selectAll(\"#tabs text\").attr(\"fill\",ct),t.select(\"#vaccination-tab rect\").attr(\"fill\",it),t.select(\"#vaccination-tab text\").attr(\"fill\",ot),d.p(\"#bubbleSelectContainer\").style(\"display\",\"none\"),_(t,e,a)})),t.select(\"#tabs #indicators-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"indicators\"===e.tab_toggle)return!1;e.tab_toggle=\"indicators\",d.p(\"#additional-indicators-tab\").attr(\"opacity\",1).select(\"#additional-indicators-tab-content\").attr(\"display\",\"inline\"),d.p(\"#vac-tab\").attr(\"opacity\",0).select(\"#vac-tab-content\").attr(\"display\",\"none\"),d.p(\"#bubblechart-tab\").attr(\"opacity\",0).selectAll(\"#bubblechart, #bubblechart-tab-content\").attr(\"display\",\"none\"),t.selectAll(\"#tabs rect\").attr(\"fill\",rt),t.selectAll(\"#tabs text\").attr(\"fill\",ct),t.select(\"#indicators-tab rect\").attr(\"fill\",it),t.select(\"#indicators-tab text\").attr(\"fill\",ot),d.p(\"#bubbleSelectContainer\").style(\"display\",\"none\"),_(t,e,a)})),t.select(\"#tabs #bubble-chart-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"bubble-chartt\"===e.tab_toggle)return!1;e.tab_toggle=\"bubble-chart\",d.p(\"#additional-indicators-tab\").attr(\"opacity\",0).select(\"#additional-indicators-tab-content\").attr(\"display\",\"none\"),d.p(\"#vac-tab\").attr(\"opacity\",0).select(\"#vac-tab-content\").attr(\"display\",\"none\"),d.p(\"#bubblechart-tab\").attr(\"opacity\",1).selectAll(\"#bubblechart, #bubblechart-tab-content\").attr(\"display\",\"inline\"),t.selectAll(\"#tabs rect\").attr(\"fill\",rt),t.selectAll(\"#tabs text\").attr(\"fill\",ct),t.select(\"#bubble-chart-tab rect\").attr(\"fill\",it),t.select(\"#bubble-chart-tab text\").attr(\"fill\",ot),d.p(\"#bubbleSelectContainer\").style(\"display\",\"inline-block\"),_(t,e,a)})),d.p(\"#svg defs\").append(\"clipPath\").attr(\"id\",\"mask\").append(\"rect\").attr(\"y\",340).attr(\"height\",590).attr(\"width\",660).attr(\"x\",22);var c=t.select(\"#timechart_container\").attr(\"opacity\",0),o={x:c.attr(\"x\"),y:c.attr(\"y\"),width:c.attr(\"width\"),height:c.attr(\"height\")},l=t.append(\"svg\").attr(\"id\",\"timechart_svg\").attr(\"viewBox\",\"0 0 2000 \"+o.height).attr(\"preserveAspectRatio\",\"none\").attr(\"x\",o.x).attr(\"y\",o.y).attr(\"width\",o.width).attr(\"height\",o.height),s=l.append(\"g\").attr(\"id\",\"layer1\");l.append(\"g\").attr(\"id\",\"layer0\"),s.append(\"rect\").attr(\"x\",0).attr(\"y\",0).attr(\"width\",\"100%\").attr(\"height\",\"100%\").attr(\"opacity\",0).style(\"fill\",\"transparent\");for(var u=function(t){for(d.p(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col1bg colbg\").attr(\"id\",\"col1bg\"+t).attr(\"x\",120).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",m.lightgrey),d.p(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col1bar\").attr(\"id\",\"col1bar\"+t).attr(\"x\",120).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",m.blue),d.p(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col2bg colbg\").attr(\"id\",\"col2bg\"+t).attr(\"x\",230).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",m.lightgrey),d.p(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col2bar\").attr(\"id\",\"col2bar\"+t).attr(\"x\",230).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",m.blue),d.p(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col3bg colbg\").attr(\"id\",\"col3bg\"+t).attr(\"x\",340).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",m.lightgrey),d.p(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col3bar\").attr(\"id\",\"col3bar\"+t).attr(\"x\",340).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",m.blue),d.p(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col4bg colbg\").attr(\"id\",\"col4bg\"+t).attr(\"x\",454).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",m.lightgrey),d.p(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col4bar\").attr(\"id\",\"col4bar\"+t).attr(\"x\",454).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",m.blue),h=0;h<6;h++)d.p(\"#col\"+h+\"_sort_desc\").attr(\"opacity\",0),d.p(\"#col\"+h+\"_sort_asc\").attr(\"opacity\",0),d.p(\"#col\"+h+\"_sort\").style(\"cursor\",\"pointer\").on(\"click\",(function(){var t=d.p(this).attr(\"id\");e.table_sort==t?\"desc\"==e.table_sort_direction?e.table_sort_direction=\"asc\":e.table_sort_direction=\"desc\":(e.table_sort=t,e.table_sort_direction=\"desc\"),e.page=1,i(a,e)}))},p=0;p<10;p++){var h;u(p)}d.p(\"#reset_locations\").attr(\"display\",\"none\")};function st(t,e){var a=t.indexOf(e);-1!==a?t.splice(a,1):t.push(e)}var ut,dt,_t,pt=1e3,ht=100,gt=1e6;function ft(t,e,a){pt=d.i(t.equity_data,(function(t,e){return parseFloat(t.gni_2017)})),ht=d.i(t.equity_data,(function(t,a){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis||\"percent-fully-vaccinated\"==e.bubble_chart_y_axis||\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?100:void 0})),gt=d.i(t.equity_data,(function(t,e){return parseFloat(t.population)})),ut=d.m().range([0,600]).domain([0,pt]).nice(),dt=d.m().range([233,0]).domain([0,ht]),_t=d.n().domain([0,gt]).range([1,20]);var n=d.p(\"#bubblechart-tab\").append(\"g\").attr(\"transform\",\"translate(35, 58)\").attr(\"id\",\"bubblechart\");n.append(\"g\").attr(\"id\",\"bubbley\").call(d.b(dt).ticks(3).tickSize(3)),n.append(\"g\").attr(\"id\",\"bubblex\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(0,233)\").call(d.a(ut).ticks(4).tickSize(3)),d.p(\"#bubblechart\").selectAll(\".bubble\").data(t.equity_data).join((function(t){t.append(\"circle\").attr(\"class\",(function(t){return\"bubble\"})).attr(\"cx\",(function(t){return ut(parseFloat(t.gni_2017))})).attr(\"cy\",(function(t){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis?dt(parseFloat(t.people_vaccinated_per_hundred)):\"percent-fully-vaccinated\"==e.bubble_chart_y_axis?dt(parseFloat(t.people_fully_vaccinated_per_hundred)):\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?dt(parseFloat(t.vaccine_acceptance_percent)):void 0})).attr(\"r\",(function(t){return _t(parseFloat(t.population))})).style(\"fill\",(function(t){return\"region\"==e.bubble_chart_color_by&&m.regions[t.ifrc_region]?m.regions[t.ifrc_region]:\"hdi\"==e.bubble_chart_color_by&&m.hdi_category[t.hdi_category]?m.hdi_category[t.hdi_category]:\"inform-severity\"==e.bubble_chart_color_by&&m.inform_severity[t.inform_severity]?m.inform_severity[t.inform_severity]:\"transparent\"})).style(\"stroke\",(function(t){return\"#FFF\"})).style(\"stroke-width\",1).attr(\"display\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?\"none\":\"inline\"})).attr(\"opacity\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?0:1}))}),(function(t){t.transition().duration(800).attr(\"cx\",(function(t){return ut(parseFloat(t.gni_2017))})).attr(\"cy\",(function(t){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis?dt(parseFloat(t.people_vaccinated_per_hundred)):\"percent-fully-vaccinated\"==e.bubble_chart_y_axis?dt(parseFloat(t.people_fully_vaccinated_per_hundred)):\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?dt(parseFloat(t.vaccine_acceptance_percent)):void 0})).attr(\"r\",(function(t){return _t(parseFloat(t.population))})).style(\"fill\",(function(t){return\"region\"==e.bubble_chart_color_by&&m.regions[t.ifrc_region]?m.regions[t.ifrc_region]:\"hdi\"==e.bubble_chart_color_by&&m.hdi_category[t.hdi_category]?m.hdi_category[t.hdi_category]:\"inform-severity\"==e.bubble_chart_color_by&&m.inform_severity[t.inform_severity]?m.inform_severity[t.inform_severity]:\"transparent\"})).style(\"stroke\",(function(t){return\"#FFF\"})).attr(\"display\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?\"none\":\"inline\"})).attr(\"opacity\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?0:1}))}),(function(t){t.remove()})),d.p(\"#bubblechart\").selectAll(\".bubble\").on(\"mousemove\",(function(t,a){d.p(\"#bubbleSelectContainer\").style(\"z-index\",1),d.p(\"#bubblechart_tooltip_title tspan\").text(a.country_name),\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(d.p(\"#bubblechart_tooltip_label tspan\").text(\"% vaccinated at least 1 dose\"),d.p(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.people_vaccinated_per_hundred)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(d.p(\"#bubblechart_tooltip_label tspan\").text(\"% fully vaccinated\"),d.p(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.people_fully_vaccinated_per_hundred)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(d.p(\"#bubblechart_tooltip_label tspan\").text(\"% vaccine acceptance\"),d.p(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.vaccine_acceptance_percent).toFixed(2)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),d.p(\"#bubblechart_tooltip_gni tspan\").text(\"$\"+y(Math.round(parseFloat(a.gni_2017)))).attr(\"text-anchor\",\"end\").attr(\"dx\",37),d.p(\"#bubblechart_tooltip_population tspan\").text(v(Math.round(parseInt(a.population)))).attr(\"text-anchor\",\"end\").attr(\"dx\",37);var n=d.l(t,d.p(\"#svg\").node());n[0]<1110?(d.p(\"#bubblechart_tooltip\").attr(\"transform\",\"translate(\"+(n[0]+20)+\",\"+(n[1]+58-90)+\")\").attr(\"display\",\"inline\"),d.p(\"#bubblechart_tooltip_arrow_left\").attr(\"display\",\"inline\"),d.p(\"#bubblechart_tooltip_arrow_right\").attr(\"display\",\"none\")):(d.p(\"#bubblechart_tooltip\").attr(\"transform\",\"translate(\"+(n[0]-220)+\",\"+(n[1]+58-90)+\")\").attr(\"display\",\"inline\"),d.p(\"#bubblechart_tooltip_arrow_left\").attr(\"display\",\"none\"),d.p(\"#bubblechart_tooltip_arrow_right\").attr(\"display\",\"inline\")),d.q(\".bubble\").attr(\"opacity\",.4),d.p(this).attr(\"opacity\",1).style(\"stroke-width\",2)})).on(\"mouseout\",(function(t){if(\"tspan\"==t.toElement)return!1;d.p(\"#bubbleSelectContainer\").style(\"z-index\",2),d.p(\"#bubblechart_tooltip\").attr(\"display\",\"none\"),d.q(\".bubble\").attr(\"opacity\",1).style(\"stroke-width\",1)})),d.p(\"#bubblechart_tooltip\").attr(\"display\",\"none\"),d.p(\"#bubble_y_axis_label\").attr(\"text-anchor\",\"middle\").select(\"tspan\").attr(\"dx\",50),\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&d.p(\"#bubble_y_axis_label tspan\").text(\"% vaccinated at least 1 dose\"),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&d.p(\"#bubble_y_axis_label tspan\").text(\"% fully vaccinated\"),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&d.p(\"#bubble_y_axis_label tspan\").text(\"% vaccine acceptance\")}function mt(t,e,a){t.vGroup.forEach((function(e,a){t.equity_data.forEach((function(t,a){e[0]==t.country_iso3&&(t.people_fully_vaccinated_per_hundred=parseFloat(e[1][0].people_fully_vaccinated_per_hundred),t.people_vaccinated_per_hundred=parseFloat(e[1][0].people_vaccinated_per_hundred),t.total_vaccinations=parseFloat(e[1][0].total_vaccinations),t.total_vaccinations_per_hundred=parseFloat(e[1][0].total_vaccinations_per_hundred))}))})),pt=d.i(t.equity_data,(function(t,e){return parseFloat(t.gni_2017)})),ht=d.i(t.equity_data,(function(t,a){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis?parseFloat(t.people_vaccinated_per_hundred):\"percent-fully-vaccinated\"==e.bubble_chart_y_axis?parseFloat(t.people_fully_vaccinated_per_hundred):\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?parseFloat(t.vaccine_acceptance_percent):void 0})),gt=d.i(t.equity_data,(function(t,e){return parseFloat(t.population)})),ut=d.m().range([0,600]).domain([0,pt]),dt=d.m().range([233,0]).domain([0,ht]),_t=d.n().domain([0,gt]).range([1,20]);var n=d.p(\"#bubblechart\");n.select(\"#bubbley\").transition().duration(800).call(d.b(dt).ticks(3)),n.select(\"#bubblex\").transition().duration(800).call(d.a(ut).ticks(3)),d.p(\"#bubblechart\").selectAll(\".bubble\").data(t.equity_data).join((function(t){t.append(\"circle\").attr(\"cx\",(function(t){return ut(pt)})).attr(\"cy\",(function(t){return dt(ht)})).attr(\"class\",(function(t){return\"bubble\"})).transition().duration(800).attr(\"cx\",(function(t){return ut(parseFloat(t.gni_2017))})).attr(\"cy\",(function(t){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis?dt(parseFloat(t.people_vaccinated_per_hundred)):\"percent-fully-vaccinated\"==e.bubble_chart_y_axis?dt(parseFloat(t.people_fully_vaccinated_per_hundred)):\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?dt(parseFloat(t.vaccine_acceptance_percent)):void 0})).attr(\"r\",(function(t){return _t(parseFloat(t.population))})).style(\"fill\",(function(t){return\"region\"==e.bubble_chart_color_by&&m.regions[t.ifrc_region]?m.regions[t.ifrc_region]:\"hdi\"==e.bubble_chart_color_by&&m.hdi_category[t.hdi_category]?m.hdi_category[t.hdi_category]:\"inform-severity\"==e.bubble_chart_color_by&&m.inform_severity[t.inform_severity]?m.inform_severity[t.inform_severity]:\"transparent\"})).style(\"stroke\",(function(t){return\"#FFF\"})).style(\"stroke-width\",1).attr(\"display\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?\"none\":\"inline\"})).attr(\"opacity\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?0:1}))}),(function(t){t.transition().duration(800).attr(\"cx\",(function(t){return ut(parseFloat(t.gni_2017))})).attr(\"cy\",(function(t){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis?dt(parseFloat(t.people_vaccinated_per_hundred)):\"percent-fully-vaccinated\"==e.bubble_chart_y_axis?dt(parseFloat(t.people_fully_vaccinated_per_hundred)):\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?dt(parseFloat(t.vaccine_acceptance_percent)):void 0})).attr(\"r\",(function(t){return _t(parseFloat(t.population))})).style(\"fill\",(function(t){return\"region\"==e.bubble_chart_color_by&&m.regions[t.ifrc_region]?m.regions[t.ifrc_region]:\"hdi\"==e.bubble_chart_color_by&&m.hdi_category[t.hdi_category]?m.hdi_category[t.hdi_category]:\"inform-severity\"==e.bubble_chart_color_by&&m.inform_severity[t.inform_severity]?m.inform_severity[t.inform_severity]:\"transparent\"})).style(\"stroke\",(function(t){return\"#FFF\"})).attr(\"display\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?\"none\":\"inline\"})).attr(\"opacity\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=dt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?0:1}))}),(function(t){t.remove()})),d.p(\"#bubblechart\").selectAll(\".bubble\").on(\"mousemove\",(function(t,a){d.p(\"#bubbleSelectContainer\").style(\"z-index\",1),d.p(\"#bubblechart_tooltip_title tspan\").text(a.country_name),\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(d.p(\"#bubblechart_tooltip_label tspan\").text(\"% vaccinated at least 1 dose\"),d.p(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.people_vaccinated_per_hundred)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(d.p(\"#bubblechart_tooltip_label tspan\").text(\"% fully vaccinated\"),d.p(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.people_fully_vaccinated_per_hundred)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(d.p(\"#bubblechart_tooltip_label tspan\").text(\"% vaccine acceptance\"),d.p(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.vaccine_acceptance_percent).toFixed(2)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),d.p(\"#bubblechart_tooltip_gni tspan\").text(\"$\"+y(Math.round(parseFloat(a.gni_2017)))).attr(\"text-anchor\",\"end\").attr(\"dx\",37),d.p(\"#bubblechart_tooltip_population tspan\").text(v(Math.round(parseInt(a.population)))).attr(\"text-anchor\",\"end\").attr(\"dx\",37);var n=d.l(t,d.p(\"#svg\").node());n[0]<1110?(d.p(\"#bubblechart_tooltip\").attr(\"transform\",\"translate(\"+(n[0]+20)+\",\"+(n[1]+58-90)+\")\").attr(\"display\",\"inline\"),d.p(\"#bubblechart_tooltip_arrow_left\").attr(\"display\",\"inline\"),d.p(\"#bubblechart_tooltip_arrow_right\").attr(\"display\",\"none\")):(d.p(\"#bubblechart_tooltip\").attr(\"transform\",\"translate(\"+(n[0]-220)+\",\"+(n[1]+58-90)+\")\").attr(\"display\",\"inline\"),d.p(\"#bubblechart_tooltip_arrow_left\").attr(\"display\",\"none\"),d.p(\"#bubblechart_tooltip_arrow_right\").attr(\"display\",\"inline\")),d.q(\".bubble\").attr(\"opacity\",.4),d.p(this).attr(\"opacity\",1).style(\"stroke-width\",2)})).on(\"mouseout\",(function(t){if(\"tspan\"==t.toElement)return!1;d.p(\"#bubbleSelectContainer\").style(\"z-index\",2),d.p(\"#bubblechart_tooltip\").attr(\"display\",\"none\"),d.q(\".bubble\").attr(\"opacity\",1).style(\"stroke-width\",1)})),\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&d.p(\"#bubble_y_axis_label tspan\").text(\"% vaccinated at least 1 dose\"),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&d.p(\"#bubble_y_axis_label tspan\").text(\"% fully vaccinated\"),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&d.p(\"#bubble_y_axis_label tspan\").text(\"% vaccine acceptance\")}var yt={region_chart_toggle:\"cases\",region_filter:[],country_filter:[],hdi_filter:[],inform_filter:[],timeline_type:\"non-cumulative\",timeline_frequency:\"week\",map_toggle:\"cases\",tab_toggle:\"vaccination-data\",table_sort:\"col1_sort\",table_sort_direction:\"desc\",bubble_chart_color_by:\"hdi\",bubble_chart_y_axis:\"percent-vaccinated-at-least-1-dose\",maxDate:null,maxVDate:null,brushL:0,brushR:600,page:1,numPages:1},vt=a(13);var bt,xt=function(t,e){t.equity_data.forEach((function(e,a){e.vaccines_used=[],e.number_vaccine_types_used=0,e.vaccines_per_100=0,t.vaccines_who_data.forEach((function(t,a){e.country_iso3==t.ISO3&&(e.data_updated=h()(t.DATE_UPDATED).startOf(\"day\").toDate(),e.number_vaccine_types_used=t.NUMBER_VACCINES_TYPES_USED,e.vaccines_per_100=parseFloat(t.TOTAL_VACCINATIONS_PER100),isNaN(e.vaccines_per_100)&&(e.vaccines_per_100=0),e.vaccines_used=t.VACCINES_USED.split(\",\").map((function(t){return t.trim()})))})),e.ns_involvement=0,t.self_assessment.forEach((function(t,a){e.country_iso3==t.ISO3&&\"Yes\"==t[\"Final involvement\"]&&(e.ns_involvement=1)})),t.vaccine_acceptance.forEach((function(t,a){e.country_iso3==t.iso3&&(e.country_code=e.country_iso2,e.vaccine_acceptance_percent=100*parseFloat(t.indicator_value),e.vaccine_acceptance_population=parseInt(t.population_size))})),\"all\"==e.contract_tracing.toLowerCase()||\"some\"==e.contract_tracing.toLowerCase()?e.contract_tracing=1:e.contract_tracing=0,e.avg_tests_per_1000=parseFloat(e.avg_tests_per_1000)||0}));var a=h()(new Date(Object(d.i)(t.who_data,(function(t){return t.Date_reported})))),n=h()(new Date(Object(d.k)(t.who_data,(function(t){return t.Date_reported}))));n=h()(\"2019-12-31\");var i=new Date(Object(d.k)(t.vaccines_data,(function(t){return t.date}))),r=new Date(Object(d.i)(t.vaccines_data,(function(t){return t.date})));e.maxDataDate=a.toDate(),e.maxVDataDate=r,r>a&&(a=r),e.maxDate=h()(a).toDate(),e.maxVDate=h()(r).toDate(),e.minDate=h()(n).toDate();var c=-1,o=0,l=-1,s=-1,u=0,_=0;t.who_data.sort((function(t,e){return new Date(t.Date_reported)-new Date(e.Date_reported)}));var p=[],g=[];t.who_data.forEach((function(e,a){e.date=new Date(e.Date_reported),e.dayOfYear=h()(e.date).dayOfYear(),e.dayOfYear!==o&&c++,e.dayTotal=c,e.week=h()(e.date).isoWeek(),e.week!==s&&l++,e.weekTotal=l,e.month=e.date.getMonth(),e.month!==_&&u++,e.monthTotal=u,e.year=e.date.getFullYear(),e.week_start=new Date(h()(e.date).startOf(\"isoWeek\").toDate()),e.month_start=new Date(h()(e.date).startOf(\"month\").toDate()),e.new_cases=parseInt(e.New_cases),e.new_deaths=parseInt(e.New_deaths),e.new_deaths<0&&(e.new_deaths=0),e.new_cases<0&&(e.new_cases=0),e.cumulative_deaths=parseInt(e.Cumulative_deaths),e.cumulative_cases=parseInt(e.Cumulative_cases),e.country_code=e.Country_code,e.country_name=null,t.equity_data.forEach((function(t,a){t.country_iso2===e.Country_code&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name)})),void 0==e.ifrc_region&&(e.ifrc_region=\"OTH\"),p.includes(e.country_code)||(\"OTH\"==e.ifrc_region&&g.push([e.Country,e.country_code]),p.push(e.country_code)),delete e.Date_reported,delete e.Country,delete e.New_cases,delete e.New_deaths,delete e.Country_code,delete e.Cumulative_deaths,delete e.Cumulative_cases,delete e.WHO_region,o=e.dayOfYear,s=e.week,_=e.month})),c=-1,o=0,l=-1,s=-1,u=0,_=0,t.vaccines_data_cumulative=t.vaccines_data.filter((function(t,e){return 3===t.iso_code.length&&t.total_vaccinations>0}));var f=Object(d.f)(t.vaccines_data_cumulative,(function(t){return t.iso_code})),m=[];f.forEach((function(e,a){var n,c=new Date(i),o=new Date(r),l=[],s=[];s=[];t.equity_data.forEach((function(t,n){t.country_iso3===f[a][0]&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name,e.country_code=t.country_iso2)})),f[a].lastDate=new Date(Object(d.i)(f[a][1],(function(t,e){return t.date}))),f[a][1].forEach((function(t,e){l.push(new Date(t.date).getTime())})),f[a][1].forEach((function(t,e){t.total_vaccinations=parseInt(t.total_vaccinations);for(var a=c;a<=o;a.setDate(a.getDate()+1)){var n=a.getTime();l.includes(n)||s.push({date:new Date(a),total_vaccinations:null})}})),(n=f[a][1]).push.apply(n,Object(vt.a)(s)),f[a][1].sort((function(t,e){return new Date(t.date)-new Date(e.date)}));var u=0,_=0,p=0,h=0;f[a][1].forEach((function(t,e){var n;t.total_vaccinations?u=t.total_vaccinations:t.total_vaccinations=u,t.total_vaccinations_per_hundred?_=t.total_vaccinations_per_hundred:t.total_vaccinations_per_hundred=_,t.people_vaccinated_per_hundred?p=t.people_vaccinated_per_hundred:t.people_vaccinated_per_hundred=p,t.people_fully_vaccinated_per_hundred?h=t.people_fully_vaccinated_per_hundred:t.people_fully_vaccinated_per_hundred=h,n=null==f[a].country_name?f[a][0]:f[a].country_name,m.push({date:new Date(t.date),lastDate:f[a].lastDate,total_vaccinations_per_hundred:parseFloat(_),people_vaccinated_per_hundred:p,people_fully_vaccinated_per_hundred:h,iso_code:f[a][0],ifrc_region:f[a].ifrc_region,country_name:n,country_code:f[a].country_code,total_vaccinations:u})}))})),t.vaccines_data_cumulative=m,t.vaccines_data_cumulative.sort((function(t,e){return new Date(t.date)-new Date(e.date)})),t.vaccines_data_cumulative.forEach((function(t,e){void 0==t.ifrc_region&&(t.ifrc_region=\"OTH\"),t.dayOfYear=h()(t.date).dayOfYear(),t.dayOfYear!==o&&c++,t.dayTotal=c,t.week=h()(t.date).isoWeek(),t.week!==s&&l++,t.weekTotal=l,t.month=t.date.getMonth(),t.month!==_&&u++,t.monthTotal=u,t.year=t.date.getFullYear(),o=t.dayOfYear,s=t.week,_=t.month,t.week_start=new Date(h()(t.date).startOf(\"isoWeek\").toDate()),t.month_start=new Date(h()(t.date).startOf(\"month\").toDate())})),c=-1,o=0,l=-1,s=-1,u=0,_=0,t.vaccines_data_daily=t.vaccines_data.filter((function(t,e){return 3===t.iso_code.length&&t.daily_vaccinations>0})),f=Object(d.f)(t.vaccines_data_daily,(function(t){return t.iso_code})),m=[],f.forEach((function(e,a){var n,c=new Date(i),o=new Date(r),l=[],s=[];s=[];t.equity_data.forEach((function(t,n){t.country_iso3===f[a][0]&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name,e.country_code=t.country_iso2)})),f[a][1].forEach((function(t,e){l.push(new Date(t.date).getTime())})),f[a][1].forEach((function(t,e){t.daily_vaccinations=parseInt(t.daily_vaccinations);for(var a=c;a<=o;a.setDate(a.getDate()+1)){var n=a.getTime();l.includes(n)||s.push({date:new Date(a),daily_vaccinations:null})}})),(n=f[a][1]).push.apply(n,Object(vt.a)(s)),f[a][1].sort((function(t,e){return new Date(t.date)-new Date(e.date)}));var u=0;f[a][1].forEach((function(t,e){var n;t.daily_vaccinations?u=t.daily_vaccinations:t.daily_vaccinations=u,n=null==f[a].country_name?f[a][0]:f[a].country_name,m.push({date:new Date(t.date),iso_code:f[a][0],ifrc_region:f[a].ifrc_region,country_name:n,country_code:f[a].country_code,daily_vaccinations:u})}))})),t.vaccines_data_daily=m,t.vaccines_data_daily.sort((function(t,e){return new Date(t.date)-new Date(e.date)})),t.vaccines_data_daily.forEach((function(t,e){void 0==t.ifrc_region&&(t.ifrc_region=\"OTH\"),t.dayOfYear=h()(t.date).dayOfYear(),t.dayOfYear!==o&&c++,t.dayTotal=c,t.week=h()(t.date).isoWeek(),t.week!==s&&l++,t.weekTotal=l,t.month=t.date.getMonth(),t.month!==_&&u++,t.monthTotal=u,t.year=t.date.getFullYear(),o=t.dayOfYear,s=t.week,_=t.month,t.week_start=new Date(h()(t.date).startOf(\"isoWeek\").toDate()),t.month_start=new Date(h()(t.date).startOf(\"month\").toDate())})),t.equity_data.forEach((function(t,e){t.hdi_category.match(/very high/i)?t.hdi_category=\"very-high\":t.hdi_category.match(/high/i)?t.hdi_category=\"high\":t.hdi_category.match(/medium/i)?t.hdi_category=\"medium\":t.hdi_category.match(/low/i)&&(t.hdi_category=\"low\"),t.inform_severity.match(/very high/i)?t.inform_severity=\"very-high\":t.inform_severity.match(/high/i)?t.inform_severity=\"high\":t.inform_severity.match(/medium/i)?t.inform_severity=\"medium\":t.inform_severity.match(/low/i)?t.inform_severity=\"low\":t.inform_severity.match(/no/i)&&(t.inform_severity=\"no-score\")})),t.equity_data=t.equity_data.filter((function(t,e){return p.includes(t.country_iso2)})),t.original=I()(t)},wt=(a(124),a(3)),kt=a.n(wt),qt=(a(125),a(126),a(16)),Ft=a.n(qt);a(127);Ft.a.accessToken=\"pk.eyJ1IjoiZ28taWZyYyIsImEiOiJjams3b2ZhZWswMGFvM3hxeHp2ZHFhOTRrIn0._pqO9OQ2iNeDGrpopJNjpg\";var Ot;function At(t,e,a){d.p(\"#map-refresh\").attr(\"display\",\"none\").style(\"cursor\",\"pointer\").on(\"click\",(function(t,e){bt.setCenter([8,22]),bt.setZoom(0),d.p(\"#map-refresh\").attr(\"display\",\"none\")})),(bt=new Ft.a.Map({container:\"map_div\",style:\"mapbox://styles/go-ifrc/ckqrsg27f1cwu17pex8w2de2e\",center:[8,22],zoom:0})).setRenderWorldCopies(!1),bt.addControl(new Ft.a.NavigationControl),bt.on(\"zoom\",(function(){d.p(\"#map-refresh\").attr(\"display\",\"inline\")})),bt.on(\"touchmove\",(function(){d.p(\"#map-refresh\").attr(\"display\",\"inline\")})),bt.on(\"wheel\",(function(){d.p(\"#map-refresh\").attr(\"display\",\"inline\")})),bt.on(\"drag\",(function(){d.p(\"#map-refresh\").attr(\"display\",\"inline\")}));var n=bt.getCanvasContainer();d.p(n).append(\"svg\").attr(\"id\",\"mapoverlay\").attr(\"width\",\"100%\").attr(\"height\",\"24vw\").style(\"position\",\"absolute\").style(\"z-index\",2);Ot=d.p(\"#map_tooltip\").attr(\"opacity\",1).attr(\"transform\",\"translate(0,0)\").attr(\"display\",\"inline\"),document.getElementById(\"mapoverlay\").appendChild(d.p(\"#map_tooltip\").node()),Ot.attr(\"display\",\"none\"),bt.on(\"load\",(function(a){bt.setPaintProperty(\"countries\",\"fill-opacity-transition\",{duration:0,delay:0}),Et(t,e)}))}function Et(t,e){if(bt.setLayoutProperty(\"countries\",\"visibility\",\"none\"),\"bi-weekly-change\"==e.map_toggle){d.i(t.country,(function(t,e){return t[1].percent_change})),d.k(t.country,(function(t,e){return t[1].percent_change}));var a=d.m().domain([-.3,0,.3]).range([m.blue,m.lightgrey,m.red]),n=[\"case\"];t.country.forEach((function(t,e){n.push([\"==\",[\"get\",\"iso\"],t[0]]),n.push(a(t[1].percent_change))})),n.length>1&&(n.push(m.darkgrey),bt.setPaintProperty(\"countries\",\"fill-color\",n))}if(\"cases\"==e.map_toggle){var i=d.i(t.country,(function(t,e){return t[1].cumulative_cases}));a=d.m().domain([0,i]).range([m.lightgrey,m.red]),n=[\"case\"];t.country.forEach((function(t,e){n.push([\"==\",[\"get\",\"iso\"],t[0]]),n.push(a(t[1].cumulative_cases))})),n.length>1&&(n.push(m.darkgrey),bt.setPaintProperty(\"countries\",\"fill-color\",n))}if(\"deaths\"==e.map_toggle){i=d.i(t.country,(function(t,e){return t[1].cumulative_deaths})),a=d.m().domain([0,i]).range([m.lightgrey,m.red]),n=[\"case\"];t.country.forEach((function(t,e){n.push([\"==\",[\"get\",\"iso\"],t[0]]),n.push(a(t[1].cumulative_deaths))})),n.length>1&&(n.push(m.darkgrey),bt.setPaintProperty(\"countries\",\"fill-color\",n))}if(\"percent-fully-vaccinated\"==e.map_toggle){i=d.i(t.vGroup,(function(t,e){return parseFloat(t[1][0].people_fully_vaccinated_per_hundred)/100})),a=d.m().domain([0,i]).range([m.lightgrey,m.blue]),n=[\"case\"];t.vGroup.forEach((function(t,e){var i=parseFloat(t[1][0].people_fully_vaccinated_per_hundred)/100;isNaN(i)&&(i=0),i>0&&(t[1][0].country_code&&n.push([\"==\",[\"get\",\"iso\"],t[1][0].country_code]),t[1][0].country_code&&n.push(a(i)))})),n.length>1?(n.push(m.darkgrey),bt.setPaintProperty(\"countries\",\"fill-color\",n)):bt.setPaintProperty(\"countries\",\"fill-color\",m.darkgrey)}if(\"percent-vaccine-acceptance\"==e.map_toggle){i=d.i(t.vGroup,(function(t,e){return parseFloat(t[1][0].vaccine_acceptance_percent)/100})),a=d.m().domain([0,i]).range([m.lightgrey,m.blue]),n=[\"case\"];t.vGroup.forEach((function(t,e){var i=parseFloat(t[1][0].vaccine_acceptance_percent)/100;isNaN(i)&&(i=0),i>0&&(t[1][0].country_code&&n.push([\"==\",[\"get\",\"iso\"],t[1][0].country_code]),t[1][0].country_code&&n.push(a(i)))})),n.length>1?(n.push(m.darkgrey),bt.setPaintProperty(\"countries\",\"fill-color\",n)):bt.setPaintProperty(\"countries\",\"fill-color\",m.darkgrey)}Ot.attr(\"display\",\"none\"),bt.on(\"mousemove\",(function(a){var n=bt.queryRenderedFeatures(a.point);if(1==n.length&&\"countries\"==n[0].layer.id){var i,r=n[0].properties.iso,c=t.equity_data.filter((function(t){return t.country_iso2==r}));if(c[0]&&(i=c[0].country_name),Ot.select(\"#map_tooltip_name tspan\").text(i),0==Ot.select(\"#map_tooltip_name tspan\").text().length&&Ot.attr(\"display\",\"none\"),\"cases\"==e.map_toggle){if(!(s=t.country.filter((function(t){return t[1].country_code==r}))[0])||0==s.length)return!1;Ot.select(\"#map_tooltip_val tspan\").text(y(s[1].cumulative_cases)+\" cases\")}if(\"deaths\"==e.map_toggle){if(!(s=t.country.filter((function(t){return t[1].country_code==r}))[0])||0==s.length)return!1;Ot.select(\"#map_tooltip_val tspan\").text(y(s[1].cumulative_deaths)+\" deaths\")}if(\"bi-weekly-change\"==e.map_toggle){if(!(s=t.country.filter((function(t){return t[1].country_code==r}))[0])||0==s.length)return!1;var o=\"\";o=(l=(100*s[1].percent_change).toFixed(1))>=0?\"% increase\":\"% decrease\",Ot.select(\"#map_tooltip_val tspan\").text(Math.abs(l)+o)}if(\"percent-fully-vaccinated\"==e.map_toggle){if(!(s=t.vGroup.filter((function(t){return t[1][0].country_code==r})))||0==s.length)return!1;if(!s[0][1])return!1;s=s[0][1];var l=parseFloat(s[0].people_fully_vaccinated_per_hundred).toFixed(1);isNaN(l)?l=\"-\":l+=\"% fully vaccinated\",Ot.select(\"#map_tooltip_val tspan\").text(l)}if(\"percent-vaccine-acceptance\"==e.map_toggle){var s;if(!(s=t.vGroup.filter((function(t){return t[1][0].country_code==r})))||0==s.length)return!1;if(!s[0][1])return!1;s=s[0][1];l=parseFloat(s[0].vaccine_acceptance_percent).toFixed(1);isNaN(l)?l=\"-\":l+=\"% vaccine acceptance\",Ot.select(\"#map_tooltip_val tspan\").text(l)}(o=Ot.select(\"#map_tooltip_val tspan\").text()).includes(\"NaN\")&&Ot.attr(\"display\",\"none\"),d.p(\"#map_tooltip_bg\").attr(\"width\",20);var u=d.p(\"#map_tooltip_text\").node().getBBox();d.p(\"#map_tooltip_bg\").attr(\"width\",parseFloat(u.width)+15);var _=window.innerWidth/1329;Ot.attr(\"display\",\"inline\").attr(\"transform\",\"translate(\"+(a.point.x+20)+\",\"+a.point.y+\")scale(\"+_+\")\");Ot.node().getBBox();0==Ot.select(\"#map_tooltip_name tspan\").text().length&&Ot.attr(\"display\",\"none\")}else Ot.attr(\"display\",\"none\")})),bt.setLayoutProperty(\"countries\",\"visibility\",\"visible\")}var Dt=a(2),Tt=\"./data/equity_data.csv\",Nt=\"./images/layout.svg\",jt=\"./data/who_global_cases.csv\",Mt=\"./data/world-wb5.geojson\",Pt=\"./data/owid_vaccinations.csv\",Ct=\"./data/who_vaccination_data.csv\",St=\"./data/timeline.csv\",Ht=\"./data/key_figures.csv\",It=\"./data/self_assessment.csv\",zt=\"./data/vaccine_acceptance.csv\",Bt={},Lt=[{id:\"AM\",text:\"Americas\"},{id:\"EU\",text:\"Europe\"},{id:\"AP\",text:\"Asia-Pacific\"},{id:\"ME\",text:\"Middle East and North Africa\"},{id:\"AF\",text:\"Africa\"}],Wt=[];function Yt(t){return isNaN(t)?0:t}var Ut=function(){var t=Object(n.useState)(0),e=Object(u.a)(t,2),a=e[0],i=e[1],r=Object(n.useState)(\"Loading SVG layout...\"),c=Object(u.a)(r,2),o=c[0],_=c[1];function p(){return(p=Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.u(Nt).then((function(t){d.p(\"#svg_container\").node().append(d.p(t.documentElement).attr(\"width\",\"100%\").attr(\"height\",\"auto\").node());var e=d.p(\"#svg_container svg\");e.select(\"title\").remove(),e.attr(\"id\",\"svg\"),lt(e,yt,Bt,f,b,Et),i(.1),_(\"Loading equity data CSV...\"),d.e(Tt).then((function(t){Bt.equity_data=t,t.forEach((function(t,e){Wt.push({text:t.country_name,id:\"Country-\"+t.country_iso2})})),w(),i(.1),_(\"Loading WHO data CSV...\"),d.e(Pt).then((function(t){Bt.vaccines_data=t,i(.07),_(\"Loading OWID vaccines data...\"),d.e(Ct).then((function(t){Bt.vaccines_who_data=t,i(.15),_(\"Loading OWID vaccines data...\"),d.e(It).then((function(t){Bt.self_assessment=t,i(.22),_(\"Loading self assessment...\"),d.e(zt).then((function(t){Bt.vaccine_acceptance=t,i(.3),_(\"Loading vaccine acceptance data...\"),d.e(St).then((function(t){Bt.timeline_data=t,i(.4),_(\"Loading timeline events...\"),d.e(Ht).then((function(t){Bt.key_figures=t,i(.45),_(\"Loading key figures data...\"),d.e(jt).then((function(t){Bt.who_data=t,i(.8),_(\"Loading World Map...\"),d.h(Mt).then((function(t){Bt.world=t,_(\"Loading complete.\"),i(1),xt(Bt,yt),g(),d.p(\"#loaderDiv\").transition().duration(1e3).style(\"opacity\",0).on(\"end\",(function(){return d.p(\"#loaderDiv\").remove()}))}))}))}))}))}))}))}))}))}))}));case 2:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function g(){d.p(\"#who_data_date tspan\").text(h()(yt.maxDataDate).format(\"ll\")),d.p(\"#owid_data_date tspan\").text(h()(yt.maxVDataDate).format(\"ll\")),B(Bt,yt),et(Bt,yt,f),b(Bt,yt),m(Bt,yt),At(Bt,yt),ft(Bt,yt)}function f(t,e){yt.page=1,\"clear\"==t&&(yt.region_filter=[],yt.country_filter=[],d.p(\"#reset_locations\").attr(\"display\",\"none\")),\"clear-region\"==t&&(yt.region_filter=[]),\"clear-hdi\"==t&&(yt.hdi_filter=[]),\"clear-inform\"==t&&(yt.inform_filter=[]),1==t.length&&2==t[0].length&&\"filter\"!=t&&(yt.region_filter.includes(t[0])?yt.region_filter=yt.region_filter.filter((function(e){return e!==t[0]})):yt.region_filter.push(t[0])),5==yt.region_filter.length&&(yt.region_filter=[]),yt.region_filter.length>0?(d.p(\"#region_remove_filter\").attr(\"opacity\",1),d.q(\".bar-labels\").attr(\"opacity\",.5),yt.region_filter.forEach((function(t,e){d.p(\".bar-label-\"+t).attr(\"opacity\",1)}))):(d.p(\"#region_remove_filter\").attr(\"opacity\",0),d.q(\".bar-labels\").attr(\"opacity\",1)),Bt.equity_data=Bt.original.equity_data;var a=[];yt.hdi_filter.length>0?(d.p(\"#hdi_remove_filter\").attr(\"opacity\",1),Bt.equity_data.forEach((function(t,e){yt.hdi_filter.includes(t.hdi_category)&&a.push(t.country_iso2)}))):d.p(\"#hdi_remove_filter\").attr(\"opacity\",0);var n=[];if(yt.inform_filter.length>0?(d.p(\"#inform_remove_filter\").attr(\"opacity\",1),Bt.equity_data.forEach((function(t,e){yt.inform_filter.includes(t.inform_severity)&&n.push(t.country_iso2)}))):d.p(\"#inform_remove_filter\").attr(\"opacity\",0),1==t.length&&t[0].length>2){var i=t[0].substring(8);yt.country_filter.includes(i)?yt.country_filter=yt.country_filter.filter((function(t){return t!==i})):yt.country_filter.push(i)}0==yt.region_filter.length&&0==yt.country_filter.length&&d.p(\"#reset_locations\").attr(\"display\",\"none\");var r=[];yt.country_filter.forEach((function(t,e){r.push(\"Country-\"+t)})),yt.region_filter.length>0||yt.country_filter.length>0?d.p(\"#reset_locations\").attr(\"display\",\"inline\"):d.p(\"#reset_locations\").attr(\"display\",\"none\");var c=yt.region_filter.concat(r);kt()(\"#regionSelect\").val(c),kt()(\"#regionSelect\").trigger(\"change\"),Bt.who_data=Bt.original.who_data,n.length>0&&(Bt.who_data=Bt.who_data.filter((function(t,e){return n.includes(t.country_code)}))),(yt.region_filter.length>0||yt.country_filter.length>0||a.length>0)&&(Bt.who_data=Bt.who_data.filter((function(t,e){return a.length>0?yt.region_filter.length>0||yt.country_filter.length>0?(yt.region_filter.includes(t.ifrc_region)||yt.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):yt.region_filter.includes(t.ifrc_region)||yt.country_filter.includes(t.country_code)}))),Bt.vaccines_data_cumulative=Bt.original.vaccines_data_cumulative,n.length>0&&(Bt.vaccines_data_cumulative=Bt.vaccines_data_cumulative.filter((function(t,e){return n.includes(t.country_code)}))),(yt.region_filter.length>0||yt.country_filter.length>0||a.length>0)&&(Bt.vaccines_data_cumulative=Bt.vaccines_data_cumulative.filter((function(t,e){return a.length>0?yt.region_filter.length>0||yt.country_filter.length>0?(yt.region_filter.includes(t.ifrc_region)||yt.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):yt.region_filter.includes(t.ifrc_region)||yt.country_filter.includes(t.country_code)}))),Bt.vaccines_data_daily=Bt.original.vaccines_data_daily,n.length>0&&(Bt.vaccines_data_daily=Bt.vaccines_data_daily.filter((function(t,e){return n.includes(t.country_code)}))),(yt.region_filter.length>0||yt.country_filter.length>0||a.length>0)&&(Bt.vaccines_data_daily=Bt.vaccines_data_daily.filter((function(t,e){return a.length>0?yt.region_filter.length>0||yt.country_filter.length>0?(yt.region_filter.includes(t.ifrc_region)||yt.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):yt.region_filter.includes(t.ifrc_region)||yt.country_filter.includes(t.country_code)}))),n.length>0&&(Bt.equity_data=Bt.equity_data.filter((function(t,e){return n.includes(t.country_iso2)}))),(yt.region_filter.length>0||yt.country_filter.length>0||a.length>0)&&(Bt.equity_data=Bt.equity_data.filter((function(t,e){return a.length>0?yt.region_filter.length>0||yt.country_filter.length>0?(yt.region_filter.includes(t.ifrc_region)||yt.country_filter.includes(t.country_iso2))&&a.includes(t.country_iso2):a.includes(t.country_iso2):yt.region_filter.includes(t.ifrc_region)||yt.country_filter.includes(t.country_iso2)}))),function(){var t=kt()(\"#regionSelect\").select2(\"data\");kt()(\"#regionSelectContainer\").width()/kt()(\"#regionSelectContainer\").height()<10?(kt()(\".select2-selection__choice\").hide(),kt()(\".select2-search__field\").attr(\"placeholder\",t.length+\" LOCATIONS SELECTED\").css(\"width\",\"100%\")):(kt()(\".select2-search__field\").attr(\"placeholder\",\"\"),kt()(\".select2-selection__choice\").show())}(),at(yt,Bt),b(Bt,yt),m(Bt,yt),L(Bt,yt),Et(Bt,yt),mt(Bt,yt)}function m(t,e){var a=d.r(t.cumulative_totals,(function(t){return t.cumulative_cases})),n=d.r(t.cumulative_totals,(function(t){return t.cumulative_deaths})),i=d.f(t.who_data,(function(t){return t.country_code})).length,r=d.f(t.who_data,(function(t){return t.country_code})),c=d.r(t.equity_data,(function(t){return t.total_vaccinations}));t.country=[],r.forEach((function(e,a){var n=e[1][e[1].length-28].cumulative_cases,i=e[1][e[1].length-14].cumulative_cases,r=e[1][e[1].length-7].cumulative_cases,c=e[1][e[1].length-1],o=parseFloat((c.cumulative_cases-i-(i-n))/n);isFinite(o)?c.percent_change=o:c.percent_change=0,t.country.push([e[0],c,i,n,r])}));var o={\"very-high\":0,high:0,medium:0,low:0},l={\"very-high\":0,high:0,medium:0,low:0},s={\"very-high\":0,high:0,medium:0,low:0},u={\"very-high\":0,high:0,medium:0,low:0},_={\"very-high\":0,high:0,medium:0,low:0},p={\"very-high\":[],high:[],medium:[],low:[]},h={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},g={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},f={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},m={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},b={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},x={\"very-high\":[],high:[],medium:[],low:[],\"no-score\":[]};t.vaccine_types=[];var w=[],k={total_population:0,vaccine_population:0},q=0,F={total_population:0,accept_population:0};a>0&&t.equity_data.forEach((function(e,a){e.vaccines_used.forEach((function(e){t.vaccine_types.includes(e)||t.vaccine_types.push(e)})),isNaN(e.total_vaccinations)&&(e.total_vaccinations=0),o[e.hdi_category]+=1,l[e.hdi_category]+=parseInt(e.population),s[e.hdi_category]+=parseInt(e.total_vaccinations)||0,q+=e.ns_involvement,h[e.inform_severity]+=1,m[e.inform_severity]+=e.contract_tracing,u[e.hdi_category]+=e.contract_tracing,\"very-high\"!=e.hdi_category&&\"high\"!=e.hdi_category&&\"medium\"!=e.hdi_category&&\"low\"!=e.hdi_category||p[e.hdi_category].push(e.avg_tests_per_1000),\"very-high\"!=e.inform_severity&&\"high\"!=e.inform_severity&&\"medium\"!=e.inform_severity&&\"low\"!=e.inform_severity&&\"no-score\"!=e.inform_severity||x[e.inform_severity].push(e.avg_tests_per_1000),g[e.inform_severity]+=parseInt(e.population),f[e.inform_severity]+=parseInt(e.total_vaccinations)||0;var n=r.filter((function(t){return t[0]==e.country_iso2}));if(n[0][1].length>0&&n[0]){var i=n[0][1][n[0][1].length-1];_[e.hdi_category]+=i.cumulative_cases,b[e.inform_severity]+=i.cumulative_cases}e.vaccines_per_100>0&&w.push([e.vaccines_per_100,e.population]);var c=0;e.vaccine_acceptance_population?c=e.vaccine_acceptance_population:e.population&&(c=e.population),e.vaccines_per_100>0&&c>0&&(k.total_population+=parseInt(c)),e.vaccines_per_100>0&&c>0&&(k.vaccine_population+=c*(e.vaccines_per_100/100)),e.vaccine_acceptance_population>0&&(F.total_population+=e.vaccine_acceptance_population),e.vaccine_acceptance_population>0&&(F.accept_population+=e.vaccine_acceptance_population*e.vaccine_acceptance_percent)}));var O=(F.accept_population/F.total_population).toFixed(1),A=((k.vaccine_population/k.total_population*100).toFixed(1),d.j(t.vGroup,(function(t){return t[1][0].total_vaccinations_per_hundred})));d.q(\".vaccine_type\").remove(),d.p(\"#vaccine_tooltip_bg\").attr(\"height\",1),t.vaccine_types.forEach((function(t,e){d.p(\"#vaccine_tooltip\").append(\"text\").attr(\"font-size\",9).attr(\"fill\",\"#000\").attr(\"class\",\"vaccine_type\").append(\"tspan\").text(t).attr(\"dx\",6).attr(\"dy\",1.3*e+1.8+\"em\")}));var E=d.p(\"#vaccine_tooltip\").node().getBBox();d.p(\"#vaccine_tooltip_bg\").attr(\"height\",E.height+6);var D=d.r(t.country,(function(t){return t[4]}));0==a?d.q(\".bar_group\").attr(\"opacity\",0):d.q(\".bar_group\").attr(\"opacity\",1);var T=l[\"very-high\"]+l.high+l.medium+l.low,N=g[\"very-high\"]+g.high+g.medium+g.low+g[\"no-score\"];d.p(\"#hdi-percent-val-very-high tspan\").text(Yt(_[\"very-high\"]/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi-percent-bar-very-high\").transition().duration(500).attr(\"width\",70*Yt(_[\"very-high\"]/a)),d.p(\"#hdi-percent-val-high tspan\").text(Yt(_.high/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi-percent-bar-high\").transition().duration(500).attr(\"width\",70*Yt(_.high/a)),d.p(\"#hdi-percent-val-medium tspan\").text(Yt(_.medium/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi-percent-bar-medium\").transition().duration(500).attr(\"width\",70*Yt(_.medium/a)),d.p(\"#hdi-percent-val-low tspan\").text(Yt(_.low/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi-percent-bar-low\").transition().duration(500).attr(\"width\",70*Yt(_.low/a)),d.p(\"#inform-percent-val-very-high tspan\").text(Yt(b[\"very-high\"]/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform-percent-bar-very-high\").transition().duration(500).attr(\"width\",64*Yt(b[\"very-high\"]/a)),d.p(\"#inform-percent-val-high tspan\").text(Yt(b.high/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform-percent-bar-high\").transition().duration(500).attr(\"width\",64*Yt(b.high/a)),d.p(\"#inform-percent-val-medium tspan\").text(Yt(b.medium/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform-percent-bar-medium\").transition().duration(500).attr(\"width\",64*Yt(b.medium/a)),d.p(\"#inform-percent-val-low tspan\").text(Yt(b.low/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform-percent-bar-low\").transition().duration(500).attr(\"width\",64*Yt(b.low/a)),d.p(\"#inform-percent-val-no-score tspan\").text(Yt(b[\"no-score\"]/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform-percent-bar-no-score\").transition().duration(500).attr(\"width\",64*Yt(b[\"no-score\"]/a)),d.p(\"#hdi-toggle-very-high-val tspan\").text(o[\"very-high\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),d.p(\"#hdi-toggle-high-val tspan\").text(o.high).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),d.p(\"#hdi-toggle-medium-val tspan\").text(o.medium).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),d.p(\"#hdi-toggle-low-val tspan\").text(o.low).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),d.p(\"#inform-toggle-very-high-val tspan\").text(h[\"very-high\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"6\"),d.p(\"#inform-toggle-high-val tspan\").text(h.high).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),d.p(\"#inform-toggle-medium-val tspan\").text(h.medium).style(\"text-anchor\",\"end\").attr(\"dx\",\"9\"),d.p(\"#inform-toggle-low-val tspan\").text(h.low).style(\"text-anchor\",\"end\").attr(\"dx\",\"7\"),d.p(\"#inform-toggle-no-score-val tspan\").text(h[\"no-score\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"13\"),d.p(\"#hdi1val-very-high tspan\").text(Yt(l[\"very-high\"]/T*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi1bar-very-high\").transition().duration(500).attr(\"width\",70*Yt(l[\"very-high\"]/T)),d.p(\"#hdi1val-high tspan\").text(Yt(l.high/T*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi1bar-high\").transition().duration(500).attr(\"width\",70*Yt(l.high/T)),d.p(\"#hdi1val-medium tspan\").text(Yt(l.medium/T*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi1bar-medium\").transition().duration(500).attr(\"width\",70*Yt(l.medium/T)),d.p(\"#hdi1val-low tspan\").text(Yt(l.low/T*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi1bar-low\").transition().duration(500).attr(\"width\",70*Yt(l.low/T)),d.p(\"#inform1val-very-high tspan\").text(Yt(g[\"very-high\"]/N*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform1bar-very-high\").transition().duration(500).attr(\"width\",64*Yt(g[\"very-high\"]/N)),d.p(\"#inform1val-high tspan\").text(Yt(g.high/N*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform1bar-high\").transition().duration(500).attr(\"width\",64*Yt(g.high/N)),d.p(\"#inform1val-medium tspan\").text(Yt(g.medium/N*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform1bar-medium\").transition().duration(500).attr(\"width\",64*Yt(g.medium/N)),d.p(\"#inform1val-low tspan\").text(Yt(g.low/N*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform1bar-low\").transition().duration(500).attr(\"width\",64*Yt(g.low/N)),d.p(\"#inform1val-no-score tspan\").text(Yt(g[\"no-score\"]/N*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform1bar-no-score\").transition().duration(500).attr(\"width\",64*Yt(g[\"no-score\"]/N)),d.p(\"#hdi2val-very-high tspan\").text(Yt(s[\"very-high\"]/c*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi2bar-very-high\").transition().duration(500).attr(\"width\",70*Yt(s[\"very-high\"]/c)),d.p(\"#hdi2val-high tspan\").text(Yt(s.high/c*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi2bar-high\").transition().duration(500).attr(\"width\",70*Yt(s.high/c)),d.p(\"#hdi2val-medium tspan\").text(Yt(s.medium/c*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi2bar-medium\").transition().duration(500).attr(\"width\",70*Yt(s.medium/c)),d.p(\"#hdi2val-low tspan\").text(Yt(s.low/c*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi2bar-low\").transition().duration(500).attr(\"width\",70*Yt(s.low/c)),d.p(\"#inform2val-very-high tspan\").text(Yt(f[\"very-high\"]/c*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform2bar-very-high\").transition().duration(500).attr(\"width\",64*Yt(f[\"very-high\"]/c)),d.p(\"#inform2val-high tspan\").text(Yt(f.high/c*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform2bar-high\").transition().duration(500).attr(\"width\",64*Yt(f.high/c)),d.p(\"#inform2val-medium tspan\").text(Yt(f.medium/c*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform2bar-medium\").transition().duration(500).attr(\"width\",64*Yt(f.medium/c)),d.p(\"#inform2val-low tspan\").text(Yt(f.low/c*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform2bar-low\").transition().duration(500).attr(\"width\",64*Yt(f.low/c)),d.p(\"#inform2val-no-score tspan\").text(Yt(f[\"no-score\"]/c*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform2bar-no-score\").transition().duration(500).attr(\"width\",64*Yt(f[\"no-score\"]/c));var j=d.i([s.low,s.medium,s.high,s[\"very-high\"]]),M=d.i([f.low,f.medium,f.high,f[\"very-high\"],f[\"no-score\"]]);d.p(\"#hdi3val-very-high tspan\").text(v(s[\"very-high\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi3bar-very-high\").transition().duration(500).attr(\"width\",70*Yt(s[\"very-high\"]/j)),d.p(\"#hdi3val-high tspan\").text(v(s.high)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi3bar-high\").transition().duration(500).attr(\"width\",70*Yt(s.high/j)),d.p(\"#hdi3val-medium tspan\").text(v(s.medium)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi3bar-medium\").transition().duration(500).attr(\"width\",70*Yt(s.medium/j)),d.p(\"#hdi3val-low tspan\").text(v(s.low)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi3bar-low\").transition().duration(500).attr(\"width\",70*Yt(s.low/j)),d.p(\"#inform3val-very-high tspan\").text(v(f[\"very-high\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform3bar-very-high\").transition().duration(500).attr(\"width\",64*Yt(f[\"very-high\"]/M)),d.p(\"#inform3val-high tspan\").text(v(f.high)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform3bar-high\").transition().duration(500).attr(\"width\",64*Yt(f.high/M)),d.p(\"#inform3val-medium tspan\").text(v(f.medium)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform3bar-medium\").transition().duration(500).attr(\"width\",64*Yt(f.medium/M)),d.p(\"#inform3val-low tspan\").text(v(f.low)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform3bar-low\").transition().duration(500).attr(\"width\",64*Yt(f.low/M)),d.p(\"#inform3val-no-score tspan\").text(v(f[\"no-score\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform3bar-no-score\").transition().duration(500).attr(\"width\",64*Yt(f[\"no-score\"]/M)),d.p(\"#hdi4val-very-high tspan\").text(Yt(u[\"very-high\"]/i*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi4bar-very-high\").transition().duration(500).attr(\"width\",70*Yt(u[\"very-high\"]/i)),d.p(\"#hdi4val-high tspan\").text(Yt(u.high/i*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi4bar-high\").transition().duration(500).attr(\"width\",70*Yt(u.high/i)),d.p(\"#hdi4val-medium tspan\").text(Yt(u.medium/i*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi4bar-medium\").transition().duration(500).attr(\"width\",70*Yt(u.medium/i)),d.p(\"#hdi4val-low tspan\").text(Yt(u.low/i*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi4bar-low\").transition().duration(500).attr(\"width\",70*Yt(u.low/i)),d.p(\"#inform4val-very-high tspan\").text(Yt(m[\"very-high\"]/i*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform4bar-very-high\").transition().duration(500).attr(\"width\",64*Yt(m[\"very-high\"]/i)),d.p(\"#inform4val-high tspan\").text(Yt(m.high/i*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform4bar-high\").transition().duration(500).attr(\"width\",64*Yt(m.high/i)),d.p(\"#inform4val-medium tspan\").text(Yt(m.medium/i*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform4bar-medium\").transition().duration(500).attr(\"width\",64*Yt(m.medium/i)),d.p(\"#inform4val-low tspan\").text(Yt(m.low/i*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform4bar-low\").transition().duration(500).attr(\"width\",64*Yt(m.low/i)),d.p(\"#inform4val-no-score tspan\").text(Yt(m[\"no-score\"]/i*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform4bar-no-score\").transition().duration(500).attr(\"width\",64*Yt(m[\"no-score\"]/i)),p.low=Math.round(d.j(p.low))||0,p.medium=Math.round(d.j(p.medium))||0,p.high=Math.round(d.j(p.high))||0,p[\"very-high\"]=Math.round(d.j(p[\"very-high\"]))||0,x[\"no-score\"]=Math.round(d.j(x[\"no-score\"]))||0,x.low=Math.round(d.j(x.low))||0,x.medium=Math.round(d.j(x.medium))||0,x.high=Math.round(d.j(x.high))||0,x[\"very-high\"]=Math.round(d.j(x[\"very-high\"]))||0;var P=d.i([p.low,p.medium,p.high,p[\"very-high\"]]),C=d.i([x.low,x.medium,x.high,x[\"very-high\"],x[\"no-score\"]]);d.p(\"#hdi5val-very-high tspan\").text(y(p[\"very-high\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi5bar-very-high\").transition().duration(500).attr(\"width\",70*Yt(p[\"very-high\"]/P)),d.p(\"#hdi5val-high tspan\").text(y(p.high)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi5bar-high\").transition().duration(500).attr(\"width\",70*Yt(p.high/P)),d.p(\"#hdi5val-medium tspan\").text(y(p.medium)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi5bar-medium\").transition().duration(500).attr(\"width\",70*Yt(p.medium/P)),d.p(\"#hdi5val-low tspan\").text(y(p.low)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#hdi5bar-low\").transition().duration(500).attr(\"width\",70*Yt(p.low/P)),d.p(\"#inform5val-very-high tspan\").text(y(x[\"very-high\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform5bar-very-high\").transition().duration(500).attr(\"width\",64*Yt(x[\"very-high\"]/C)),d.p(\"#inform5val-high tspan\").text(y(x.high)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform5bar-high\").transition().duration(500).attr(\"width\",64*Yt(x.high/C)),d.p(\"#inform5val-medium tspan\").text(y(x.medium)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform5bar-medium\").transition().duration(500).attr(\"width\",64*Yt(x.medium/C)),d.p(\"#inform5val-low tspan\").text(y(x.low)).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform5bar-low\").transition().duration(500).attr(\"width\",64*Yt(x.low/C)),d.p(\"#inform5val-no-score tspan\").text(y(x[\"no-score\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.p(\"#inform5bar-no-score\").transition().duration(500).attr(\"width\",64*Yt(x[\"no-score\"]/C)),d.p(\"#countries_filtered tspan\").text(i+\" countries filtered\").style(\"text-anchor\",\"end\").attr(\"dx\",\"105\"),d.p(\"#total_new_cases tspan\").text(\"-\"),d.p(\"#total_vac_100 tspan\").text(\"-\"),d.p(\"#percent_acceptance tspan\").text(\"-\"),d.p(\"#total_cases tspan\").transition().duration(500).textTween((function(){return function(t){return v(d.g(0,a)(t))}})),d.p(\"#total_new_cases tspan\").transition().duration(500).textTween((function(){return function(t){return v(d.g(0,a-D)(t))}})),d.p(\"#total_deaths tspan\").transition().duration(500).textTween((function(){return function(t){return v(d.g(0,n)(t))}})),d.p(\"#total_vaccines tspan\").transition().duration(500).textTween((function(){return function(t){return v(d.g(0,c)(t))}})),d.p(\"#total_ns_countries tspan\").transition().duration(500).textTween((function(){return function(t){return Math.round(d.g(0,q)(t))}})),d.p(\"#num_vaccines tspan\").transition().duration(500).textTween((function(){return function(e){return Math.round(d.g(0,t.vaccine_types.length)(e))}})),A&&d.p(\"#total_vac_100 tspan\").transition().duration(500).textTween((function(){return function(t){return d.g(0,A)(t).toFixed(1)}})),d.p(\"#percent_acceptance tspan\").transition().duration(500).textTween((function(){return function(t){return Math.round(d.g(0,O)(t))+\"%\"}}))}function b(t,e){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(l.a.mark((function t(e,a){var n,i,r,c,o,s,u,_,p;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=e.vaccines_data_cumulative.filter((function(t){return t.date.getTime()==a.maxVDate.getTime()})),i=d.f(n,(function(t){return t.iso_code})),e.equity_data.forEach((function(t,e){var a=t.vaccine_acceptance_percent||0;i.some((function(e){return e[0]===t.country_iso3}))||i.push([t.country_iso3,[{country_name:t.country_name,country_code:t.country_iso2,vaccine_acceptance_percent:a}]]),i.forEach((function(e,n){e[0]==t.country_iso3&&(e[1][0].vaccine_acceptance_percent=a,e[1][0].country_name=t.country_name,e[1][0].country_code=t.country_iso2)}))})),\"col0_sort\"==a.table_sort&&(r=\"country_name\"),\"col1_sort\"==a.table_sort&&(r=\"total_vaccinations_per_hundred\"),\"col2_sort\"==a.table_sort&&(r=\"people_vaccinated_per_hundred\"),\"col3_sort\"==a.table_sort&&(r=\"people_fully_vaccinated_per_hundred\"),\"col4_sort\"==a.table_sort&&(r=\"vaccine_acceptance_percent\"),\"col5_sort\"==a.table_sort&&(r=\"total_vaccinations\"),c=0;c<6;c++)d.p(\"#col\"+c+\"_sort_desc\").attr(\"opacity\",0),d.p(\"#col\"+c+\"_sort_asc\").attr(\"opacity\",0);d.p(\"#\"+a.table_sort+\"_\"+a.table_sort_direction).attr(\"opacity\",1),\"country_name\"==r?\"asc\"==a.table_sort_direction?i.sort((function(t,e){return e[1][0].country_name.localeCompare(t[1][0].country_name)})):i.sort((function(t,e){return t[1][0].country_name.localeCompare(e[1][0].country_name)})):\"desc\"==a.table_sort_direction?i.sort((function(t,e){return e[1][0][r]-t[1][0][r]})):i.sort((function(t,e){return t[1][0][r]-e[1][0][r]})),e.vGroup=i,e.vGroup.forEach((function(t,a){e.equity_data.forEach((function(e,a){t[0]==e.country_iso3&&(e.people_fully_vaccinated_per_hundred=parseFloat(t[1][0].people_fully_vaccinated_per_hundred),e.people_vaccinated_per_hundred=parseFloat(t[1][0].people_vaccinated_per_hundred),e.total_vaccinations=parseFloat(t[1][0].total_vaccinations),e.total_vaccinations_per_hundred=parseFloat(t[1][0].total_vaccinations_per_hundred))}))})),d.q(\".tablerow\").remove(),d.q(\".col1bar\").attr(\"opacity\",0),d.q(\".col2bar\").attr(\"opacity\",0),d.q(\".col3bar\").attr(\"opacity\",0),d.q(\".col4bar\").attr(\"opacity\",0),d.q(\".colbg\").attr(\"opacity\",0),d.q(\".table_country_name tspan\").text(\"\"),a.numPages=Math.ceil(i.length/10),d.p(\"#next\").attr(\"opacity\",(function(){return a.page==a.numPages?.5:1})),d.p(\"#prev\").attr(\"opacity\",(function(){return 1==a.page?.5:1})),d.p(\"#pagination_text\").attr(\"text-anchor\",\"end\"),d.p(\"#pagination_text tspan\").attr(\"x\",40),d.p(\"#pagination_text tspan\").text(\"Page \"+a.page+\" of \"+a.numPages),o=0,10,s=function(t){return new Promise((function(e){return setTimeout(e,t)}))},u=10*(a.page-1);case 31:if(!(u<10*a.page)){t.next=61;break}if(_=i[u],i[u]){t.next=39;break}return d.p(\"#col1bar\"+o).attr(\"width\",0),d.p(\"#col2bar\"+o).attr(\"width\",0),d.p(\"#col3bar\"+o).attr(\"width\",0),d.p(\"#col4bar\"+o).attr(\"width\",0),t.abrupt(\"continue\",58);case 39:return d.p(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow table_country_name\").text((function(){var t;return 17==(t=(t=_[1][0].country_name?_[1][0].country_name:_[1][0].iso_code).substring(0,17)).length&&(t+=\".\"),t})).attr(\"x\",0).attr(\"y\",(function(){return 80+24.8*o})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.p(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow table_country_name\").text((function(){var t=parseFloat(_[1][0].total_vaccinations_per_hundred).toFixed(1);return isNaN(t)||0==t?\"\":t})).style(\"text-anchor\",\"end\").attr(\"x\",112).attr(\"y\",(function(){return 80+24.8*o})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.p(\"#col1bar\"+o).attr(\"opacity\",1).transition().duration(200).attr(\"width\",(function(){var t=_[1][0].total_vaccinations_per_hundred;return _[1][0].total_vaccinations_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),d.p(\"#col1bg\"+o).attr(\"opacity\",1),d.p(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=parseFloat(_[1][0].people_vaccinated_per_hundred).toFixed(1);return isNaN(t)||0==t?\"\":t+\"%\"})).style(\"text-anchor\",\"end\").attr(\"x\",223).attr(\"y\",(function(){return 80+24.8*o})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.p(\"#col2bar\"+o).attr(\"opacity\",1).transition().duration(200).attr(\"width\",(function(){var t=_[1][0].people_vaccinated_per_hundred;return _[1][0].people_vaccinated_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),d.p(\"#col2bg\"+o).attr(\"opacity\",1),d.p(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=parseFloat(_[1][0].people_fully_vaccinated_per_hundred).toFixed(1);return isNaN(t)||0==t?\"\":t+\"%\"})).style(\"text-anchor\",\"end\").attr(\"x\",335).attr(\"y\",(function(){return 80+24.8*o})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.p(\"#col3bar\"+o).attr(\"opacity\",1).transition().duration(200).attr(\"width\",(function(){var t=_[1][0].people_fully_vaccinated_per_hundred;return _[1][0].people_fully_vaccinated_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),d.p(\"#col3bg\"+o).attr(\"opacity\",1),d.p(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=parseFloat(_[1][0].vaccine_acceptance_percent).toFixed(1);return isNaN(t)||0==t?\"\":t+\"%\"})).style(\"text-anchor\",\"end\").attr(\"x\",450).attr(\"y\",(function(){return 80+24.8*o})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.p(\"#col4bar\"+o).attr(\"opacity\",1).transition().duration(200).attr(\"width\",(function(){var t=_[1][0].vaccine_acceptance_percent;return _[1][0].vaccine_acceptance_percent>100&&(t=100),isNaN(t)?0:t/100*68})),d.p(\"#col4bg\"+o).attr(\"opacity\",1),p=d.s(\"%b %d\"),d.p(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=_[1][0].total_vaccinations;return isNaN(t)||0==t?\"\":v(t)})).style(\"text-anchor\",\"end\").attr(\"x\",572).attr(\"y\",(function(){return 80+24.8*o})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.p(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=_[1][0].lastDate;return t?p(t):\"\"})).style(\"text-anchor\",\"end\").attr(\"x\",620).attr(\"y\",(function(){return 80+24.8*o})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),o++,t.next=58,s(15);case 58:u++,t.next=31;break;case 61:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function w(){kt()(\"#regionSelect\").select2({data:[{id:\"regions\",text:\"IFRC Regions\",children:Lt},{id:\"countries\",text:\"Countries\",children:Wt}],placeholder:\"\",scrollAfterSelect:!0,renderTemplate:function(t){return t.text||\"\\u200b\"},dropdownParent:kt()(\"#regionDrop\"),shouldFocusInput:function(){return!1},templateResult:function(t){return kt()(\"<span>\"+t.text+\"<span>\")}}).on(\"select2:unselecting\",(function(){kt()(this).data(\"unselecting\",!0)})).on(\"select2:opening\",(function(t){kt()(this).data(\"unselecting\")&&(kt()(this).removeData(\"unselecting\"),t.preventDefault())})),kt()(\"#regionSelect\").on(\"select2:select\",(function(t){f([t.params.data.id])})),kt()(\"#regionSelect\").on(\"select2:unselect\",(function(t){f([t.params.data.id])})),d.p(\"#reset_locations\").style(\"cursor\",\"pointer\").on(\"click\",(function(){f(\"clear\")})),kt()(\"#colorSelect\").select2({scrollAfterSelect:!0,minimumResultsForSearch:-1,renderTemplate:function(t){return t.text||\"\\u200b\"},dropdownParent:kt()(\"#regionDrop\"),shouldFocusInput:function(){return!1},templateResult:function(t){return kt()(\"<span>\"+t.text+\"<span>\")}}).on(\"select2:select\",(function(t){var e=t.params.data;yt.bubble_chart_color_by=e.id,mt(Bt,yt)})),kt()(\"#ySelect\").select2({scrollAfterSelect:!0,minimumResultsForSearch:-1,renderTemplate:function(t){return t.text||\"\\u200b\"},dropdownParent:kt()(\"#regionDrop\"),shouldFocusInput:function(){return!1},templateResult:function(t){return kt()(\"<span>\"+t.text+\"<span>\")}}).on(\"select2:select\",(function(t){var e=t.params.data;yt.bubble_chart_y_axis=e.id,mt(Bt,yt)}))}return d.p(\"#prev\").style(\"cursor\",\"pointer\").attr(\"opacity\",.5).on(\"click\",(function(){if(1==yt.page)return!1;yt.page=yt.page-1,b(Bt,yt)})),d.p(\"#next\").style(\"cursor\",\"pointer\").on(\"click\",(function(){if(yt.page==yt.numPages)return!1;yt.page=yt.page+1,b(Bt,yt)})),Object(n.useEffect)((function(){!function(){p.apply(this,arguments)}()}),[]),Object(Dt.jsxs)(\"div\",{children:[Object(Dt.jsxs)(\"div\",{id:\"loaderDiv\",children:[Object(Dt.jsx)(\"div\",{id:\"loaderText\",children:o}),Object(Dt.jsx)(\"div\",{id:\"loaderBar\",children:Object(Dt.jsx)(\"div\",{id:\"loaderProgress\",style:{width:100*a+\"%\"}})})]}),Object(Dt.jsxs)(\"div\",{id:\"regionSelectContainer\",children:[Object(Dt.jsx)(\"select\",{id:\"regionSelect\",className:\"js-example-responsive\",name:\"region[]\",multiple:\"multiple\"}),Object(Dt.jsx)(\"div\",{id:\"regionDrop\"})]}),Object(Dt.jsxs)(\"div\",{id:\"bubbleSelectContainer\",children:[Object(Dt.jsxs)(\"div\",{id:\"colorSelectContainer\",children:[\"Color by\\xa0\\xa0\",Object(Dt.jsxs)(\"select\",{id:\"colorSelect\",className:\"js-example-responsive\",name:\"colorby[]\",defaultValue:\"hdi\",children:[Object(Dt.jsx)(\"option\",{value:\"region\",children:\"IFRC region\"}),Object(Dt.jsx)(\"option\",{value:\"hdi\",children:\"Human Development Index (HDI)\"}),Object(Dt.jsx)(\"option\",{value:\"inform-severity\",children:\"INFORM Severity Index\"})]}),Object(Dt.jsx)(\"div\",{id:\"colorDrop\"})]}),Object(Dt.jsxs)(\"div\",{id:\"ySelectContainer\",children:[\"y-Axis\\xa0\\xa0\",Object(Dt.jsxs)(\"select\",{id:\"ySelect\",className:\"js-example-responsive\",name:\"yaxis[]\",children:[Object(Dt.jsx)(\"option\",{value:\"percent-vaccinated-at-least-1-dose\",children:\"% vaccinated at least 1 dose\"}),Object(Dt.jsx)(\"option\",{value:\"percent-fully-vaccinated\",children:\"% fully vaccinated\"}),Object(Dt.jsx)(\"option\",{value:\"percent-vaccine-acceptance\",children:\"% vaccine acceptance\"})]}),Object(Dt.jsx)(\"div\",{id:\"yDrop\"})]})]}),Object(Dt.jsx)(\"div\",{id:\"svg_container\",className:\"App\"}),Object(Dt.jsx)(\"div\",{id:\"map_div_outer\",children:Object(Dt.jsx)(\"div\",{id:\"map_div\"})}),Object(Dt.jsxs)(\"div\",{id:\"footer\",children:[\"Data Sources - \",Object(Dt.jsx)(\"a\",{href:\"https://covid19.who.int/info/\",target:\"_blank\",children:\"WHO Daily cases and deaths by date, vaccination data\"}),\", \",Object(Dt.jsx)(\"a\",{href:\"https://github.com/owid/covid-19-data/tree/master/public/data/vaccinations\",target:\"_blank\",children:\"OWID vaccinations csv\"})]})]})},Rt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,134)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,c=e.getTTFB;a(t),n(t),i(t),r(t),c(t)}))};c.a.render(Object(Dt.jsx)(i.a.StrictMode,{children:Object(Dt.jsx)(Ut,{})}),document.getElementById(\"root\")),Rt()}},[[130,1,2]]]);","name":"static/js/main.88d2bf1b.chunk.js","map":{"version":3,"sources":["static/js/main.88d2bf1b.chunk.js"],"names":["this","push","119","module","exports","__webpack_require__","124","130","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","d3_src","src_Update","svg","options","data","moment","moment_default","colors","hdi_category","very-high","high","medium","low","inform_severity","no-score","blue","lightblue","lightnavy","red","green","ifrcgreen","black","lightgrey","darkgrey","white","olive","purple","orange","pink","c","regions","AP","AM","EU","ME","AF","src_colors","addCommas","nStr","x","split","x1","x2","length","rgx","test","replace","nFormatter","num","digits","arguments","undefined","lookup","value","symbol","rx","item","slice","reverse","find","toFixed","yScaleCases","yScaleDeaths","yScaleVaccines","yAxisCases","yAxisDeaths","yAxisVaccines","yScaleCasesAxis","yScaleDeathsAxis","yScaleVaccinesAxis","xScale","xAxis","xScaleAxis","xScaleEvents","Timechart_maxDate","Timechart_minDate","md","d3_textwrap","just_clone","just_clone_default","drawTimechart","minDate","maxDate","groupedData","who_data","forEach","d","i","timeline_frequency","date","week_start","month_start","ifrc_region","new_cases","new_deaths","cumulative_cases","cumulative_deaths","dd","ii","hasOwnProperty","total_new_cases","OTH","total_cumulative_cases","total_new_deaths","total_cumulative_deaths","region","vgroupedData","timeline_type","vaccines_data","vaccines_data_daily","new_vaccines","daily_vaccinations","cumulative_vaccines","total_new_vaccines","vaccines_data_cumulative","endOfWeekDate","endOf","startOf","unix","maxVDate","maxDateUnix","endOfMonthDate","total_vaccinations","total_cumulative_vaccines","filter","el","numIntervals","maxCases","maxDeaths","maxVaccines","toDate","Date","add","selectAll","remove","append","attr","barWidth","barSpacing","range","domain","scale","tickSize","tickPadding","ticks","tickFormat","yAxisGroup","xAxisCases","call","xAxisDeaths","xAxisVaccines","xAxisTimeline","barGroups","enter","totalNewCases","parentNode","datum","dp","y","totalNewDeaths","next","offset","vbarGroups","totalNewVaccines","tData","timeline_data","document","getElementById","appendChild","node","timelineTooltip","eventTooltip","hoverBar","on","event","coords","xDate","invert","getTime","style","tooltipStr","format","text","groupedDataFiltered","vgroupedDataFiltered","deaths","cases","vaccines","ratio","brushR","brushL","events","subtract","select","wrap","Object","bounds","height","width","method","description","bbox","getBBox","ys","parseInt","circles","brush","extent","parseFloat","viewBoxW","Math","round","brushScale","viewBoxX","gBrush","move","updateTimechart","transition","duration","Regionchart_maxCases","Regionchart_maxDeaths","maxVaccinations","xScaleCases","xScaleDeaths","xScaleVaccines","labelWidth","rcSize","Regionchart_regions","margin","Regionchart_groupedData","drawRegionchart","vGroup","sort","a","b","region_chart_toggle","regionChartContainer","rowHeight","rows","cumulative_totals","label","t","val","updateRegionchart","vacGrouped","id","isNaN","tween","end","floor","random","tippy_esm","selectedToggle","unselectedToggle","unselectedToggleText","selectedToggleText","src_Layout","updateTable","updateMap","bd","region_filter","map_toggle","content","placement","theme","arrow","delay","toggle","hdi_filter","inform_filter","tab_toggle","timechartContainer","tcSize","timechartSvg","layer1","_loop","thisId","table_sort","table_sort_direction","page","collection","idx","indexOf","splice","Bubblechart_xScale","yScale","zScale","maxX","maxY","maxZ","drawBubblechart","equity_data","gni_2017","bubble_chart_y_axis","population","nice","join","people_vaccinated_per_hundred","people_fully_vaccinated_per_hundred","vaccine_acceptance_percent","bubble_chart_color_by","update","exit","country_name","toElement","updateBubblechart","country_iso3","total_vaccinations_per_hundred","Options","country_filter","numPages","toConsumableArray","map","src_ParseData","vaccines_used","number_vaccine_types_used","vaccines_per_100","vaccines_who_data","ISO3","data_updated","DATE_UPDATED","NUMBER_VACCINES_TYPES_USED","TOTAL_VACCINATIONS_PER100","VACCINES_USED","trim","ns_involvement","self_assessment","vaccine_acceptance","iso3","country_code","country_iso2","indicator_value","vaccine_acceptance_population","population_size","contract_tracing","toLowerCase","avg_tests_per_1000","Date_reported","minDateVaccines","maxDateVaccines","maxDataDate","maxVDataDate","dayTotal","dayCheck","weekTotal","weekCheck","monthTotal","monthCheck","countryCodes","ccArray","dayOfYear","week","isoWeek","month","getMonth","year","getFullYear","New_cases","New_deaths","Cumulative_deaths","Cumulative_cases","Country_code","includes","Country","WHO_region","iso_code","vDataFlat","_vGroup$i$","minDt","maxDt","hasDays","newDays","lastDate","day","setDate","getDate","newDay","apply","totalVac","totalVac100","countryName","_vGroup$i$2","match","original","jquery","jquery_default","mapbox_gl","mapbox_gl_default","accessToken","mapTooltip","createMap","setCenter","setZoom","Map","container","center","zoom","setRenderWorldCopies","addControl","NavigationControl","getCanvasContainer","e","setPaintProperty","Map_updateMap","setLayoutProperty","country","percent_change","colorScale","fillColorArray","maxValue","peoplevaccinated","features","queryRenderedFeatures","point","layer","properties","iso","countryfiltered","str","abs","window","innerWidth","jsx_runtime","equityDataUrl","layoutUrl","whoDataUrl","worldUrl","vaccinesDataUrl","vaccinesWhoDataUrl","timelineDataUrl","keyFiguresDataUrl","selfAssessmentDataUrl","vaccineAcceptanceDataUrl","App_data","regionOptions","countryOptions","parse","p","src_App","_useState","_useState2","progress","setProgress","_useState3","_useState4","loaderText","setLoaderText","_init","mark","_callee","_context","prev","then","documentElement","createSelects","key_figures","world","createCharts","stop","updateTotals","hdi_countries","inform_countries","code","substring","countryIds","mergeFilter","concat","trigger","values","select2","hide","css","show","handleSelectLength","totalCases","totalDeaths","numCountriesFiltered","countries","totalVaccines","cases4weeksAgo","cases2WeeksAgo","cases1WeeksAgo","casesLatest","percentChange","isFinite","hdiData","hdiDataPopulation","hdiDataVaccines","hdiContactTracing","hdiTotalCasesData","hdiTestingData","informData","informDataPopulation","informDataVaccines","informContactTracing","informTotalCasesData","informTestingData","vaccine_types","vaccinesper100","vaccineper100byPop","total_population","vaccine_population","numNsInvolvedCountres","vaccineAcceptance","accept_population","ddd","dat","lastRecord","vaccineAcceptancePercent","vaccinePer100ByCountry","vtooltipbbox","newCases","totalHdiPop","totalInformPop","maxhdivac","maxinformvac","maxhditest","maxinformtest","textTween","_x","_x2","_updateTable","_callee2","sortKey","timer","k","dayFormat","_context2","some","localeCompare","ceil","ms","Promise","res","setTimeout","abrupt","name","children","placeholder","scrollAfterSelect","renderTemplate","dropdownParent","shouldFocusInput","templateResult","removeData","preventDefault","params","minimumResultsForSearch","init","className","multiple","defaultValue","href","target","src_reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode"],"mappings":"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"},"input":"(this[\"webpackJsonpifrc-covid-dataviz\"] = this[\"webpackJsonpifrc-covid-dataviz\"] || []).push([[0],{\n\n/***/ 119:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 130:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(35);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(119);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(5);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/d3/src/index.js + 201 modules\nvar d3_src = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/Update.js\nfunction Update(svg,options,data){}/* harmony default export */ var src_Update = (Update);\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(1);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ./src/colors.js\n// default options\nvar colors={hdi_category:{'very-high':'#D8EF8B','high':'#FDE08B','medium':'#FB8D59','low':'#D63127'},inform_severity:{'very-high':'#D63127','high':'#FB8D59','medium':'#FDE08B','low':'#D8EF8B','no-score':'#DAE0EA'},blue:'#1F558C',lightblue:'#62D7F7',lightnavy:'#799EAD',// red: '#E02225',\nred:'#EE3224',green:'#D8EF8B',ifrcgreen:'#87C400',black:'#595454',lightgrey:'#e8e8e8',darkgrey:'#c1c1c1',white:'#fff',olive:'#87C400',purple:'#771966',orange:'#FF3500',pink:'#FB0080'};// option 1\nvar c=['#00ADED','#003A5A','#62D7F7','#799EAD','#BCCED6'];// option 2\nvar c=['#00ADED','#003A5A','#62D7F7','#799EAD','#FFDD00'];var c=['#00ADED','#62D7F7','#003A5A','#799EAD','#FFDD00'];// option 3\n// var c = ['#BD8FB3','#75AACD','#006C73','#70B7B9','#F9D27D']\ncolors.regions={'AP':colors.orange,'AM':colors.lightblue,'EU':colors.ifrcgreen,'ME':'#0A3248','AF':'#FCD204'};colors.regions={'AP':c[1],'AM':c[0],'EU':c[2],'ME':c[3],'AF':c[4]};/* harmony default export */ var src_colors = (colors);\n// CONCATENATED MODULE: ./src/HelperFunctions.js\nfunction addCommas(nStr){nStr+='';var x=nStr.split('.');var x1=x[0];var x2=x.length>1?'.'+x[1]:'';var rgx=/(\\d+)(\\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1'+','+'$2');}return x1+x2;}function nFormatter(num){var digits=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var lookup=[{value:1,symbol:\"\"},{value:1e3,symbol:\"k\"},{value:1e6,symbol:\"M\"},{value:1e9,symbol:\"B\"},{value:1e12,symbol:\"T\"},{value:1e15,symbol:\"P\"},{value:1e18,symbol:\"E\"}];var rx=/\\.0+$|(\\.[0-9]*[1-9])0+$/;var item=lookup.slice().reverse().find(function(item){return num>=item.value;});return item?(num/item.value).toFixed(digits).replace(rx,\"$1\")+item.symbol:\"0\";}\n// EXTERNAL MODULE: ./node_modules/d3-textwrap/build/d3-textwrap.js\nvar d3_textwrap = __webpack_require__(36);\n\n// EXTERNAL MODULE: ./node_modules/just-clone/index.js\nvar just_clone = __webpack_require__(12);\nvar just_clone_default = /*#__PURE__*/__webpack_require__.n(just_clone);\n\n// CONCATENATED MODULE: ./src/Timechart.js\nvar yScaleCases;var yScaleDeaths;var yScaleVaccines;var yAxisCases;var yAxisDeaths;var yAxisVaccines;var yScaleCasesAxis;var yScaleDeathsAxis;var yScaleVaccinesAxis;var xScale;var xAxis;var xScaleAxis;var xScaleEvents;var Timechart_maxDate;var Timechart_minDate;var md;var regions=['AF','ME','AP','EU','AM','OTH'];function drawTimechart(data,options){Timechart_minDate=options.minDate;Timechart_maxDate=options.maxDate;var groupedData=[];data.who_data.forEach(function(d,i){if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')groupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')groupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')groupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases+=d.new_cases;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths+=d.new_deaths;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases=0;});// totals by date\ngroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d.hasOwnProperty(dd)){d[dd]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};}// if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\nif(i>0){d[dd].cumulative_cases=groupedData[i][dd].new_cases+groupedData[i-1][dd].cumulative_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths+groupedData[i-1][dd].cumulative_deaths;}else{d[dd].cumulative_cases=groupedData[i][dd].new_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths;}});d.total_new_cases=d.AF.new_cases+d.AP.new_cases+d.AM.new_cases+d.EU.new_cases+d.ME.new_cases+d.OTH.new_cases;d.total_cumulative_cases=d.AF.cumulative_cases+d.AP.cumulative_cases+d.AM.cumulative_cases+d.EU.cumulative_cases+d.ME.cumulative_cases+d.OTH.cumulative_cases;d.total_new_deaths=d.AF.new_deaths+d.AP.new_deaths+d.AM.new_deaths+d.EU.new_deaths+d.ME.new_deaths+d.OTH.new_deaths;d.total_cumulative_deaths=d.AF.cumulative_deaths+d.AP.cumulative_deaths+d.AM.cumulative_deaths+d.EU.cumulative_deaths+d.ME.cumulative_deaths+d.OTH.cumulative_deaths;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_cases':d[dd].new_cases,'new_deaths':d[dd].new_deaths,'cumulative_cases':d[dd].cumulative_cases,'cumulative_deaths':d[dd].cumulative_deaths});});});var vgroupedData=[];if(options.timeline_type!='cumulative'){// cumulative and stacked\ndata.vaccines_data=data.vaccines_data_daily;data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines+=d.daily_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={new_vaccines:0,cumulative_vaccines:0};}});d.total_new_vaccines=d.AF.new_vaccines+d.AP.new_vaccines+d.AM.new_vaccines+d.EU.new_vaccines+d.ME.new_vaccines+d.OTH.new_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_vaccines':d[dd].new_vaccines});});});}else{// cumulative only\ndata.vaccines_data=[];if(options.timeline_frequency==='day'){data.vaccines_data=just_clone_default()(data.vaccines_data_cumulative);}if(options.timeline_frequency==='week'){data.vaccines_data_cumulative.forEach(function(d,i){var endOfWeekDate=moment_default()(d.date).endOf('isoWeek').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfWeekDate||date==moment_default()(options.maxVDate).startOf('day').unix()){data.vaccines_data.push(d);}});}if(options.timeline_frequency==='month'){var maxDateUnix=moment_default()(options.maxVDate).startOf('day').unix();data.vaccines_data_cumulative.forEach(function(d,i){var endOfMonthDate=moment_default()(d.date).endOf('month').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfMonthDate||moment_default()(options.maxVDate).startOf('day').unix()!=endOfMonthDate&&date==maxDateUnix){data.vaccines_data.push(d);}});}data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={cumulative_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines+=d.total_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={cumulative_vaccines:0};}});d.total_cumulative_vaccines=d.AF.cumulative_vaccines+d.AP.cumulative_vaccines+d.AM.cumulative_vaccines+d.EU.cumulative_vaccines+d.ME.cumulative_vaccines+d.OTH.cumulative_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'cumulative_vaccines':d[dd].cumulative_vaccines});});});}vgroupedData=vgroupedData.filter(function(el){return el;});var numIntervals=d3_src[\"i\" /* max */](data.who_data,function(d,i){return d[options.timeline_frequency+'Total'];});var maxCases=d3_src[\"i\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_cases;if(options.timeline_type==='cumulative')return d.total_cumulative_cases;if(options.timeline_type==='stacked')return 100;});var maxDeaths=d3_src[\"i\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_deaths;if(options.timeline_type==='cumulative')return d.total_cumulative_deaths;if(options.timeline_type==='stacked')return 100;});var maxVaccines=d3_src[\"i\" /* max */](vgroupedData,function(d,i){if(d){if(options.timeline_type==='non-cumulative')return d.total_new_vaccines;if(options.timeline_type==='cumulative')return d.total_cumulative_vaccines;if(options.timeline_type==='stacked')return 100;}});// define date range\n// const minDate = groupedData[0].date;\n// const maxDate = groupedData[numIntervals].date;\n// const minDate = groupedData[0].date;\n// if(options.timeline_frequency==='month') md = md.add(1, 'months');\n// if(options.timeline_frequency==='week') md = md.add(1, 'weeks');\nif(options.timeline_frequency==='month')Timechart_minDate=moment_default()(Timechart_minDate).startOf('month').startOf('day').toDate();if(options.timeline_frequency==='month')Timechart_maxDate=moment_default()(Timechart_maxDate).endOf('month').startOf('day').toDate();if(options.timeline_frequency==='week')Timechart_maxDate=moment_default()(Timechart_maxDate).endOf('isoWeek').startOf('day').toDate();md=moment_default()(Timechart_maxDate);if(options.timeline_frequency==='day')md=new Date(moment_default()(Timechart_maxDate).add(1,'days').toDate());var svg=d3_src[\"p\" /* select */]('#timechart_svg');svg.selectAll('g').remove();d3_src[\"q\" /* selectAll */]('#layout .yAxis').remove();d3_src[\"q\" /* selectAll */]('#yAxis').remove();d3_src[\"q\" /* selectAll */]('#layout .xAxis').remove();//bg\nsvg.append('g').append('rect').attr('width',2000).attr('height','100%').attr('x',0).attr('y',0).attr('fill','#FFF').attr('opacity',0);var width=2000;var barWidth=width/numIntervals;var barSpacing=0.04;if(options.timeline_frequency==='month')barSpacing=0.03;if(options.timeline_frequency==='day')barSpacing=0;// define scales\nxScale=d3_src[\"o\" /* scaleTime */]().range([0,width]).domain([Timechart_minDate,md]);xScaleAxis=d3_src[\"o\" /* scaleTime */]().range([0,596]).domain([Timechart_minDate,md]);yScaleCases=d3_src[\"m\" /* scaleLinear */]().range([0,140]).domain([0,maxCases]);yScaleCasesAxis=d3_src[\"m\" /* scaleLinear */]().range([140,0]).domain([0,maxCases]);yScaleDeaths=d3_src[\"m\" /* scaleLinear */]().range([0,140]).domain([0,maxDeaths]);yScaleDeathsAxis=d3_src[\"m\" /* scaleLinear */]().range([140,0]).domain([0,maxDeaths]);yScaleVaccines=d3_src[\"m\" /* scaleLinear */]().range([0,140]).domain([0,maxVaccines]);yScaleVaccinesAxis=d3_src[\"m\" /* scaleLinear */]().range([140,0]).domain([0,maxVaccines]);// define axi\nxAxis=d3_src[\"a\" /* axisBottom */]().scale(xScaleAxis).tickSize(2).tickPadding(3);// if(options.timeline_frequency=='month')\n// xAxis.ticks(d3.timeMonth.every(3)).tickFormat(d3.timeFormat(\"%b %Y\"));\n// if(options.timeline_frequency=='week')\n// xAxis.ticks(d3.timeWeek.every(10)).tickFormat(d3.timeFormat(\"%d %b %Y\"));\nyAxisCases=d3_src[\"c\" /* axisRight */]().scale(yScaleCasesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisDeaths=d3_src[\"c\" /* axisRight */]().scale(yScaleDeathsAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisVaccines=d3_src[\"c\" /* axisRight */]().scale(yScaleVaccinesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});// y-axis cases\nvar yAxisGroup=d3_src[\"p\" /* select */]('#layout').append(\"g\").attr('id','yAxis').attr('clip-path','url(#mask)');var yAxisCasesText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"casesAxis\").attr('transform','translate(620,363)').call(yAxisCases);// y-axis deaths\nvar yAxisDeathsText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"deathsAxis\").attr('transform','translate(620,534)').call(yAxisDeaths);// y-axis vaccines\nvar yAxisVaccinesText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"VaccinesAxis\").attr('transform','translate(620,707.5)').call(yAxisVaccines);// x-axis cases\nvar xAxisCases=yAxisGroup.append('g').attr(\"id\",\"casesXAxis\").attr('class','xAxis').attr('transform','translate(24,504)').call(xAxis);var xAxisDeaths=yAxisGroup.append('g').attr(\"id\",\"deathsXAxis\").attr('class','xAxis').attr('transform','translate(24,674)').call(xAxis);var xAxisVaccines=yAxisGroup.append('g').attr(\"id\",\"vaccinesXAxis\").attr('class','xAxis').attr('transform','translate(24,848)').call(xAxis);var xAxisTimeline=yAxisGroup.append('g').attr(\"id\",\"timelineXAxis\").attr('class','xAxis').attr('transform','translate(24,908)').call(xAxis);// CASES\n// loop through groupedData and draw bars\nvar barGroups=svg.selectAll('.bar_group').data(groupedData).enter().append('g').attr('class','bar_group').attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+')';});// CASES\nbarGroups.selectAll('.cases_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class',function(d,i){return'timeBar cases_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewCases=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_cases;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].cumulative_cases;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_cases;if(options.timeline_type==='stacked')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_cases;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleCases(d.cumulative_cases)-yScaleCases(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleCases(d.new_cases)-yScaleCases(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_cases/totalNewCases)-140*(dp/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewCases=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_cases;var y=0;if(options.timeline_type==='cumulative')y=yScaleCases(d.cumulative_cases);if(options.timeline_type==='non-cumulative')y=yScaleCases(d.new_cases);if(options.timeline_type==='stacked')y=140*(d.new_cases/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});// DEATHS\nbarGroups.selectAll('.deaths_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class',function(d,i){return'timeBar deaths_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewDeaths=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_deaths;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].cumulative_deaths;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;if(options.timeline_type==='stacked')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleDeaths(d.cumulative_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='non-cumulative')y=140-yScaleDeaths(d.new_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='stacked')y=140-140*(d.new_deaths/totalNewDeaths)-140*(dp/totalNewDeaths)+170;if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewDeaths=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_deaths;var y=0;if(options.timeline_type==='cumulative')y=yScaleDeaths(d.cumulative_deaths);if(options.timeline_type==='non-cumulative')y=yScaleDeaths(d.new_deaths);if(options.timeline_type==='stacked')y=140*(d.new_deaths/totalNewDeaths);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});// bar size tweak for spacing\nif(options.timeline_frequency==='month'){barGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=d3_src[\"p\" /* select */](this.parentNode).datum().date;var next=d3_src[\"t\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=d3_src[\"p\" /* select */](this.parentNode).datum().date;var next=d3_src[\"t\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}// VACCINES\nvar vbarGroups=svg.selectAll('.vbar_group').data(vgroupedData).enter().append('g').attr('class','vbar_group').attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+', 344)';});vbarGroups.selectAll('.vaccines_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class','timeBar vaccines_bar').attr('class',function(d,i){return'timeBar vaccines_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewVaccines=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_vaccines;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].cumulative_vaccines;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;if(options.timeline_type==='stacked')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleVaccines(d.cumulative_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleVaccines(d.new_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_vaccines/totalNewVaccines)-140*(dp/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewVaccines=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_vaccines;var y=0;if(options.timeline_type==='cumulative')y=yScaleVaccines(d.cumulative_vaccines);if(options.timeline_type==='non-cumulative')y=yScaleVaccines(d.new_vaccines);if(options.timeline_type==='stacked')y=140*(d.new_vaccines/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});if(options.timeline_frequency==='month'){vbarGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=d3_src[\"p\" /* select */](this.parentNode).datum().date;var next=d3_src[\"t\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=d3_src[\"p\" /* select */](this.parentNode).datum().date;var next=d3_src[\"t\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}// bar size tweak for spacing\nif(options.timeline_frequency==='month'){barGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=d3_src[\"p\" /* select */](this.parentNode).datum().date;var next=d3_src[\"t\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=d3_src[\"p\" /* select */](this.parentNode).datum().date;var next=d3_src[\"t\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}data.vgroupedData=vgroupedData;data.groupedData=groupedData;// tooltips\n// events calendar timeline\nvar tData=data.timeline_data;xScaleEvents=d3_src[\"o\" /* scaleTime */]().range([25,619]).domain([Timechart_minDate,md]);// bring to front\ndocument.getElementById(\"svg\").appendChild(d3_src[\"p\" /* select */]('#timeline_tooltip').node());document.getElementById(\"svg\").appendChild(d3_src[\"p\" /* select */]('#event_tooltip').node());var timelineTooltip=d3_src[\"p\" /* select */]('#timeline_tooltip').attr('opacity',0);var eventTooltip=d3_src[\"p\" /* select */]('#event_tooltip').attr('opacity',0);// hover bar\nvar hoverBar=svg.append('rect').attr('id','timechart_hover').attr('width',barWidth).attr('x',0).attr('y',0).attr('opacity',0).attr('height','100%').attr('fill','rgb(221 221 221 / 40%)');d3_src[\"p\" /* select */]('#timechart_svg').on('mouseover',function(event){var coords=d3_src[\"l\" /* pointer */](event);hoverBar.attr('opacity',1);var xDate=xScale.invert(coords[0]);if(options.timeline_frequency=='week'){xDate=moment_default()(xDate).startOf('isoWeek');}if(options.timeline_frequency=='day'){xDate=moment_default()(xDate).startOf('day');}if(options.timeline_frequency=='month'){xDate=moment_default()(xDate).startOf('month');}if(coords[1]<470){timelineTooltip.attr('opacity',1).attr('display','inline');hoverBar.attr('height','100%');}else if(coords[1]>510){eventTooltip.attr('opacity',1);hoverBar.attr('height','90%');}else{eventTooltip.attr('opacity',0);timelineTooltip.attr('opacity',0);hoverBar.attr('height','100%');}if(xDate.toDate().getTime()<Timechart_minDate.getTime()){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0);}d3_src[\"p\" /* select */]('#svg_container').style('z-index',10);}).on('mouseout',function(event){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0).attr('display','none');// timelineTooltip.attr('opacity', 0).attr('transform', 'translate(0,0)');\nd3_src[\"p\" /* select */]('#svg_container').style('z-index',1);eventTooltip.attr('opacity',0).attr('transform','translate(0,0)');d3_src[\"q\" /* selectAll */]('.event_marker circle').style('stroke',src_colors.black);}).on('mousemove',function(event){var coords=d3_src[\"l\" /* pointer */](event);var xDate=xScale.invert(coords[0]);var tooltipStr='';if(options.timeline_frequency=='week'){xDate=moment_default()(xDate).startOf('isoWeek');tooltipStr=xDate.format('ll');d3_src[\"p\" /* select */]('#timeline_tooltip_date tspan').text(tooltipStr);}if(options.timeline_frequency=='day'){xDate=moment_default()(xDate).startOf('day');tooltipStr=xDate.format('ll');d3_src[\"p\" /* select */]('#timeline_tooltip_date tspan').text(tooltipStr);}if(options.timeline_frequency=='month'){xDate=moment_default()(xDate).startOf('month');tooltipStr=xDate.format('MMMM YYYY');d3_src[\"p\" /* select */]('#timeline_tooltip_date tspan').text(tooltipStr);}hoverBar.attr('x',xScale(xDate.toDate()));var groupedDataFiltered=data.groupedData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()==xDate.startOf('day').unix();});var vgroupedDataFiltered=data.vgroupedData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()==xDate.startOf('day').unix();});var deaths='-';var cases='-';var vaccines='-';if(options.timeline_type=='cumulative'){// cumulative\nif(groupedDataFiltered[0])cases=nFormatter(groupedDataFiltered[0].total_cumulative_cases,2);if(groupedDataFiltered[0])deaths=nFormatter(groupedDataFiltered[0].total_cumulative_deaths,2);if(vgroupedDataFiltered[0])vaccines=nFormatter(vgroupedDataFiltered[0].total_cumulative_vaccines,2);}else{// non-cumulative/stacked\nif(groupedDataFiltered[0])cases=nFormatter(groupedDataFiltered[0].total_new_cases,2);if(groupedDataFiltered[0])deaths=nFormatter(groupedDataFiltered[0].total_new_deaths,2);if(vgroupedDataFiltered[0])vaccines=nFormatter(vgroupedDataFiltered[0].total_new_vaccines,2);}d3_src[\"p\" /* select */]('#tooltip_cases tspan').text(cases).attr(\"text-anchor\",\"end\").attr('dx',32);d3_src[\"p\" /* select */]('#tooltip_deaths tspan').text(deaths).attr(\"text-anchor\",\"end\").attr('dx',32);d3_src[\"p\" /* select */]('#tooltip_vaccines tspan').text(vaccines).attr(\"text-anchor\",\"end\").attr('dx',32);// if((xDate.toDate().getTime()>options.maxDate.getTime())){\n//     hoverBar.attr('opacity', 0);\n// // } else \nif(xDate.toDate().getTime()<Timechart_minDate.getTime()&&options.timeline_frequency=='day'){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0);}if(options.timeline_frequency=='month'){hoverBar.attr('width',function(){return xScale(moment_default()(xDate).endOf('month'))-xScale(moment_default()(xDate).startOf('month'));});}timelineTooltip.attr('transform',function(){var bw=barWidth;var ratio=(options.brushR-options.brushL)/600;var offset=0;if(ratio<0.5)offset=3;if(ratio<0.3)offset=12;if(ratio<0.2)offset=20;if(ratio<0.15)offset=21;if(options.timeline_frequency=='month'){if(ratio<0.6)offset=20;if(ratio<0.5)offset=30;if(ratio<0.3)offset=50;if(ratio<0.2)offset=60;if(ratio<0.1)offset=70;return'translate('+(xScaleEvents(xDate.toDate())+barWidth/3+offset)+','+(coords[1]+353)+')';}return'translate('+(xScaleEvents(xDate.toDate())+18+offset)+','+(coords[1]+353)+')';});if(coords[1]<470){timelineTooltip.attr('opacity',1);hoverBar.attr('opacity',1);hoverBar.attr('height','100%');}else if(coords[1]>510){eventTooltip.attr('opacity',1);hoverBar.attr('height','90%');var x=moment_default()(xScale.invert(coords[0])).startOf('day');var xx=xScale.invert(coords[0]);eventTooltip.attr('transform',function(){return'translate('+(xScaleEvents(x.toDate())+-3)+','+817+')';});var events=tData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()==x.unix();});// select nearest neighbor for ux purposes \nif(events.length==0){events=tData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()<=moment_default()(x).add(1,'days').unix()&&moment_default()(d.date).startOf('day').unix()>=moment_default()(x).subtract(1,'days').unix();});}if(events.length>0){d3_src[\"p\" /* select */]('#event-'+moment_default()(events[0].date).startOf('day').unix()).select('path').style('stroke','#000').attr('opacity',1);tooltipStr=moment_default()(events[0].date).startOf('day').format('ll');d3_src[\"p\" /* select */]('#event_tooltip_date tspan').text(tooltipStr);var wrap=Object(d3_textwrap[\"textwrap\"])().bounds({height:200,width:230}).method('tspans');var event=d3_src[\"p\" /* select */]('#event_tooltip_text').text(events[0].description).attr('y',18).attr('x',6);d3_src[\"p\" /* select */]('#event_tooltip_text').call(wrap);d3_src[\"q\" /* selectAll */]('#event_tooltip_text tspan').attr('dy','1.3em');var bbox=d3_src[\"p\" /* select */]('#event_tooltip_text').node().getBBox();d3_src[\"p\" /* select */]('#event_tooltip_rect').attr('width',bbox.width+17).attr('height',bbox.height+26);var h=d3_src[\"p\" /* select */]('#event_tooltip_rect').attr('height');var ys=0;if(bbox.height<20){ys=19;}else if(bbox.height<30){ys=9;}else if(bbox.height<40){ys=0;}else if(bbox.height<50){ys=-20;}else if(bbox.height<60){ys=-20;}var y=d3_src[\"p\" /* select */]('#event_tooltip_rect').attr('y');d3_src[\"p\" /* select */]('#event_tooltip_rect').attr('y',ys);d3_src[\"q\" /* selectAll */]('#event_tooltip_text').attr('y',function(d,i){return parseInt(d3_src[\"p\" /* select */](this).attr('y'))+ys;});d3_src[\"q\" /* selectAll */]('#event_tooltip_date tspan').attr('dy',function(d,i){return ys;});eventTooltip.attr('opacity',1);}else{d3_src[\"q\" /* selectAll */]('.event_marker circle').style('stroke',src_colors.black);eventTooltip.attr('opacity',0);}}else{eventTooltip.attr('opacity',0);timelineTooltip.attr('opacity',0);hoverBar.attr('opacity',0);hoverBar.attr('height','100%');}if(options.timeline_frequency=='day'&&xDate.toDate().getTime()<Timechart_minDate.getTime()){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0);return false;}});tData=tData.filter(function(d){return d.date.length>0;});// event lin\nyAxisGroup.append('line').attr('id','event-line').attr('x1',0).attr('x2',620).attr('y1',893).attr('y2',893).attr('stroke-width',2.5).attr('stroke',src_colors.black);var circles=yAxisGroup.append('g').selectAll('.event_marker').data(tData).enter().append('g').attr('class','event_marker').attr('id',function(d,i){return'event-'+moment_default()(d.date).startOf('day').unix();}).attr('transform',function(d){var x=xScaleEvents(new Date(d.date));return'translate('+x+', 893)';}).style('cursor','pointer');// .append('path')\n// .attr('d', \"M0,-6L4,0 0,6 -4,0Z\")\ncircles.append(\"circle\").style('stroke',src_colors.black).attr('opacity',1).attr('r',6.5).attr('cx',0).attr('cy',0).style('stroke-width',2.2).style('fill','white');circles.append(\"circle\").attr('r',2).attr('cx',0).attr('cy',0).attr('fill',src_colors.black).style('stroke',src_colors.black);// create brush zoom\n// reset\n// options.brushL = 0;\n// options.brushR = 600;\nvar brush=d3_src[\"d\" /* brushX */]().extent([[0,0],[600,20]]).on(\"start brush end\",brushed);d3_src[\"p\" /* select */]('.brush').remove();;var gBrush=d3_src[\"p\" /* select */]('#zoombar').append(\"g\").attr(\"class\",\"brush\").attr('opacity',0.1).call(brush);d3_src[\"q\" /* selectAll */]('.handle rect').attr('fill-opacity','1').style('visibility','visible').attr('width',2).attr('fill','#000').style('stroke-opacity',0);var brushScale=d3_src[\"m\" /* scaleLinear */]().domain([-3,597]).range([0,2000]);gBrush.call(brush.move,[options.brushL,options.brushR]);function brushed(){var x=parseFloat(d3_src[\"p\" /* select */]('.handle--w').attr('x'));var x2=parseFloat(d3_src[\"p\" /* select */]('.handle--e').attr('x'));if(x2-x<40)return false;var w=d3_src[\"p\" /* select */]('.selection').attr('width');d3_src[\"p\" /* select */]('#zoomL').attr('transform','translate('+x+',0)');d3_src[\"p\" /* select */]('#zoomR').attr('transform','translate('+x2+',0)');d3_src[\"p\" /* select */]('#zoomOverlay').attr('width',x2-x);d3_src[\"p\" /* select */]('#zoomOverlay').attr('x',x);d3_src[\"p\" /* select */]('#zoomOverlay').attr('transform','translate(3,0)');var viewBoxW=Math.round(brushScale(x2)-brushScale(x));var viewBoxX=Math.round(brushScale(x));options.brushL=x+3;options.brushR=x2+3;xScaleAxis=d3_src[\"o\" /* scaleTime */]().range([0,596]).domain([new Date(xScale.invert(brushScale(x))),new Date(xScale.invert(brushScale(x2)))]);xScaleEvents=d3_src[\"o\" /* scaleTime */]().range([25,619])// .domain([minDate,md]);\n.domain([new Date(xScale.invert(brushScale(x))),new Date(xScale.invert(brushScale(x2)))]);d3_src[\"q\" /* selectAll */]('.event_marker').attr('transform',function(d){var x=xScaleEvents(new Date(d.date));return'translate('+x+', 893)';});xAxis=d3_src[\"a\" /* axisBottom */]().ticks(5).scale(xScaleAxis);xAxisCases.call(xAxis);xAxisDeaths.call(xAxis);xAxisVaccines.call(xAxis);xAxisTimeline.call(xAxis);d3_src[\"p\" /* select */]('#timechart_svg').attr('viewBox',viewBoxX+' 0 '+viewBoxW+' 553');}}function updateTimechart(data,options){var groupedData=[];data.who_data.forEach(function(d,i){if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')groupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')groupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')groupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases+=d.new_cases;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths+=d.new_deaths;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases=0;});// totals by date\ngroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d.hasOwnProperty(dd)){d[dd]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};}// if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\nif(i>0){d[dd].cumulative_cases=groupedData[i][dd].new_cases+groupedData[i-1][dd].cumulative_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths+groupedData[i-1][dd].cumulative_deaths;}else{d[dd].cumulative_cases=groupedData[i][dd].new_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths;}});d.total_new_cases=d.AF.new_cases+d.AP.new_cases+d.AM.new_cases+d.EU.new_cases+d.ME.new_cases+d.OTH.new_cases;d.total_cumulative_cases=d.AF.cumulative_cases+d.AP.cumulative_cases+d.AM.cumulative_cases+d.EU.cumulative_cases+d.ME.cumulative_cases+d.OTH.cumulative_cases;d.total_new_deaths=d.AF.new_deaths+d.AP.new_deaths+d.AM.new_deaths+d.EU.new_deaths+d.ME.new_deaths+d.OTH.new_deaths;d.total_cumulative_deaths=d.AF.cumulative_deaths+d.AP.cumulative_deaths+d.AM.cumulative_deaths+d.EU.cumulative_deaths+d.ME.cumulative_deaths+d.OTH.cumulative_deaths;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_cases':d[dd].new_cases,'new_deaths':d[dd].new_deaths,'cumulative_cases':d[dd].cumulative_cases,'cumulative_deaths':d[dd].cumulative_deaths});});});var vgroupedData=[];if(options.timeline_type!='cumulative'){// cumulative and stacked\ndata.vaccines_data=data.vaccines_data_daily;data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('isoWeek').toDate();if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('month').toDate();if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines+=d.daily_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={new_vaccines:0,cumulative_vaccines:0};}});d.total_new_vaccines=d.AF.new_vaccines+d.AP.new_vaccines+d.AM.new_vaccines+d.EU.new_vaccines+d.ME.new_vaccines+d.OTH.new_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_vaccines':d[dd].new_vaccines});});});}else{// cumulative only\ndata.vaccines_data=[];if(options.timeline_frequency==='day'){data.vaccines_data=just_clone_default()(data.vaccines_data_cumulative);}if(options.timeline_frequency==='week'){data.vaccines_data_cumulative.forEach(function(d,i){var endOfWeekDate=moment_default()(d.date).endOf('isoWeek').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfWeekDate||date==moment_default()(options.maxVDate).startOf('day').unix()){data.vaccines_data.push(d);}});}if(options.timeline_frequency==='month'){var maxDateUnix=moment_default()(options.maxVDate).startOf('day').unix();data.vaccines_data_cumulative.forEach(function(d,i){var endOfMonthDate=moment_default()(d.date).endOf('month').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfMonthDate||moment_default()(options.maxVDate).startOf('day').unix()!=endOfMonthDate&&date==maxDateUnix){data.vaccines_data.push(d);}});}data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('isoWeek').toDate();if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('month').toDate();if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={cumulative_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines+=d.total_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={cumulative_vaccines:0};}});d.total_cumulative_vaccines=d.AF.cumulative_vaccines+d.AP.cumulative_vaccines+d.AM.cumulative_vaccines+d.EU.cumulative_vaccines+d.ME.cumulative_vaccines+d.OTH.cumulative_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'cumulative_vaccines':d[dd].cumulative_vaccines});});});}vgroupedData=vgroupedData.filter(function(el){return el;});var numIntervals=d3_src[\"i\" /* max */](data.who_data,function(d,i){return d[options.timeline_frequency+'Total'];});var maxCases=d3_src[\"i\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_cases;if(options.timeline_type==='cumulative')return d.total_cumulative_cases;if(options.timeline_type==='stacked')return 100;});var maxDeaths=d3_src[\"i\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_deaths;if(options.timeline_type==='cumulative')return d.total_cumulative_deaths;if(options.timeline_type==='stacked')return 100;});var maxVaccines=d3_src[\"i\" /* max */](vgroupedData,function(d,i){if(d){if(options.timeline_type==='non-cumulative')return d.total_new_vaccines;if(options.timeline_type==='cumulative')return d.total_cumulative_vaccines;if(options.timeline_type==='stacked')return 100;}});var svg=d3_src[\"p\" /* select */]('#timechart_svg');var width=2000;var barWidth=width/numIntervals;var barSpacing=0.04;if(options.timeline_frequency==='month')barSpacing=0.03;if(options.timeline_frequency==='day')barSpacing=0;// define scales\n// xScale = d3.scaleTime()\n// .range([0,width])\n// .domain([minDate,md]);\n// xScaleAxis = d3.scaleTime()\n// .range([23,596])\n// .domain([minDate,md]);\nyScaleCases=d3_src[\"m\" /* scaleLinear */]().range([0,140]).domain([0,maxCases]);yScaleCasesAxis=d3_src[\"m\" /* scaleLinear */]().range([140,0]).domain([0,maxCases]);yScaleDeaths=d3_src[\"m\" /* scaleLinear */]().range([0,140]).domain([0,maxDeaths]);yScaleDeathsAxis=d3_src[\"m\" /* scaleLinear */]().range([140,0]).domain([0,maxDeaths]);yScaleVaccines=d3_src[\"m\" /* scaleLinear */]().range([0,140]).domain([0,maxVaccines]);yScaleVaccinesAxis=d3_src[\"m\" /* scaleLinear */]().range([140,0]).domain([0,maxVaccines]);// define axi\nyAxisCases=d3_src[\"c\" /* axisRight */]().scale(yScaleCasesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisDeaths=d3_src[\"c\" /* axisRight */]().scale(yScaleDeathsAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisVaccines=d3_src[\"c\" /* axisRight */]().scale(yScaleVaccinesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});// y-axis cases\nvar yAxisCasesText=d3_src[\"p\" /* select */]('#casesAxis').transition().duration(500).call(yAxisCases);// y-axis deaths\nvar yAxisDeathsText=d3_src[\"p\" /* select */]('#deathsAxis').transition().duration(500).call(yAxisDeaths);// y-axis vaccines\nvar yAxisVaccinesText=d3_src[\"p\" /* select */]('#VaccinesAxis').transition().duration(500).call(yAxisVaccines);// CASES\n// loop through groupedData and draw bars\nvar barGroups=svg.selectAll('.bar_group').data(groupedData).attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+')';});// CASES\nbarGroups.selectAll('.cases_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewCases=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_cases;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].cumulative_cases;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_cases;if(options.timeline_type==='stacked')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_cases;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleCases(d.cumulative_cases)-yScaleCases(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleCases(d.new_cases)-yScaleCases(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_cases/totalNewCases)-140*(dp/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewCases=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_cases;var y=0;if(options.timeline_type==='cumulative')y=yScaleCases(d.cumulative_cases);if(options.timeline_type==='non-cumulative')y=yScaleCases(d.new_cases);if(options.timeline_type==='stacked')y=140*(d.new_cases/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];return'blue';});// // DEATHS\nbarGroups.selectAll('.deaths_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewDeaths=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_deaths;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].cumulative_deaths;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;if(options.timeline_type==='stacked')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleDeaths(d.cumulative_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='non-cumulative')y=140-yScaleDeaths(d.new_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='stacked')y=140-140*(d.new_deaths/totalNewDeaths)-140*(dp/totalNewDeaths)+170;if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewDeaths=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_deaths;var y=0;if(options.timeline_type==='cumulative')y=yScaleDeaths(d.cumulative_deaths);if(options.timeline_type==='non-cumulative')y=yScaleDeaths(d.new_deaths);if(options.timeline_type==='stacked')y=140*(d.new_deaths/totalNewDeaths);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};});if(groupedData.length==0){d3_src[\"q\" /* selectAll */]('.cases_bar').transition().duration(500).attr('y',140).attr('height',0);d3_src[\"q\" /* selectAll */]('.deaths_bar').transition().duration(500).attr('y',140+170).attr('height',0);}// // VACCINES\nvar vbarGroups=svg.selectAll('.vbar_group').data(vgroupedData).attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+', 344)';});vbarGroups.selectAll('.vaccines_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewVaccines=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_vaccines;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].cumulative_vaccines;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;if(options.timeline_type==='stacked')dp+=d3_src[\"p\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleVaccines(d.cumulative_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleVaccines(d.new_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_vaccines/totalNewVaccines)-140*(dp/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewVaccines=d3_src[\"p\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"p\" /* select */](this.parentNode).datum().OTH.new_vaccines;var y=0;if(options.timeline_type==='cumulative')y=yScaleVaccines(d.cumulative_vaccines);if(options.timeline_type==='non-cumulative')y=yScaleVaccines(d.new_vaccines);if(options.timeline_type==='stacked')y=140*(d.new_vaccines/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};});if(vgroupedData.length==0){d3_src[\"q\" /* selectAll */]('.vaccines_bar').transition().duration(500).attr('y',140).attr('height',0);}// // bar size tweak for spacing\n// if(options.timeline_frequency==='month'){\n//     barGroups.selectAll(\".timeBar\")\n//     .attr(\"width\", function(d) {\n//         var date = d3.select(this.parentNode).datum().date;\n//         var next = d3.timeMonth.offset(date, 1);\n//         return (xScale(next)- xScale(date))*(1-barSpacing);\n//       })\n//     .attr(\"x\", function(d) {\n//         var date = d3.select(this.parentNode).datum().date;\n//         var next = d3.timeMonth.offset(date, 1);\n//         return (xScale(next)- xScale(date))*(barSpacing/2);\n//       })\n//     }\ndata.vgroupedData=vgroupedData;data.groupedData=groupedData;}/* harmony default export */ var Timechart = (drawTimechart);\n// CONCATENATED MODULE: ./src/Regionchart.js\nvar Regionchart_maxCases;var Regionchart_maxDeaths;var maxVaccinations;var xScaleCases;var xScaleDeaths;var xScaleVaccines;var labelWidth;var Regionchart_regions=['AF','ME','AP','EU','AM','OTH'];var margin={left:20,top:0,right:58};var rcSize;var Regionchart_groupedData=[];function drawRegionchart(data,options,filter){Regionchart_groupedData=[];var barSpacing=0.1;Regionchart_regions.forEach(function(d,i){// if(d!='OTH') // remove OTH\nRegionchart_groupedData.push({region:d,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0});});data.who_data.forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region){// remove OTH\nRegionchart_groupedData[ii].cumulative_cases+=d.new_cases;Regionchart_groupedData[ii].cumulative_deaths+=d.new_deaths;}});});Regionchart_maxCases=d3_src[\"i\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_cases;});Regionchart_maxDeaths=d3_src[\"i\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_deaths;});// vaccinations max date records\nvar vGroup=d3_src[\"f\" /* flatGroup */](data.vaccines_data_cumulative,function(d){return d.date;});var vacGrouped=vGroup[vGroup.length-1];var vData=[];vacGrouped[1].forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region&&dd!='OTH'){// remove OTH\nRegionchart_groupedData[ii].cumulative_vaccines+=d.total_vaccinations;}});});Regionchart_groupedData.sort(function(a,b){if(options.region_chart_toggle=='cases')return b.cumulative_cases-a.cumulative_cases;if(options.region_chart_toggle=='deaths')return b.cumulative_deaths-a.cumulative_deaths;if(options.region_chart_toggle=='vaccines')return b.cumulative_vaccines-a.cumulative_vaccines;});maxVaccinations=d3_src[\"i\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_vaccines;});// append region chart containerg\nvar regionChartContainer=d3_src[\"p\" /* select */]('#layout #region_chart_container').attr('opacity',0);rcSize={x:regionChartContainer.attr('x'),y:regionChartContainer.attr('y'),width:regionChartContainer.attr('width'),height:regionChartContainer.attr('height')};var svg=d3_src[\"p\" /* select */]('#layout').append('g').attr('transform','translate('+rcSize.x+', '+rcSize.y+')').attr('id','region_chart');var rowHeight=rcSize.height/(Regionchart_groupedData.length-1);// remove OTH\nvar rows=svg.selectAll('.bar-row').data(Regionchart_groupedData.filter(function(d){return d.region!=='OTH';})).enter().append('g').attr('class','bar-row').attr('transform',function(d,i){return'translate(0,'+(i*rowHeight+margin.top)+')';});data.cumulative_totals=Regionchart_groupedData;var label=rows.append('text').attr('y',rowHeight/2).attr('x',margin.left-5).attr('class',function(d,i){return'bar-labels bar-label-'+d.region;}).style('alignment-baseline','middle').style('font-size','11px').attr('opacity',1).attr('fill','#000').text(function(d,i){if(d.region==='AM')return'Americas';if(d.region==='EU')return'Europe';if(d.region==='AF')return'Africa';if(d.region==='ME')return'Middle East and North Africa';if(d.region==='AP')return'Asia-Pacific';}).style('text-anchor','end');labelWidth=rows.node().getBBox().width+margin.left;label.attr('x',labelWidth+89);labelWidth=labelWidth+94;d3_src[\"q\" /* selectAll */]('.timeBar').attr('opacity',1);var rowBg=rows.append('rect').attr('y',0).attr('x',0).attr('width',labelWidth).attr('height',rowHeight-2).style('opacity',0).attr('fill','grey').style('cursor','pointer').attr('class',function(d,i){return'bar-bg-'+d.region;}).attr('data-id',function(d,i){return d.region;}).on('mouseover',function(d){d3_src[\"p\" /* select */](this).style('opacity',0.1);// var dat = d3.select(this.parentNode).datum();\n// d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n// d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n}).on('mouseout',function(){d3_src[\"p\" /* select */](this).style('opacity',0);// d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n}).on('click',function(d,i){var t=d3_src[\"p\" /* select */](this).attr('data-id');filter([t],'regionchart');});xScaleCases=d3_src[\"m\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxCases]);// severity/reliability x xcale\nxScaleDeaths=d3_src[\"m\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxDeaths]);// severity/reliability x xcale\nxScaleVaccines=d3_src[\"m\" /* scaleLinear */]().range([labelWidth,rcSize.width-margin.right-labelWidth]).domain([0,maxVaccinations]);// severity/reliability x xcale\nvar bars=rows.append('rect').attr('id',function(d,i){return'bar-'+d.region;}).attr('data-id',function(d,i){return d.region;}).attr('class','region-bar').attr('width',function(d,i){if(options.region_chart_toggle=='cases')return xScaleCases(d.cumulative_cases);if(options.region_chart_toggle=='deaths')return xScaleDeaths(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')return xScaleDeaths(d.cumulative_vaccines);}).attr('x',labelWidth).style('outline','none').style('cursor','pointer').attr('y',rowHeight*barSpacing-1).attr('height',rowHeight-rowHeight*barSpacing*2).style('fill',function(d){return src_colors.regions[d.region];}).attr('opacity',1).on('click',function(d,i){var t=d3_src[\"p\" /* select */](this).attr('data-id');filter([t],'regionchart');}).on('mouseover',function(d){var dat=d3_src[\"p\" /* select */](this.parentNode).datum();// d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n// d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n}).on('mouseout',function(){// d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n});var dataLabel=rows.append('text').text(function(d){if(options.region_chart_toggle=='cases')return addCommas(d.cumulative_cases);if(options.region_chart_toggle=='deaths')return addCommas(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')return addCommas(d.cumulative_vaccines);}).attr('id',function(d,i){return'data-label'+d.region;}).attr('data-id',function(d,i){return d.region;}).attr('class','data-label').attr('y',rowHeight/2).style('alignment-baseline','middle').style('text-anchor','start').attr('x',function(d,i){if(options.region_chart_toggle=='cases')return xScaleCases(d.cumulative_cases)+labelWidth+5;if(options.region_chart_toggle=='deaths')return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;if(options.region_chart_toggle=='vaccines')return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;}).attr('opacity',function(d,i){var val=0;if(options.region_chart_toggle=='cases')val=d.cumulative_cases;if(options.region_chart_toggle=='deaths')val=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')val=d.cumulative_vaccines;if(val>0){return 1;}else{return 0;}}).style('fill','#696969').style('font-weight','normal').style('font-size','10px');}function updateRegionchart(options,data){Regionchart_groupedData=[];Regionchart_regions.forEach(function(d,i){Regionchart_groupedData.push({region:d,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0});});data.who_data.forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region){// remove OTH\nRegionchart_groupedData[ii].cumulative_cases+=d.new_cases;Regionchart_groupedData[ii].cumulative_deaths+=d.new_deaths;Regionchart_groupedData[ii].cumulative_vaccines=0;}});});Regionchart_maxCases=d3_src[\"i\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_cases;});Regionchart_maxDeaths=d3_src[\"i\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_deaths;});// vaccinations max date records\nvar vGroup=d3_src[\"f\" /* flatGroup */](data.vaccines_data_cumulative,function(d){return d.date;});var vacGrouped=vGroup[vGroup.length-1];var vData=[];if(vacGrouped){vacGrouped[1].forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region){// remove OTH\nRegionchart_groupedData[ii].cumulative_vaccines+=d.total_vaccinations;}});});}Regionchart_groupedData.sort(function(a,b){if(options.region_chart_toggle=='cases')return b.cumulative_cases-a.cumulative_cases;if(options.region_chart_toggle=='deaths')return b.cumulative_deaths-a.cumulative_deaths;if(options.region_chart_toggle=='vaccines')return b.cumulative_vaccines-a.cumulative_vaccines;});data.cumulative_totals=Regionchart_groupedData;maxVaccinations=d3_src[\"i\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_vaccines;});xScaleCases=d3_src[\"m\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxCases]);// severity/reliability x xcale\nxScaleDeaths=d3_src[\"m\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxDeaths]);// severity/reliability x xcale\nxScaleVaccines=d3_src[\"m\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,maxVaccinations]);// severity/reliability x xcale\nif(maxVaccinations==0&&Regionchart_maxCases==0&&Regionchart_maxDeaths==0){d3_src[\"q\" /* selectAll */]('.region-bar').transition().duration(500).attr('width',0);d3_src[\"q\" /* selectAll */]('.data-label').transition().duration(500).attr('x',labelWidth).attr('opacity',0);}else{d3_src[\"q\" /* selectAll */]('.region-bar').transition().duration(500).attr('width',function(d,i){var id=d3_src[\"p\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});var val=0;if(options.region_chart_toggle=='cases')val=xScaleCases(d.cumulative_cases);if(options.region_chart_toggle=='deaths')val=xScaleDeaths(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')val=xScaleVaccines(d.cumulative_vaccines);if(!isNaN(val)){return parseFloat(val);}else{return 0;}});d3_src[\"q\" /* selectAll */]('.data-label').transition().duration(500).tween(\"text\",function(d,i){var end=0;var id=d3_src[\"p\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});if(options.region_chart_toggle=='cases')end=d.cumulative_cases;if(options.region_chart_toggle=='deaths')end=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')end=d.cumulative_vaccines;var i=d3_src[\"g\" /* interpolate */](Math.floor(Math.random()*112346+92345),end);return function(t){d3_src[\"p\" /* select */](this).text(addCommas(Math.round(i(t))));};}).attr('x',function(d,i){var id=d3_src[\"p\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});if(options.region_chart_toggle=='cases')return xScaleCases(d.cumulative_cases)+labelWidth+5;if(options.region_chart_toggle=='deaths')return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;if(options.region_chart_toggle=='vaccines')return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;}).attr('opacity',function(d,i){var d;var id=d3_src[\"p\" /* select */](this).attr('data-id');Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});var val=0;if(options.region_chart_toggle=='cases')val=d.cumulative_cases;if(options.region_chart_toggle=='deaths')val=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')val=d.cumulative_vaccines;if(val>0){return 1;}else{return 0;}});}}/* harmony default export */ var Regionchart = (drawRegionchart);\n// EXTERNAL MODULE: ./node_modules/tippy.js/dist/tippy.esm.js + 52 modules\nvar tippy_esm = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/tippy.js/dist/svg-arrow.css\nvar svg_arrow = __webpack_require__(122);\n\n// EXTERNAL MODULE: ./node_modules/tippy.js/themes/light.css\nvar light = __webpack_require__(123);\n\n// CONCATENATED MODULE: ./src/Layout.js\nvar selectedToggle='#595454';var unselectedToggle='#EAEAEA';var unselectedToggleText='#000';var selectedToggleText='#FFF';function Layout(svg,options,data,filter,updateTable,updateMap){// vaccine info\nd3_src[\"p\" /* select */]('#vaccine_tooltip').attr('opacity',0).style('display','none');d3_src[\"p\" /* select */]('#vaccine_info path').attr('fill',src_colors.black);svg.select('#vaccine_info').style('cursor','pointer').on('mouseover',function(event,bd){d3_src[\"p\" /* select */]('#svg_container').style('z-index',10);d3_src[\"p\" /* select */]('#vaccine_tooltip').style('display','inline').transition().duration(500).attr('opacity',1);d3_src[\"p\" /* select */]('#vaccine_info path').transition().duration(200).attr('fill',src_colors.blue);}).on('mouseout',function(event,d){d3_src[\"p\" /* select */]('#svg_container').style('z-index',1);d3_src[\"p\" /* select */]('#vaccine_tooltip').style('display','none').attr('opacity',0);d3_src[\"p\" /* select */]('#vaccine_info path').transition().duration(500).attr('fill',src_colors.black);});// region chart toggle\nsvg.select('#region_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){options.region_filter=[];filter('clear-region');});svg.select('#region-chart-toggle #region-chart-toggle-cases').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='cases')return false;options.region_chart_toggle='cases';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-cases rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-cases text').attr('fill',selectedToggleText);updateRegionchart(options,data);});svg.select('#region-chart-toggle #region-chart-toggle-deaths').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='deaths')return false;options.region_chart_toggle='deaths';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-deaths rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-deaths text').attr('fill',selectedToggleText);updateRegionchart(options,data);});svg.select('#region-chart-toggle #region-chart-toggle-vaccines').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='vaccines')return false;options.region_chart_toggle='vaccines';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-vaccines rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-vaccines text').attr('fill',selectedToggleText);updateRegionchart(options,data);});// map toggle\nsvg.select('#map-toggle #map-toggle-bi-weekly-change').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='bi-weekly-change')return false;options.map_toggle='bi-weekly-change';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-bi-weekly-change rect').attr('fill',selectedToggle);svg.select('#map-toggle-bi-weekly-change text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-cases').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='cases')return false;options.map_toggle='cases';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-cases rect').attr('fill',selectedToggle);svg.select('#map-toggle-cases text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-deaths').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='deaths')return false;options.map_toggle='deaths';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-deaths rect').attr('fill',selectedToggle);svg.select('#map-toggle-deaths text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-percent-fully-vaccinated').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='percent-fully-vaccinated')return false;options.map_toggle='percent-fully-vaccinated';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-percent-fully-vaccinated rect').attr('fill',selectedToggle);svg.select('#map-toggle-percent-fully-vaccinated text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-percent-vaccine-acceptance').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='percent-vaccine-acceptance')return false;options.map_toggle='percent-vaccine-acceptance';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-percent-vaccine-acceptance rect').attr('fill',selectedToggle);svg.select('#map-toggle-percent-vaccine-acceptance text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});// time chart type \nsvg.select('#timechart-type-toggle #timechart-type-toggle-cumulative').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='cumulative')return false;options.timeline_type='cumulative';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-cumulative rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-cumulative polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggle);updateTimechart(data,options);});Object(tippy_esm[\"a\" /* default */])('#timechart-type-toggle-cumulative',{content:'Cumulative',duration:0,placement:'bottom',theme:'light',arrow:true,delay:[500,200]});svg.select('#timechart-type-toggle #timechart-type-toggle-non-cumulative').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='non-cumulative')return false;options.timeline_type='non-cumulative';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-non-cumulative rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-non-cumulative polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggle);updateTimechart(data,options);});Object(tippy_esm[\"a\" /* default */])('#timechart-type-toggle-non-cumulative',{content:'Non-cumulative',duration:0,placement:'bottom',theme:'light',arrow:true,delay:[500,200]});svg.select('#timechart-type-toggle #timechart-type-toggle-stacked').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='stacked')return false;options.timeline_type='stacked';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-stacked rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-stacked polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggleText);updateTimechart(data,options);});Object(tippy_esm[\"a\" /* default */])('#timechart-type-toggle-stacked',{content:'Stacked 100%',duration:0,placement:'bottom',theme:'light',arrow:true,delay:[500,200]});// time chart frequency toggle\nsvg.select('#timechart-frequency-toggle #timechart-frequency-toggle-day').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='day')return false;options.timeline_frequency='day';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-day rect').attr('fill',selectedToggle);svg.select('#timechart-frequency-toggle-day text').attr('fill',selectedToggleText);svg.select('#tooltip_frequency tspan').attr('text-anchor','end').attr('dx',20).text('DAY');drawTimechart(data,options);});svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-week').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='week')return false;options.timeline_frequency='week';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-week rect').attr('fill',selectedToggle);svg.select('#tooltip_frequency tspan').attr('text-anchor','end').attr('dx',20).text('WEEK');svg.select('#timechart-frequency-toggle-week text').attr('fill',selectedToggleText);drawTimechart(data,options);});svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-month').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='month')return false;options.timeline_frequency='month';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-month rect').attr('fill',selectedToggle);svg.select('#tooltip_frequency tspan').attr('text-anchor','end').attr('dx',20).text('MONTH');svg.select('#timechart-frequency-toggle-month text').attr('fill',selectedToggleText);drawTimechart(data,options);});// HDI toggle\nsvg.select('#hdi_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);filter('clear-hdi');});svg.select('#hdi-toggle #hdi-toggle-very-high').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'very-high');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"p\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-high').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'high');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"p\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-medium').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'medium');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"p\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-low').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'low');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"q\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"p\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});// inform severity toggle\nsvg.select('#inform_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);filter('clear-inform');});svg.select('#inform-toggle #inform-toggle-no-score').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'no-score');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"p\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-low').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'low');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"p\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-medium').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'medium');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"p\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-high').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'high');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"p\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-very-high').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'very-high');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"q\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"p\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});// tabs\nd3_src[\"p\" /* select */]('#additional-indicators-tab').attr('opacity',0).select('#additional-indicators-tab-content').attr('display','none');d3_src[\"p\" /* select */]('#vac-tab').attr('opacity',1).select('#vac-tab-content').attr('display','inline');d3_src[\"p\" /* select */]('#bubblechart-tab').attr('opacity',0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display','none');d3_src[\"p\" /* select */]('#bubbleSelectContainer').style('display','none');svg.select('#tabs #vaccination-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='vaccination-data')return false;options.tab_toggle='vaccination-data';d3_src[\"p\" /* select */]('#additional-indicators-tab').attr('opacity',0).select('#additional-indicators-tab-content').attr('display','none');d3_src[\"p\" /* select */]('#vac-tab').attr('opacity',1).select('#vac-tab-content').attr('display','inline');d3_src[\"p\" /* select */]('#bubblechart-tab').attr('opacity',0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display','none');svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#vaccination-tab rect').attr('fill',selectedToggle);svg.select('#vaccination-tab text').attr('fill',selectedToggleText);d3_src[\"p\" /* select */]('#bubbleSelectContainer').style('display','none');src_Update(svg,options,data);});svg.select('#tabs #indicators-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='indicators')return false;options.tab_toggle='indicators';d3_src[\"p\" /* select */]('#additional-indicators-tab').attr('opacity',1).select('#additional-indicators-tab-content').attr('display','inline');d3_src[\"p\" /* select */]('#vac-tab').attr('opacity',0).select('#vac-tab-content').attr('display','none');d3_src[\"p\" /* select */]('#bubblechart-tab').attr('opacity',0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display','none');svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#indicators-tab rect').attr('fill',selectedToggle);svg.select('#indicators-tab text').attr('fill',selectedToggleText);d3_src[\"p\" /* select */]('#bubbleSelectContainer').style('display','none');src_Update(svg,options,data);});svg.select('#tabs #bubble-chart-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='bubble-chartt')return false;options.tab_toggle='bubble-chart';d3_src[\"p\" /* select */]('#additional-indicators-tab').attr('opacity',0).select('#additional-indicators-tab-content').attr('display','none');d3_src[\"p\" /* select */]('#vac-tab').attr('opacity',0).select('#vac-tab-content').attr('display','none');d3_src[\"p\" /* select */]('#bubblechart-tab').attr('opacity',1).selectAll('#bubblechart, #bubblechart-tab-content').attr('display','inline');svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#bubble-chart-tab rect').attr('fill',selectedToggle);svg.select('#bubble-chart-tab text').attr('fill',selectedToggleText);d3_src[\"p\" /* select */]('#bubbleSelectContainer').style('display','inline-block');src_Update(svg,options,data);});// time chart mask\nd3_src[\"p\" /* select */]('#svg defs').append('clipPath').attr('id','mask').append('rect').attr('y',340).attr('height',590).attr('width',660).attr('x',22);// append timechart svg\nvar timechartContainer=svg.select('#timechart_container').attr('opacity',0);var tcSize={x:timechartContainer.attr('x'),y:timechartContainer.attr('y'),width:timechartContainer.attr('width'),height:timechartContainer.attr('height')};var timechartSvg=svg.append('svg').attr('id','timechart_svg').attr('viewBox','0 0 '+2000+' '+tcSize.height).attr('preserveAspectRatio',\"none\").attr('x',tcSize.x).attr('y',tcSize.y).attr('width',tcSize.width).attr('height',tcSize.height);var layer1=timechartSvg.append('g').attr('id','layer1');var timechartBg=timechartSvg.append('g').attr('id','layer0');layer1.append('rect').attr('x',0).attr('y',0).attr('width','100%').attr('height','100%').attr('opacity',0).style('fill','transparent');// table bars\nvar _loop=function _loop(i){// col 1 bg\nd3_src[\"p\" /* select */]('#vac-tab').append('rect').attr('class','col1bg colbg').attr('id','col1bg'+i).attr('x',120).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill',src_colors.lightgrey);// col 1 bar\nd3_src[\"p\" /* select */]('#vac-tab').append('rect').attr('class','col1bar').attr('id','col1bar'+i).attr('x',120).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill',src_colors.blue);// col 2 bg\nd3_src[\"p\" /* select */]('#vac-tab').append('rect').attr('class','col2bg colbg').attr('id','col2bg'+i).attr('x',230).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill',src_colors.lightgrey);// col 2 bar\nd3_src[\"p\" /* select */]('#vac-tab').append('rect').attr('class','col2bar').attr('id','col2bar'+i).attr('x',230).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill',src_colors.blue);// col 3 bg\nd3_src[\"p\" /* select */]('#vac-tab').append('rect').attr('class','col3bg colbg').attr('id','col3bg'+i).attr('x',340).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill',src_colors.lightgrey);// col 3 bar\nd3_src[\"p\" /* select */]('#vac-tab').append('rect').attr('class','col3bar').attr('id','col3bar'+i).attr('x',340).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill',src_colors.blue);// col 4 bg\nd3_src[\"p\" /* select */]('#vac-tab').append('rect').attr('class','col4bg colbg').attr('id','col4bg'+i).attr('x',454).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill',src_colors.lightgrey);// col 3 bar\nd3_src[\"p\" /* select */]('#vac-tab').append('rect').attr('class','col4bar').attr('id','col4bar'+i).attr('x',454).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill',src_colors.blue);for(x=0;x<6;x++){d3_src[\"p\" /* select */]('#col'+x+'_sort_desc').attr('opacity',0);d3_src[\"p\" /* select */]('#col'+x+'_sort_asc').attr('opacity',0);d3_src[\"p\" /* select */]('#col'+x+'_sort').style('cursor','pointer').on('click',function(){var thisId=d3_src[\"p\" /* select */](this).attr('id');if(options.table_sort==thisId){if(options.table_sort_direction=='desc'){options.table_sort_direction='asc';}else{options.table_sort_direction='desc';}}else{options.table_sort=thisId;options.table_sort_direction='desc';}options.page=1;updateTable(data,options);});// d3.select('#col1_sort_desc').attr('opacity', 1);\n}};for(var i=0;i<10;i++){var x;_loop(i);}d3_src[\"p\" /* select */]('#reset_locations').attr('display','none');}/* harmony default export */ var src_Layout = (Layout);function toggle(collection,item){var idx=collection.indexOf(item);if(idx!==-1){collection.splice(idx,1);}else{collection.push(item);}}/*\n\n#timechart-type-toggle #timechart-type-toggle-stacked\n#timechart-type-toggle #timechart-type-toggle-non-cumulative\n#timechart-type-toggle #timechart-type-toggle-cumulative\n\n#timechart-frequency-toggle #timechart-frequency-toggle-day\n#timechart-frequency-toggle #timechart-frequency-toggle-week\n#timechart-frequency-toggle #timechart-frequency-toggle-month\n\n#map-toggle #map-toggle-bi-weekly-change\n#map-toggle #map-toggle-deaths\n#map-toggle #map-toggle-percent-fully-vaccinated\n#map-toggle #map-toggle-percent-vaccine-acceptance\n#map-toggle #map-toggle-cases\n\n#tabs #bubble-chart-tab\n#tabs #indicators-tab\n#tabs #vaccination-tab\n\n#hdi-toggle #hdi-toggle-very-high\n#hdi-toggle #hdi-toggle-high\n#hdi-toggle #hdi-toggle-medium\n#hdi-toggle #hdi-toggle-low\n\n\n#inform-toggle #inform-toggle-no-score\n#inform-toggle #inform-toggle-low\n#inform-toggle #inform-toggle-medium\n#inform-toggle #inform-toggle-high\n#inform-toggle #inform-toggle-very-high\n\n*/\n// CONCATENATED MODULE: ./src/Bubblechart.js\nvar maxX=1000;var maxY=100;var maxZ=1000000;var Bubblechart_xScale;var yScale;var zScale;var Bubblechart_groupedData=[];var Bubblechart_width=600;var height=233;var Bubblechart_x=35;var Bubblechart_y=58;var bubbles;function drawBubblechart(data,options,filter){maxX=d3_src[\"i\" /* max */](data.equity_data,function(d,i){return parseFloat(d.gni_2017);});maxY=d3_src[\"i\" /* max */](data.equity_data,function(d,i){// if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return parseFloat(d.people_vaccinated_per_hundred);\nif(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return 100;// if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return parseFloat(d.people_fully_vaccinated_per_hundred);\nif(options.bubble_chart_y_axis=='percent-fully-vaccinated')return 100;if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return 100;});maxZ=d3_src[\"i\" /* max */](data.equity_data,function(d,i){return parseFloat(d.population);});Bubblechart_xScale=d3_src[\"m\" /* scaleLinear */]().range([0,Bubblechart_width]).domain([0,maxX]).nice();yScale=d3_src[\"m\" /* scaleLinear */]().range([height,0]).domain([0,maxY]);zScale=d3_src[\"n\" /* scaleSqrt */]().domain([0,maxZ]).range([1,20]);var svg=d3_src[\"p\" /* select */]('#bubblechart-tab').append('g').attr('transform','translate('+Bubblechart_x+', '+Bubblechart_y+')').attr('id','bubblechart');// create y-axis\nsvg.append(\"g\").attr('id','bubbley').call(d3_src[\"b\" /* axisLeft */](yScale).ticks(3).tickSize(3));// create x-axis\nsvg.append(\"g\").attr('id','bubblex').attr('class','xAxis').attr(\"transform\",\"translate(0,\"+height+\")\").call(d3_src[\"a\" /* axisBottom */](Bubblechart_xScale).ticks(4).tickSize(3));// Add dots\nbubbles=d3_src[\"p\" /* select */]('#bubblechart').selectAll(\".bubble\").data(data.equity_data).join(function(enter){enter.append(\"circle\").attr(\"class\",function(d){return\"bubble\";}).attr(\"cx\",function(d){return Bubblechart_xScale(parseFloat(d.gni_2017));}).attr(\"cy\",function(d){if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return yScale(parseFloat(d.vaccine_acceptance_percent));}).attr(\"r\",function(d){return zScale(parseFloat(d.population));}).style(\"fill\",function(d){if(options.bubble_chart_color_by=='region'){if(src_colors.regions[d.ifrc_region])return src_colors.regions[d.ifrc_region];}if(options.bubble_chart_color_by=='hdi'){if(src_colors.hdi_category[d.hdi_category])return src_colors.hdi_category[d.hdi_category];}if(options.bubble_chart_color_by=='inform-severity'){if(src_colors.inform_severity[d.inform_severity])return src_colors.inform_severity[d.inform_severity];}return'transparent';}).style(\"stroke\",function(d){// if(options.bubble_chart_color_by == 'region') {\n//    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n// } \n// if(options.bubble_chart_color_by == 'hdi') {\n//     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n//  }\n//  if(options.bubble_chart_color_by == 'inform-severity') {\n//     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n//  }\n// return  'transparent';\nreturn'#FFF';}).style(\"stroke-width\",1)// .style(\"fill-opacity\", 0.8)\n.attr('display',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return'none';return'inline';}).attr('opacity',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return 0;return 1;});},function(update){update.transition().duration(800).attr(\"cx\",function(d){return Bubblechart_xScale(parseFloat(d.gni_2017));}).attr(\"cy\",function(d){if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return yScale(parseFloat(d.vaccine_acceptance_percent));}).attr(\"r\",function(d){return zScale(parseFloat(d.population));}).style(\"fill\",function(d){if(options.bubble_chart_color_by=='region'){if(src_colors.regions[d.ifrc_region])return src_colors.regions[d.ifrc_region];}if(options.bubble_chart_color_by=='hdi'){if(src_colors.hdi_category[d.hdi_category])return src_colors.hdi_category[d.hdi_category];}if(options.bubble_chart_color_by=='inform-severity'){if(src_colors.inform_severity[d.inform_severity])return src_colors.inform_severity[d.inform_severity];}return'transparent';}).style(\"stroke\",function(d){// if(options.bubble_chart_color_by == 'region') {\n//    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n// } \n// if(options.bubble_chart_color_by == 'hdi') {\n//     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n//  }\n//  if(options.bubble_chart_color_by == 'inform-severity') {\n//     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n//  }\n// return  'transparent';\nreturn'#FFF';}).attr('display',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return'none';return'inline';}).attr('opacity',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return 0;return 1;});},function(exit){exit.remove();});d3_src[\"p\" /* select */]('#bubblechart').selectAll(\".bubble\").on('mousemove',function(event,d){d3_src[\"p\" /* select */]('#bubbleSelectContainer').style('z-index',1);d3_src[\"p\" /* select */]('#bubblechart_tooltip_title tspan').text(d.country_name);if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){d3_src[\"p\" /* select */]('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');d3_src[\"p\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){d3_src[\"p\" /* select */]('#bubblechart_tooltip_label tspan').text('% fully vaccinated');d3_src[\"p\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){d3_src[\"p\" /* select */]('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');d3_src[\"p\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.vaccine_acceptance_percent).toFixed(2)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}d3_src[\"p\" /* select */]('#bubblechart_tooltip_gni tspan').text('$'+addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\",\"end\").attr('dx',37);d3_src[\"p\" /* select */]('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\",\"end\").attr('dx',37);var coords=d3_src[\"l\" /* pointer */](event,d3_src[\"p\" /* select */]('#svg').node());if(coords[0]<1110){d3_src[\"p\" /* select */]('#bubblechart_tooltip').attr('transform','translate('+(coords[0]+20)+','+(coords[1]+Bubblechart_y-90)+')').attr('display','inline');d3_src[\"p\" /* select */]('#bubblechart_tooltip_arrow_left').attr('display','inline');d3_src[\"p\" /* select */]('#bubblechart_tooltip_arrow_right').attr('display','none');}else{d3_src[\"p\" /* select */]('#bubblechart_tooltip').attr('transform','translate('+(coords[0]-220)+','+(coords[1]+Bubblechart_y-90)+')').attr('display','inline');d3_src[\"p\" /* select */]('#bubblechart_tooltip_arrow_left').attr('display','none');d3_src[\"p\" /* select */]('#bubblechart_tooltip_arrow_right').attr('display','inline');}d3_src[\"q\" /* selectAll */](\".bubble\").attr('opacity',0.4);d3_src[\"p\" /* select */](this).attr('opacity',1).style('stroke-width',2);}).on('mouseout',function(event){if(event.toElement=='tspan')return false;d3_src[\"p\" /* select */]('#bubbleSelectContainer').style('z-index',2);// mapTooltip.attr('display', 'none');\nd3_src[\"p\" /* select */]('#bubblechart_tooltip').attr('display','none');d3_src[\"q\" /* selectAll */](\".bubble\").attr('opacity',1).style('stroke-width',1);});d3_src[\"p\" /* select */]('#bubblechart_tooltip').attr('display','none');d3_src[\"p\" /* select */]('#bubble_y_axis_label').attr('text-anchor','middle').select('tspan').attr('dx',50);if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){d3_src[\"p\" /* select */]('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');}if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){d3_src[\"p\" /* select */]('#bubble_y_axis_label tspan').text('% fully vaccinated');}if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){d3_src[\"p\" /* select */]('#bubble_y_axis_label tspan').text('% vaccine acceptance');}}function updateBubblechart(data,options,filter){data.vGroup.forEach(function(d,i){data.equity_data.forEach(function(dd,ii){if(d[0]==dd.country_iso3){dd.people_fully_vaccinated_per_hundred=parseFloat(d[1][0].people_fully_vaccinated_per_hundred);dd.people_vaccinated_per_hundred=parseFloat(d[1][0].people_vaccinated_per_hundred);dd.total_vaccinations=parseFloat(d[1][0].total_vaccinations);dd.total_vaccinations_per_hundred=parseFloat(d[1][0].total_vaccinations_per_hundred);}});});maxX=d3_src[\"i\" /* max */](data.equity_data,function(d,i){return parseFloat(d.gni_2017);});maxY=d3_src[\"i\" /* max */](data.equity_data,function(d,i){if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return parseFloat(d.people_vaccinated_per_hundred);if(options.bubble_chart_y_axis=='percent-fully-vaccinated')return parseFloat(d.people_fully_vaccinated_per_hundred);if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return parseFloat(d.vaccine_acceptance_percent);});maxZ=d3_src[\"i\" /* max */](data.equity_data,function(d,i){return parseFloat(d.population);});Bubblechart_xScale=d3_src[\"m\" /* scaleLinear */]().range([0,Bubblechart_width]).domain([0,maxX]);yScale=d3_src[\"m\" /* scaleLinear */]().range([height,0]).domain([0,maxY]);zScale=d3_src[\"n\" /* scaleSqrt */]().domain([0,maxZ]).range([1,20]);var svg=d3_src[\"p\" /* select */]('#bubblechart');// create y-axis\nsvg.select('#bubbley').transition().duration(800).call(d3_src[\"b\" /* axisLeft */](yScale).ticks(3));// create x-axis\nsvg.select('#bubblex').transition().duration(800).call(d3_src[\"a\" /* axisBottom */](Bubblechart_xScale).ticks(3));bubbles=d3_src[\"p\" /* select */]('#bubblechart').selectAll(\".bubble\").data(data.equity_data).join(function(enter){enter.append(\"circle\").attr(\"cx\",function(d){return Bubblechart_xScale(maxX);}).attr(\"cy\",function(d){return yScale(maxY);}).attr(\"class\",function(d){return\"bubble\";}).transition().duration(800).attr(\"cx\",function(d){return Bubblechart_xScale(parseFloat(d.gni_2017));}).attr(\"cy\",function(d){if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return yScale(parseFloat(d.vaccine_acceptance_percent));}).attr(\"r\",function(d){return zScale(parseFloat(d.population));}).style(\"fill\",function(d){if(options.bubble_chart_color_by=='region'){if(src_colors.regions[d.ifrc_region])return src_colors.regions[d.ifrc_region];}if(options.bubble_chart_color_by=='hdi'){if(src_colors.hdi_category[d.hdi_category])return src_colors.hdi_category[d.hdi_category];}if(options.bubble_chart_color_by=='inform-severity'){if(src_colors.inform_severity[d.inform_severity])return src_colors.inform_severity[d.inform_severity];}return'transparent';}).style(\"stroke\",function(d){// if(options.bubble_chart_color_by == 'region') {\n//    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n// } \n// if(options.bubble_chart_color_by == 'hdi') {\n//     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n//  }\n//  if(options.bubble_chart_color_by == 'inform-severity') {\n//     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n//  }\n// return  'transparent';\nreturn'#FFF';}).style(\"stroke-width\",1)// .style(\"fill-opacity\", 0.8)\n.attr('display',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return'none';return'inline';}).attr('opacity',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return 0;return 1;});},function(update){update.transition().duration(800).attr(\"cx\",function(d){return Bubblechart_xScale(parseFloat(d.gni_2017));}).attr(\"cy\",function(d){if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return yScale(parseFloat(d.vaccine_acceptance_percent));}).attr(\"r\",function(d){return zScale(parseFloat(d.population));}).style(\"fill\",function(d){if(options.bubble_chart_color_by=='region'){if(src_colors.regions[d.ifrc_region])return src_colors.regions[d.ifrc_region];}if(options.bubble_chart_color_by=='hdi'){if(src_colors.hdi_category[d.hdi_category])return src_colors.hdi_category[d.hdi_category];}if(options.bubble_chart_color_by=='inform-severity'){if(src_colors.inform_severity[d.inform_severity])return src_colors.inform_severity[d.inform_severity];}return'transparent';}).style(\"stroke\",function(d){// if(options.bubble_chart_color_by == 'region') {\n//    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n// } \n// if(options.bubble_chart_color_by == 'hdi') {\n//     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n//  }\n//  if(options.bubble_chart_color_by == 'inform-severity') {\n//     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n//  }\n// return  'transparent';\nreturn'#FFF';}).attr('display',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return'none';return'inline';}).attr('opacity',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return 0;return 1;});},function(exit){exit.remove();});d3_src[\"p\" /* select */]('#bubblechart').selectAll(\".bubble\").on('mousemove',function(event,d){d3_src[\"p\" /* select */]('#bubbleSelectContainer').style('z-index',1);d3_src[\"p\" /* select */]('#bubblechart_tooltip_title tspan').text(d.country_name);if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){d3_src[\"p\" /* select */]('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');d3_src[\"p\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){d3_src[\"p\" /* select */]('#bubblechart_tooltip_label tspan').text('% fully vaccinated');d3_src[\"p\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){d3_src[\"p\" /* select */]('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');d3_src[\"p\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.vaccine_acceptance_percent).toFixed(2)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}d3_src[\"p\" /* select */]('#bubblechart_tooltip_gni tspan').text('$'+addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\",\"end\").attr('dx',37);d3_src[\"p\" /* select */]('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\",\"end\").attr('dx',37);var coords=d3_src[\"l\" /* pointer */](event,d3_src[\"p\" /* select */]('#svg').node());if(coords[0]<1110){d3_src[\"p\" /* select */]('#bubblechart_tooltip').attr('transform','translate('+(coords[0]+20)+','+(coords[1]+Bubblechart_y-90)+')').attr('display','inline');d3_src[\"p\" /* select */]('#bubblechart_tooltip_arrow_left').attr('display','inline');d3_src[\"p\" /* select */]('#bubblechart_tooltip_arrow_right').attr('display','none');}else{d3_src[\"p\" /* select */]('#bubblechart_tooltip').attr('transform','translate('+(coords[0]-220)+','+(coords[1]+Bubblechart_y-90)+')').attr('display','inline');d3_src[\"p\" /* select */]('#bubblechart_tooltip_arrow_left').attr('display','none');d3_src[\"p\" /* select */]('#bubblechart_tooltip_arrow_right').attr('display','inline');}d3_src[\"q\" /* selectAll */](\".bubble\").attr('opacity',0.4);d3_src[\"p\" /* select */](this).attr('opacity',1).style('stroke-width',2);}).on('mouseout',function(event){if(event.toElement=='tspan')return false;d3_src[\"p\" /* select */]('#bubbleSelectContainer').style('z-index',2);// mapTooltip.attr('display', 'none');\nd3_src[\"p\" /* select */]('#bubblechart_tooltip').attr('display','none');d3_src[\"q\" /* selectAll */](\".bubble\").attr('opacity',1).style('stroke-width',1);});if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){d3_src[\"p\" /* select */]('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');}if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){d3_src[\"p\" /* select */]('#bubble_y_axis_label tspan').text('% fully vaccinated');}if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){d3_src[\"p\" /* select */]('#bubble_y_axis_label tspan').text('% vaccine acceptance');}}/* harmony default export */ var Bubblechart = (drawBubblechart);\n// CONCATENATED MODULE: ./src/Options.js\n// default options\nvar Options_options={region_chart_toggle:'cases',// cases, deaths, vaccines\nregion_filter:[],country_filter:[],hdi_filter:[],// very-high, high, medium, low\ninform_filter:[],// no-score, low, medium, high, very-high\ntimeline_type:'non-cumulative',// cumulative, non-cumulative, stacked \ntimeline_frequency:'week',// day, week, month\nmap_toggle:'cases',// bi-weekly-change, cases, deaths, percent-fully-vaccinated, percent-vaccine-acceptance\ntab_toggle:'vaccination-data',// vaccination-data, indicators, bubble-chart\ntable_sort:'col1_sort',table_sort_direction:'desc',bubble_chart_color_by:'hdi',// hdi, inform-severity, region\nbubble_chart_y_axis:'percent-vaccinated-at-least-1-dose',// percent-vaccinated-at-least-1-dose, percent-fully-vaccinated, percent-vaccine-acceptance\nmaxDate:null,maxVDate:null,brushL:0,brushR:600,page:1,numPages:1};/* harmony default export */ var Options = (Options_options);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./src/ParseData.js\n// import * as d3 from \"d3\";\nfunction ParseData(data,options){data.equity_data.forEach(function(d,i){d.vaccines_used=[];d.number_vaccine_types_used=0;d.vaccines_per_100=0;data.vaccines_who_data.forEach(function(dd,ii){if(d.country_iso3==dd.ISO3){d.data_updated=moment_default()(dd.DATE_UPDATED).startOf('day').toDate();d.number_vaccine_types_used=dd.NUMBER_VACCINES_TYPES_USED;d.vaccines_per_100=parseFloat(dd.TOTAL_VACCINATIONS_PER100);if(isNaN(d.vaccines_per_100))d.vaccines_per_100=0;d.vaccines_used=dd.VACCINES_USED.split(',').map(function(item){return item.trim();});}});d.ns_involvement=0;data.self_assessment.forEach(function(dd,ii){if(d.country_iso3==dd.ISO3){if(dd['Final involvement']=='Yes')d.ns_involvement=1;}});data.vaccine_acceptance.forEach(function(dd,ii){if(d.country_iso3==dd.iso3){// if(dd['Final involvement']=='Yes') d.ns_involvement = 1;\nd.country_code=d.country_iso2;d.vaccine_acceptance_percent=parseFloat(dd.indicator_value)*100;d.vaccine_acceptance_population=parseInt(dd.population_size);}});if(d.contract_tracing.toLowerCase()=='all'||d.contract_tracing.toLowerCase()=='some'){d.contract_tracing=1;}else{d.contract_tracing=0;}d.avg_tests_per_1000=parseFloat(d.avg_tests_per_1000)||0;});// max dates\nvar maxDate=moment_default()(new Date(Object(d3_src[\"i\" /* max */])(data.who_data,function(d){return d.Date_reported;})));var minDate=moment_default()(new Date(Object(d3_src[\"k\" /* min */])(data.who_data,function(d){return d.Date_reported;})));// override\nminDate=moment_default()('2019-12-31');var minDateVaccines=new Date(Object(d3_src[\"k\" /* min */])(data.vaccines_data,function(d){return d.date;}));var maxDateVaccines=new Date(Object(d3_src[\"i\" /* max */])(data.vaccines_data,function(d){return d.date;}));options.maxDataDate=maxDate.toDate();options.maxVDataDate=maxDateVaccines;if(maxDateVaccines>maxDate){maxDate=maxDateVaccines;}// if(maxDate<moment()){\n//     maxDate = moment();\n// }\n// if(maxDateVaccines<moment()){\n//     maxDateVaccines = moment();\n// }\noptions.maxDate=moment_default()(maxDate).toDate();options.maxVDate=moment_default()(maxDateVaccines).toDate();options.minDate=moment_default()(minDate).toDate();// parse who data\nvar dayTotal=-1;var dayCheck=0;var weekTotal=-1;var weekCheck=-1;var monthTotal=0;var monthCheck=0;// filter out negative new deaths\n// data.who_data = data.who_data.filter(d=>d.New_deaths>0);\n// data.who_data = data.who_data.filter(d=>d.New_cases>0);\ndata.who_data.sort(function(a,b){return new Date(a.Date_reported)-new Date(b.Date_reported);});var countryCodes=[];var ccArray=[];data.who_data.forEach(function(d,i){d.date=new Date(d.Date_reported);d.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').toDate());d.new_cases=parseInt(d.New_cases);d.new_deaths=parseInt(d.New_deaths);// negative values\nif(d.new_deaths<0)d.new_deaths=0;if(d.new_cases<0)d.new_cases=0;d.cumulative_deaths=parseInt(d.Cumulative_deaths);d.cumulative_cases=parseInt(d.Cumulative_cases);d.country_code=d.Country_code;d.country_name=null;data.equity_data.forEach(function(dd,ii){if(dd.country_iso2===d.Country_code){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;}});if(d.ifrc_region==undefined)d.ifrc_region='OTH';if(!countryCodes.includes(d.country_code)){if(d.ifrc_region=='OTH'){ccArray.push([d.Country,d.country_code]);}countryCodes.push(d.country_code);}delete d.Date_reported;delete d.Country;delete d.New_cases;delete d.New_deaths;delete d.Country_code;delete d.Cumulative_deaths;delete d.Cumulative_cases;// delete d.Country_code;\ndelete d.WHO_region;// delete d.Country;\ndayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;});// check for missing coutries\n// ccArray.forEach(function(d,i){\n//     console.log(d[1])\n// })\n// console.log(ccArray);\n// parse vaccine cumulative data\ndayTotal=-1;dayCheck=0;weekTotal=-1;weekCheck=-1;monthTotal=0;monthCheck=0;// filter out vaccine data on only include records with ISO3 country codes\ndata.vaccines_data_cumulative=data.vaccines_data.filter(function(d,i){return d.iso_code.length===3&&d.total_vaccinations>0;});// fill out missing vaccinations date records (extend cumulative)\nvar vGroup=Object(d3_src[\"f\" /* flatGroup */])(data.vaccines_data_cumulative,function(d){return d.iso_code;});var newDates=[];var hasDays=[];var initDate=0;var lastRecord={};var vDataFlat=[];vGroup.forEach(function(d,i){var _vGroup$i$;var minDt=new Date(minDateVaccines);var maxDt=new Date(maxDateVaccines);var hasDays=[];var newDays=[];var newDays=[];data.equity_data.forEach(function(dd,ii){if(dd.country_iso3===vGroup[i][0]){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;d.country_code=dd.country_iso2;}});vGroup[i].lastDate=new Date(Object(d3_src[\"i\" /* max */])(vGroup[i][1],function(d,i){return d.date;}));vGroup[i][1].forEach(function(dd,ii){hasDays.push(new Date(dd.date).getTime());});// if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\nvGroup[i][1].forEach(function(dd,ii){dd.total_vaccinations=parseInt(dd.total_vaccinations);for(var day=minDt;day<=maxDt;day.setDate(day.getDate()+1)){var newDay=day.getTime();if(!hasDays.includes(newDay)){newDays.push({date:new Date(day),total_vaccinations:null});}}// dd.lastDate = dd.date;\n});(_vGroup$i$=vGroup[i][1]).push.apply(_vGroup$i$,Object(toConsumableArray[\"a\" /* default */])(newDays));vGroup[i][1].sort(function(a,b){return new Date(a.date)-new Date(b.date);});var totalVac=0;var totalVac100=0;var people_vaccinated_per_hundred=0;var people_fully_vaccinated_per_hundred=0;vGroup[i][1].forEach(function(dd,ii){if(dd.total_vaccinations){totalVac=dd.total_vaccinations;}else{dd.total_vaccinations=totalVac;}if(dd.total_vaccinations_per_hundred){totalVac100=dd.total_vaccinations_per_hundred;}else{dd.total_vaccinations_per_hundred=totalVac100;}if(dd.people_vaccinated_per_hundred){people_vaccinated_per_hundred=dd.people_vaccinated_per_hundred;}else{dd.people_vaccinated_per_hundred=people_vaccinated_per_hundred;}if(dd.people_fully_vaccinated_per_hundred){people_fully_vaccinated_per_hundred=dd.people_fully_vaccinated_per_hundred;}else{dd.people_fully_vaccinated_per_hundred=people_fully_vaccinated_per_hundred;}var countryName;if(vGroup[i].country_name==null){countryName=vGroup[i][0];}else{countryName=vGroup[i].country_name;}vDataFlat.push({date:new Date(dd.date),lastDate:vGroup[i].lastDate,total_vaccinations_per_hundred:parseFloat(totalVac100),people_vaccinated_per_hundred:people_vaccinated_per_hundred,people_fully_vaccinated_per_hundred:people_fully_vaccinated_per_hundred,iso_code:vGroup[i][0],ifrc_region:vGroup[i].ifrc_region,country_name:countryName,country_code:vGroup[i].country_code,total_vaccinations:totalVac});});});data.vaccines_data_cumulative=vDataFlat;data.vaccines_data_cumulative.sort(function(a,b){return new Date(a.date)-new Date(b.date);});data.vaccines_data_cumulative.forEach(function(d,i){if(d.ifrc_region==undefined)d.ifrc_region='OTH';d.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();dayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').toDate());});// parse vaccine daily data\ndayTotal=-1;dayCheck=0;weekTotal=-1;weekCheck=-1;monthTotal=0;monthCheck=0;// filter out vaccine data on only include records with ISO3 country codes\ndata.vaccines_data_daily=data.vaccines_data.filter(function(d,i){return d.iso_code.length===3&&d.daily_vaccinations>0;});// fill out missing vaccinations date records (extend cumulative)\nvar vGroup=Object(d3_src[\"f\" /* flatGroup */])(data.vaccines_data_daily,function(d){return d.iso_code;});var newDates=[];var hasDays=[];var initDate=0;var lastRecord={};var vDataFlat=[];vGroup.forEach(function(d,i){var _vGroup$i$2;var minDt=new Date(minDateVaccines);var maxDt=new Date(maxDateVaccines);var hasDays=[];var newDays=[];var newDays=[];data.equity_data.forEach(function(dd,ii){if(dd.country_iso3===vGroup[i][0]){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;d.country_code=dd.country_iso2;}});vGroup[i][1].forEach(function(dd,ii){hasDays.push(new Date(dd.date).getTime());});// if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\nvGroup[i][1].forEach(function(dd,ii){dd.daily_vaccinations=parseInt(dd.daily_vaccinations);for(var day=minDt;day<=maxDt;day.setDate(day.getDate()+1)){var newDay=day.getTime();if(!hasDays.includes(newDay)){newDays.push({date:new Date(day),daily_vaccinations:null});}}});(_vGroup$i$2=vGroup[i][1]).push.apply(_vGroup$i$2,Object(toConsumableArray[\"a\" /* default */])(newDays));vGroup[i][1].sort(function(a,b){return new Date(a.date)-new Date(b.date);});var daily_vaccinations=0;vGroup[i][1].forEach(function(dd,ii){if(dd.daily_vaccinations){daily_vaccinations=dd.daily_vaccinations;}else{dd.daily_vaccinations=daily_vaccinations;}var countryName;if(vGroup[i].country_name==null){countryName=vGroup[i][0];}else{countryName=vGroup[i].country_name;}vDataFlat.push({date:new Date(dd.date),iso_code:vGroup[i][0],ifrc_region:vGroup[i].ifrc_region,country_name:countryName,country_code:vGroup[i].country_code,daily_vaccinations:daily_vaccinations});});});data.vaccines_data_daily=vDataFlat;data.vaccines_data_daily.sort(function(a,b){return new Date(a.date)-new Date(b.date);});data.vaccines_data_daily.forEach(function(d,i){if(d.ifrc_region==undefined)d.ifrc_region='OTH';d.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();dayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').toDate());});// parse equity data inform/hdi indexes\ndata.equity_data.forEach(function(d,i){if(d.hdi_category.match(/very high/i)){d.hdi_category='very-high';}else if(d.hdi_category.match(/high/i)){d.hdi_category='high';}else if(d.hdi_category.match(/medium/i)){d.hdi_category='medium';}else if(d.hdi_category.match(/low/i)){d.hdi_category='low';}if(d.inform_severity.match(/very high/i)){d.inform_severity='very-high';}else if(d.inform_severity.match(/high/i)){d.inform_severity='high';}else if(d.inform_severity.match(/medium/i)){d.inform_severity='medium';}else if(d.inform_severity.match(/low/i)){d.inform_severity='low';}else if(d.inform_severity.match(/no/i)){d.inform_severity='no-score';}});data.equity_data=data.equity_data.filter(function(d,i){return countryCodes.includes(d.country_iso2);});data.original=just_clone_default()(data);// console.log(data);\n}/* harmony default export */ var src_ParseData = (ParseData);\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(124);\n\n// EXTERNAL MODULE: ./node_modules/jquery/dist/jquery.js\nvar jquery = __webpack_require__(3);\nvar jquery_default = /*#__PURE__*/__webpack_require__.n(jquery);\n\n// EXTERNAL MODULE: ./node_modules/select2/dist/js/select2.js\nvar select2 = __webpack_require__(125);\n\n// EXTERNAL MODULE: ./node_modules/select2/dist/css/select2.min.css\nvar select2_min = __webpack_require__(126);\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.js\nvar mapbox_gl = __webpack_require__(16);\nvar mapbox_gl_default = /*#__PURE__*/__webpack_require__.n(mapbox_gl);\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.css\nvar dist_mapbox_gl = __webpack_require__(127);\n\n// CONCATENATED MODULE: ./src/Map.js\n// eslint-disable-line import/no-webpack-loader-syntax\nmapbox_gl_default.a.accessToken='pk.eyJ1IjoiZ28taWZyYyIsImEiOiJjams3b2ZhZWswMGFvM3hxeHp2ZHFhOTRrIn0._pqO9OQ2iNeDGrpopJNjpg';var map;var dots;var maxSize=15;var mapTooltip;function createMap(data,options,filter){d3_src[\"p\" /* select */]('#map-refresh').attr('display','none').style('cursor','pointer').on('click',function(d,i){map.setCenter([8,22]);map.setZoom(0);d3_src[\"p\" /* select */]('#map-refresh').attr('display','none');});map=new mapbox_gl_default.a.Map({container:'map_div',// container ID\n// style: 'mapbox://styles/go-ifrc/ck9tz6f150ub11ip8j97wrsww', // style URL\nstyle:'mapbox://styles/go-ifrc/ckqrsg27f1cwu17pex8w2de2e',// style URL\ncenter:[8,22],// starting position [lng, lat]\nzoom:0// starting zoom\n});map.setRenderWorldCopies(false);map.addControl(new mapbox_gl_default.a.NavigationControl());map.on('zoom',function(){d3_src[\"p\" /* select */]('#map-refresh').attr('display','inline');});map.on('touchmove',function(){d3_src[\"p\" /* select */]('#map-refresh').attr('display','inline');});map.on('wheel',function(){d3_src[\"p\" /* select */]('#map-refresh').attr('display','inline');});map.on('drag',function(){d3_src[\"p\" /* select */]('#map-refresh').attr('display','inline');});var container=map.getCanvasContainer();var svg=d3_src[\"p\" /* select */](container).append(\"svg\").attr('id','mapoverlay').attr(\"width\",\"100%\").attr(\"height\",\"24vw\").style(\"position\",\"absolute\").style(\"z-index\",2);mapTooltip=d3_src[\"p\" /* select */]('#map_tooltip').attr('opacity',1).attr('transform','translate(0,0)').attr('display','inline');// dots = svg\n// .selectAll(\".country-map\")\n// .data(data.world)\n// .enter()\n// .append(\"circle\")\n// .attr('class', 'country-map')\n// .attr('id', function(d,i){ return 'country-map-'+d.iso2 })\n// .attr(\"r\", 0)\n// var maxValue = d3.max(data.country, function(d,i){\n//     return d[1].cumulative_cases;\n// })\n// var rScale = d3.scalePow().exponent(0.5)\n//   .domain([0, maxValue])\n//   .range([0, 15]);\n// data.country.forEach(function(d,i){\n//     d3.select('#country-'+d[0]).attr('r', rScale(d[1].cumulative_cases))\n//     .attr('data-name', d[1].country)\n// })\ndocument.getElementById(\"mapoverlay\").appendChild(d3_src[\"p\" /* select */]('#map_tooltip').node());mapTooltip.attr('display','none');map.on('load',function(e){map.setPaintProperty('countries','fill-opacity-transition',{duration:0,delay:0});Map_updateMap(data,options);});}function Map_updateMap(data,options){var duration=800;var delay=10;map.setLayoutProperty('countries','visibility','none');if(options.map_toggle=='bi-weekly-change'){var maxIncrease=d3_src[\"i\" /* max */](data.country,function(d,i){return d[1].percent_change;});var maxDecrease=d3_src[\"k\" /* min */](data.country,function(d,i){return d[1].percent_change;});// var rScale = d3.scalePow().exponent(0.5)\n// .domain([-1, 0, 1])\n// .range([maxSize, 0, maxSize])\n// .clamp(true);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.country.forEach(function(d,i){\n//     d3.select('#country-map-'+d[0])\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(d[1].percent_change))\n//     .style('stroke', function(){\n//         // if(d[1].percent_change>1){ return '#E02225'} else { return '#1F558C'}\n//         return '#FFF'\n//     }).style('fill', function(){\n//         if(d[1].percent_change>0){ return colors.red } else { return colors.blue}\n//     })\n// })\nvar colorScale=d3_src[\"m\" /* scaleLinear */]()// .domain([-1, 0, 1])\n.domain([-.3,0,.3]).range([src_colors.blue,src_colors.lightgrey,src_colors.red]);// .clamp(true);\nvar fillColorArray=['case'];data.country.forEach(function(d,i){fillColorArray.push(['==',['get',\"iso\"],d[0]]);fillColorArray.push(colorScale(d[1].percent_change));});if(fillColorArray.length>1){fillColorArray.push(src_colors.darkgrey);map.setPaintProperty('countries','fill-color',fillColorArray);}}if(options.map_toggle=='cases'){var maxValue=d3_src[\"i\" /* max */](data.country,function(d,i){return d[1].cumulative_cases;});// var rScale = d3.scalePow().exponent(0.5)\n// .domain([0, maxValue])\n// .range([0, maxSize]);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.country.forEach(function(d,i){\n//     d3.select('#country-map-'+d[0])\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(d[1].cumulative_cases))\n//     .style('fill', colors.red)\n//     .style('stroke', '#FFF');\n// })\nvar colorScale=d3_src[\"m\" /* scaleLinear */]().domain([0,maxValue]).range([src_colors.lightgrey,src_colors.red]);var fillColorArray=['case'];data.country.forEach(function(d,i){fillColorArray.push(['==',['get',\"iso\"],d[0]]);fillColorArray.push(colorScale(d[1].cumulative_cases));});if(fillColorArray.length>1){fillColorArray.push(src_colors.darkgrey);map.setPaintProperty('countries','fill-color',fillColorArray);}}if(options.map_toggle=='deaths'){var maxValue=d3_src[\"i\" /* max */](data.country,function(d,i){return d[1].cumulative_deaths;});// var rScale = d3.scalePow().exponent(0.5)\n// .domain([0, maxValue])\n// .range([0, maxSize]);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.country.forEach(function(d,i){\n//     d3.select('#country-map-'+d[0])\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(d[1].cumulative_deaths))\n//     .style('fill', colors.red)\n//     .style('stroke', '#FFF');\n// })\nvar colorScale=d3_src[\"m\" /* scaleLinear */]().domain([0,maxValue]).range([src_colors.lightgrey,src_colors.red]);var fillColorArray=['case'];data.country.forEach(function(d,i){fillColorArray.push(['==',['get',\"iso\"],d[0]]);fillColorArray.push(colorScale(d[1].cumulative_deaths));});if(fillColorArray.length>1){fillColorArray.push(src_colors.darkgrey);map.setPaintProperty('countries','fill-color',fillColorArray);}}if(options.map_toggle=='percent-fully-vaccinated'){var maxValue=d3_src[\"i\" /* max */](data.vGroup,function(d,i){return parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;});// var rScale = d3.scalePow().exponent(0.55)\n// .domain([0, 1])\n// .range([1, maxSize])\n// .clamp(true);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.vGroup.forEach(function(d,i){\n//     var peoplevaccinated = parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;\n//     if(isNaN(peoplevaccinated)) peoplevaccinated = 0;\n//     d3.select('#country-map-'+d[1][0].country_code)\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(peoplevaccinated))\n//     .style('stroke', '#FFF')\n//     .style('fill', function(){\n//         return colors.blue;\n//     })\n// })\nvar colorScale=d3_src[\"m\" /* scaleLinear */]().domain([0,maxValue]).range([src_colors.lightgrey,src_colors.blue]);var fillColorArray=['case'];data.vGroup.forEach(function(d,i){var peoplevaccinated=parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;if(isNaN(peoplevaccinated))peoplevaccinated=0;if(peoplevaccinated>0){if(d[1][0].country_code)fillColorArray.push(['==',['get',\"iso\"],d[1][0].country_code]);if(d[1][0].country_code)fillColorArray.push(colorScale(peoplevaccinated));}});if(fillColorArray.length>1){fillColorArray.push(src_colors.darkgrey);map.setPaintProperty('countries','fill-color',fillColorArray);}else{map.setPaintProperty('countries','fill-color',src_colors.darkgrey);}}if(options.map_toggle=='percent-vaccine-acceptance'){var maxValue=d3_src[\"i\" /* max */](data.vGroup,function(d,i){return parseFloat(d[1][0].vaccine_acceptance_percent)/100;});// var rScale = d3.scalePow().exponent(1)\n// .domain([0, 1])\n// .range([1, maxSize*.7])\n// // .clamp(true);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.vGroup.forEach(function(d,i){\n//     var vaccine_acceptance_percent = parseFloat(d[1][0].vaccine_acceptance_percent/100);\n//     if(isNaN(vaccine_acceptance_percent)) vaccine_acceptance_percent = 0;\n//     d3.select('#country-map-'+d[1][0].country_code)\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(vaccine_acceptance_percent))\n//     .style('stroke', '#FFF')\n//     .style('fill', function(){\n//         return colors.blue;\n//     })\n// })\nvar colorScale=d3_src[\"m\" /* scaleLinear */]().domain([0,maxValue]).range([src_colors.lightgrey,src_colors.blue]);var fillColorArray=['case'];data.vGroup.forEach(function(d,i){var vaccine_acceptance_percent=parseFloat(d[1][0].vaccine_acceptance_percent)/100;if(isNaN(vaccine_acceptance_percent))vaccine_acceptance_percent=0;if(vaccine_acceptance_percent>0){if(d[1][0].country_code)fillColorArray.push(['==',['get',\"iso\"],d[1][0].country_code]);if(d[1][0].country_code)fillColorArray.push(colorScale(vaccine_acceptance_percent));}});if(fillColorArray.length>1){fillColorArray.push(src_colors.darkgrey);map.setPaintProperty('countries','fill-color',fillColorArray);}else{map.setPaintProperty('countries','fill-color',src_colors.darkgrey);}}mapTooltip.attr('display','none');map.on('mousemove',function(e){var features=map.queryRenderedFeatures(e.point);var displayProperties=['type','properties','id','layer','source','sourceLayer','state'];if(features.length==1&&features[0].layer.id=='countries'){var id=features[0].properties.iso;var countryfiltered=data.equity_data.filter(function(d){return d.country_iso2==id;});var countryName;if(countryfiltered[0])countryName=countryfiltered[0].country_name;mapTooltip.select('#map_tooltip_name tspan').text(countryName);if(mapTooltip.select('#map_tooltip_name tspan').text().length==0){mapTooltip.attr('display','none');};if(options.map_toggle=='cases'){var country=data.country.filter(function(d){return d[1].country_code==id;})[0];if(!country||country.length==0)return false;mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_cases)+' cases');}if(options.map_toggle=='deaths'){var country=data.country.filter(function(d){return d[1].country_code==id;})[0];if(!country||country.length==0)return false;mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_deaths)+' deaths');}if(options.map_toggle=='bi-weekly-change'){var country=data.country.filter(function(d){return d[1].country_code==id;})[0];if(!country||country.length==0)return false;var val=(country[1].percent_change*100).toFixed(1);var str='';if(val>=0){str='% increase';}else{str='% decrease';}mapTooltip.select('#map_tooltip_val tspan').text(Math.abs(val)+str);}if(options.map_toggle=='percent-fully-vaccinated'){var country=data.vGroup.filter(function(d){return d[1][0].country_code==id;});if(!country||country.length==0)return false;if(!country[0][1])return false;country=country[0][1];var val=parseFloat(country[0].people_fully_vaccinated_per_hundred).toFixed(1);if(isNaN(val)){val='-';}else{val=val+'% fully vaccinated';}mapTooltip.select('#map_tooltip_val tspan').text(val);}if(options.map_toggle=='percent-vaccine-acceptance'){var country=data.vGroup.filter(function(d){return d[1][0].country_code==id;});if(!country||country.length==0)return false;if(!country[0][1])return false;country=country[0][1];var val=parseFloat(country[0].vaccine_acceptance_percent).toFixed(1);if(isNaN(val)){val='-';}else{val=val+'% vaccine acceptance';}mapTooltip.select('#map_tooltip_val tspan').text(val);}var str=mapTooltip.select('#map_tooltip_val tspan').text();if(str.includes('NaN'))mapTooltip.attr('display','none');d3_src[\"p\" /* select */]('#map_tooltip_bg').attr('width',20);var bbox=d3_src[\"p\" /* select */]('#map_tooltip_text').node().getBBox();d3_src[\"p\" /* select */]('#map_tooltip_bg').attr('width',parseFloat(bbox.width)+15);var scale=window.innerWidth/1329;mapTooltip.attr('display','inline').attr('transform','translate('+(e.point.x+20)+','+e.point.y+')scale('+scale+')');var heightOffset=mapTooltip.node().getBBox();if(mapTooltip.select('#map_tooltip_name tspan').text().length==0){mapTooltip.attr('display','none');};// mapTooltip.attr('transform', 'translate('+(project(([d.lng, d.lat])).x+3)+','+(project(([d.lng, d.lat])).y+2-heightOffset.height/2)+')scale('+scale+')');\n}else{mapTooltip.attr('display','none');}});// function render() {\n//     dots\n//       .attr(\"cx\", function(d) {\n//         return project(([d.lng, d.lat])).x;\n//       })\n//       .attr(\"cy\", function(d) {\n//         return project(([d.lng, d.lat])).y;\n//       });\n//   }\n// map.on(\"viewreset\", render);\n// map.on(\"move\", render);\n// map.on(\"moveend\", render);\n// render(); // Call once to render\n// tooltips\n// var mapTooltip = d3.select('#map_tooltip').attr('opacity', 1).attr('transform', 'translate(0,0)').attr('display', 'none');\n// d3.selectAll('.country-map').on('mousemove', function(event, d){\n//     var id = d3.select(this).attr('id').substr(12,2);\n//     var countryfiltered = data.equity_data.filter(d=>d.country_iso2 == id);\n//     var countryName;\n//     if(countryfiltered[0]) countryName = countryfiltered[0].country_name;\n//     mapTooltip.select('#map_tooltip_name tspan').text(countryName);\n//     if(options.map_toggle=='cases'){\n//         var country = data.country.filter(d=>d[1].country_code == id)[0];\n//         if((!country)||(country.length==0)) return false;\n//         mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_cases)+' cases');\n//     }\n//     if(options.map_toggle=='deaths'){\n//         var country = data.country.filter(d=>d[1].country_code == id)[0];\n//         if((!country)||(country.length==0)) return false;\n//         mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_deaths)+' deaths');\n//     }\n//     if(options.map_toggle=='bi-weekly-change'){\n//         var country = data.country.filter(d=>d[1].country_code == id)[0];\n//         if((!country)||(country.length==0)) return false;\n//         var val = ((country[1].percent_change)*100).toFixed(1);\n//         var str = '';\n//         if(val>=0){\n//             str = '% increase';\n//         } else {\n//             str = '% decrease';\n//         }\n//         mapTooltip.select('#map_tooltip_val tspan').text(Math.abs(val)+str);\n//     }\n//     if(options.map_toggle=='percent-fully-vaccinated'){\n//         var country = data.vGroup.filter(d=>d[1][0].country_code == id)[0][1];\n//         if((!country)||(country.length==0)) return false;\n//         mapTooltip.select('#map_tooltip_val tspan').text(parseFloat(country[0].people_fully_vaccinated_per_hundred).toFixed(1)+'% fully vaccinated');\n//     }\n//     if(options.map_toggle=='percent-vaccine-acceptance'){\n//         var country = data.vGroup.filter(d=>d[1][0].country_code == id)[0][1];\n//         if((!country)||(country.length==0)) return false;\n//         mapTooltip.select('#map_tooltip_val tspan').text(parseFloat(country[0].vaccine_acceptance_percent).toFixed(1)+'% vaccine acceptance');\n//     }\n//     d3.select('#map_tooltip_bg').attr('width', 0)\n//     var bbox = mapTooltip.node().getBBox();\n//     d3.select('#map_tooltip_bg').attr('width', (parseFloat(bbox.width)+2))\n//     var scale = window.innerWidth/1329;\n//     mapTooltip\n//     .attr('display', 'inline')\n//     .attr('transform', 'translate('+project(([d.lng, d.lat])).x+','+project(([d.lng, d.lat])).y+')scale('+scale+')');\n//     var heightOffset = mapTooltip.node().getBBox();\n//     mapTooltip.attr('transform', 'translate('+(project(([d.lng, d.lat])).x+3)+','+(project(([d.lng, d.lat])).y+2-heightOffset.height/2)+')scale('+scale+')');\n// }).on('mouseout', function(event){\n//     if(event.toElement=='tspan') return false;\n//     mapTooltip.attr('display', 'none');\n// })\nmap.setLayoutProperty('countries','visibility','visible');}// function project(d) {\n//     return map.project(new mapboxgl.LngLat(d[0], d[1]));\n// }\n/* harmony default export */ var Map = (createMap);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/App.js\n/* \"homepage\": \"https://matthewsmawfield.github.io/ifrc-covid-dataviz\", */var equityDataUrl='./data/equity_data.csv';var layoutUrl=\"./images/layout.svg\";var whoDataUrl=\"./data/who_global_cases.csv\";// https://covid19.who.int/WHO-COVID-19-global-data.csv\nvar worldUrl=\"./data/world-wb5.geojson\";// const worldUrl = \"./data/world_points.csv\";\nvar vaccinesDataUrl=\"./data/owid_vaccinations.csv\";// https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.csv\nvar vaccinesWhoDataUrl=\"./data/who_vaccination_data.csv\";// https://covid19.who.int/who-data/vaccination-data.csv\nvar timelineDataUrl=\"./data/timeline.csv\";var keyFiguresDataUrl=\"./data/key_figures.csv\";var selfAssessmentDataUrl=\"./data/self_assessment.csv\";var vaccineAcceptanceDataUrl=\"./data/vaccine_acceptance.csv\";var App_data={};var regionOptions=[{id:'AM',text:'Americas'},{id:'EU',text:'Europe'},{id:'AP',text:'Asia-Pacific'},{id:'ME',text:'Middle East and North Africa'},{id:'AF',text:'Africa'}];var countryOptions=[];function App_App(){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),progress=_useState2[0],setProgress=_useState2[1];var _useState3=Object(react[\"useState\"])('Loading SVG layout...'),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loaderText=_useState4[0],setLoaderText=_useState4[1];function init(){return _init.apply(this,arguments);}function _init(){_init=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var layout;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// data source 1: layout.svg\nlayout=d3_src[\"u\" /* xml */](layoutUrl);layout.then(function(d){d3_src[\"p\" /* select */]('#svg_container').node().append(d3_src[\"p\" /* select */](d.documentElement).attr('width','100%').attr('height','auto').node());var svg=d3_src[\"p\" /* select */]('#svg_container svg');svg.select('title').remove();svg.attr('id','svg');src_Layout(svg,Options,App_data,filter,updateTable,Map_updateMap);setProgress(0.1);setLoaderText('Loading equity data CSV...');// data source 2: equity_data.csv\nvar equityData=d3_src[\"e\" /* csv */](equityDataUrl);equityData.then(function(d){App_data.equity_data=d;d.forEach(function(d,i){countryOptions.push({'text':d.country_name,'id':'Country-'+d.country_iso2});});createSelects();setProgress(0.1);setLoaderText('Loading WHO data CSV...');// data source 1: owid_vaccines.csv\nvar vaccinesData=d3_src[\"e\" /* csv */](vaccinesDataUrl);vaccinesData.then(function(d){App_data.vaccines_data=d;setProgress(0.07);setLoaderText('Loading OWID vaccines data...');// data source 2: vaccinesWhoData.csv\nvar vaccinesWhoData=d3_src[\"e\" /* csv */](vaccinesWhoDataUrl);vaccinesWhoData.then(function(d){App_data.vaccines_who_data=d;setProgress(0.15);setLoaderText('Loading OWID vaccines data...');// data source 3: self_assessment.csv\nvar selfAssessmentData=d3_src[\"e\" /* csv */](selfAssessmentDataUrl);selfAssessmentData.then(function(d){App_data.self_assessment=d;setProgress(0.22);setLoaderText('Loading self assessment...');// data source 4: vaccine_acceptance.csv\nvar vaccineAcceptanceData=d3_src[\"e\" /* csv */](vaccineAcceptanceDataUrl);vaccineAcceptanceData.then(function(d){App_data.vaccine_acceptance=d;setProgress(0.3);setLoaderText('Loading vaccine acceptance data...');// data source 3: timeline.csv\nvar timelineData=d3_src[\"e\" /* csv */](timelineDataUrl);timelineData.then(function(d){App_data.timeline_data=d;setProgress(0.4);setLoaderText('Loading timeline events...');// data source 4: key_figures.csv\nvar keyFiguresData=d3_src[\"e\" /* csv */](keyFiguresDataUrl);keyFiguresData.then(function(d){App_data.key_figures=d;setProgress(0.45);setLoaderText('Loading key figures data...');// data source 5: who_global_cases.csv\nvar whoData=d3_src[\"e\" /* csv */](whoDataUrl);whoData.then(function(d){App_data.who_data=d;setProgress(0.8);setLoaderText('Loading World Map...');// data source 6: world-wb5.geojson\n// const world = d3.csv(worldUrl);\nvar world=d3_src[\"h\" /* json */](worldUrl);world.then(function(d){App_data.world=d;setLoaderText('Loading complete.');setProgress(1);src_ParseData(App_data,Options);createCharts();d3_src[\"p\" /* select */]('#loaderDiv').transition().duration(1000).style('opacity',0).on(\"end\",function(){return d3_src[\"p\" /* select */]('#loaderDiv').remove();});});});});});});});});});});});case 2:case\"end\":return _context.stop();}}},_callee);}));return _init.apply(this,arguments);}function createCharts(){d3_src[\"p\" /* select */]('#who_data_date tspan').text(moment_default()(Options.maxDataDate).format('ll'));d3_src[\"p\" /* select */]('#owid_data_date tspan').text(moment_default()(Options.maxVDataDate).format('ll'));drawTimechart(App_data,Options);drawRegionchart(App_data,Options,filter);updateTable(App_data,Options);updateTotals(App_data,Options);createMap(App_data,Options,filter);drawBubblechart(App_data,Options,filter);}function filter(id,e){Options.page=1;if(id=='clear'){Options.region_filter=[];Options.country_filter=[];d3_src[\"p\" /* select */]('#reset_locations').attr('display','none');}if(id=='clear-region'){Options.region_filter=[];}if(id=='clear-hdi'){Options.hdi_filter=[];}if(id=='clear-inform'){Options.inform_filter=[];}if(id.length==1&&id[0].length==2&&id!='filter'){if(Options.region_filter.includes(id[0])){Options.region_filter=Options.region_filter.filter(function(d){return d!==id[0];});}else{Options.region_filter.push(id[0]);}}if(Options.region_filter.length==5)Options.region_filter=[];if(Options.region_filter.length>0){d3_src[\"p\" /* select */]('#region_remove_filter').attr('opacity',1);d3_src[\"q\" /* selectAll */]('.bar-labels').attr('opacity',0.5);Options.region_filter.forEach(function(d,i){d3_src[\"p\" /* select */]('.bar-label-'+d).attr('opacity',1);});}else{d3_src[\"p\" /* select */]('#region_remove_filter').attr('opacity',0);d3_src[\"q\" /* selectAll */]('.bar-labels').attr('opacity',1);}App_data.equity_data=App_data.original.equity_data;var hdi_countries=[];if(Options.hdi_filter.length>0){d3_src[\"p\" /* select */]('#hdi_remove_filter').attr('opacity',1);App_data.equity_data.forEach(function(d,i){if(Options.hdi_filter.includes(d.hdi_category)){hdi_countries.push(d.country_iso2);}});}else{d3_src[\"p\" /* select */]('#hdi_remove_filter').attr('opacity',0);}var inform_countries=[];if(Options.inform_filter.length>0){d3_src[\"p\" /* select */]('#inform_remove_filter').attr('opacity',1);App_data.equity_data.forEach(function(d,i){if(Options.inform_filter.includes(d.inform_severity)){inform_countries.push(d.country_iso2);}});}else{d3_src[\"p\" /* select */]('#inform_remove_filter').attr('opacity',0);}if(id.length==1&&id[0].length>2){var code=id[0].substring(8);if(Options.country_filter.includes(code)){Options.country_filter=Options.country_filter.filter(function(d){return d!==code;});}else{Options.country_filter.push(code);}}if(Options.region_filter.length==0&&Options.country_filter.length==0){d3_src[\"p\" /* select */]('#reset_locations').attr('display','none');}var countryIds=[];Options.country_filter.forEach(function(d,i){countryIds.push('Country-'+d);});if(Options.region_filter.length>0||Options.country_filter.length>0){d3_src[\"p\" /* select */]('#reset_locations').attr('display','inline');}else{d3_src[\"p\" /* select */]('#reset_locations').attr('display','none');}var mergeFilter=Options.region_filter.concat(countryIds);jquery_default()('#regionSelect').val(mergeFilter);jquery_default()('#regionSelect').trigger('change');// update data\nApp_data.who_data=App_data.original.who_data;if(inform_countries.length>0){App_data.who_data=App_data.who_data.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.who_data=App_data.who_data.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}App_data.vaccines_data_cumulative=App_data.original.vaccines_data_cumulative;if(inform_countries.length>0){App_data.vaccines_data_cumulative=App_data.vaccines_data_cumulative.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.vaccines_data_cumulative=App_data.vaccines_data_cumulative.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}App_data.vaccines_data_daily=App_data.original.vaccines_data_daily;if(inform_countries.length>0){App_data.vaccines_data_daily=App_data.vaccines_data_daily.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.vaccines_data_daily=App_data.vaccines_data_daily.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}if(inform_countries.length>0){App_data.equity_data=App_data.equity_data.filter(function(d,i){return inform_countries.includes(d.country_iso2);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.equity_data=App_data.equity_data.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_iso2))&&hdi_countries.includes(d.country_iso2);}else{return hdi_countries.includes(d.country_iso2);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_iso2);}});}handleSelectLength();updateCharts();}function updateCharts(){updateRegionchart(Options,App_data);updateTable(App_data,Options);updateTotals(App_data,Options);updateTimechart(App_data,Options);Map_updateMap(App_data,Options);updateBubblechart(App_data,Options,filter);}function updateTotals(data,options){var totalCases=d3_src[\"r\" /* sum */](data.cumulative_totals,function(d){return d.cumulative_cases;});var totalDeaths=d3_src[\"r\" /* sum */](data.cumulative_totals,function(d){return d.cumulative_deaths;});var numCountriesFiltered=d3_src[\"f\" /* flatGroup */](data.who_data,function(d){return d.country_code;}).length;var countries=d3_src[\"f\" /* flatGroup */](data.who_data,function(d){return d.country_code;});// var totalVaccines = d3.sum(data.cumulative_totals, d=>d.cumulative_vaccines));\nvar totalVaccines=d3_src[\"r\" /* sum */](data.equity_data,function(d){return d.total_vaccinations;});data.country=[];countries.forEach(function(d,i){var cases4weeksAgo=d[1][d[1].length-28].cumulative_cases;var cases2WeeksAgo=d[1][d[1].length-14].cumulative_cases;var cases1WeeksAgo=d[1][d[1].length-7].cumulative_cases;var casesLatest=d[1][d[1].length-1];var percentChange=parseFloat((casesLatest.cumulative_cases-cases2WeeksAgo-(cases2WeeksAgo-cases4weeksAgo))/cases4weeksAgo);if(isFinite(percentChange)){casesLatest.percent_change=percentChange;}else{casesLatest.percent_change=0;}data.country.push([d[0],casesLatest,cases2WeeksAgo,cases4weeksAgo,cases1WeeksAgo]);});// update hdi numbers\nvar hdiData={'very-high':0,'high':0,'medium':0,'low':0};var hdiDataPopulation={'very-high':0,'high':0,'medium':0,'low':0};var hdiDataVaccines={'very-high':0,'high':0,'medium':0,'low':0};var hdiContactTracing={'very-high':0,'high':0,'medium':0,'low':0};var hdiTotalCasesData={'very-high':0,'high':0,'medium':0,'low':0};var hdiTestingData={'very-high':[],'high':[],'medium':[],'low':[]};var informData={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informDataPopulation={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informDataVaccines={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informContactTracing={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informTotalCasesData={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informTestingData={'very-high':[],'high':[],'medium':[],'low':[],'no-score':[]};var totalRecordedPopulation=0;data.vaccine_types=[];var vaccinesper100=[];var vaccineper100byPop={'total_population':0,'vaccine_population':0};var numNsInvolvedCountres=0;var vaccineAcceptance={'total_population':0,'accept_population':0};if(totalCases>0){data.equity_data.forEach(function(dd,ii){dd.vaccines_used.forEach(function(ddd){if(!data.vaccine_types.includes(ddd))data.vaccine_types.push(ddd);});if(isNaN(dd.total_vaccinations))dd.total_vaccinations=0;hdiData[dd.hdi_category]+=1;hdiDataPopulation[dd.hdi_category]+=parseInt(dd.population);hdiDataVaccines[dd.hdi_category]+=parseInt(dd.total_vaccinations)||0;numNsInvolvedCountres+=dd.ns_involvement;informData[dd.inform_severity]+=1;informContactTracing[dd.inform_severity]+=dd.contract_tracing;hdiContactTracing[dd.hdi_category]+=dd.contract_tracing;if(dd.hdi_category=='very-high'||dd.hdi_category=='high'||dd.hdi_category=='medium'||dd.hdi_category=='low')hdiTestingData[dd.hdi_category].push(dd.avg_tests_per_1000);if(dd.inform_severity=='very-high'||dd.inform_severity=='high'||dd.inform_severity=='medium'||dd.inform_severity=='low'||dd.inform_severity=='no-score')informTestingData[dd.inform_severity].push(dd.avg_tests_per_1000);informDataPopulation[dd.inform_severity]+=parseInt(dd.population);informDataVaccines[dd.inform_severity]+=parseInt(dd.total_vaccinations)||0;var dat=countries.filter(function(d){return d[0]==dd.country_iso2;});if(dat[0][1].length>0&&dat[0]){var lastRecord=dat[0][1][dat[0][1].length-1];// hdi index\nhdiTotalCasesData[dd.hdi_category]+=lastRecord.cumulative_cases;informTotalCasesData[dd.inform_severity]+=lastRecord.cumulative_cases;}// vaccine per 100 by country average\nif(dd.vaccines_per_100>0)vaccinesper100.push([dd.vaccines_per_100,dd.population]);// vaccine per 100 by population\nvar population=0;if(dd.vaccine_acceptance_population){population=dd.vaccine_acceptance_population;}else if(dd.population){population=dd.population;}if(dd.vaccines_per_100>0&&population>0)vaccineper100byPop.total_population+=parseInt(population);if(dd.vaccines_per_100>0&&population>0)vaccineper100byPop.vaccine_population+=population*(dd.vaccines_per_100/100);// vaccine acceptance\nif(dd.vaccine_acceptance_population>0)vaccineAcceptance.total_population+=dd.vaccine_acceptance_population;if(dd.vaccine_acceptance_population>0)vaccineAcceptance.accept_population+=dd.vaccine_acceptance_population*dd.vaccine_acceptance_percent;});}// vaccine acceptance percent\nvar vaccineAcceptancePercent=(vaccineAcceptance.accept_population/vaccineAcceptance.total_population).toFixed(1);// vaccine doses per 100\nvar vaccinePer100ByPopulation=(vaccineper100byPop.vaccine_population/vaccineper100byPop.total_population*100).toFixed(1);var vaccinePer100ByCountry=d3_src[\"j\" /* mean */](data.vGroup,function(d){return d[1][0].total_vaccinations_per_hundred;});d3_src[\"q\" /* selectAll */]('.vaccine_type').remove();d3_src[\"p\" /* select */]('#vaccine_tooltip_bg').attr('height',1);data.vaccine_types.forEach(function(d,i){d3_src[\"p\" /* select */](\"#vaccine_tooltip\").append('text').attr('font-size',9).attr('fill','#000').attr('class','vaccine_type').append('tspan').text(d).attr('dx',6).attr('dy',i*1.3+1.8+'em');});var vtooltipbbox=d3_src[\"p\" /* select */]('#vaccine_tooltip').node().getBBox();d3_src[\"p\" /* select */]('#vaccine_tooltip_bg').attr('height',vtooltipbbox.height+6);// new cases\nvar newCases=d3_src[\"r\" /* sum */](data.country,function(d){return d[4];});// hide bars \nif(totalCases==0){d3_src[\"q\" /* selectAll */]('.bar_group').attr('opacity',0);}else{d3_src[\"q\" /* selectAll */]('.bar_group').attr('opacity',1);}var totalHdiPop=hdiDataPopulation['very-high']+hdiDataPopulation['high']+hdiDataPopulation['medium']+hdiDataPopulation['low'];var totalInformPop=informDataPopulation['very-high']+informDataPopulation['high']+informDataPopulation['medium']+informDataPopulation['low']+informDataPopulation['no-score'];// update additional indicators\n// row 0 percent of vaccinations by hdi\nd3_src[\"p\" /* select */]('#hdi-percent-val-very-high tspan').text(parse(hdiTotalCasesData['very-high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi-percent-bar-very-high').transition().duration(500).attr('width',parse(hdiTotalCasesData['very-high']/totalCases)*70);d3_src[\"p\" /* select */]('#hdi-percent-val-high tspan').text(parse(hdiTotalCasesData['high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi-percent-bar-high').transition().duration(500).attr('width',parse(hdiTotalCasesData['high']/totalCases)*70);d3_src[\"p\" /* select */]('#hdi-percent-val-medium tspan').text(parse(hdiTotalCasesData['medium']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi-percent-bar-medium').transition().duration(500).attr('width',parse(hdiTotalCasesData['medium']/totalCases)*70);d3_src[\"p\" /* select */]('#hdi-percent-val-low tspan').text(parse(hdiTotalCasesData['low']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi-percent-bar-low').transition().duration(500).attr('width',parse(hdiTotalCasesData['low']/totalCases)*70);d3_src[\"p\" /* select */]('#inform-percent-val-very-high tspan').text(parse(informTotalCasesData['very-high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform-percent-bar-very-high').transition().duration(500).attr('width',parse(informTotalCasesData['very-high']/totalCases)*64);d3_src[\"p\" /* select */]('#inform-percent-val-high tspan').text(parse(informTotalCasesData['high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform-percent-bar-high').transition().duration(500).attr('width',parse(informTotalCasesData['high']/totalCases)*64);d3_src[\"p\" /* select */]('#inform-percent-val-medium tspan').text(parse(informTotalCasesData['medium']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform-percent-bar-medium').transition().duration(500).attr('width',parse(informTotalCasesData['medium']/totalCases)*64);d3_src[\"p\" /* select */]('#inform-percent-val-low tspan').text(parse(informTotalCasesData['low']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform-percent-bar-low').transition().duration(500).attr('width',parse(informTotalCasesData['low']/totalCases)*64);d3_src[\"p\" /* select */]('#inform-percent-val-no-score tspan').text(parse(informTotalCasesData['no-score']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform-percent-bar-no-score').transition().duration(500).attr('width',parse(informTotalCasesData['no-score']/totalCases)*64);d3_src[\"p\" /* select */]('#hdi-toggle-very-high-val tspan').text(hdiData['very-high']).style('text-anchor','end').attr('dx','10');d3_src[\"p\" /* select */]('#hdi-toggle-high-val tspan').text(hdiData['high']).style('text-anchor','end').attr('dx','10');d3_src[\"p\" /* select */]('#hdi-toggle-medium-val tspan').text(hdiData['medium']).style('text-anchor','end').attr('dx','10');d3_src[\"p\" /* select */]('#hdi-toggle-low-val tspan').text(hdiData['low']).style('text-anchor','end').attr('dx','10');d3_src[\"p\" /* select */]('#inform-toggle-very-high-val tspan').text(informData['very-high']).style('text-anchor','end').attr('dx','6');d3_src[\"p\" /* select */]('#inform-toggle-high-val tspan').text(informData['high']).style('text-anchor','end').attr('dx','10');d3_src[\"p\" /* select */]('#inform-toggle-medium-val tspan').text(informData['medium']).style('text-anchor','end').attr('dx','9');d3_src[\"p\" /* select */]('#inform-toggle-low-val tspan').text(informData['low']).style('text-anchor','end').attr('dx','7');d3_src[\"p\" /* select */]('#inform-toggle-no-score-val tspan').text(informData['no-score']).style('text-anchor','end').attr('dx','13');// row 1 percnet of vaccinations by hdi\nd3_src[\"p\" /* select */]('#hdi1val-very-high tspan').text(parse(hdiDataPopulation['very-high']/totalHdiPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi1bar-very-high').transition().duration(500).attr('width',parse(hdiDataPopulation['very-high']/totalHdiPop)*70);d3_src[\"p\" /* select */]('#hdi1val-high tspan').text(parse(hdiDataPopulation['high']/totalHdiPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi1bar-high').transition().duration(500).attr('width',parse(hdiDataPopulation['high']/totalHdiPop)*70);d3_src[\"p\" /* select */]('#hdi1val-medium tspan').text(parse(hdiDataPopulation['medium']/totalHdiPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi1bar-medium').transition().duration(500).attr('width',parse(hdiDataPopulation['medium']/totalHdiPop)*70);d3_src[\"p\" /* select */]('#hdi1val-low tspan').text(parse(hdiDataPopulation['low']/totalHdiPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi1bar-low').transition().duration(500).attr('width',parse(hdiDataPopulation['low']/totalHdiPop)*70);d3_src[\"p\" /* select */]('#inform1val-very-high tspan').text(parse(informDataPopulation['very-high']/totalInformPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform1bar-very-high').transition().duration(500).attr('width',parse(informDataPopulation['very-high']/totalInformPop)*64);d3_src[\"p\" /* select */]('#inform1val-high tspan').text(parse(informDataPopulation['high']/totalInformPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform1bar-high').transition().duration(500).attr('width',parse(informDataPopulation['high']/totalInformPop)*64);d3_src[\"p\" /* select */]('#inform1val-medium tspan').text(parse(informDataPopulation['medium']/totalInformPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform1bar-medium').transition().duration(500).attr('width',parse(informDataPopulation['medium']/totalInformPop)*64);d3_src[\"p\" /* select */]('#inform1val-low tspan').text(parse(informDataPopulation['low']/totalInformPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform1bar-low').transition().duration(500).attr('width',parse(informDataPopulation['low']/totalInformPop)*64);d3_src[\"p\" /* select */]('#inform1val-no-score tspan').text(parse(informDataPopulation['no-score']/totalInformPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform1bar-no-score').transition().duration(500).attr('width',parse(informDataPopulation['no-score']/totalInformPop)*64);// row 2 percent of total vaccinations\nd3_src[\"p\" /* select */]('#hdi2val-very-high tspan').text(parse(hdiDataVaccines['very-high']/totalVaccines*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi2bar-very-high').transition().duration(500).attr('width',parse(hdiDataVaccines['very-high']/totalVaccines)*70);d3_src[\"p\" /* select */]('#hdi2val-high tspan').text(parse(hdiDataVaccines['high']/totalVaccines*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi2bar-high').transition().duration(500).attr('width',parse(hdiDataVaccines['high']/totalVaccines)*70);d3_src[\"p\" /* select */]('#hdi2val-medium tspan').text(parse(hdiDataVaccines['medium']/totalVaccines*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi2bar-medium').transition().duration(500).attr('width',parse(hdiDataVaccines['medium']/totalVaccines)*70);d3_src[\"p\" /* select */]('#hdi2val-low tspan').text(parse(hdiDataVaccines['low']/totalVaccines*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi2bar-low').transition().duration(500).attr('width',parse(hdiDataVaccines['low']/totalVaccines)*70);d3_src[\"p\" /* select */]('#inform2val-very-high tspan').text(parse(informDataVaccines['very-high']/totalVaccines*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform2bar-very-high').transition().duration(500).attr('width',parse(informDataVaccines['very-high']/totalVaccines)*64);d3_src[\"p\" /* select */]('#inform2val-high tspan').text(parse(informDataVaccines['high']/totalVaccines*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform2bar-high').transition().duration(500).attr('width',parse(informDataVaccines['high']/totalVaccines)*64);d3_src[\"p\" /* select */]('#inform2val-medium tspan').text(parse(informDataVaccines['medium']/totalVaccines*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform2bar-medium').transition().duration(500).attr('width',parse(informDataVaccines['medium']/totalVaccines)*64);d3_src[\"p\" /* select */]('#inform2val-low tspan').text(parse(informDataVaccines['low']/totalVaccines*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform2bar-low').transition().duration(500).attr('width',parse(informDataVaccines['low']/totalVaccines)*64);d3_src[\"p\" /* select */]('#inform2val-no-score tspan').text(parse(informDataVaccines['no-score']/totalVaccines*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform2bar-no-score').transition().duration(500).attr('width',parse(informDataVaccines['no-score']/totalVaccines)*64);// row 3 total doses by hdi/inform\nvar maxhdivac=d3_src[\"i\" /* max */]([hdiDataVaccines['low'],hdiDataVaccines['medium'],hdiDataVaccines['high'],hdiDataVaccines['very-high']]);var maxinformvac=d3_src[\"i\" /* max */]([informDataVaccines['low'],informDataVaccines['medium'],informDataVaccines['high'],informDataVaccines['very-high'],informDataVaccines['no-score']]);d3_src[\"p\" /* select */]('#hdi3val-very-high tspan').text(nFormatter(hdiDataVaccines['very-high'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi3bar-very-high').transition().duration(500).attr('width',parse(hdiDataVaccines['very-high']/maxhdivac)*70);d3_src[\"p\" /* select */]('#hdi3val-high tspan').text(nFormatter(hdiDataVaccines['high'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi3bar-high').transition().duration(500).attr('width',parse(hdiDataVaccines['high']/maxhdivac)*70);d3_src[\"p\" /* select */]('#hdi3val-medium tspan').text(nFormatter(hdiDataVaccines['medium'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi3bar-medium').transition().duration(500).attr('width',parse(hdiDataVaccines['medium']/maxhdivac)*70);d3_src[\"p\" /* select */]('#hdi3val-low tspan').text(nFormatter(hdiDataVaccines['low'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi3bar-low').transition().duration(500).attr('width',parse(hdiDataVaccines['low']/maxhdivac)*70);d3_src[\"p\" /* select */]('#inform3val-very-high tspan').text(nFormatter(informDataVaccines['very-high'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform3bar-very-high').transition().duration(500).attr('width',parse(informDataVaccines['very-high']/maxinformvac)*64);d3_src[\"p\" /* select */]('#inform3val-high tspan').text(nFormatter(informDataVaccines['high'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform3bar-high').transition().duration(500).attr('width',parse(informDataVaccines['high']/maxinformvac)*64);d3_src[\"p\" /* select */]('#inform3val-medium tspan').text(nFormatter(informDataVaccines['medium'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform3bar-medium').transition().duration(500).attr('width',parse(informDataVaccines['medium']/maxinformvac)*64);d3_src[\"p\" /* select */]('#inform3val-low tspan').text(nFormatter(informDataVaccines['low'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform3bar-low').transition().duration(500).attr('width',parse(informDataVaccines['low']/maxinformvac)*64);d3_src[\"p\" /* select */]('#inform3val-no-score tspan').text(nFormatter(informDataVaccines['no-score'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform3bar-no-score').transition().duration(500).attr('width',parse(informDataVaccines['no-score']/maxinformvac)*64);// row 4 total vaccinations\nd3_src[\"p\" /* select */]('#hdi4val-very-high tspan').text(parse(hdiContactTracing['very-high']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi4bar-very-high').transition().duration(500).attr('width',parse(hdiContactTracing['very-high']/numCountriesFiltered)*70);d3_src[\"p\" /* select */]('#hdi4val-high tspan').text(parse(hdiContactTracing['high']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi4bar-high').transition().duration(500).attr('width',parse(hdiContactTracing['high']/numCountriesFiltered)*70);d3_src[\"p\" /* select */]('#hdi4val-medium tspan').text(parse(hdiContactTracing['medium']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi4bar-medium').transition().duration(500).attr('width',parse(hdiContactTracing['medium']/numCountriesFiltered)*70);d3_src[\"p\" /* select */]('#hdi4val-low tspan').text(parse(hdiContactTracing['low']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi4bar-low').transition().duration(500).attr('width',parse(hdiContactTracing['low']/numCountriesFiltered)*70);d3_src[\"p\" /* select */]('#inform4val-very-high tspan').text(parse(informContactTracing['very-high']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform4bar-very-high').transition().duration(500).attr('width',parse(informContactTracing['very-high']/numCountriesFiltered)*64);d3_src[\"p\" /* select */]('#inform4val-high tspan').text(parse(informContactTracing['high']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform4bar-high').transition().duration(500).attr('width',parse(informContactTracing['high']/numCountriesFiltered)*64);d3_src[\"p\" /* select */]('#inform4val-medium tspan').text(parse(informContactTracing['medium']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform4bar-medium').transition().duration(500).attr('width',parse(informContactTracing['medium']/numCountriesFiltered)*64);d3_src[\"p\" /* select */]('#inform4val-low tspan').text(parse(informContactTracing['low']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform4bar-low').transition().duration(500).attr('width',parse(informContactTracing['low']/numCountriesFiltered)*64);d3_src[\"p\" /* select */]('#inform4val-no-score tspan').text(parse(informContactTracing['no-score']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform4bar-no-score').transition().duration(500).attr('width',parse(informContactTracing['no-score']/numCountriesFiltered)*64);// row 5 average testing\nhdiTestingData['low']=Math.round(d3_src[\"j\" /* mean */](hdiTestingData['low']))||0;hdiTestingData['medium']=Math.round(d3_src[\"j\" /* mean */](hdiTestingData['medium']))||0;hdiTestingData['high']=Math.round(d3_src[\"j\" /* mean */](hdiTestingData['high']))||0;hdiTestingData['very-high']=Math.round(d3_src[\"j\" /* mean */](hdiTestingData['very-high']))||0;informTestingData['no-score']=Math.round(d3_src[\"j\" /* mean */](informTestingData['no-score']))||0;informTestingData['low']=Math.round(d3_src[\"j\" /* mean */](informTestingData['low']))||0;informTestingData['medium']=Math.round(d3_src[\"j\" /* mean */](informTestingData['medium']))||0;informTestingData['high']=Math.round(d3_src[\"j\" /* mean */](informTestingData['high']))||0;informTestingData['very-high']=Math.round(d3_src[\"j\" /* mean */](informTestingData['very-high']))||0;var maxhditest=d3_src[\"i\" /* max */]([hdiTestingData['low'],hdiTestingData['medium'],hdiTestingData['high'],hdiTestingData['very-high']]);var maxinformtest=d3_src[\"i\" /* max */]([informTestingData['low'],informTestingData['medium'],informTestingData['high'],informTestingData['very-high'],informTestingData['no-score']]);d3_src[\"p\" /* select */]('#hdi5val-very-high tspan').text(addCommas(hdiTestingData['very-high'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi5bar-very-high').transition().duration(500).attr('width',parse(hdiTestingData['very-high']/maxhditest)*70);d3_src[\"p\" /* select */]('#hdi5val-high tspan').text(addCommas(hdiTestingData['high'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi5bar-high').transition().duration(500).attr('width',parse(hdiTestingData['high']/maxhditest)*70);d3_src[\"p\" /* select */]('#hdi5val-medium tspan').text(addCommas(hdiTestingData['medium'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi5bar-medium').transition().duration(500).attr('width',parse(hdiTestingData['medium']/maxhditest)*70);d3_src[\"p\" /* select */]('#hdi5val-low tspan').text(addCommas(hdiTestingData['low'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#hdi5bar-low').transition().duration(500).attr('width',parse(hdiTestingData['low']/maxhditest)*70);d3_src[\"p\" /* select */]('#inform5val-very-high tspan').text(addCommas(informTestingData['very-high'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform5bar-very-high').transition().duration(500).attr('width',parse(informTestingData['very-high']/maxinformtest)*64);d3_src[\"p\" /* select */]('#inform5val-high tspan').text(addCommas(informTestingData['high'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform5bar-high').transition().duration(500).attr('width',parse(informTestingData['high']/maxinformtest)*64);d3_src[\"p\" /* select */]('#inform5val-medium tspan').text(addCommas(informTestingData['medium'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform5bar-medium').transition().duration(500).attr('width',parse(informTestingData['medium']/maxinformtest)*64);d3_src[\"p\" /* select */]('#inform5val-low tspan').text(addCommas(informTestingData['low'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform5bar-low').transition().duration(500).attr('width',parse(informTestingData['low']/maxinformtest)*64);d3_src[\"p\" /* select */]('#inform5val-no-score tspan').text(addCommas(informTestingData['no-score'])).style('text-anchor','end').attr('dx','16');d3_src[\"p\" /* select */]('#inform5bar-no-score').transition().duration(500).attr('width',parse(informTestingData['no-score']/maxinformtest)*64);// num countries filtered (table)\nd3_src[\"p\" /* select */]('#countries_filtered tspan').text(numCountriesFiltered+' countries filtered').style('text-anchor','end').attr('dx','105');d3_src[\"p\" /* select */]('#total_new_cases tspan').text('-');d3_src[\"p\" /* select */]('#total_vac_100 tspan').text('-');d3_src[\"p\" /* select */]('#percent_acceptance tspan').text('-');d3_src[\"p\" /* select */]('#total_cases tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"g\" /* interpolate */](0,totalCases)(t));};});d3_src[\"p\" /* select */]('#total_new_cases tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"g\" /* interpolate */](0,totalCases-newCases)(t));};});d3_src[\"p\" /* select */]('#total_deaths tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"g\" /* interpolate */](0,totalDeaths)(t));};});d3_src[\"p\" /* select */]('#total_vaccines tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"g\" /* interpolate */](0,totalVaccines)(t));};});d3_src[\"p\" /* select */]('#total_ns_countries tspan').transition().duration(500).textTween(function(){return function(t){return Math.round(d3_src[\"g\" /* interpolate */](0,numNsInvolvedCountres)(t));};});d3_src[\"p\" /* select */]('#num_vaccines tspan').transition().duration(500).textTween(function(){return function(t){return Math.round(d3_src[\"g\" /* interpolate */](0,data.vaccine_types.length)(t));};});if(vaccinePer100ByCountry){d3_src[\"p\" /* select */]('#total_vac_100 tspan').transition().duration(500).textTween(function(){return function(t){return d3_src[\"g\" /* interpolate */](0,vaccinePer100ByCountry)(t).toFixed(1);};});}d3_src[\"p\" /* select */]('#percent_acceptance tspan').transition().duration(500).textTween(function(){return function(t){return Math.round(d3_src[\"g\" /* interpolate */](0,vaccineAcceptancePercent)(t))+'%';};});}d3_src[\"p\" /* select */]('#prev').style('cursor','pointer').attr('opacity',0.5).on('click',function(){if(Options.page==1)return false;Options.page=Options.page-1;updateTable(App_data,Options);});d3_src[\"p\" /* select */]('#next').style('cursor','pointer').on('click',function(){if(Options.page==Options.numPages)return false;Options.page=Options.page+1;updateTable(App_data,Options);});function updateTable(_x,_x2){return _updateTable.apply(this,arguments);}function _updateTable(){_updateTable=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(data,options){var lastRecord,vGroup,sortKey,x,i,delay,timer,k,d,dayFormat;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:lastRecord=data.vaccines_data_cumulative.filter(function(d){return d.date.getTime()==options.maxVDate.getTime();});vGroup=d3_src[\"f\" /* flatGroup */](lastRecord,function(d){return d.iso_code;});data.equity_data.forEach(function(d,i){var vaccine_acceptance_percent=d.vaccine_acceptance_percent||0;if(!vGroup.some(function(item){return item[0]===d.country_iso3;})){vGroup.push([d.country_iso3,[{country_name:d.country_name,country_code:d.country_iso2,vaccine_acceptance_percent:vaccine_acceptance_percent}]]);}vGroup.forEach(function(dd,ii){if(dd[0]==d.country_iso3){dd[1][0].vaccine_acceptance_percent=vaccine_acceptance_percent;dd[1][0].country_name=d.country_name;dd[1][0].country_code=d.country_iso2;}});});if(options.table_sort=='col0_sort')sortKey='country_name';if(options.table_sort=='col1_sort')sortKey='total_vaccinations_per_hundred';if(options.table_sort=='col2_sort')sortKey='people_vaccinated_per_hundred';if(options.table_sort=='col3_sort')sortKey='people_fully_vaccinated_per_hundred';if(options.table_sort=='col4_sort')sortKey='vaccine_acceptance_percent';if(options.table_sort=='col5_sort')sortKey='total_vaccinations';for(x=0;x<6;x++){d3_src[\"p\" /* select */]('#col'+x+'_sort_desc').attr('opacity',0);d3_src[\"p\" /* select */]('#col'+x+'_sort_asc').attr('opacity',0);}d3_src[\"p\" /* select */]('#'+options.table_sort+'_'+options.table_sort_direction).attr('opacity',1);if(sortKey=='country_name'){if(options.table_sort_direction=='asc'){vGroup.sort(function(b,a){return a[1][0].country_name.localeCompare(b[1][0].country_name);});}else{vGroup.sort(function(a,b){return a[1][0].country_name.localeCompare(b[1][0].country_name);});}}else{if(options.table_sort_direction=='desc'){vGroup.sort(function(a,b){return b[1][0][sortKey]-a[1][0][sortKey];});}else{vGroup.sort(function(b,a){return b[1][0][sortKey]-a[1][0][sortKey];});}}data.vGroup=vGroup;data.vGroup.forEach(function(d,i){data.equity_data.forEach(function(dd,ii){if(d[0]==dd.country_iso3){dd.people_fully_vaccinated_per_hundred=parseFloat(d[1][0].people_fully_vaccinated_per_hundred);dd.people_vaccinated_per_hundred=parseFloat(d[1][0].people_vaccinated_per_hundred);dd.total_vaccinations=parseFloat(d[1][0].total_vaccinations);dd.total_vaccinations_per_hundred=parseFloat(d[1][0].total_vaccinations_per_hundred);}});});d3_src[\"q\" /* selectAll */]('.tablerow').remove();d3_src[\"q\" /* selectAll */]('.col1bar').attr('opacity',0);d3_src[\"q\" /* selectAll */]('.col2bar').attr('opacity',0);d3_src[\"q\" /* selectAll */]('.col3bar').attr('opacity',0);d3_src[\"q\" /* selectAll */]('.col4bar').attr('opacity',0);d3_src[\"q\" /* selectAll */]('.colbg').attr('opacity',0);d3_src[\"q\" /* selectAll */]('.table_country_name tspan').text('');options.numPages=Math.ceil(vGroup.length/10);d3_src[\"p\" /* select */]('#next').attr('opacity',function(){if(options.page==options.numPages)return 0.5;return 1;});d3_src[\"p\" /* select */]('#prev').attr('opacity',function(){if(options.page==1)return 0.5;return 1;});d3_src[\"p\" /* select */]('#pagination_text').attr('text-anchor','end');d3_src[\"p\" /* select */]('#pagination_text tspan').attr('x',40);d3_src[\"p\" /* select */]('#pagination_text tspan').text('Page '+options.page+' of '+options.numPages);i=0;delay=10;timer=function timer(ms){return new Promise(function(res){return setTimeout(res,ms);});};k=(options.page-1)*10;case 31:if(!(k<options.page*10)){_context2.next=61;break;}d=vGroup[k];if(vGroup[k]){_context2.next=39;break;}d3_src[\"p\" /* select */]('#col1bar'+i).attr('width',0);d3_src[\"p\" /* select */]('#col2bar'+i).attr('width',0);d3_src[\"p\" /* select */]('#col3bar'+i).attr('width',0);d3_src[\"p\" /* select */]('#col4bar'+i).attr('width',0);return _context2.abrupt(\"continue\",58);case 39:d3_src[\"p\" /* select */]('#vac-tab').append('text').attr('class','tablerow table_country_name').text(function(){var name;if(d[1][0].country_name){name=d[1][0].country_name;}else{name=d[1][0].iso_code;}name=name.substring(0,17);if(name.length==17)name=name+'.';return name;}).attr('x',0).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 1 val\nd3_src[\"p\" /* select */]('#vac-tab').append('text').attr('class','tablerow table_country_name').text(function(){var val=parseFloat(d[1][0].total_vaccinations_per_hundred).toFixed(1);if(isNaN(val)||val==0){return'';}else{return val;}}).style('text-anchor','end').attr('x',112).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 1 bar\nd3_src[\"p\" /* select */]('#col1bar'+i).attr('opacity',1).transition().duration(200).attr('width',function(){var val=d[1][0].total_vaccinations_per_hundred;if(d[1][0].total_vaccinations_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});d3_src[\"p\" /* select */]('#col1bg'+i).attr('opacity',1);// col 2 val\nd3_src[\"p\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=parseFloat(d[1][0].people_vaccinated_per_hundred).toFixed(1);if(isNaN(val)||val==0){return'';}else{return val+'%';}}).style('text-anchor','end').attr('x',223).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 2 bar\nd3_src[\"p\" /* select */]('#col2bar'+i).attr('opacity',1).transition().duration(200).attr('width',function(){var val=d[1][0].people_vaccinated_per_hundred;if(d[1][0].people_vaccinated_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});d3_src[\"p\" /* select */]('#col2bg'+i).attr('opacity',1);// col 3 val\nd3_src[\"p\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=parseFloat(d[1][0].people_fully_vaccinated_per_hundred).toFixed(1);if(isNaN(val)||val==0){return'';}else{return val+'%';}}).style('text-anchor','end').attr('x',335).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 3 bar\nd3_src[\"p\" /* select */]('#col3bar'+i).attr('opacity',1).transition().duration(200).attr('width',function(){var val=d[1][0].people_fully_vaccinated_per_hundred;if(d[1][0].people_fully_vaccinated_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});d3_src[\"p\" /* select */]('#col3bg'+i).attr('opacity',1);// col 4 val\nd3_src[\"p\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=parseFloat(d[1][0].vaccine_acceptance_percent).toFixed(1);if(isNaN(val)||val==0){return'';}else{return val+'%';}}).style('text-anchor','end').attr('x',450).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 4 bar\nd3_src[\"p\" /* select */]('#col4bar'+i).attr('opacity',1).transition().duration(200).attr('width',function(){var val=d[1][0].vaccine_acceptance_percent;if(d[1][0].vaccine_acceptance_percent>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});d3_src[\"p\" /* select */]('#col4bg'+i).attr('opacity',1);dayFormat=d3_src[\"s\" /* timeFormat */](\"%b %d\");// col 5 val\nd3_src[\"p\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=d[1][0].total_vaccinations;if(isNaN(val)||val==0){return'';}else{return nFormatter(val);}}).style('text-anchor','end').attr('x',572).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 6 val\nd3_src[\"p\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=d[1][0].lastDate;if(val){return dayFormat(val);}else{return'';}}).style('text-anchor','end').attr('x',620).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');i++;_context2.next=58;return timer(15);case 58:k++;_context2.next=31;break;case 61:case\"end\":return _context2.stop();}}},_callee2);}));return _updateTable.apply(this,arguments);}function createSelects(){// region select\njquery_default()('#regionSelect').select2({data:[{id:'regions',text:'IFRC Regions',children:regionOptions},{id:'countries',text:'Countries',children:countryOptions}],placeholder:'',scrollAfterSelect:true,renderTemplate:function renderTemplate(item){return item.text||\"\\u200B\";},dropdownParent:jquery_default()('#regionDrop'),shouldFocusInput:function shouldFocusInput(){return false;},templateResult:function templateResult(data){var $state=jquery_default()('<span>'+data.text+'<span>');return $state;}}).on('select2:unselecting',function(){jquery_default()(this).data('unselecting',true);}).on('select2:opening',function(e){if(jquery_default()(this).data('unselecting')){jquery_default()(this).removeData('unselecting');e.preventDefault();}});jquery_default()('#regionSelect').on('select2:select',function(e){var data=e.params.data;filter([data.id]);});jquery_default()('#regionSelect').on('select2:unselect',function(e){var data=e.params.data;filter([data.id]);});// reset locations\nd3_src[\"p\" /* select */]('#reset_locations').style('cursor','pointer').on('click',function(){filter('clear');});// bubble map select color by\njquery_default()('#colorSelect').select2({scrollAfterSelect:true,minimumResultsForSearch:-1,renderTemplate:function renderTemplate(item){return item.text||\"\\u200B\";},dropdownParent:jquery_default()('#regionDrop'),shouldFocusInput:function shouldFocusInput(){return false;},templateResult:function templateResult(data){var $state=jquery_default()('<span>'+data.text+'<span>');return $state;}}).on('select2:select',function(e){var d=e.params.data;Options.bubble_chart_color_by=d.id;updateBubblechart(App_data,Options,filter);});// bubble map select y-axis\njquery_default()('#ySelect').select2({scrollAfterSelect:true,minimumResultsForSearch:-1,renderTemplate:function renderTemplate(item){return item.text||\"\\u200B\";},dropdownParent:jquery_default()('#regionDrop'),shouldFocusInput:function shouldFocusInput(){return false;},templateResult:function templateResult(data){var $state=jquery_default()('<span>'+data.text+'<span>');return $state;}}).on('select2:select',function(e){var d=e.params.data;Options.bubble_chart_y_axis=d.id;updateBubblechart(App_data,Options,filter);});}function handleSelectLength(){var values=jquery_default()('#regionSelect').select2('data');// handle height for many selections\nvar select2HeightRatio=jquery_default()('#regionSelectContainer').width()/jquery_default()('#regionSelectContainer').height();if(select2HeightRatio<10){jquery_default()('.select2-selection__choice').hide();jquery_default()('.select2-search__field').attr('placeholder',values.length+' LOCATIONS SELECTED').css('width','100%');}else{jquery_default()('.select2-search__field').attr('placeholder','');jquery_default()('.select2-selection__choice').show();}}Object(react[\"useEffect\"])(function(){init();},[]);var selectStyle={control:function control(base,state){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},base),{},{border:'1px solid #D8D8D8',boxShadow:'none','&:hover':{border:'1px solid #D8D8D8'}});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"loaderDiv\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderText\",children:loaderText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderBar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderProgress\",style:{width:progress*100+'%'}})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"regionSelectContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{id:\"regionSelect\",className:\"js-example-responsive\",name:\"region[]\",multiple:\"multiple\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"regionDrop\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"bubbleSelectContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"colorSelectContainer\",children:[\"Color by\\xA0\\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{id:\"colorSelect\",className:\"js-example-responsive\",name:\"colorby[]\",defaultValue:\"hdi\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"region\",children:\"IFRC region\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"hdi\",children:\"Human Development Index (HDI)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"inform-severity\",children:\"INFORM Severity Index\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"colorDrop\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"ySelectContainer\",children:[\"y-Axis\\xA0\\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{id:\"ySelect\",className:\"js-example-responsive\",name:\"yaxis[]\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"percent-vaccinated-at-least-1-dose\",children:\"% vaccinated at least 1 dose\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"percent-fully-vaccinated\",children:\"% fully vaccinated\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"percent-vaccine-acceptance\",children:\"% vaccine acceptance\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"yDrop\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"svg_container\",className:\"App\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"map_div_outer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"map_div\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"footer\",children:[\"Data Sources - \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://covid19.who.int/info/\",target:\"_blank\",children:\"WHO Daily cases and deaths by date, vaccination data\"}),\", \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/owid/covid-19-data/tree/master/public/data/vaccinations\",target:\"_blank\",children:\"OWID vaccinations csv\"})]})]});}function parse(p){if(isNaN(p)){return 0;}else{return p;}}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 134)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[130,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/postcss-loader/src/index.js??postcss!/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/index.css","/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/postcss-loader/src/index.js??postcss!/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/App.css","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Update.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/colors.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/HelperFunctions.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Timechart.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Regionchart.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Layout.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Bubblechart.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Options.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/ParseData.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Map.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/App.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/reportWebVitals.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/index.js"],"names":["Update","svg","options","data","colors","hdi_category","inform_severity","blue","lightblue","lightnavy","red","green","ifrcgreen","black","lightgrey","darkgrey","white","olive","purple","orange","pink","c","regions","addCommas","nStr","x","split","x1","x2","length","rgx","test","replace","nFormatter","num","digits","lookup","value","symbol","rx","item","slice","reverse","find","toFixed","yScaleCases","yScaleDeaths","yScaleVaccines","yAxisCases","yAxisDeaths","yAxisVaccines","yScaleCasesAxis","yScaleDeathsAxis","yScaleVaccinesAxis","xScale","xAxis","xScaleAxis","xScaleEvents","maxDate","minDate","md","drawTimechart","groupedData","who_data","forEach","d","i","timeline_frequency","date","week_start","month_start","ifrc_region","new_cases","new_deaths","cumulative_cases","cumulative_deaths","dd","ii","hasOwnProperty","total_new_cases","AF","AP","AM","EU","ME","OTH","total_cumulative_cases","total_new_deaths","total_cumulative_deaths","region","push","vgroupedData","timeline_type","vaccines_data","vaccines_data_daily","new_vaccines","daily_vaccinations","cumulative_vaccines","total_new_vaccines","clone","vaccines_data_cumulative","endOfWeekDate","moment","endOf","startOf","unix","maxVDate","maxDateUnix","endOfMonthDate","total_vaccinations","total_cumulative_vaccines","filter","el","numIntervals","d3","maxCases","maxDeaths","maxVaccines","toDate","Date","add","selectAll","remove","append","attr","width","barWidth","barSpacing","range","domain","scale","tickSize","tickPadding","ticks","tickFormat","yAxisGroup","yAxisCasesText","call","yAxisDeathsText","yAxisVaccinesText","xAxisCases","xAxisDeaths","xAxisVaccines","xAxisTimeline","barGroups","enter","totalNewCases","parentNode","datum","dp","y","totalNewDeaths","next","offset","vbarGroups","totalNewVaccines","tData","timeline_data","document","getElementById","appendChild","node","timelineTooltip","eventTooltip","hoverBar","on","event","coords","xDate","invert","getTime","style","tooltipStr","format","text","groupedDataFiltered","vgroupedDataFiltered","deaths","cases","vaccines","bw","ratio","brushR","brushL","xx","events","subtract","select","wrap","textwrap","bounds","height","method","description","bbox","getBBox","h","ys","parseInt","circles","brush","extent","brushed","gBrush","brushScale","move","parseFloat","w","viewBoxW","Math","round","viewBoxX","updateTimechart","transition","duration","maxVaccinations","xScaleCases","xScaleDeaths","xScaleVaccines","labelWidth","margin","left","top","right","rcSize","drawRegionchart","vGroup","vacGrouped","vData","sort","a","b","region_chart_toggle","regionChartContainer","rowHeight","rows","cumulative_totals","label","rowBg","t","bars","dat","dataLabel","val","updateRegionchart","id","isNaN","tween","end","floor","random","selectedToggle","unselectedToggle","unselectedToggleText","selectedToggleText","Layout","updateTable","updateMap","bd","region_filter","map_toggle","tippy","content","placement","theme","arrow","delay","toggle","hdi_filter","inform_filter","tab_toggle","timechartContainer","tcSize","timechartSvg","layer1","timechartBg","thisId","table_sort","table_sort_direction","page","collection","idx","indexOf","splice","maxX","maxY","maxZ","yScale","zScale","bubbles","drawBubblechart","equity_data","gni_2017","bubble_chart_y_axis","population","nice","join","people_vaccinated_per_hundred","people_fully_vaccinated_per_hundred","vaccine_acceptance_percent","bubble_chart_color_by","update","exit","country_name","toElement","updateBubblechart","country_iso3","total_vaccinations_per_hundred","country_filter","numPages","ParseData","vaccines_used","number_vaccine_types_used","vaccines_per_100","vaccines_who_data","ISO3","data_updated","DATE_UPDATED","NUMBER_VACCINES_TYPES_USED","TOTAL_VACCINATIONS_PER100","VACCINES_USED","map","trim","ns_involvement","self_assessment","vaccine_acceptance","iso3","country_code","country_iso2","indicator_value","vaccine_acceptance_population","population_size","contract_tracing","toLowerCase","avg_tests_per_1000","max","Date_reported","min","minDateVaccines","maxDateVaccines","maxDataDate","maxVDataDate","dayTotal","dayCheck","weekTotal","weekCheck","monthTotal","monthCheck","countryCodes","ccArray","dayOfYear","week","isoWeek","month","getMonth","year","getFullYear","New_cases","New_deaths","Cumulative_deaths","Cumulative_cases","Country_code","undefined","includes","Country","WHO_region","iso_code","flatGroup","newDates","hasDays","initDate","lastRecord","vDataFlat","minDt","maxDt","newDays","lastDate","day","setDate","getDate","newDay","totalVac","totalVac100","countryName","match","original","mapboxgl","accessToken","dots","maxSize","mapTooltip","createMap","setCenter","setZoom","Map","container","center","zoom","setRenderWorldCopies","addControl","NavigationControl","getCanvasContainer","e","setPaintProperty","setLayoutProperty","maxIncrease","country","percent_change","maxDecrease","colorScale","fillColorArray","maxValue","peoplevaccinated","features","queryRenderedFeatures","point","displayProperties","layer","properties","iso","countryfiltered","str","abs","window","innerWidth","heightOffset","equityDataUrl","layoutUrl","whoDataUrl","worldUrl","vaccinesDataUrl","vaccinesWhoDataUrl","timelineDataUrl","keyFiguresDataUrl","selfAssessmentDataUrl","vaccineAcceptanceDataUrl","regionOptions","countryOptions","App","useState","progress","setProgress","loaderText","setLoaderText","init","layout","then","documentElement","equityData","createSelects","vaccinesData","vaccinesWhoData","selfAssessmentData","vaccineAcceptanceData","timelineData","keyFiguresData","key_figures","whoData","world","createCharts","updateTotals","hdi_countries","inform_countries","code","substring","countryIds","mergeFilter","concat","$","trigger","handleSelectLength","updateCharts","totalCases","totalDeaths","numCountriesFiltered","countries","totalVaccines","cases4weeksAgo","cases2WeeksAgo","cases1WeeksAgo","casesLatest","percentChange","isFinite","hdiData","hdiDataPopulation","hdiDataVaccines","hdiContactTracing","hdiTotalCasesData","hdiTestingData","informData","informDataPopulation","informDataVaccines","informContactTracing","informTotalCasesData","informTestingData","totalRecordedPopulation","vaccine_types","vaccinesper100","vaccineper100byPop","numNsInvolvedCountres","vaccineAcceptance","ddd","total_population","vaccine_population","accept_population","vaccineAcceptancePercent","vaccinePer100ByPopulation","vaccinePer100ByCountry","vtooltipbbox","newCases","totalHdiPop","totalInformPop","parse","maxhdivac","maxinformvac","maxhditest","maxinformtest","textTween","some","sortKey","localeCompare","ceil","timer","ms","Promise","res","setTimeout","k","name","dayFormat","select2","children","placeholder","scrollAfterSelect","renderTemplate","dropdownParent","shouldFocusInput","templateResult","$state","removeData","preventDefault","params","minimumResultsForSearch","values","select2HeightRatio","hide","css","show","useEffect","selectStyle","control","base","state","border","boxShadow","p","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEA,QAASA,OAAT,CAAgBC,GAAhB,CAAoBC,OAApB,CAA4BC,IAA5B,CAAkC,CAGjC,CAEcH,qDAAf,E;;;;;;ACPA;AAGA,GAAMI,OAAM,CAAG,CACXC,YAAY,CAAE,CACV,YAAa,SADH,CAEV,OAAQ,SAFE,CAGV,SAAU,SAHA,CAIV,MAAO,SAJG,CADH,CAOXC,eAAe,CAAE,CACb,YAAa,SADA,CAEb,OAAQ,SAFK,CAGb,SAAU,SAHG,CAIb,MAAO,SAJM,CAKb,WAAY,SALC,CAPN,CAcXC,IAAI,CAAE,SAdK,CAeXC,SAAS,CAAE,SAfA,CAgBXC,SAAS,CAAE,SAhBA,CAiBX;AACAC,GAAG,CAAE,SAlBM,CAmBXC,KAAK,CAAE,SAnBI,CAoBXC,SAAS,CAAE,SApBA,CAqBXC,KAAK,CAAE,SArBI,CAsBXC,SAAS,CAAE,SAtBA,CAuBXC,QAAQ,CAAE,SAvBC,CAwBXC,KAAK,CAAE,MAxBI,CAyBXC,KAAK,CAAE,SAzBI,CA0BXC,MAAM,CAAE,SA1BG,CA2BXC,MAAM,CAAE,SA3BG,CA4BXC,IAAI,CAAE,SA5BK,CAAf,CA+BA;AACA,GAAIC,EAAC,CAAG,CAAC,SAAD,CAAW,SAAX,CAAqB,SAArB,CAA+B,SAA/B,CAAyC,SAAzC,CAAR,CACA;AACA,GAAIA,EAAC,CAAG,CAAC,SAAD,CAAW,SAAX,CAAqB,SAArB,CAA+B,SAA/B,CAAyC,SAAzC,CAAR,CACA,GAAIA,EAAC,CAAG,CAAC,SAAD,CAAW,SAAX,CAAqB,SAArB,CAA+B,SAA/B,CAAyC,SAAzC,CAAR,CACA;AACA;AAEAjB,MAAM,CAACkB,OAAP,CAAiB,CACT,KAAMlB,MAAM,CAACe,MADJ,CAET,KAAMf,MAAM,CAACI,SAFJ,CAGT,KAAMJ,MAAM,CAACQ,SAHJ,CAIT,KAAM,SAJG,CAKT,KAAM,SALG,CAAjB,CASIR,MAAM,CAACkB,OAAP,CAAiB,CACb,KAAMD,CAAC,CAAC,CAAD,CADM,CAEb,KAAMA,CAAC,CAAC,CAAD,CAFM,CAGb,KAAMA,CAAC,CAAC,CAAD,CAHM,CAIb,KAAMA,CAAC,CAAC,CAAD,CAJM,CAKb,KAAMA,CAAC,CAAC,CAAD,CALM,CAAjB,CAYWjB,qDAAf,E;;AC/DO,QAASmB,UAAT,CAAmBC,IAAnB,CAAwB,CAC3BA,IAAI,EAAI,EAAR,CACA,GAAIC,EAAC,CAAGD,IAAI,CAACE,KAAL,CAAW,GAAX,CAAR,CACA,GAAIC,GAAE,CAAGF,CAAC,CAAC,CAAD,CAAV,CACA,GAAIG,GAAE,CAAGH,CAAC,CAACI,MAAF,CAAW,CAAX,CAAe,IAAMJ,CAAC,CAAC,CAAD,CAAtB,CAA4B,EAArC,CACA,GAAIK,IAAG,CAAG,cAAV,CACA,MAAOA,GAAG,CAACC,IAAJ,CAASJ,EAAT,CAAP,CAAqB,CACjBA,EAAE,CAAGA,EAAE,CAACK,OAAH,CAAWF,GAAX,CAAgB,KAAO,GAAP,CAAa,IAA7B,CAAL,CACH,CACD,MAAOH,GAAE,CAAGC,EAAZ,CACH,CAEM,QAASK,WAAT,CAAoBC,GAApB,CAAqC,IAAZC,OAAY,2DAAH,CAAG,CACxC,GAAMC,OAAM,CAAG,CACb,CAAEC,KAAK,CAAE,CAAT,CAAYC,MAAM,CAAE,EAApB,CADa,CAEb,CAAED,KAAK,CAAE,GAAT,CAAcC,MAAM,CAAE,GAAtB,CAFa,CAGb,CAAED,KAAK,CAAE,GAAT,CAAcC,MAAM,CAAE,GAAtB,CAHa,CAIb,CAAED,KAAK,CAAE,GAAT,CAAcC,MAAM,CAAE,GAAtB,CAJa,CAKb,CAAED,KAAK,CAAE,IAAT,CAAeC,MAAM,CAAE,GAAvB,CALa,CAMb,CAAED,KAAK,CAAE,IAAT,CAAeC,MAAM,CAAE,GAAvB,CANa,CAOb,CAAED,KAAK,CAAE,IAAT,CAAeC,MAAM,CAAE,GAAvB,CAPa,CAAf,CASA,GAAMC,GAAE,CAAG,0BAAX,CACA,GAAIC,KAAI,CAAGJ,MAAM,CAACK,KAAP,GAAeC,OAAf,GAAyBC,IAAzB,CAA8B,SAASH,IAAT,CAAe,CACtD,MAAON,IAAG,EAAIM,IAAI,CAACH,KAAnB,CACD,CAFU,CAAX,CAGA,MAAOG,KAAI,CAAG,CAACN,GAAG,CAAGM,IAAI,CAACH,KAAZ,EAAmBO,OAAnB,CAA2BT,MAA3B,EAAmCH,OAAnC,CAA2CO,EAA3C,CAA+C,IAA/C,EAAuDC,IAAI,CAACF,MAA/D,CAAwE,GAAnF,CAGD,C;;;;;;;;;ACtBH,GAAIO,YAAJ,CACA,GAAIC,aAAJ,CACA,GAAIC,eAAJ,CACA,GAAIC,WAAJ,CACA,GAAIC,YAAJ,CACA,GAAIC,cAAJ,CACA,GAAIC,gBAAJ,CACA,GAAIC,iBAAJ,CACA,GAAIC,mBAAJ,CACA,GAAIC,OAAJ,CACA,GAAIC,MAAJ,CACA,GAAIC,WAAJ,CACA,GAAIC,aAAJ,CACA,GAAIC,kBAAJ,CACA,GAAIC,kBAAJ,CACA,GAAIC,GAAJ,CAEA,GAAMtC,QAAO,CAAG,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,CAAmB,IAAnB,CAAyB,IAAzB,CAA+B,KAA/B,CAAhB,CAEO,QAASuC,cAAT,CAAuB1D,IAAvB,CAA6BD,OAA7B,CAAsC,CAEzCyD,iBAAO,CAAGzD,OAAO,CAACyD,OAAlB,CACAD,iBAAO,CAAGxD,OAAO,CAACwD,OAAlB,CAEA,GAAMI,YAAW,CAAG,EAApB,CAEA3D,IAAI,CAAC4D,QAAL,CAAcC,OAAd,CAAsB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/B,GAAG,CAACJ,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAf,CAAuDL,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAqD,EAArD,CACvD,GAAGjE,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuCL,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDC,IAAnD,CAA0DH,CAAC,CAACG,IAA5D,CACvC,GAAGlE,OAAO,CAACiE,kBAAR,GAA6B,MAAhC,CAAwCL,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDC,IAAnD,CAA0DH,CAAC,CAACI,UAA5D,CACxC,GAAGnE,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyCL,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDC,IAAnD,CAA0DH,CAAC,CAACK,WAA5D,CACzC,GAAG,CAACR,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDF,CAAC,CAACM,WAArD,CAAJ,CAAuET,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDF,CAAC,CAACM,WAArD,EAAoE,CAACC,SAAS,CAAE,CAAZ,CAAeC,UAAU,CAAE,CAA3B,CAA8BC,gBAAgB,CAAE,CAAhD,CAAmDC,iBAAiB,CAAE,CAAtE,CAApE,CACvEb,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDF,CAAC,CAACM,WAArD,EAAkEC,SAAlE,EAA+EP,CAAC,CAACO,SAAjF,CACAV,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDF,CAAC,CAACM,WAArD,EAAkEE,UAAlE,EAAgFR,CAAC,CAACQ,UAAlF,CACAX,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDF,CAAC,CAACM,WAArD,EAAkEG,gBAAlE,CAAqF,CAArF,CACH,CATD,EAWA;AACAZ,WAAW,CAACE,OAAZ,CAAoB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC7B5C,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3B,GAAG,CAACZ,CAAC,CAACa,cAAF,CAAiBF,EAAjB,CAAJ,CAAyB,CACtBX,CAAC,CAACW,EAAD,CAAD,CAAQ,CAACJ,SAAS,CAAE,CAAZ,CAAeC,UAAU,CAAE,CAA3B,CAA8BC,gBAAgB,CAAE,CAAhD,CAAmDC,iBAAiB,CAAE,CAAtE,CAAR,CACF,CACD;AACA,GAAGT,CAAC,CAAC,CAAL,CAAO,CACHD,CAAC,CAACW,EAAD,CAAD,CAAMF,gBAAN,CAAyBZ,WAAW,CAACI,CAAD,CAAX,CAAeU,EAAf,EAAmBJ,SAAnB,CAA+BV,WAAW,CAACI,CAAC,CAAC,CAAH,CAAX,CAAiBU,EAAjB,EAAqBF,gBAA7E,CACAT,CAAC,CAACW,EAAD,CAAD,CAAMD,iBAAN,CAA0Bb,WAAW,CAACI,CAAD,CAAX,CAAeU,EAAf,EAAmBH,UAAnB,CAAgCX,WAAW,CAACI,CAAC,CAAC,CAAH,CAAX,CAAiBU,EAAjB,EAAqBD,iBAA/E,CACH,CAHD,IAGO,CACHV,CAAC,CAACW,EAAD,CAAD,CAAMF,gBAAN,CAAyBZ,WAAW,CAACI,CAAD,CAAX,CAAeU,EAAf,EAAmBJ,SAA5C,CACAP,CAAC,CAACW,EAAD,CAAD,CAAMD,iBAAN,CAA0Bb,WAAW,CAACI,CAAD,CAAX,CAAeU,EAAf,EAAmBH,UAA7C,CACH,CACJ,CAZD,EAcAR,CAAC,CAACc,eAAF,CAAoBd,CAAC,CAACe,EAAF,CAAKR,SAAL,CAAiBP,CAAC,CAACgB,EAAF,CAAKT,SAAtB,CAAkCP,CAAC,CAACiB,EAAF,CAAKV,SAAvC,CAAmDP,CAAC,CAACkB,EAAF,CAAKX,SAAxD,CAAoEP,CAAC,CAACmB,EAAF,CAAKZ,SAAzE,CAAqFP,CAAC,CAACoB,GAAF,CAAMb,SAA/G,CACAP,CAAC,CAACqB,sBAAF,CAA2BrB,CAAC,CAACe,EAAF,CAAKN,gBAAL,CAAwBT,CAAC,CAACgB,EAAF,CAAKP,gBAA7B,CAAgDT,CAAC,CAACiB,EAAF,CAAKR,gBAArD,CAAwET,CAAC,CAACkB,EAAF,CAAKT,gBAA7E,CAAgGT,CAAC,CAACmB,EAAF,CAAKV,gBAArG,CAAwHT,CAAC,CAACoB,GAAF,CAAMX,gBAAzJ,CACAT,CAAC,CAACsB,gBAAF,CAAqBtB,CAAC,CAACe,EAAF,CAAKP,UAAL,CAAkBR,CAAC,CAACgB,EAAF,CAAKR,UAAvB,CAAoCR,CAAC,CAACiB,EAAF,CAAKT,UAAzC,CAAsDR,CAAC,CAACkB,EAAF,CAAKV,UAA3D,CAAwER,CAAC,CAACmB,EAAF,CAAKX,UAA7E,CAA0FR,CAAC,CAACoB,GAAF,CAAMZ,UAArH,CACAR,CAAC,CAACuB,uBAAF,CAA4BvB,CAAC,CAACe,EAAF,CAAKL,iBAAL,CAAyBV,CAAC,CAACgB,EAAF,CAAKN,iBAA9B,CAAkDV,CAAC,CAACiB,EAAF,CAAKP,iBAAvD,CAA2EV,CAAC,CAACkB,EAAF,CAAKR,iBAAhF,CAAoGV,CAAC,CAACmB,EAAF,CAAKT,iBAAzG,CAA6HV,CAAC,CAACoB,GAAF,CAAMV,iBAA/J,CACAV,CAAC,CAACwB,MAAF,CAAW,EAAX,CAEAnE,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3BZ,CAAC,CAACwB,MAAF,CAASC,IAAT,CAAc,CAAC,SAAUd,EAAX,CAAe,YAAaX,CAAC,CAACW,EAAD,CAAD,CAAMJ,SAAlC,CAA6C,aAAcP,CAAC,CAACW,EAAD,CAAD,CAAMH,UAAjE,CAA6E,mBAAoBR,CAAC,CAACW,EAAD,CAAD,CAAMF,gBAAvG,CAAyH,oBAAqBT,CAAC,CAACW,EAAD,CAAD,CAAMD,iBAApJ,CAAd,EACH,CAFD,EAIH,CAzBD,EA2BA,GAAIgB,aAAY,CAAG,EAAnB,CAEA,GAAGzF,OAAO,CAAC0F,aAAR,EAAuB,YAA1B,CAAuC,CAAE;AACrCzF,IAAI,CAAC0F,aAAL,CAAqB1F,IAAI,CAAC2F,mBAA1B,CACA3F,IAAI,CAAC0F,aAAL,CAAmB7B,OAAnB,CAA2B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACpC,GAAG,CAACyB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAhB,CAAwDwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAsD,EAAtD,CACxD,GAAGjE,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DH,CAAC,CAACG,IAA7D,CACvC,GAAGlE,OAAO,CAACiE,kBAAR,GAA6B,MAAhC,CAAwCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DH,CAAC,CAACI,UAA7D,CACxC,GAAGnE,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DH,CAAC,CAACK,WAA7D,CACzC,GAAG,CAACqB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,CAAJ,CAAwEoB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,EAAqE,CAACwB,YAAY,CAAE,CAAf,CAArE,CACxEJ,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,EAAmEwB,YAAnE,EAAmF9B,CAAC,CAAC+B,kBAArF,CACH,CAPD,EAQA;AACAL,YAAY,CAAC3B,OAAb,CAAqB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC9B5C,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3B,GAAG,CAACZ,CAAC,CAACW,EAAD,CAAL,CAAU,CACNX,CAAC,CAACW,EAAD,CAAD,CAAQ,CAACmB,YAAY,CAAE,CAAf,CAAkBE,mBAAmB,CAAE,CAAvC,CAAR,CACH,CACJ,CAJD,EAKAhC,CAAC,CAACiC,kBAAF,CAAuBjC,CAAC,CAACe,EAAF,CAAKe,YAAL,CAAoB9B,CAAC,CAACgB,EAAF,CAAKc,YAAzB,CAAwC9B,CAAC,CAACiB,EAAF,CAAKa,YAA7C,CAA4D9B,CAAC,CAACkB,EAAF,CAAKY,YAAjE,CAAgF9B,CAAC,CAACmB,EAAF,CAAKW,YAArF,CAAoG9B,CAAC,CAACoB,GAAF,CAAMU,YAAjI,CACA9B,CAAC,CAACwB,MAAF,CAAW,EAAX,CACAnE,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3BZ,CAAC,CAACwB,MAAF,CAASC,IAAT,CAAc,CAAC,SAAUd,EAAX,CAAe,eAAgBX,CAAC,CAACW,EAAD,CAAD,CAAMmB,YAArC,CAAd,EACH,CAFD,EAGH,CAXD,EAaH,CAxBD,IAwBM,CAAE;AACJ5F,IAAI,CAAC0F,aAAL,CAAqB,EAArB,CACA,GAAG3F,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuC,CACnChE,IAAI,CAAC0F,aAAL,CAAqBM,oBAAK,CAAChG,IAAI,CAACiG,wBAAN,CAA1B,CACH,CACD,GAAGlG,OAAO,CAACiE,kBAAR,GAA6B,MAAhC,CAAwC,CACpChE,IAAI,CAACiG,wBAAL,CAA8BpC,OAA9B,CAAsC,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/C,GAAImC,cAAa,CAAGC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAemC,KAAf,CAAqB,SAArB,EAAgCC,OAAhC,CAAwC,KAAxC,EAA+CC,IAA/C,EAApB,CACA,GAAIrC,KAAI,CAAGkC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,KAAvB,EAA8BC,IAA9B,EAAX,CACA,GAAIrC,IAAI,EAAEiC,aAAP,EAAwBjC,IAAI,EAAEkC,gBAAM,CAACpG,OAAO,CAACwG,QAAT,CAAN,CAAyBF,OAAzB,CAAiC,KAAjC,EAAwCC,IAAxC,EAAjC,CAAiF,CAC7EtG,IAAI,CAAC0F,aAAL,CAAmBH,IAAnB,CAAwBzB,CAAxB,EACH,CACJ,CAND,EAOH,CACD,GAAG/D,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyC,CACrC,GAAIwC,YAAW,CAAGL,gBAAM,CAACpG,OAAO,CAACwG,QAAT,CAAN,CAAyBF,OAAzB,CAAiC,KAAjC,EAAwCC,IAAxC,EAAlB,CACAtG,IAAI,CAACiG,wBAAL,CAA8BpC,OAA9B,CAAsC,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/C,GAAI0C,eAAc,CAAGN,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAemC,KAAf,CAAqB,OAArB,EAA8BC,OAA9B,CAAsC,KAAtC,EAA6CC,IAA7C,EAArB,CACA,GAAIrC,KAAI,CAAGkC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,KAAvB,EAA8BC,IAA9B,EAAX,CACA,GAAIrC,IAAI,EAAEwC,cAAP,EAA0BN,gBAAM,CAACpG,OAAO,CAACwG,QAAT,CAAN,CAAyBF,OAAzB,CAAiC,KAAjC,EAAwCC,IAAxC,IAAgDG,cAAjD,EAAmExC,IAAI,EAAEuC,WAArG,CAAmH,CAC/GxG,IAAI,CAAC0F,aAAL,CAAmBH,IAAnB,CAAwBzB,CAAxB,EACH,CACJ,CAND,EAOH,CAED9D,IAAI,CAAC0F,aAAL,CAAmB7B,OAAnB,CAA2B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACpC,GAAG,CAACyB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAhB,CAAwDwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAsD,EAAtD,CACxD,GAAGjE,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DH,CAAC,CAACG,IAA7D,CACvC,GAAGlE,OAAO,CAACiE,kBAAR,GAA6B,MAAhC,CAAwCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DH,CAAC,CAACI,UAA7D,CACxC,GAAGnE,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DH,CAAC,CAACK,WAA7D,CACzC,GAAG,CAACqB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,CAAJ,CAAwEoB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,EAAqE,CAAC0B,mBAAmB,CAAE,CAAtB,CAArE,CACxEN,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,EAAmE0B,mBAAnE,EAA0FhC,CAAC,CAAC4C,kBAA5F,CACH,CAPD,EAQA;AACAlB,YAAY,CAAC3B,OAAb,CAAqB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC9B5C,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3B,GAAG,CAACZ,CAAC,CAACW,EAAD,CAAL,CAAU,CACNX,CAAC,CAACW,EAAD,CAAD,CAAQ,CAACqB,mBAAmB,CAAE,CAAtB,CAAR,CACH,CACJ,CAJD,EAKAhC,CAAC,CAAC6C,yBAAF,CAA8B7C,CAAC,CAACe,EAAF,CAAKiB,mBAAL,CAA2BhC,CAAC,CAACgB,EAAF,CAAKgB,mBAAhC,CAAsDhC,CAAC,CAACiB,EAAF,CAAKe,mBAA3D,CAAiFhC,CAAC,CAACkB,EAAF,CAAKc,mBAAtF,CAA4GhC,CAAC,CAACmB,EAAF,CAAKa,mBAAjH,CAAuIhC,CAAC,CAACoB,GAAF,CAAMY,mBAA3K,CACAhC,CAAC,CAACwB,MAAF,CAAW,EAAX,CACAnE,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3BZ,CAAC,CAACwB,MAAF,CAASC,IAAT,CAAc,CAAC,SAAUd,EAAX,CAAe,sBAAuBX,CAAC,CAACW,EAAD,CAAD,CAAMqB,mBAA5C,CAAd,EACH,CAFD,EAGH,CAXD,EAYH,CAEDN,YAAY,CAAGA,YAAY,CAACoB,MAAb,CAAoB,SAASC,EAAT,CAAa,CAAE,MAAOA,GAAP,CAAY,CAA/C,CAAf,CAEA,GAAMC,aAAY,CAAGC,qBAAA,CAAO/G,IAAI,CAAC4D,QAAZ,CAAsB,SAASE,CAAT,CAAWC,CAAX,CAAa,CACpD,MAAOD,EAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAR,CACH,CAFoB,CAArB,CAIA,GAAMgD,SAAQ,CAAGD,qBAAA,CAAOpD,WAAP,CAAoB,SAASG,CAAT,CAAWC,CAAX,CAAa,CAC9C,GAAGhE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C,MAAO3B,EAAC,CAACc,eAAT,CAC7C,GAAG7E,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC,MAAO3B,EAAC,CAACqB,sBAAT,CACzC,GAAGpF,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC,MAAO,IAAP,CACzC,CAJgB,CAAjB,CAMA,GAAMwB,UAAS,CAAGF,qBAAA,CAAOpD,WAAP,CAAoB,SAASG,CAAT,CAAWC,CAAX,CAAa,CAC/C,GAAGhE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C,MAAO3B,EAAC,CAACsB,gBAAT,CAC7C,GAAGrF,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC,MAAO3B,EAAC,CAACuB,uBAAT,CACzC,GAAGtF,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC,MAAO,IAAP,CACzC,CAJiB,CAAlB,CAMA,GAAMyB,YAAW,CAAGH,qBAAA,CAAOvB,YAAP,CAAqB,SAAS1B,CAAT,CAAWC,CAAX,CAAa,CAClD,GAAGD,CAAH,CAAK,CACD,GAAG/D,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C,MAAO3B,EAAC,CAACiC,kBAAT,CAC7C,GAAGhG,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC,MAAO3B,EAAC,CAAC6C,yBAAT,CACzC,GAAG5G,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC,MAAO,IAAP,CACzC,CACJ,CANmB,CAApB,CAQA;AACA;AACA;AACA;AAGA;AACA;AACA,GAAG1F,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyCR,iBAAO,CAAG2C,gBAAM,CAAC3C,iBAAD,CAAN,CAAgB6C,OAAhB,CAAwB,OAAxB,EAAiCA,OAAjC,CAAyC,KAAzC,EAAgDc,MAAhD,EAAV,CACzC,GAAGpH,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyCT,iBAAO,CAAG4C,gBAAM,CAAC5C,iBAAD,CAAN,CAAgB6C,KAAhB,CAAsB,OAAtB,EAA+BC,OAA/B,CAAuC,KAAvC,EAA8Cc,MAA9C,EAAV,CACzC,GAAGpH,OAAO,CAACiE,kBAAR,GAA6B,MAAhC,CAAwCT,iBAAO,CAAG4C,gBAAM,CAAC5C,iBAAD,CAAN,CAAgB6C,KAAhB,CAAsB,SAAtB,EAAiCC,OAAjC,CAAyC,KAAzC,EAAgDc,MAAhD,EAAV,CAExC1D,EAAE,CAAG0C,gBAAM,CAAC5C,iBAAD,CAAX,CACA,GAAGxD,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuCP,EAAE,CAAG,GAAI2D,KAAJ,CAASjB,gBAAM,CAAC5C,iBAAD,CAAN,CAAgB8D,GAAhB,CAAoB,CAApB,CAAuB,MAAvB,EAA+BF,MAA/B,EAAT,CAAL,CAEvC,GAAMrH,IAAG,CAAGiH,wBAAA,CAAU,gBAAV,CAAZ,CACAjH,GAAG,CAACwH,SAAJ,CAAc,GAAd,EAAmBC,MAAnB,GACAR,2BAAA,CAAa,gBAAb,EAA+BQ,MAA/B,GACAR,2BAAA,CAAa,QAAb,EAAuBQ,MAAvB,GACAR,2BAAA,CAAa,gBAAb,EAA+BQ,MAA/B,GAEA;AACAzH,GAAG,CAAC0H,MAAJ,CAAW,GAAX,EAAgBA,MAAhB,CAAuB,MAAvB,EACCC,IADD,CACM,OADN,CACe,IADf,EAECA,IAFD,CAEM,QAFN,CAEgB,MAFhB,EAGCA,IAHD,CAGM,GAHN,CAGW,CAHX,EAICA,IAJD,CAIM,GAJN,CAIW,CAJX,EAKCA,IALD,CAKM,MALN,CAKc,MALd,EAMCA,IAND,CAMM,SANN,CAMiB,CANjB,EAQA,GAAMC,MAAK,CAAG,IAAd,CACA,GAAMC,SAAQ,CAAGD,KAAK,CAACZ,YAAvB,CAEA,GAAIc,WAAU,CAAG,IAAjB,CACA,GAAG7H,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyC4D,UAAU,CAAG,IAAb,CACzC,GAAG7H,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuC4D,UAAU,CAAG,CAAb,CAEvC;AAEAzE,MAAM,CAAG4D,2BAAA,GACRc,KADQ,CACF,CAAC,CAAD,CAAGH,KAAH,CADE,EAERI,MAFQ,CAED,CAACtE,iBAAD,CAASC,EAAT,CAFC,CAAT,CAIAJ,UAAU,CAAG0D,2BAAA,GACZc,KADY,CACN,CAAC,CAAD,CAAG,GAAH,CADM,EAEZC,MAFY,CAEL,CAACtE,iBAAD,CAASC,EAAT,CAFK,CAAb,CAIAf,WAAW,CAAGqE,6BAAA,GACbc,KADa,CACP,CAAC,CAAD,CAAG,GAAH,CADO,EAEbC,MAFa,CAEN,CAAC,CAAD,CAAGd,QAAH,CAFM,CAAd,CAIAhE,eAAe,CAAG+D,6BAAA,GACjBc,KADiB,CACX,CAAC,GAAD,CAAK,CAAL,CADW,EAEjBC,MAFiB,CAEV,CAAC,CAAD,CAAGd,QAAH,CAFU,CAAlB,CAIArE,YAAY,CAAGoE,6BAAA,GACdc,KADc,CACR,CAAC,CAAD,CAAG,GAAH,CADQ,EAEdC,MAFc,CAEP,CAAC,CAAD,CAAGb,SAAH,CAFO,CAAf,CAIAhE,gBAAgB,CAAG8D,6BAAA,GAClBc,KADkB,CACZ,CAAC,GAAD,CAAK,CAAL,CADY,EAElBC,MAFkB,CAEX,CAAC,CAAD,CAAGb,SAAH,CAFW,CAAnB,CAIArE,cAAc,CAAGmE,6BAAA,GAChBc,KADgB,CACV,CAAC,CAAD,CAAG,GAAH,CADU,EAEhBC,MAFgB,CAET,CAAC,CAAD,CAAGZ,WAAH,CAFS,CAAjB,CAIAhE,kBAAkB,CAAG6D,6BAAA,GACpBc,KADoB,CACd,CAAC,GAAD,CAAK,CAAL,CADc,EAEpBC,MAFoB,CAEb,CAAC,CAAD,CAAGZ,WAAH,CAFa,CAArB,CAIA;AAEA9D,KAAK,CAAG2D,4BAAA,GACPgB,KADO,CACD1E,UADC,EAEP2E,QAFO,CAEE,CAFF,EAGPC,WAHO,CAGK,CAHL,CAAR,CAKA;AACA;AAEA;AACA;AAEApF,UAAU,CAAGkE,2BAAA,GACZgB,KADY,CACN/E,eADM,EAEZkF,KAFY,CAEN,CAFM,EAGZF,QAHY,CAGH,CAHG,EAIZC,WAJY,CAIA,CAJA,EAKZE,UALY,CAKD,SAASrE,CAAT,CAAW,CACnB,GAAG/D,OAAO,CAAC0F,aAAR,EAAuB,SAA1B,CAAqC,MAAO3D,WAAU,CAACgC,CAAD,CAAV,CAAc,GAArB,CACrC,MAAOhC,WAAU,CAACgC,CAAD,CAAjB,CACH,CARY,CAAb,CAUAhB,WAAW,CAAGiE,2BAAA,GACbgB,KADa,CACP9E,gBADO,EAEbiF,KAFa,CAEP,CAFO,EAGbF,QAHa,CAGJ,CAHI,EAIbC,WAJa,CAID,CAJC,EAKbE,UALa,CAKF,SAASrE,CAAT,CAAW,CACnB,GAAG/D,OAAO,CAAC0F,aAAR,EAAuB,SAA1B,CAAqC,MAAO3D,WAAU,CAACgC,CAAD,CAAV,CAAc,GAArB,CACrC,MAAOhC,WAAU,CAACgC,CAAD,CAAjB,CACH,CARa,CAAd,CAUAf,aAAa,CAAGgE,2BAAA,GACfgB,KADe,CACT7E,kBADS,EAEfgF,KAFe,CAET,CAFS,EAGfF,QAHe,CAGN,CAHM,EAIfC,WAJe,CAIH,CAJG,EAKfE,UALe,CAKJ,SAASrE,CAAT,CAAW,CACnB,GAAG/D,OAAO,CAAC0F,aAAR,EAAuB,SAA1B,CAAqC,MAAO3D,WAAU,CAACgC,CAAD,CAAV,CAAc,GAArB,CACrC,MAAOhC,WAAU,CAACgC,CAAD,CAAjB,CACH,CARe,CAAhB,CAUA;AACA,GAAIsE,WAAU,CAAGrB,wBAAA,CAAU,SAAV,EAAqBS,MAArB,CAA4B,GAA5B,EAAiCC,IAAjC,CAAsC,IAAtC,CAA4C,OAA5C,EAAqDA,IAArD,CAA0D,WAA1D,CAAuE,YAAvE,CAAjB,CAEA,GAAIY,eAAc,CAAGD,UAAU,CAACZ,MAAX,CAAkB,GAAlB,EACpBC,IADoB,CACf,OADe,CACN,YADM,EAEpBA,IAFoB,CAEf,IAFe,CAET,WAFS,EAGpBA,IAHoB,CAGf,WAHe,CAGF,oBAHE,EAIpBa,IAJoB,CAIfzF,UAJe,CAArB,CAMA;AACA,GAAI0F,gBAAe,CAAGH,UAAU,CAACZ,MAAX,CAAkB,GAAlB,EACrBC,IADqB,CAChB,OADgB,CACP,YADO,EAErBA,IAFqB,CAEhB,IAFgB,CAEV,YAFU,EAGrBA,IAHqB,CAGhB,WAHgB,CAGH,oBAHG,EAIrBa,IAJqB,CAIhBxF,WAJgB,CAAtB,CAMA;AACA,GAAI0F,kBAAiB,CAAGJ,UAAU,CAACZ,MAAX,CAAkB,GAAlB,EACvBC,IADuB,CAClB,OADkB,CACT,YADS,EAEvBA,IAFuB,CAElB,IAFkB,CAEZ,cAFY,EAGvBA,IAHuB,CAGlB,WAHkB,CAGL,sBAHK,EAIvBa,IAJuB,CAIlBvF,aAJkB,CAAxB,CAMA;AACA,GAAI0F,WAAU,CAAGL,UAAU,CAACZ,MAAX,CAAkB,GAAlB,EAChBC,IADgB,CACX,IADW,CACL,YADK,EAEhBA,IAFgB,CAEX,OAFW,CAEF,OAFE,EAGhBA,IAHgB,CAGX,WAHW,CAGE,mBAHF,EAIhBa,IAJgB,CAIXlF,KAJW,CAAjB,CAMA,GAAIsF,YAAW,CAAGN,UAAU,CAACZ,MAAX,CAAkB,GAAlB,EACjBC,IADiB,CACZ,IADY,CACN,aADM,EAEjBA,IAFiB,CAEZ,OAFY,CAEH,OAFG,EAGjBA,IAHiB,CAGZ,WAHY,CAGC,mBAHD,EAIjBa,IAJiB,CAIZlF,KAJY,CAAlB,CAMA,GAAIuF,cAAa,CAAGP,UAAU,CAACZ,MAAX,CAAkB,GAAlB,EACnBC,IADmB,CACd,IADc,CACR,eADQ,EAEnBA,IAFmB,CAEd,OAFc,CAEL,OAFK,EAGnBA,IAHmB,CAGd,WAHc,CAGD,mBAHC,EAInBa,IAJmB,CAIdlF,KAJc,CAApB,CAMA,GAAIwF,cAAa,CAAGR,UAAU,CAACZ,MAAX,CAAkB,GAAlB,EACnBC,IADmB,CACd,IADc,CACR,eADQ,EAEnBA,IAFmB,CAEd,OAFc,CAEL,OAFK,EAGnBA,IAHmB,CAGd,WAHc,CAGD,mBAHC,EAInBa,IAJmB,CAIdlF,KAJc,CAApB,CAMA;AACA;AACA,GAAMyF,UAAS,CAAG/I,GAAG,CAACwH,SAAJ,CAAc,YAAd,EACjBtH,IADiB,CACZ2D,WADY,EAEjBmF,KAFiB,GAGjBtB,MAHiB,CAGV,GAHU,EAIjBC,IAJiB,CAIZ,OAJY,CAIH,WAJG,EAKjBA,IALiB,CAKZ,WALY,CAKC,SAAS3D,CAAT,CAAW,CAAE,MAAOA,EAAC,CAACG,IAAT,CAAc,CAL5B,EAMjBwD,IANiB,CAMZ,WANY,CAMC,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC5B,MAAO,aAAaZ,MAAM,CAACW,CAAC,CAACG,IAAH,CAAnB,CAA4B,GAAnC,CACH,CARiB,CAAlB,CAUA;AACA4E,SAAS,CAACvB,SAAV,CAAoB,YAApB,EACCtH,IADD,CACM,SAAS8D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAOD,EAAC,CAACwB,MAAF,CAASsB,MAAT,CAAgB,SAASnC,EAAT,CAAYC,EAAZ,CAAe,CACvD,MAAOD,GAAE,CAACa,MAAH,GAAY,KAAnB,CACH,CAF2B,CAAP,CAElB,CAHH,EAICwD,KAJD,GAKCtB,MALD,CAKQ,MALR,EAMCC,IAND,CAMM,OANN,CAMe,SAAS3D,CAAT,CAAWC,CAAX,CAAc,CAAE,MAAO,0BAA0BD,CAAC,CAACwB,MAAnC,CAA2C,CAN1E,EAOCmC,IAPD,CAOM,GAPN,CAOYE,QAAQ,CAACC,UAPrB,EAQCH,IARD,CAQM,GARN,CAQW,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACpB,GAAMgF,cAAa,CAAGhC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmCrE,eAAnC,CAAqDmC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCb,SAAlH,CACA,GAAI6E,GAAE,CAAG,CAAT,CACA,GAAGnF,CAAC,CAAC,CAAL,CAAO,CACH,IAAI,GAAIW,GAAE,CAAC,CAAX,CAAaA,EAAE,EAAEX,CAAjB,CAAmBW,EAAE,EAArB,CAAwB,CACpB,GAAG3E,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDH,gBAAtD,CACzC,GAAGxE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6CyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDL,SAAtD,CAC7C,GAAGtE,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDL,SAAtD,CACzC,CACJ,CACD,GAAI8E,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAI,IAAIzG,WAAW,CAACoB,CAAC,CAACS,gBAAH,CAAf,CAAqC7B,WAAW,CAACwG,EAAD,CAArD,CACzC,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAI,IAAIzG,WAAW,CAACoB,CAAC,CAACO,SAAH,CAAf,CAA8B3B,WAAW,CAACwG,EAAD,CAA9C,CAC7C,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,IAAK,KAAKrF,CAAC,CAACO,SAAF,CAAY0E,aAAjB,CAAL,CAAwC,KAAKG,EAAE,CAACH,aAAR,CAA7C,CACtC,GAAGI,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CAvBD,EAwBC1B,IAxBD,CAwBM,OAxBN,CAwBeE,QAAQ,CAAEA,QAAQ,CAACC,UAAT,CAAoB,CAxB7C,EAyBCH,IAzBD,CAyBM,QAzBN,CAyBgB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACzB,GAAMgF,cAAa,CAAGhC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmCrE,eAAnC,CAAqDmC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCb,SAAlH,CACA,GAAI8E,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAGzG,WAAW,CAACoB,CAAC,CAACS,gBAAH,CAAf,CACzC,GAAGxE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAGzG,WAAW,CAACoB,CAAC,CAACO,SAAH,CAAf,CAC7C,GAAGtE,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,KAAKrF,CAAC,CAACO,SAAF,CAAY0E,aAAjB,CAAL,CACtC,GAAGI,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CAhCD,EAiCC1B,IAjCD,CAiCM,MAjCN,CAiCc,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACvB,MAAO9D,WAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACwB,MAAjB,CAAP,CACH,CAnCD,EAqCA;AACAuD,SAAS,CAACvB,SAAV,CAAoB,aAApB,EACCtH,IADD,CACM,SAAS8D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAOD,EAAC,CAACwB,MAAF,CAASsB,MAAT,CAAgB,SAASnC,EAAT,CAAYC,EAAZ,CAAe,CACvD,MAAOD,GAAE,CAACa,MAAH,GAAY,KAAnB,CACH,CAF2B,CAAP,CAElB,CAHH,EAICwD,KAJD,GAKCtB,MALD,CAKQ,MALR,EAMCC,IAND,CAMM,OANN,CAMe,SAAS3D,CAAT,CAAWC,CAAX,CAAc,CAAE,MAAO,2BAA2BD,CAAC,CAACwB,MAApC,CAA4C,CAN3E,EAOCmC,IAPD,CAOM,GAPN,CAOYE,QAAQ,CAACC,UAPrB,EAQCH,IARD,CAQM,GARN,CAQW,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACpB,GAAMqF,eAAc,CAAGrC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC7D,gBAAnC,CAAsD2B,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCZ,UAApH,CACA,GAAI4E,GAAE,CAAG,CAAT,CACA,GAAGnF,CAAC,CAAC,CAAL,CAAO,CACH,IAAI,GAAIW,GAAE,CAAC,CAAX,CAAaA,EAAE,EAAEX,CAAjB,CAAmBW,EAAE,EAArB,CAAwB,CACpB,GAAG3E,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDF,iBAAtD,CACzC,GAAGzE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6CyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDJ,UAAtD,CAC7C,GAAGvE,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDJ,UAAtD,CACzC,CACJ,CACD,GAAI6E,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAI,IAAIxG,YAAY,CAACmB,CAAC,CAACU,iBAAH,CAAhB,CAAuC7B,YAAY,CAACuG,EAAD,CAAnD,CAAyD,GAA9D,CACzC,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAI,IAAIxG,YAAY,CAACmB,CAAC,CAACQ,UAAH,CAAhB,CAAgC3B,YAAY,CAACuG,EAAD,CAA5C,CAAkD,GAAvD,CAC7C,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,IAAK,KAAKrF,CAAC,CAACQ,UAAF,CAAa8E,cAAlB,CAAL,CAA0C,KAAKF,EAAE,CAACE,cAAR,CAA1C,CAAoE,GAAzE,CACtC,GAAGD,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CAvBD,EAwBC1B,IAxBD,CAwBM,OAxBN,CAwBeE,QAAQ,CAAEA,QAAQ,CAACC,UAAT,CAAoB,CAxB7C,EAyBCH,IAzBD,CAyBM,QAzBN,CAyBgB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACzB,GAAMqF,eAAc,CAAGrC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC7D,gBAAnC,CAAsD2B,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCZ,UAApH,CACA,GAAI6E,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAGxG,YAAY,CAACmB,CAAC,CAACU,iBAAH,CAAhB,CACzC,GAAGzE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAGxG,YAAY,CAACmB,CAAC,CAACQ,UAAH,CAAhB,CAC7C,GAAGvE,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,KAAKrF,CAAC,CAACQ,UAAF,CAAa8E,cAAlB,CAAL,CACtC,GAAGD,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CAhCD,EAiCC1B,IAjCD,CAiCM,MAjCN,CAiCc,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACvB,MAAO9D,WAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACwB,MAAjB,CAAP,CACH,CAnCD,EAqCA;AACA,GAAGvF,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAwC,CACpC6E,SAAS,CAACvB,SAAV,CAAoB,UAApB,EACCG,IADD,CACM,OADN,CACe,SAAS3D,CAAT,CAAY,CACvB,GAAIG,KAAI,CAAG8C,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmChF,IAA9C,CACA,GAAIoF,KAAI,CAAGtC,2BAAA,CAAauC,MAAb,CAAoBrF,IAApB,CAA0B,CAA1B,CAAX,CACA,MAAO,CAACd,MAAM,CAACkG,IAAD,CAAN,CAAclG,MAAM,CAACc,IAAD,CAArB,GAA8B,EAAE2D,UAAhC,CAAP,CACC,CALL,EAMCH,IAND,CAMM,GANN,CAMW,SAAS3D,CAAT,CAAY,CACnB,GAAIG,KAAI,CAAG8C,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmChF,IAA9C,CACA,GAAIoF,KAAI,CAAGtC,2BAAA,CAAauC,MAAb,CAAoBrF,IAApB,CAA0B,CAA1B,CAAX,CACA,MAAO,CAACd,MAAM,CAACkG,IAAD,CAAN,CAAclG,MAAM,CAACc,IAAD,CAArB,GAA8B2D,UAAU,CAAC,CAAzC,CAAP,CACC,CAVL,EAWC,CAEL;AAEA,GAAM2B,WAAU,CAAGzJ,GAAG,CAACwH,SAAJ,CAAc,aAAd,EAClBtH,IADkB,CACbwF,YADa,EAElBsD,KAFkB,GAGlBtB,MAHkB,CAGX,GAHW,EAIlBC,IAJkB,CAIb,OAJa,CAIJ,YAJI,EAKlBA,IALkB,CAKb,WALa,CAKA,SAAS3D,CAAT,CAAW,CAAE,MAAOA,EAAC,CAACG,IAAT,CAAc,CAL3B,EAMlBwD,IANkB,CAMb,WANa,CAMA,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC5B,MAAO,aAAaZ,MAAM,CAACW,CAAC,CAACG,IAAH,CAAnB,CAA4B,QAAnC,CACH,CARkB,CAAnB,CAUAsF,UAAU,CAACjC,SAAX,CAAqB,eAArB,EACCtH,IADD,CACM,SAAS8D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAOD,EAAC,CAACwB,MAAF,CAASsB,MAAT,CAAgB,SAASnC,EAAT,CAAYC,EAAZ,CAAe,CACvD,MAAOD,GAAE,CAACa,MAAH,GAAY,KAAnB,CACH,CAF2B,CAAP,CAElB,CAHH,EAICwD,KAJD,GAKCtB,MALD,CAKQ,MALR,EAMCC,IAND,CAMM,OANN,CAMe,sBANf,EAOCA,IAPD,CAOM,OAPN,CAOe,SAAS3D,CAAT,CAAWC,CAAX,CAAc,CAAE,MAAO,6BAA6BD,CAAC,CAACwB,MAAtC,CAA8C,CAP7E,EAQCmC,IARD,CAQM,GARN,CAQYE,QAAQ,CAACC,UARrB,EASCH,IATD,CASM,GATN,CASW,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACpB,GAAMyF,iBAAgB,CAAGzC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmClD,kBAAnC,CAAwDgB,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCU,YAAxH,CACA,GAAIsD,GAAE,CAAG,CAAT,CACA,GAAGnF,CAAC,CAAC,CAAL,CAAO,CACH,IAAI,GAAIW,GAAE,CAAC,CAAX,CAAaA,EAAE,EAAEX,CAAjB,CAAmBW,EAAE,EAArB,CAAwB,CACpB,GAAG3E,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDoB,mBAAtD,CACzC,GAAG/F,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6CyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDkB,YAAtD,CAC7C,GAAG7F,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDkB,YAAtD,CACzC,CACJ,CACD,GAAIuD,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAI,IAAIvG,cAAc,CAACkB,CAAC,CAACgC,mBAAH,CAAlB,CAA2ClD,cAAc,CAACsG,EAAD,CAA9D,CACzC,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAI,IAAIvG,cAAc,CAACkB,CAAC,CAAC8B,YAAH,CAAlB,CAAoChD,cAAc,CAACsG,EAAD,CAAvD,CAC7C,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,IAAK,KAAKrF,CAAC,CAAC8B,YAAF,CAAe4D,gBAApB,CAAL,CAA8C,KAAKN,EAAE,CAACM,gBAAR,CAAnD,CACtC,GAAGL,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CAxBD,EAyBC1B,IAzBD,CAyBM,OAzBN,CAyBeE,QAAQ,CAAEA,QAAQ,CAACC,UAAT,CAAoB,CAzB7C,EA0BCH,IA1BD,CA0BM,QA1BN,CA0BgB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACzB,GAAMyF,iBAAgB,CAAGzC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmClD,kBAAnC,CAAwDgB,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCU,YAAxH,CACA,GAAIuD,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAGvG,cAAc,CAACkB,CAAC,CAACgC,mBAAH,CAAlB,CACzC,GAAG/F,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAGvG,cAAc,CAACkB,CAAC,CAAC8B,YAAH,CAAlB,CAC7C,GAAG7F,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,KAAKrF,CAAC,CAAC8B,YAAF,CAAe4D,gBAApB,CAAL,CACtC,GAAGL,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CAjCD,EAkCC1B,IAlCD,CAkCM,MAlCN,CAkCc,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACvB,MAAO9D,WAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACwB,MAAjB,CAAP,CACH,CApCD,EAsCA,GAAGvF,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAwC,CACxCuF,UAAU,CAACjC,SAAX,CAAqB,UAArB,EACCG,IADD,CACM,OADN,CACe,SAAS3D,CAAT,CAAY,CACvB,GAAIG,KAAI,CAAG8C,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmChF,IAA9C,CACA,GAAIoF,KAAI,CAAGtC,2BAAA,CAAauC,MAAb,CAAoBrF,IAApB,CAA0B,CAA1B,CAAX,CACA,MAAO,CAACd,MAAM,CAACkG,IAAD,CAAN,CAAclG,MAAM,CAACc,IAAD,CAArB,GAA8B,EAAE2D,UAAhC,CAAP,CACC,CALL,EAMCH,IAND,CAMM,GANN,CAMW,SAAS3D,CAAT,CAAY,CACnB,GAAIG,KAAI,CAAG8C,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmChF,IAA9C,CACA,GAAIoF,KAAI,CAAGtC,2BAAA,CAAauC,MAAb,CAAoBrF,IAApB,CAA0B,CAA1B,CAAX,CACA,MAAO,CAACd,MAAM,CAACkG,IAAD,CAAN,CAAclG,MAAM,CAACc,IAAD,CAArB,GAA8B2D,UAAU,CAAC,CAAzC,CAAP,CACC,CAVL,EAWC,CAED;AACA,GAAG7H,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAwC,CACpC6E,SAAS,CAACvB,SAAV,CAAoB,UAApB,EACCG,IADD,CACM,OADN,CACe,SAAS3D,CAAT,CAAY,CACvB,GAAIG,KAAI,CAAG8C,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmChF,IAA9C,CACA,GAAIoF,KAAI,CAAGtC,2BAAA,CAAauC,MAAb,CAAoBrF,IAApB,CAA0B,CAA1B,CAAX,CACA,MAAO,CAACd,MAAM,CAACkG,IAAD,CAAN,CAAclG,MAAM,CAACc,IAAD,CAArB,GAA8B,EAAE2D,UAAhC,CAAP,CACD,CALH,EAMCH,IAND,CAMM,GANN,CAMW,SAAS3D,CAAT,CAAY,CACnB,GAAIG,KAAI,CAAG8C,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmChF,IAA9C,CACA,GAAIoF,KAAI,CAAGtC,2BAAA,CAAauC,MAAb,CAAoBrF,IAApB,CAA0B,CAA1B,CAAX,CACA,MAAO,CAACd,MAAM,CAACkG,IAAD,CAAN,CAAclG,MAAM,CAACc,IAAD,CAArB,GAA8B2D,UAAU,CAAC,CAAzC,CAAP,CACD,CAVH,EAWC,CAEL5H,IAAI,CAACwF,YAAL,CAAoBA,YAApB,CACAxF,IAAI,CAAC2D,WAAL,CAAmBA,WAAnB,CAEI;AAEA;AACA,GAAI8F,MAAK,CAAGzJ,IAAI,CAAC0J,aAAjB,CAEApG,YAAY,CAAGyD,2BAAA,GACdc,KADc,CACR,CAAC,EAAD,CAAI,GAAJ,CADQ,EAEdC,MAFc,CAEP,CAACtE,iBAAD,CAASC,EAAT,CAFO,CAAf,CAIA;AACDkG,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BC,WAA/B,CAA2C9C,wBAAA,CAAU,mBAAV,EAA+B+C,IAA/B,EAA3C,EACAH,QAAQ,CAACC,cAAT,CAAwB,KAAxB,EAA+BC,WAA/B,CAA2C9C,wBAAA,CAAU,gBAAV,EAA4B+C,IAA5B,EAA3C,EACA,GAAIC,gBAAe,CAAGhD,wBAAA,CAAU,mBAAV,EAA+BU,IAA/B,CAAoC,SAApC,CAA+C,CAA/C,CAAtB,CACA,GAAIuC,aAAY,CAAGjD,wBAAA,CAAU,gBAAV,EAA4BU,IAA5B,CAAiC,SAAjC,CAA4C,CAA5C,CAAnB,CAEC;AACA,GAAIwC,SAAQ,CAAGnK,GAAG,CAAC0H,MAAJ,CAAW,MAAX,EACdC,IADc,CACT,IADS,CACJ,iBADI,EAEdA,IAFc,CAET,OAFS,CAEAE,QAFA,EAGdF,IAHc,CAGT,GAHS,CAGJ,CAHI,EAIdA,IAJc,CAIT,GAJS,CAIJ,CAJI,EAKdA,IALc,CAKT,SALS,CAKE,CALF,EAMdA,IANc,CAMT,QANS,CAMC,MAND,EAOdA,IAPc,CAOT,MAPS,CAOD,wBAPC,CAAf,CASAV,wBAAA,CAAU,gBAAV,EAA4BmD,EAA5B,CAA+B,WAA/B,CAA6C,SAACC,KAAD,CAAW,CAEpD,GAAIC,OAAM,CAAGrD,yBAAA,CAAYoD,KAAZ,CAAb,CACAF,QAAQ,CAACxC,IAAT,CAAc,SAAd,CAAyB,CAAzB,EAEA,GAAI4C,MAAK,CAAGlH,MAAM,CAACmH,MAAP,CAAcF,MAAM,CAAC,CAAD,CAApB,CAAZ,CAEA,GAAGrK,OAAO,CAACiE,kBAAR,EAA4B,MAA/B,CAAuC,CACnCqG,KAAK,CAAGlE,gBAAM,CAACkE,KAAD,CAAN,CAAchE,OAAd,CAAsB,SAAtB,CAAR,CACH,CACD,GAAGtG,OAAO,CAACiE,kBAAR,EAA4B,KAA/B,CAAsC,CAClCqG,KAAK,CAAGlE,gBAAM,CAACkE,KAAD,CAAN,CAAchE,OAAd,CAAsB,KAAtB,CAAR,CACH,CACD,GAAGtG,OAAO,CAACiE,kBAAR,EAA4B,OAA/B,CAAwC,CACpCqG,KAAK,CAAGlE,gBAAM,CAACkE,KAAD,CAAN,CAAchE,OAAd,CAAsB,OAAtB,CAAR,CACH,CAED,GAAG+D,MAAM,CAAC,CAAD,CAAN,CAAU,GAAb,CAAiB,CACbL,eAAe,CAACtC,IAAhB,CAAqB,SAArB,CAAgC,CAAhC,EAAmCA,IAAnC,CAAwC,SAAxC,CAAmD,QAAnD,EACAwC,QAAQ,CAACxC,IAAT,CAAc,QAAd,CAAwB,MAAxB,EACH,CAHD,IAGO,IAAG2C,MAAM,CAAC,CAAD,CAAN,CAAU,GAAb,CAAiB,CACpBJ,YAAY,CAACvC,IAAb,CAAkB,SAAlB,CAA6B,CAA7B,EACAwC,QAAQ,CAACxC,IAAT,CAAc,QAAd,CAAwB,KAAxB,EACH,CAHM,IAGA,CACHuC,YAAY,CAACvC,IAAb,CAAkB,SAAlB,CAA6B,CAA7B,EACAsC,eAAe,CAACtC,IAAhB,CAAqB,SAArB,CAAgC,CAAhC,EACAwC,QAAQ,CAACxC,IAAT,CAAc,QAAd,CAAwB,MAAxB,EACH,CAED,GAAI4C,KAAK,CAAClD,MAAN,GAAeoD,OAAf,GAAyB/G,iBAAO,CAAC+G,OAAR,EAA7B,CAAgD,CAC5CN,QAAQ,CAACxC,IAAT,CAAc,SAAd,CAAyB,CAAzB,EACAsC,eAAe,CAACtC,IAAhB,CAAqB,SAArB,CAAgC,CAAhC,EACH,CAEDV,wBAAA,CAAU,gBAAV,EAA4ByD,KAA5B,CAAkC,SAAlC,CAA6C,EAA7C,EAEH,CApCD,EAoCGN,EApCH,CAoCM,UApCN,CAoCmB,SAACC,KAAD,CAAW,CAC1BF,QAAQ,CAACxC,IAAT,CAAc,SAAd,CAAyB,CAAzB,EACAsC,eAAe,CAACtC,IAAhB,CAAqB,SAArB,CAAgC,CAAhC,EAAmCA,IAAnC,CAAwC,SAAxC,CAAmD,MAAnD,EACA;AACAV,wBAAA,CAAU,gBAAV,EAA4ByD,KAA5B,CAAkC,SAAlC,CAA6C,CAA7C,EACAR,YAAY,CAACvC,IAAb,CAAkB,SAAlB,CAA6B,CAA7B,EAAgCA,IAAhC,CAAqC,WAArC,CAAkD,gBAAlD,EACAV,2BAAA,CAAa,sBAAb,EAAqCyD,KAArC,CAA2C,QAA3C,CAAqDvK,UAAM,CAACS,KAA5D,EACH,CA3CD,EA4CCwJ,EA5CD,CA4CI,WA5CJ,CA4CiB,SAACC,KAAD,CAAW,CACxB,GAAIC,OAAM,CAAGrD,yBAAA,CAAYoD,KAAZ,CAAb,CAEA,GAAIE,MAAK,CAAGlH,MAAM,CAACmH,MAAP,CAAcF,MAAM,CAAC,CAAD,CAApB,CAAZ,CAEA,GAAIK,WAAU,CAAG,EAAjB,CACA,GAAG1K,OAAO,CAACiE,kBAAR,EAA4B,MAA/B,CAAuC,CACnCqG,KAAK,CAAGlE,gBAAM,CAACkE,KAAD,CAAN,CAAchE,OAAd,CAAsB,SAAtB,CAAR,CACAoE,UAAU,CAAGJ,KAAK,CAACK,MAAN,CAAa,IAAb,CAAb,CACA3D,wBAAA,CAAU,8BAAV,EAA0C4D,IAA1C,CAA+CF,UAA/C,EACH,CACD,GAAG1K,OAAO,CAACiE,kBAAR,EAA4B,KAA/B,CAAsC,CAClCqG,KAAK,CAAGlE,gBAAM,CAACkE,KAAD,CAAN,CAAchE,OAAd,CAAsB,KAAtB,CAAR,CACAoE,UAAU,CAAGJ,KAAK,CAACK,MAAN,CAAa,IAAb,CAAb,CACA3D,wBAAA,CAAU,8BAAV,EAA0C4D,IAA1C,CAA+CF,UAA/C,EACH,CACD,GAAG1K,OAAO,CAACiE,kBAAR,EAA4B,OAA/B,CAAwC,CACpCqG,KAAK,CAAGlE,gBAAM,CAACkE,KAAD,CAAN,CAAchE,OAAd,CAAsB,OAAtB,CAAR,CACAoE,UAAU,CAAGJ,KAAK,CAACK,MAAN,CAAa,WAAb,CAAb,CACA3D,wBAAA,CAAU,8BAAV,EAA0C4D,IAA1C,CAA+CF,UAA/C,EACH,CACDR,QAAQ,CAACxC,IAAT,CAAc,GAAd,CAAmBtE,MAAM,CAACkH,KAAK,CAAClD,MAAN,EAAD,CAAzB,EAEA,GAAIyD,oBAAmB,CAAG5K,IAAI,CAAC2D,WAAL,CAAiBiD,MAAjB,CAAwB,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CAC3D,MAAOoC,iBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,KAAvB,EAA8BC,IAA9B,IAAwC+D,KAAK,CAAChE,OAAN,CAAc,KAAd,EAAqBC,IAArB,EAA/C,CACH,CAFyB,CAA1B,CAGA,GAAIuE,qBAAoB,CAAG7K,IAAI,CAACwF,YAAL,CAAkBoB,MAAlB,CAAyB,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CAC7D,MAAOoC,iBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,KAAvB,EAA8BC,IAA9B,IAAwC+D,KAAK,CAAChE,OAAN,CAAc,KAAd,EAAqBC,IAArB,EAA/C,CACH,CAF0B,CAA3B,CAIA,GAAIwE,OAAM,CAAG,GAAb,CACA,GAAIC,MAAK,CAAG,GAAZ,CACA,GAAIC,SAAQ,CAAG,GAAf,CACA,GAAGjL,OAAO,CAAC0F,aAAR,EAAuB,YAA1B,CAAuC,CACnC;AACA,GAAGmF,mBAAmB,CAAC,CAAD,CAAtB,CAA2BG,KAAK,CAAGjJ,UAAU,CAAC8I,mBAAmB,CAAC,CAAD,CAAnB,CAAuBzF,sBAAxB,CAAgD,CAAhD,CAAlB,CAC3B,GAAGyF,mBAAmB,CAAC,CAAD,CAAtB,CAA2BE,MAAM,CAAGhJ,UAAU,CAAC8I,mBAAmB,CAAC,CAAD,CAAnB,CAAuBvF,uBAAxB,CAAiD,CAAjD,CAAnB,CAC3B,GAAGwF,oBAAoB,CAAC,CAAD,CAAvB,CAA4BG,QAAQ,CAAGlJ,UAAU,CAAC+I,oBAAoB,CAAC,CAAD,CAApB,CAAwBlE,yBAAzB,CAAoD,CAApD,CAArB,CAC/B,CALD,IAKO,CACH;AACA,GAAGiE,mBAAmB,CAAC,CAAD,CAAtB,CAA2BG,KAAK,CAAGjJ,UAAU,CAAC8I,mBAAmB,CAAC,CAAD,CAAnB,CAAuBhG,eAAxB,CAAyC,CAAzC,CAAlB,CAC3B,GAAGgG,mBAAmB,CAAC,CAAD,CAAtB,CAA2BE,MAAM,CAAGhJ,UAAU,CAAC8I,mBAAmB,CAAC,CAAD,CAAnB,CAAuBxF,gBAAxB,CAA0C,CAA1C,CAAnB,CAC3B,GAAGyF,oBAAoB,CAAC,CAAD,CAAvB,CAA4BG,QAAQ,CAAGlJ,UAAU,CAAC+I,oBAAoB,CAAC,CAAD,CAApB,CAAwB9E,kBAAzB,CAA6C,CAA7C,CAArB,CAC/B,CAEDgB,wBAAA,CAAU,sBAAV,EAAkC4D,IAAlC,CAAwCI,KAAxC,EAAgDtD,IAAhD,CAAqD,aAArD,CAAoE,KAApE,EAA2EA,IAA3E,CAAgF,IAAhF,CAAsF,EAAtF,EACAV,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAyCG,MAAzC,EAAkDrD,IAAlD,CAAuD,aAAvD,CAAsE,KAAtE,EAA6EA,IAA7E,CAAkF,IAAlF,CAAwF,EAAxF,EACAV,wBAAA,CAAU,yBAAV,EAAqC4D,IAArC,CAA2CK,QAA3C,EAAsDvD,IAAtD,CAA2D,aAA3D,CAA0E,KAA1E,EAAiFA,IAAjF,CAAsF,IAAtF,CAA4F,EAA5F,EAEA;AACA;AACA;AACA,GAAK4C,KAAK,CAAClD,MAAN,GAAeoD,OAAf,GAAyB/G,iBAAO,CAAC+G,OAAR,EAA3B,EAAiDxK,OAAO,CAACiE,kBAAR,EAA4B,KAAhF,CAAuF,CACnFiG,QAAQ,CAACxC,IAAT,CAAc,SAAd,CAAyB,CAAzB,EACAsC,eAAe,CAACtC,IAAhB,CAAqB,SAArB,CAAgC,CAAhC,EACH,CAED,GAAG1H,OAAO,CAACiE,kBAAR,EAA4B,OAA/B,CAAuC,CACnCiG,QAAQ,CAACxC,IAAT,CAAc,OAAd,CAAuB,UAAU,CAC9B,MAAOtE,OAAM,CAACgD,gBAAM,CAACkE,KAAD,CAAN,CAAcjE,KAAd,CAAoB,OAApB,CAAD,CAAN,CAAuCjD,MAAM,CAACgD,gBAAM,CAACkE,KAAD,CAAN,CAAchE,OAAd,CAAsB,OAAtB,CAAD,CAApD,CACF,CAFD,EAGH,CACD0D,eAAe,CAACtC,IAAhB,CAAqB,WAArB,CAAkC,UAAU,CACxC,GAAIwD,GAAE,CAAGtD,QAAT,CACA,GAAIuD,MAAK,CAAG,CAACnL,OAAO,CAACoL,MAAR,CAAiBpL,OAAO,CAACqL,MAA1B,EAAkC,GAA9C,CACA,GAAI9B,OAAM,CAAG,CAAb,CACA,GAAG4B,KAAK,CAAC,GAAT,CAAc5B,MAAM,CAAG,CAAT,CACd,GAAG4B,KAAK,CAAC,GAAT,CAAc5B,MAAM,CAAG,EAAT,CACd,GAAG4B,KAAK,CAAC,GAAT,CAAc5B,MAAM,CAAG,EAAT,CACd,GAAG4B,KAAK,CAAC,IAAT,CAAe5B,MAAM,CAAG,EAAT,CACf,GAAGvJ,OAAO,CAACiE,kBAAR,EAA4B,OAA/B,CAAwC,CACpC,GAAGkH,KAAK,CAAC,GAAT,CAAc5B,MAAM,CAAG,EAAT,CACd,GAAG4B,KAAK,CAAC,GAAT,CAAc5B,MAAM,CAAG,EAAT,CACd,GAAG4B,KAAK,CAAC,GAAT,CAAc5B,MAAM,CAAG,EAAT,CACd,GAAG4B,KAAK,CAAC,GAAT,CAAc5B,MAAM,CAAG,EAAT,CACd,GAAG4B,KAAK,CAAC,GAAT,CAAc5B,MAAM,CAAG,EAAT,CACd,MAAO,cAAgBhG,YAAY,CAAC+G,KAAK,CAAClD,MAAN,EAAD,CAAb,CAAgCQ,QAAQ,CAAC,CAA1C,CAA8C2B,MAA5D,EAAoE,GAApE,EAAyEc,MAAM,CAAC,CAAD,CAAN,CAAU,GAAnF,EAAwF,GAA/F,CACH,CACD,MAAO,cAAe9G,YAAY,CAAC+G,KAAK,CAAClD,MAAN,EAAD,CAAZ,CAA8B,EAA/B,CAAoCmC,MAAlD,EAA0D,GAA1D,EAA+Dc,MAAM,CAAC,CAAD,CAAN,CAAU,GAAzE,EAA8E,GAArF,CACH,CAjBD,EAmBA,GAAGA,MAAM,CAAC,CAAD,CAAN,CAAU,GAAb,CAAiB,CACbL,eAAe,CAACtC,IAAhB,CAAqB,SAArB,CAAgC,CAAhC,EACAwC,QAAQ,CAACxC,IAAT,CAAc,SAAd,CAAyB,CAAzB,EACAwC,QAAQ,CAACxC,IAAT,CAAc,QAAd,CAAwB,MAAxB,EACH,CAJD,IAIO,IAAG2C,MAAM,CAAC,CAAD,CAAN,CAAU,GAAb,CAAiB,CACpBJ,YAAY,CAACvC,IAAb,CAAkB,SAAlB,CAA6B,CAA7B,EACAwC,QAAQ,CAACxC,IAAT,CAAc,QAAd,CAAwB,KAAxB,EACA,GAAInG,EAAC,CAAG6E,gBAAM,CAAChD,MAAM,CAACmH,MAAP,CAAcF,MAAM,CAAC,CAAD,CAApB,CAAD,CAAN,CAAiC/D,OAAjC,CAAyC,KAAzC,CAAR,CACA,GAAIgF,GAAE,CAAIlI,MAAM,CAACmH,MAAP,CAAcF,MAAM,CAAC,CAAD,CAApB,CAAV,CACAJ,YAAY,CAACvC,IAAb,CAAkB,WAAlB,CAA+B,UAAU,CACrC,MAAO,cAAcnE,YAAY,CAAChC,CAAC,CAAC6F,MAAF,EAAD,CAAZ,CAA0B,CAAC,CAAzC,EAA6C,GAA7C,CAAkD,GAAlD,CAAuD,GAA9D,CACH,CAFD,EAIA,GAAImE,OAAM,CAAG7B,KAAK,CAAC7C,MAAN,CAAa,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CACnC,MAAOoC,iBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,KAAvB,EAA8BC,IAA9B,IAAwChF,CAAC,CAACgF,IAAF,EAA/C,CACH,CAFY,CAAb,CAIA;AACA,GAAGgF,MAAM,CAAC5J,MAAP,EAAe,CAAlB,CAAoB,CAChB4J,MAAM,CAAG7B,KAAK,CAAC7C,MAAN,CAAa,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CAC/B,MAASoC,iBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,KAAvB,EAA8BC,IAA9B,IAAwCH,gBAAM,CAAC7E,CAAD,CAAN,CAAU+F,GAAV,CAAc,CAAd,CAAiB,MAAjB,EAAyBf,IAAzB,EAAzC,EAA4EH,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,KAAvB,EAA8BC,IAA9B,IAAwCH,gBAAM,CAAC7E,CAAD,CAAN,CAAUiK,QAAV,CAAmB,CAAnB,CAAsB,MAAtB,EAA8BjF,IAA9B,EAA5H,CACH,CAFQ,CAAT,CAGH,CAED,GAAGgF,MAAM,CAAC5J,MAAP,CAAc,CAAjB,CAAmB,CAEfqF,wBAAA,CAAU,UAAUZ,gBAAM,CAACmF,MAAM,CAAC,CAAD,CAAN,CAAUrH,IAAX,CAAN,CAAuBoC,OAAvB,CAA+B,KAA/B,EAAsCC,IAAtC,EAApB,EAAkEkF,MAAlE,CAAyE,MAAzE,EAAiFhB,KAAjF,CAAuF,QAAvF,CAAiG,MAAjG,EAAyG/C,IAAzG,CAA8G,SAA9G,CAAyH,CAAzH,EACAgD,UAAU,CAAGtE,gBAAM,CAACmF,MAAM,CAAC,CAAD,CAAN,CAAUrH,IAAX,CAAN,CAAuBoC,OAAvB,CAA+B,KAA/B,EAAsCqE,MAAtC,CAA6C,IAA7C,CAAb,CACA3D,wBAAA,CAAU,2BAAV,EAAuC4D,IAAvC,CAA4CF,UAA5C,EAEA,GAAIgB,KAAI,CAAGC,+BAAQ,GAAGC,MAAX,CAAkB,CAACC,MAAM,CAAE,GAAT,CAAclE,KAAK,CAAE,GAArB,CAAlB,EAA6CmE,MAA7C,CAAoD,QAApD,CAAX,CACA,GAAI1B,MAAK,CAAGpD,wBAAA,CAAU,qBAAV,EAAiC4D,IAAjC,CAAsCW,MAAM,CAAC,CAAD,CAAN,CAAUQ,WAAhD,EACXrE,IADW,CACN,GADM,CACD,EADC,EAEXA,IAFW,CAEN,GAFM,CAED,CAFC,CAAZ,CAGAV,wBAAA,CAAU,qBAAV,EAAiCuB,IAAjC,CAAsCmD,IAAtC,EAEA1E,2BAAA,CAAa,2BAAb,EAA0CU,IAA1C,CAA+C,IAA/C,CAAqD,OAArD,EACA,GAAIsE,KAAI,CAAGhF,wBAAA,CAAU,qBAAV,EAAiC+C,IAAjC,GAAwCkC,OAAxC,EAAX,CACAjF,wBAAA,CAAU,qBAAV,EAAiCU,IAAjC,CAAsC,OAAtC,CAA+CsE,IAAI,CAACrE,KAAL,CAAW,EAA1D,EACCD,IADD,CACM,QADN,CACgBsE,IAAI,CAACH,MAAL,CAAa,EAD7B,EAGA,GAAIK,EAAC,CAAGlF,wBAAA,CAAU,qBAAV,EAAiCU,IAAjC,CAAsC,QAAtC,CAAR,CACA,GAAIyE,GAAE,CAAG,CAAT,CAEA,GAAGH,IAAI,CAACH,MAAL,CAAY,EAAf,CAAkB,CACdM,EAAE,CAAG,EAAL,CACH,CAFD,IAEO,IAAGH,IAAI,CAACH,MAAL,CAAY,EAAf,CAAkB,CACrBM,EAAE,CAAG,CAAL,CACH,CAFM,IAEA,IAAGH,IAAI,CAACH,MAAL,CAAY,EAAf,CAAkB,CACrBM,EAAE,CAAG,CAAL,CACH,CAFM,IAEA,IAAGH,IAAI,CAACH,MAAL,CAAY,EAAf,CAAkB,CACrBM,EAAE,CAAG,CAAC,EAAN,CACH,CAFM,IAEA,IAAGH,IAAI,CAACH,MAAL,CAAY,EAAf,CAAkB,CACrBM,EAAE,CAAG,CAAC,EAAN,CACH,CAED,GAAI/C,EAAC,CAAGpC,wBAAA,CAAU,qBAAV,EAAiCU,IAAjC,CAAsC,GAAtC,CAAR,CAEAV,wBAAA,CAAU,qBAAV,EAAiCU,IAAjC,CAAsC,GAAtC,CAA2CyE,EAA3C,EAEAnF,2BAAA,CAAa,qBAAb,EAAoCU,IAApC,CAAyC,GAAzC,CAA8C,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACvD,MAAOoI,SAAQ,CAACpF,wBAAA,CAAU,IAAV,EAAgBU,IAAhB,CAAqB,GAArB,CAAD,CAAR,CAAsCyE,EAA7C,CACH,CAFD,EAIAnF,2BAAA,CAAa,2BAAb,EAA0CU,IAA1C,CAA+C,IAA/C,CAAqD,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC9D,MAAOmI,GAAP,CACH,CAFD,EAIAlC,YAAY,CAACvC,IAAb,CAAkB,SAAlB,CAA6B,CAA7B,EAEH,CA9CD,IA8CO,CACHV,2BAAA,CAAa,sBAAb,EAAqCyD,KAArC,CAA2C,QAA3C,CAAqDvK,UAAM,CAACS,KAA5D,EACAsJ,YAAY,CAACvC,IAAb,CAAkB,SAAlB,CAA6B,CAA7B,EACH,CACJ,CAtEM,IAsEA,CACHuC,YAAY,CAACvC,IAAb,CAAkB,SAAlB,CAA6B,CAA7B,EACAsC,eAAe,CAACtC,IAAhB,CAAqB,SAArB,CAAgC,CAAhC,EACAwC,QAAQ,CAACxC,IAAT,CAAc,SAAd,CAAyB,CAAzB,EACAwC,QAAQ,CAACxC,IAAT,CAAc,QAAd,CAAwB,MAAxB,EACH,CAED,GAAI1H,OAAO,CAACiE,kBAAR,EAA4B,KAA7B,EAAuCqG,KAAK,CAAClD,MAAN,GAAeoD,OAAf,GAAyB/G,iBAAO,CAAC+G,OAAR,EAAnE,CAAuF,CACnFN,QAAQ,CAACxC,IAAT,CAAc,SAAd,CAAyB,CAAzB,EACAsC,eAAe,CAACtC,IAAhB,CAAqB,SAArB,CAAgC,CAAhC,EACA,MAAO,MAAP,CACH,CACJ,CAnND,EAqNAgC,KAAK,CAAGA,KAAK,CAAC7C,MAAN,CAAa,SAAA9C,CAAC,QAAIA,EAAC,CAACG,IAAF,CAAOvC,MAAP,CAAgB,CAApB,EAAd,CAAR,CAEA;AAEA0G,UAAU,CAACZ,MAAX,CAAkB,MAAlB,EACCC,IADD,CACM,IADN,CACY,YADZ,EAECA,IAFD,CAEM,IAFN,CAEY,CAFZ,EAGCA,IAHD,CAGM,IAHN,CAGY,GAHZ,EAICA,IAJD,CAIM,IAJN,CAIY,GAJZ,EAKCA,IALD,CAKM,IALN,CAKY,GALZ,EAMCA,IAND,CAMM,cANN,CAMsB,GANtB,EAOCA,IAPD,CAOM,QAPN,CAOgBxH,UAAM,CAACS,KAPvB,EASA,GAAI0L,QAAO,CAAGhE,UAAU,CAACZ,MAAX,CAAkB,GAAlB,EAAuBF,SAAvB,CAAiC,eAAjC,EACbtH,IADa,CACRyJ,KADQ,EAEbX,KAFa,GAGbtB,MAHa,CAGN,GAHM,EAIbC,IAJa,CAIR,OAJQ,CAIC,cAJD,EAKbA,IALa,CAKR,IALQ,CAKF,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACrB,MAAO,SAASoC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,KAAvB,EAA8BC,IAA9B,EAAhB,CACH,CAPa,EAQbmB,IARa,CAQR,WARQ,CAQK,SAAS3D,CAAT,CAAW,CAC1B,GAAIxC,EAAC,CAAGgC,YAAY,CAAC,GAAI8D,KAAJ,CAAStD,CAAC,CAACG,IAAX,CAAD,CAApB,CACA,MAAO,aAAc3C,CAAd,CAAiB,QAAxB,CACH,CAXa,EAYbkJ,KAZa,CAYP,QAZO,CAYG,SAZH,CAAd,CAaA;AACA;AAEA4B,OAAO,CAAC5E,MAAR,CAAe,QAAf,EACCgD,KADD,CACO,QADP,CACiBvK,UAAM,CAACS,KADxB,EAEC+G,IAFD,CAEM,SAFN,CAEiB,CAFjB,EAGCA,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,IAJN,CAIY,CAJZ,EAKCA,IALD,CAKM,IALN,CAKY,CALZ,EAMC+C,KAND,CAMO,cANP,CAMsB,GANtB,EAOCA,KAPD,CAOO,MAPP,CAOe,OAPf,EAQA4B,OAAO,CACN5E,MADD,CACQ,QADR,EAECC,IAFD,CAEM,GAFN,CAEW,CAFX,EAGCA,IAHD,CAGM,IAHN,CAGY,CAHZ,EAICA,IAJD,CAIM,IAJN,CAIY,CAJZ,EAKCA,IALD,CAKM,MALN,CAKcxH,UAAM,CAACS,KALrB,EAMC8J,KAND,CAMO,QANP,CAMiBvK,UAAM,CAACS,KANxB,EASA;AACA;AACA;AACA;AACA,GAAM2L,MAAK,CAAGtF,wBAAA,GACbuF,MADa,CACN,CAAC,CAAC,CAAD,CAAG,CAAH,CAAD,CAAO,CAAC,GAAD,CAAK,EAAL,CAAP,CADM,EAEbpC,EAFa,CAEV,iBAFU,CAESqC,OAFT,CAAd,CAIAxF,wBAAA,CAAU,QAAV,EAAoBQ,MAApB,GACR,CACQ,GAAIiF,OAAM,CAAGzF,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,GAA7B,EACZC,IADY,CACP,OADO,CACE,OADF,EAEZA,IAFY,CAEP,SAFO,CAEI,GAFJ,EAGZa,IAHY,CAGP+D,KAHO,CAAb,CAKNtF,2BAAA,CAAa,cAAb,EAA6BU,IAA7B,CAAkC,cAAlC,CAAkD,GAAlD,EAAuD+C,KAAvD,CAA6D,YAA7D,CAA2E,SAA3E,EAAsF/C,IAAtF,CAA2F,OAA3F,CAAoG,CAApG,EAAuGA,IAAvG,CAA4G,MAA5G,CAAoH,MAApH,EAA4H+C,KAA5H,CAAkI,gBAAlI,CAAoJ,CAApJ,EAEM,GAAIiC,WAAU,CAAG1F,6BAAA,GAChBe,MADgB,CACT,CAAC,CAAC,CAAF,CAAK,GAAL,CADS,EAEhBD,KAFgB,CAEV,CAAC,CAAD,CAAG,IAAH,CAFU,CAAjB,CAIA2E,MAAM,CAAClE,IAAP,CAAY+D,KAAK,CAACK,IAAlB,CAAwB,CAAC3M,OAAO,CAACqL,MAAT,CAAgBrL,OAAO,CAACoL,MAAxB,CAAxB,EAEA,QAASoB,QAAT,EAAkB,CACd,GAAIjL,EAAC,CAAGqL,UAAU,CAAC5F,wBAAA,CAAU,YAAV,EAAwBU,IAAxB,CAA6B,GAA7B,CAAD,CAAlB,CACA,GAAIhG,GAAE,CAAGkL,UAAU,CAAC5F,wBAAA,CAAU,YAAV,EAAwBU,IAAxB,CAA6B,GAA7B,CAAD,CAAnB,CACA,GAAIhG,EAAE,CAACH,CAAJ,CAAO,EAAV,CAAc,MAAO,MAAP,CACd,GAAIsL,EAAC,CAAG7F,wBAAA,CAAU,YAAV,EAAwBU,IAAxB,CAA6B,OAA7B,CAAR,CACAV,wBAAA,CAAU,QAAV,EAAoBU,IAApB,CAAyB,WAAzB,CAAsC,aAAanG,CAAb,CAAe,KAArD,EACAyF,wBAAA,CAAU,QAAV,EAAoBU,IAApB,CAAyB,WAAzB,CAAsC,aAAchG,EAAd,CAAkB,KAAxD,EACAsF,wBAAA,CAAU,cAAV,EAA0BU,IAA1B,CAA+B,OAA/B,CAAyChG,EAAE,CAACH,CAA5C,EACAyF,wBAAA,CAAU,cAAV,EAA0BU,IAA1B,CAA+B,GAA/B,CAAqCnG,CAArC,EACAyF,wBAAA,CAAU,cAAV,EAA0BU,IAA1B,CAA+B,WAA/B,CAA4C,gBAA5C,EACA,GAAIoF,SAAQ,CAAGC,IAAI,CAACC,KAAL,CAAWN,UAAU,CAAChL,EAAD,CAAV,CAAegL,UAAU,CAACnL,CAAD,CAApC,CAAf,CACA,GAAI0L,SAAQ,CAAGF,IAAI,CAACC,KAAL,CAAWN,UAAU,CAACnL,CAAD,CAArB,CAAf,CACAvB,OAAO,CAACqL,MAAR,CAAiB9J,CAAC,CAAC,CAAnB,CACAvB,OAAO,CAACoL,MAAR,CAAiB1J,EAAE,CAAC,CAApB,CAEA4B,UAAU,CAAG0D,2BAAA,GACZc,KADY,CACN,CAAC,CAAD,CAAG,GAAH,CADM,EAEZC,MAFY,CAEL,CAAC,GAAIV,KAAJ,CAASjE,MAAM,CAACmH,MAAP,CAAcmC,UAAU,CAACnL,CAAD,CAAxB,CAAT,CAAD,CAAwC,GAAI8F,KAAJ,CAASjE,MAAM,CAACmH,MAAP,CAAcmC,UAAU,CAAChL,EAAD,CAAxB,CAAT,CAAxC,CAFK,CAAb,CAIA6B,YAAY,CAAGyD,2BAAA,GACdc,KADc,CACR,CAAC,EAAD,CAAI,GAAJ,CADQ,CAEf;AAFe,CAGdC,MAHc,CAGP,CAAC,GAAIV,KAAJ,CAASjE,MAAM,CAACmH,MAAP,CAAcmC,UAAU,CAACnL,CAAD,CAAxB,CAAT,CAAD,CAAwC,GAAI8F,KAAJ,CAASjE,MAAM,CAACmH,MAAP,CAAcmC,UAAU,CAAChL,EAAD,CAAxB,CAAT,CAAxC,CAHO,CAAf,CAKAsF,2BAAA,CAAa,eAAb,EACCU,IADD,CACM,WADN,CACmB,SAAS3D,CAAT,CAAW,CAC1B,GAAIxC,EAAC,CAAGgC,YAAY,CAAC,GAAI8D,KAAJ,CAAStD,CAAC,CAACG,IAAX,CAAD,CAApB,CACA,MAAO,aAAc3C,CAAd,CAAiB,QAAxB,CACH,CAJD,EAMA8B,KAAK,CAAG2D,4BAAA,GACPmB,KADO,CACD,CADC,EAEPH,KAFO,CAED1E,UAFC,CAAR,CAIAoF,UAAU,CAACH,IAAX,CAAgBlF,KAAhB,EACAsF,WAAW,CAACJ,IAAZ,CAAiBlF,KAAjB,EACAuF,aAAa,CAACL,IAAd,CAAmBlF,KAAnB,EACAwF,aAAa,CAACN,IAAd,CAAmBlF,KAAnB,EAEA2D,wBAAA,CAAU,gBAAV,EAA4BU,IAA5B,CAAiC,SAAjC,CAA4CuF,QAAQ,CAAG,KAAX,CAAkBH,QAAlB,CAA6B,MAAzE,EACH,CAER,CAEM,QAASI,gBAAT,CAAyBjN,IAAzB,CAA+BD,OAA/B,CAAwC,CAE3C,GAAM4D,YAAW,CAAG,EAApB,CAEA3D,IAAI,CAAC4D,QAAL,CAAcC,OAAd,CAAsB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/B,GAAG,CAACJ,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAf,CAAuDL,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAqD,EAArD,CACvD,GAAGjE,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuCL,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDC,IAAnD,CAA0DH,CAAC,CAACG,IAA5D,CACvC,GAAGlE,OAAO,CAACiE,kBAAR,GAA6B,MAAhC,CAAwCL,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDC,IAAnD,CAA0DH,CAAC,CAACI,UAA5D,CACxC,GAAGnE,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyCL,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDC,IAAnD,CAA0DH,CAAC,CAACK,WAA5D,CACzC,GAAG,CAACR,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDF,CAAC,CAACM,WAArD,CAAJ,CAAuET,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDF,CAAC,CAACM,WAArD,EAAoE,CAACC,SAAS,CAAE,CAAZ,CAAeC,UAAU,CAAE,CAA3B,CAA8BC,gBAAgB,CAAE,CAAhD,CAAmDC,iBAAiB,CAAE,CAAtE,CAApE,CACvEb,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDF,CAAC,CAACM,WAArD,EAAkEC,SAAlE,EAA+EP,CAAC,CAACO,SAAjF,CACAV,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDF,CAAC,CAACM,WAArD,EAAkEE,UAAlE,EAAgFR,CAAC,CAACQ,UAAlF,CACAX,WAAW,CAACG,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAX,CAAmDF,CAAC,CAACM,WAArD,EAAkEG,gBAAlE,CAAqF,CAArF,CACH,CATD,EAWA;AACAZ,WAAW,CAACE,OAAZ,CAAoB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC7B5C,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3B,GAAG,CAACZ,CAAC,CAACa,cAAF,CAAiBF,EAAjB,CAAJ,CAAyB,CACtBX,CAAC,CAACW,EAAD,CAAD,CAAQ,CAACJ,SAAS,CAAE,CAAZ,CAAeC,UAAU,CAAE,CAA3B,CAA8BC,gBAAgB,CAAE,CAAhD,CAAmDC,iBAAiB,CAAE,CAAtE,CAAR,CACF,CACD;AACA,GAAGT,CAAC,CAAC,CAAL,CAAO,CACHD,CAAC,CAACW,EAAD,CAAD,CAAMF,gBAAN,CAAyBZ,WAAW,CAACI,CAAD,CAAX,CAAeU,EAAf,EAAmBJ,SAAnB,CAA+BV,WAAW,CAACI,CAAC,CAAC,CAAH,CAAX,CAAiBU,EAAjB,EAAqBF,gBAA7E,CACAT,CAAC,CAACW,EAAD,CAAD,CAAMD,iBAAN,CAA0Bb,WAAW,CAACI,CAAD,CAAX,CAAeU,EAAf,EAAmBH,UAAnB,CAAgCX,WAAW,CAACI,CAAC,CAAC,CAAH,CAAX,CAAiBU,EAAjB,EAAqBD,iBAA/E,CACH,CAHD,IAGO,CACHV,CAAC,CAACW,EAAD,CAAD,CAAMF,gBAAN,CAAyBZ,WAAW,CAACI,CAAD,CAAX,CAAeU,EAAf,EAAmBJ,SAA5C,CACAP,CAAC,CAACW,EAAD,CAAD,CAAMD,iBAAN,CAA0Bb,WAAW,CAACI,CAAD,CAAX,CAAeU,EAAf,EAAmBH,UAA7C,CACH,CACJ,CAZD,EAcAR,CAAC,CAACc,eAAF,CAAoBd,CAAC,CAACe,EAAF,CAAKR,SAAL,CAAiBP,CAAC,CAACgB,EAAF,CAAKT,SAAtB,CAAkCP,CAAC,CAACiB,EAAF,CAAKV,SAAvC,CAAmDP,CAAC,CAACkB,EAAF,CAAKX,SAAxD,CAAoEP,CAAC,CAACmB,EAAF,CAAKZ,SAAzE,CAAqFP,CAAC,CAACoB,GAAF,CAAMb,SAA/G,CACAP,CAAC,CAACqB,sBAAF,CAA2BrB,CAAC,CAACe,EAAF,CAAKN,gBAAL,CAAwBT,CAAC,CAACgB,EAAF,CAAKP,gBAA7B,CAAgDT,CAAC,CAACiB,EAAF,CAAKR,gBAArD,CAAwET,CAAC,CAACkB,EAAF,CAAKT,gBAA7E,CAAgGT,CAAC,CAACmB,EAAF,CAAKV,gBAArG,CAAwHT,CAAC,CAACoB,GAAF,CAAMX,gBAAzJ,CACAT,CAAC,CAACsB,gBAAF,CAAqBtB,CAAC,CAACe,EAAF,CAAKP,UAAL,CAAkBR,CAAC,CAACgB,EAAF,CAAKR,UAAvB,CAAoCR,CAAC,CAACiB,EAAF,CAAKT,UAAzC,CAAsDR,CAAC,CAACkB,EAAF,CAAKV,UAA3D,CAAwER,CAAC,CAACmB,EAAF,CAAKX,UAA7E,CAA0FR,CAAC,CAACoB,GAAF,CAAMZ,UAArH,CACAR,CAAC,CAACuB,uBAAF,CAA4BvB,CAAC,CAACe,EAAF,CAAKL,iBAAL,CAAyBV,CAAC,CAACgB,EAAF,CAAKN,iBAA9B,CAAkDV,CAAC,CAACiB,EAAF,CAAKP,iBAAvD,CAA2EV,CAAC,CAACkB,EAAF,CAAKR,iBAAhF,CAAoGV,CAAC,CAACmB,EAAF,CAAKT,iBAAzG,CAA6HV,CAAC,CAACoB,GAAF,CAAMV,iBAA/J,CACAV,CAAC,CAACwB,MAAF,CAAW,EAAX,CAEAnE,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3BZ,CAAC,CAACwB,MAAF,CAASC,IAAT,CAAc,CAAC,SAAUd,EAAX,CAAe,YAAaX,CAAC,CAACW,EAAD,CAAD,CAAMJ,SAAlC,CAA6C,aAAcP,CAAC,CAACW,EAAD,CAAD,CAAMH,UAAjE,CAA6E,mBAAoBR,CAAC,CAACW,EAAD,CAAD,CAAMF,gBAAvG,CAAyH,oBAAqBT,CAAC,CAACW,EAAD,CAAD,CAAMD,iBAApJ,CAAd,EACH,CAFD,EAGH,CAxBD,EA0BA,GAAIgB,aAAY,CAAG,EAAnB,CAEA,GAAGzF,OAAO,CAAC0F,aAAR,EAAuB,YAA1B,CAAuC,CAAE;AACrCzF,IAAI,CAAC0F,aAAL,CAAqB1F,IAAI,CAAC2F,mBAA1B,CACA3F,IAAI,CAAC0F,aAAL,CAAmB7B,OAAnB,CAA2B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACpC,GAAG,CAACyB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAhB,CAAwDwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAsD,EAAtD,CACxD,GAAGjE,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DH,CAAC,CAACG,IAA7D,CACvC,GAAGlE,OAAO,CAACiE,kBAAR,GAA6B,MAAhC,CAAwCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DkC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,SAAvB,EAAkCc,MAAlC,EAA3D,CACxC,GAAGpH,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DkC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,OAAvB,EAAgCc,MAAhC,EAA3D,CACzC,GAAG,CAAC3B,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,CAAJ,CAAwEoB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,EAAqE,CAACwB,YAAY,CAAE,CAAf,CAArE,CACxEJ,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,EAAmEwB,YAAnE,EAAmF9B,CAAC,CAAC+B,kBAArF,CACH,CAPD,EAQA;AACAL,YAAY,CAAC3B,OAAb,CAAqB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC9B5C,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3B,GAAG,CAACZ,CAAC,CAACW,EAAD,CAAL,CAAU,CACNX,CAAC,CAACW,EAAD,CAAD,CAAQ,CAACmB,YAAY,CAAE,CAAf,CAAkBE,mBAAmB,CAAE,CAAvC,CAAR,CACH,CACJ,CAJD,EAKAhC,CAAC,CAACiC,kBAAF,CAAuBjC,CAAC,CAACe,EAAF,CAAKe,YAAL,CAAoB9B,CAAC,CAACgB,EAAF,CAAKc,YAAzB,CAAwC9B,CAAC,CAACiB,EAAF,CAAKa,YAA7C,CAA4D9B,CAAC,CAACkB,EAAF,CAAKY,YAAjE,CAAgF9B,CAAC,CAACmB,EAAF,CAAKW,YAArF,CAAoG9B,CAAC,CAACoB,GAAF,CAAMU,YAAjI,CACA9B,CAAC,CAACwB,MAAF,CAAW,EAAX,CACAnE,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3BZ,CAAC,CAACwB,MAAF,CAASC,IAAT,CAAc,CAAC,SAAUd,EAAX,CAAe,eAAgBX,CAAC,CAACW,EAAD,CAAD,CAAMmB,YAArC,CAAd,EACH,CAFD,EAGH,CAXD,EAaH,CAxBD,IAwBM,CAAE;AACJ5F,IAAI,CAAC0F,aAAL,CAAqB,EAArB,CACA,GAAG3F,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuC,CACnChE,IAAI,CAAC0F,aAAL,CAAqBM,oBAAK,CAAChG,IAAI,CAACiG,wBAAN,CAA1B,CACH,CACD,GAAGlG,OAAO,CAACiE,kBAAR,GAA6B,MAAhC,CAAwC,CACpChE,IAAI,CAACiG,wBAAL,CAA8BpC,OAA9B,CAAsC,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/C,GAAImC,cAAa,CAAGC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAemC,KAAf,CAAqB,SAArB,EAAgCC,OAAhC,CAAwC,KAAxC,EAA+CC,IAA/C,EAApB,CACA,GAAIrC,KAAI,CAAGkC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,KAAvB,EAA8BC,IAA9B,EAAX,CACA,GAAIrC,IAAI,EAAEiC,aAAP,EAAwBjC,IAAI,EAAEkC,gBAAM,CAACpG,OAAO,CAACwG,QAAT,CAAN,CAAyBF,OAAzB,CAAiC,KAAjC,EAAwCC,IAAxC,EAAjC,CAAiF,CAC7EtG,IAAI,CAAC0F,aAAL,CAAmBH,IAAnB,CAAwBzB,CAAxB,EACH,CACJ,CAND,EAOH,CACD,GAAG/D,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyC,CACrC,GAAIwC,YAAW,CAAGL,gBAAM,CAACpG,OAAO,CAACwG,QAAT,CAAN,CAAyBF,OAAzB,CAAiC,KAAjC,EAAwCC,IAAxC,EAAlB,CACAtG,IAAI,CAACiG,wBAAL,CAA8BpC,OAA9B,CAAsC,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/C,GAAI0C,eAAc,CAAGN,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAemC,KAAf,CAAqB,OAArB,EAA8BC,OAA9B,CAAsC,KAAtC,EAA6CC,IAA7C,EAArB,CACA,GAAIrC,KAAI,CAAGkC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,KAAvB,EAA8BC,IAA9B,EAAX,CACA,GAAIrC,IAAI,EAAEwC,cAAP,EAA0BN,gBAAM,CAACpG,OAAO,CAACwG,QAAT,CAAN,CAAyBF,OAAzB,CAAiC,KAAjC,EAAwCC,IAAxC,IAAgDG,cAAjD,EAAmExC,IAAI,EAAEuC,WAArG,CAAmH,CAC/GxG,IAAI,CAAC0F,aAAL,CAAmBH,IAAnB,CAAwBzB,CAAxB,EACH,CACJ,CAND,EAOH,CAED9D,IAAI,CAAC0F,aAAL,CAAmB7B,OAAnB,CAA2B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACpC,GAAG,CAACyB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAhB,CAAwDwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAsD,EAAtD,CACxD,GAAGjE,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DH,CAAC,CAACG,IAA7D,CACvC,GAAGlE,OAAO,CAACiE,kBAAR,GAA6B,MAAhC,CAAwCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DkC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,SAAvB,EAAkCc,MAAlC,EAA3D,CACxC,GAAGpH,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyCwB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDC,IAApD,CAA2DkC,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,OAAvB,EAAgCc,MAAhC,EAA3D,CACzC,GAAG,CAAC3B,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,CAAJ,CAAwEoB,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,EAAqE,CAAC0B,mBAAmB,CAAE,CAAtB,CAArE,CACxEN,YAAY,CAAC1B,CAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAF,CAAZ,CAAoDF,CAAC,CAACM,WAAtD,EAAmE0B,mBAAnE,EAA0FhC,CAAC,CAAC4C,kBAA5F,CACH,CAPD,EAQA;AACAlB,YAAY,CAAC3B,OAAb,CAAqB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC9B5C,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3B,GAAG,CAACZ,CAAC,CAACW,EAAD,CAAL,CAAU,CACNX,CAAC,CAACW,EAAD,CAAD,CAAQ,CAACqB,mBAAmB,CAAE,CAAtB,CAAR,CACH,CACJ,CAJD,EAKAhC,CAAC,CAAC6C,yBAAF,CAA8B7C,CAAC,CAACe,EAAF,CAAKiB,mBAAL,CAA2BhC,CAAC,CAACgB,EAAF,CAAKgB,mBAAhC,CAAsDhC,CAAC,CAACiB,EAAF,CAAKe,mBAA3D,CAAiFhC,CAAC,CAACkB,EAAF,CAAKc,mBAAtF,CAA4GhC,CAAC,CAACmB,EAAF,CAAKa,mBAAjH,CAAuIhC,CAAC,CAACoB,GAAF,CAAMY,mBAA3K,CACAhC,CAAC,CAACwB,MAAF,CAAW,EAAX,CACAnE,OAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3BZ,CAAC,CAACwB,MAAF,CAASC,IAAT,CAAc,CAAC,SAAUd,EAAX,CAAe,sBAAuBX,CAAC,CAACW,EAAD,CAAD,CAAMqB,mBAA5C,CAAd,EACH,CAFD,EAGH,CAXD,EAYH,CAEDN,YAAY,CAAGA,YAAY,CAACoB,MAAb,CAAoB,SAASC,EAAT,CAAa,CAAE,MAAOA,GAAP,CAAY,CAA/C,CAAf,CAEA,GAAMC,aAAY,CAAGC,qBAAA,CAAO/G,IAAI,CAAC4D,QAAZ,CAAsB,SAASE,CAAT,CAAWC,CAAX,CAAa,CACpD,MAAOD,EAAC,CAAC/D,OAAO,CAACiE,kBAAR,CAA2B,OAA5B,CAAR,CACH,CAFoB,CAArB,CAIA,GAAMgD,SAAQ,CAAGD,qBAAA,CAAOpD,WAAP,CAAoB,SAASG,CAAT,CAAWC,CAAX,CAAa,CAC9C,GAAGhE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C,MAAO3B,EAAC,CAACc,eAAT,CAC7C,GAAG7E,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC,MAAO3B,EAAC,CAACqB,sBAAT,CACzC,GAAGpF,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC,MAAO,IAAP,CACzC,CAJgB,CAAjB,CAMA,GAAMwB,UAAS,CAAGF,qBAAA,CAAOpD,WAAP,CAAoB,SAASG,CAAT,CAAWC,CAAX,CAAa,CAC/C,GAAGhE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C,MAAO3B,EAAC,CAACsB,gBAAT,CAC7C,GAAGrF,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC,MAAO3B,EAAC,CAACuB,uBAAT,CACzC,GAAGtF,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC,MAAO,IAAP,CACzC,CAJiB,CAAlB,CAMA,GAAMyB,YAAW,CAAGH,qBAAA,CAAOvB,YAAP,CAAqB,SAAS1B,CAAT,CAAWC,CAAX,CAAa,CAClD,GAAGD,CAAH,CAAK,CACD,GAAG/D,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C,MAAO3B,EAAC,CAACiC,kBAAT,CAC7C,GAAGhG,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC,MAAO3B,EAAC,CAAC6C,yBAAT,CACzC,GAAG5G,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC,MAAO,IAAP,CACzC,CACJ,CANmB,CAApB,CAQA,GAAM3F,IAAG,CAAGiH,wBAAA,CAAU,gBAAV,CAAZ,CAEA,GAAMW,MAAK,CAAG,IAAd,CACA,GAAMC,SAAQ,CAAGD,KAAK,CAACZ,YAAvB,CAEA,GAAIc,WAAU,CAAG,IAAjB,CACA,GAAG7H,OAAO,CAACiE,kBAAR,GAA6B,OAAhC,CAAyC4D,UAAU,CAAG,IAAb,CACzC,GAAG7H,OAAO,CAACiE,kBAAR,GAA6B,KAAhC,CAAuC4D,UAAU,CAAG,CAAb,CAEvC;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEAlF,WAAW,CAAGqE,6BAAA,GACbc,KADa,CACP,CAAC,CAAD,CAAG,GAAH,CADO,EAEbC,MAFa,CAEN,CAAC,CAAD,CAAGd,QAAH,CAFM,CAAd,CAIAhE,eAAe,CAAG+D,6BAAA,GACjBc,KADiB,CACX,CAAC,GAAD,CAAK,CAAL,CADW,EAEjBC,MAFiB,CAEV,CAAC,CAAD,CAAGd,QAAH,CAFU,CAAlB,CAIArE,YAAY,CAAGoE,6BAAA,GACdc,KADc,CACR,CAAC,CAAD,CAAG,GAAH,CADQ,EAEdC,MAFc,CAEP,CAAC,CAAD,CAAGb,SAAH,CAFO,CAAf,CAIAhE,gBAAgB,CAAG8D,6BAAA,GAClBc,KADkB,CACZ,CAAC,GAAD,CAAK,CAAL,CADY,EAElBC,MAFkB,CAEX,CAAC,CAAD,CAAGb,SAAH,CAFW,CAAnB,CAIArE,cAAc,CAAGmE,6BAAA,GAChBc,KADgB,CACV,CAAC,CAAD,CAAG,GAAH,CADU,EAEhBC,MAFgB,CAET,CAAC,CAAD,CAAGZ,WAAH,CAFS,CAAjB,CAIAhE,kBAAkB,CAAG6D,6BAAA,GACpBc,KADoB,CACd,CAAC,GAAD,CAAK,CAAL,CADc,EAEpBC,MAFoB,CAEb,CAAC,CAAD,CAAGZ,WAAH,CAFa,CAArB,CAIA;AACArE,UAAU,CAAGkE,2BAAA,GACZgB,KADY,CACN/E,eADM,EAEZkF,KAFY,CAEN,CAFM,EAGZF,QAHY,CAGH,CAHG,EAIZC,WAJY,CAIA,CAJA,EAKZE,UALY,CAKD,SAASrE,CAAT,CAAW,CACnB,GAAG/D,OAAO,CAAC0F,aAAR,EAAuB,SAA1B,CAAqC,MAAO3D,WAAU,CAACgC,CAAD,CAAV,CAAc,GAArB,CACrC,MAAOhC,WAAU,CAACgC,CAAD,CAAjB,CACH,CARY,CAAb,CAUAhB,WAAW,CAAGiE,2BAAA,GACbgB,KADa,CACP9E,gBADO,EAEbiF,KAFa,CAEP,CAFO,EAGbF,QAHa,CAGJ,CAHI,EAIbC,WAJa,CAID,CAJC,EAKbE,UALa,CAKF,SAASrE,CAAT,CAAW,CACnB,GAAG/D,OAAO,CAAC0F,aAAR,EAAuB,SAA1B,CAAqC,MAAO3D,WAAU,CAACgC,CAAD,CAAV,CAAc,GAArB,CACrC,MAAOhC,WAAU,CAACgC,CAAD,CAAjB,CACH,CARa,CAAd,CAUAf,aAAa,CAAGgE,2BAAA,GACfgB,KADe,CACT7E,kBADS,EAEfgF,KAFe,CAET,CAFS,EAGfF,QAHe,CAGN,CAHM,EAIfC,WAJe,CAIH,CAJG,EAKfE,UALe,CAKJ,SAASrE,CAAT,CAAW,CACnB,GAAG/D,OAAO,CAAC0F,aAAR,EAAuB,SAA1B,CAAqC,MAAO3D,WAAU,CAACgC,CAAD,CAAV,CAAc,GAArB,CACrC,MAAOhC,WAAU,CAACgC,CAAD,CAAjB,CACH,CARe,CAAhB,CAUA;AACA,GAAIuE,eAAc,CAAGtB,wBAAA,CAAU,YAAV,EACpBmG,UADoB,GAEpBC,QAFoB,CAEX,GAFW,EAGpB7E,IAHoB,CAGfzF,UAHe,CAArB,CAKA;AACA,GAAI0F,gBAAe,CAAGxB,wBAAA,CAAU,aAAV,EACrBmG,UADqB,GAErBC,QAFqB,CAEZ,GAFY,EAGrB7E,IAHqB,CAGhBxF,WAHgB,CAAtB,CAKA;AACA,GAAI0F,kBAAiB,CAAGzB,wBAAA,CAAU,eAAV,EACvBmG,UADuB,GAEvBC,QAFuB,CAEd,GAFc,EAGvB7E,IAHuB,CAGlBvF,aAHkB,CAAxB,CAKA;AACA;AACA,GAAM8F,UAAS,CAAG/I,GAAG,CAACwH,SAAJ,CAAc,YAAd,EACjBtH,IADiB,CACZ2D,WADY,EAEjB8D,IAFiB,CAEZ,WAFY,CAEC,SAAS3D,CAAT,CAAW,CAAE,MAAOA,EAAC,CAACG,IAAT,CAAc,CAF5B,EAGjBwD,IAHiB,CAGZ,WAHY,CAGC,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC5B,MAAO,aAAaZ,MAAM,CAACW,CAAC,CAACG,IAAH,CAAnB,CAA4B,GAAnC,CACH,CALiB,CAAlB,CAOA;AACA4E,SAAS,CAACvB,SAAV,CAAoB,YAApB,EACCtH,IADD,CACM,SAAS8D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAOD,EAAC,CAACwB,MAAF,CAASsB,MAAT,CAAgB,SAASnC,EAAT,CAAYC,EAAZ,CAAe,CACvD,MAAOD,GAAE,CAACa,MAAH,GAAY,KAAnB,CACH,CAF2B,CAAP,CAElB,CAHH,EAIC4H,UAJD,GAKCC,QALD,CAKU,GALV,EAMC1F,IAND,CAMM,GANN,CAMW,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACpB,GAAMgF,cAAa,CAAGhC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmCrE,eAAnC,CAAqDmC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCb,SAAlH,CACA,GAAI6E,GAAE,CAAG,CAAT,CACA,GAAGnF,CAAC,CAAC,CAAL,CAAO,CACH,IAAI,GAAIW,GAAE,CAAC,CAAX,CAAaA,EAAE,EAAEX,CAAjB,CAAmBW,EAAE,EAArB,CAAwB,CACpB,GAAG3E,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDH,gBAAtD,CACzC,GAAGxE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6CyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDL,SAAtD,CAC7C,GAAGtE,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDL,SAAtD,CACzC,CACJ,CACD,GAAI8E,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAI,IAAIzG,WAAW,CAACoB,CAAC,CAACS,gBAAH,CAAf,CAAqC7B,WAAW,CAACwG,EAAD,CAArD,CACzC,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAI,IAAIzG,WAAW,CAACoB,CAAC,CAACO,SAAH,CAAf,CAA8B3B,WAAW,CAACwG,EAAD,CAA9C,CAC7C,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,IAAK,KAAKrF,CAAC,CAACO,SAAF,CAAY0E,aAAjB,CAAL,CAAwC,KAAKG,EAAE,CAACH,aAAR,CAA7C,CACtC,GAAGI,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CArBD,EAsBC1B,IAtBD,CAsBM,QAtBN,CAsBgB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACzB,GAAMgF,cAAa,CAAGhC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmCrE,eAAnC,CAAqDmC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCb,SAAlH,CACA,GAAI8E,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAGzG,WAAW,CAACoB,CAAC,CAACS,gBAAH,CAAf,CACzC,GAAGxE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAGzG,WAAW,CAACoB,CAAC,CAACO,SAAH,CAAf,CAC7C,GAAGtE,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,KAAKrF,CAAC,CAACO,SAAF,CAAY0E,aAAjB,CAAL,CACtC,GAAGI,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CA7BD,EA8BC1B,IA9BD,CA8BM,MA9BN,CA8Bc,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACvB,MAAO9D,WAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACwB,MAAjB,CAAP,CACA,MAAO,MAAP,CACH,CAjCD,EAmCA;AACAuD,SAAS,CAACvB,SAAV,CAAoB,aAApB,EACCtH,IADD,CACM,SAAS8D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAOD,EAAC,CAACwB,MAAF,CAASsB,MAAT,CAAgB,SAASnC,EAAT,CAAYC,EAAZ,CAAe,CACvD,MAAOD,GAAE,CAACa,MAAH,GAAY,KAAnB,CACH,CAF2B,CAAP,CAElB,CAHH,EAIC4H,UAJD,GAKCC,QALD,CAKU,GALV,EAMC1F,IAND,CAMM,GANN,CAMW,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACpB,GAAMqF,eAAc,CAAGrC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC7D,gBAAnC,CAAsD2B,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCZ,UAApH,CACA,GAAI4E,GAAE,CAAG,CAAT,CACA,GAAGnF,CAAC,CAAC,CAAL,CAAO,CACH,IAAI,GAAIW,GAAE,CAAC,CAAX,CAAaA,EAAE,EAAEX,CAAjB,CAAmBW,EAAE,EAArB,CAAwB,CACpB,GAAG3E,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDF,iBAAtD,CACzC,GAAGzE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6CyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDJ,UAAtD,CAC7C,GAAGvE,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDJ,UAAtD,CACzC,CACJ,CACD,GAAI6E,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAI,IAAIxG,YAAY,CAACmB,CAAC,CAACU,iBAAH,CAAhB,CAAuC7B,YAAY,CAACuG,EAAD,CAAnD,CAAyD,GAA9D,CACzC,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAI,IAAIxG,YAAY,CAACmB,CAAC,CAACQ,UAAH,CAAhB,CAAgC3B,YAAY,CAACuG,EAAD,CAA5C,CAAkD,GAAvD,CAC7C,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,IAAK,KAAKrF,CAAC,CAACQ,UAAF,CAAa8E,cAAlB,CAAL,CAA0C,KAAKF,EAAE,CAACE,cAAR,CAA1C,CAAoE,GAAzE,CACtC,GAAGD,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CArBD,EAsBC1B,IAtBD,CAsBM,QAtBN,CAsBgB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACzB,GAAMqF,eAAc,CAAGrC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC7D,gBAAnC,CAAsD2B,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCZ,UAApH,CACA,GAAI6E,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAGxG,YAAY,CAACmB,CAAC,CAACU,iBAAH,CAAhB,CACzC,GAAGzE,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAGxG,YAAY,CAACmB,CAAC,CAACQ,UAAH,CAAhB,CAC7C,GAAGvE,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,KAAKrF,CAAC,CAACQ,UAAF,CAAa8E,cAAlB,CAAL,CACtC,GAAGD,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CA7BD,EA+BA,GAAGxF,WAAW,CAACjC,MAAZ,EAAoB,CAAvB,CAAyB,CACrBqF,2BAAA,CAAa,YAAb,EACCmG,UADD,GAECC,QAFD,CAEU,GAFV,EAGC1F,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,QAJN,CAIgB,CAJhB,EAMAV,2BAAA,CAAa,aAAb,EACCmG,UADD,GAECC,QAFD,CAEU,GAFV,EAGC1F,IAHD,CAGM,GAHN,CAGW,IAAI,GAHf,EAICA,IAJD,CAIM,QAJN,CAIgB,CAJhB,EAMH,CACD;AAEA,GAAM8B,WAAU,CAAGzJ,GAAG,CAACwH,SAAJ,CAAc,aAAd,EAClBtH,IADkB,CACbwF,YADa,EAElBiC,IAFkB,CAEb,WAFa,CAEA,SAAS3D,CAAT,CAAW,CAAE,MAAOA,EAAC,CAACG,IAAT,CAAc,CAF3B,EAGlBwD,IAHkB,CAGb,WAHa,CAGA,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC5B,MAAO,aAAaZ,MAAM,CAACW,CAAC,CAACG,IAAH,CAAnB,CAA4B,QAAnC,CACH,CALkB,CAAnB,CAOAsF,UAAU,CAACjC,SAAX,CAAqB,eAArB,EACCtH,IADD,CACM,SAAS8D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAOD,EAAC,CAACwB,MAAF,CAASsB,MAAT,CAAgB,SAASnC,EAAT,CAAYC,EAAZ,CAAe,CACvD,MAAOD,GAAE,CAACa,MAAH,GAAY,KAAnB,CACH,CAF2B,CAAP,CAElB,CAHH,EAIC4H,UAJD,GAKCC,QALD,CAKU,GALV,EAMC1F,IAND,CAMM,GANN,CAMW,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACpB,GAAMyF,iBAAgB,CAAGzC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmClD,kBAAnC,CAAwDgB,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCU,YAAxH,CACA,GAAIsD,GAAE,CAAG,CAAT,CACA,GAAGnF,CAAC,CAAC,CAAL,CAAO,CACH,IAAI,GAAIW,GAAE,CAAC,CAAX,CAAaA,EAAE,EAAEX,CAAjB,CAAmBW,EAAE,EAArB,CAAwB,CACpB,GAAG3E,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDoB,mBAAtD,CACzC,GAAG/F,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6CyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDkB,YAAtD,CAC7C,GAAG7F,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsCyD,EAAE,EAAInC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC3D,MAAnC,CAA0CZ,EAAE,CAAC,CAA7C,EAAgDkB,YAAtD,CACzC,CACJ,CACD,GAAIuD,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAI,IAAIvG,cAAc,CAACkB,CAAC,CAACgC,mBAAH,CAAlB,CAA2ClD,cAAc,CAACsG,EAAD,CAA9D,CACzC,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAI,IAAIvG,cAAc,CAACkB,CAAC,CAAC8B,YAAH,CAAlB,CAAoChD,cAAc,CAACsG,EAAD,CAAvD,CAC7C,GAAGnJ,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,IAAK,KAAKrF,CAAC,CAAC8B,YAAF,CAAe4D,gBAApB,CAAL,CAA8C,KAAKN,EAAE,CAACM,gBAAR,CAAnD,CACtC,GAAGL,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CArBD,EAsBC1B,IAtBD,CAsBM,QAtBN,CAsBgB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACzB,GAAMyF,iBAAgB,CAAGzC,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmClD,kBAAnC,CAAwDgB,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,GAAmC/D,GAAnC,CAAuCU,YAAxH,CACA,GAAIuD,EAAC,CAAG,CAAR,CACA,GAAGpJ,OAAO,CAAC0F,aAAR,GAAwB,YAA3B,CAAyC0D,CAAC,CAAGvG,cAAc,CAACkB,CAAC,CAACgC,mBAAH,CAAlB,CACzC,GAAG/F,OAAO,CAAC0F,aAAR,GAAwB,gBAA3B,CAA6C0D,CAAC,CAAGvG,cAAc,CAACkB,CAAC,CAAC8B,YAAH,CAAlB,CAC7C,GAAG7F,OAAO,CAAC0F,aAAR,GAAwB,SAA3B,CAAsC0D,CAAC,CAAI,KAAKrF,CAAC,CAAC8B,YAAF,CAAe4D,gBAApB,CAAL,CACtC,GAAGL,CAAH,CAAK,CAAE,GAAGA,CAAC,CAAC,CAAL,CAAQ,CAAE,MAAOA,EAAP,CAAS,CAAnB,IAAyB,CAAE,MAAO,EAAP,CAAS,EAAG,CAA9C,IAAoD,CAAE,MAAO,EAAP,CAAS,EAClE,CA7BD,EA+BA,GAAG3D,YAAY,CAAC9D,MAAb,EAAqB,CAAxB,CAA0B,CACtBqF,2BAAA,CAAa,eAAb,EACCmG,UADD,GAECC,QAFD,CAEU,GAFV,EAGC1F,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,QAJN,CAIgB,CAJhB,EAKH,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAzH,IAAI,CAACwF,YAAL,CAAoBA,YAApB,CACAxF,IAAI,CAAC2D,WAAL,CAAmBA,WAAnB,CAEH,CAEcD,2DAAf,E;;ACxuCA,GAAIsD,qBAAJ,CACA,GAAIC,sBAAJ,CACA,GAAImG,gBAAJ,CACA,GAAIC,YAAJ,CACA,GAAIC,aAAJ,CACA,GAAIC,eAAJ,CACA,GAAIC,WAAJ,CACA,GAAMrM,oBAAO,CAAG,CAAC,IAAD,CAAO,IAAP,CAAa,IAAb,CAAmB,IAAnB,CAAyB,IAAzB,CAA+B,KAA/B,CAAhB,CACA,GAAMsM,OAAM,CAAG,CAAEC,IAAI,CAAE,EAAR,CAAYC,GAAG,CAAE,CAAjB,CAAoBC,KAAK,CAAE,EAA3B,CAAf,CACA,GAAIC,OAAJ,CACA,GAAIlK,wBAAW,CAAG,EAAlB,CAEO,QAASmK,gBAAT,CAAyB9N,IAAzB,CAA+BD,OAA/B,CAAwC6G,MAAxC,CAAgD,CAEnDjD,uBAAW,CAAG,EAAd,CAEA,GAAMiE,WAAU,CAAG,GAAnB,CAEAzG,mBAAO,CAAC0C,OAAR,CAAgB,SAASC,CAAT,CAAWC,CAAX,CAAa,CACzB;AACAJ,uBAAW,CAAC4B,IAAZ,CAAiB,CAAED,MAAM,CAAExB,CAAV,CAAaS,gBAAgB,CAAE,CAA/B,CAAkCC,iBAAiB,CAAE,CAArD,CAAwDsB,mBAAmB,CAAE,CAA7E,CAAjB,EACH,CAHD,EAKA9F,IAAI,CAAC4D,QAAL,CAAcC,OAAd,CAAsB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/B5C,mBAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3B,GAAID,EAAE,EAAEX,CAAC,CAACM,WAAV,CAAuB,CAAE;AACrBT,uBAAW,CAACe,EAAD,CAAX,CAAgBH,gBAAhB,EAAoCT,CAAC,CAACO,SAAtC,CACAV,uBAAW,CAACe,EAAD,CAAX,CAAgBF,iBAAhB,EAAqCV,CAAC,CAACQ,UAAvC,CACH,CACJ,CALD,EAMH,CAPD,EASA0C,oBAAQ,CAAGD,qBAAA,CAAOpD,uBAAP,CAAoB,SAASG,CAAT,CAAWC,CAAX,CAAa,CACxC,MAAOD,EAAC,CAACS,gBAAT,CACH,CAFU,CAAX,CAIA0C,qBAAS,CAAGF,qBAAA,CAAOpD,uBAAP,CAAoB,SAASG,CAAT,CAAWC,CAAX,CAAa,CACzC,MAAOD,EAAC,CAACU,iBAAT,CACH,CAFW,CAAZ,CAIA;AACA,GAAIuJ,OAAM,CAAGhH,2BAAA,CAAa/G,IAAI,CAACiG,wBAAlB,CAA4C,SAAAnC,CAAC,QAAIA,EAAC,CAACG,IAAN,EAA7C,CAAb,CAEA,GAAI+J,WAAU,CAAGD,MAAM,CAACA,MAAM,CAACrM,MAAP,CAAc,CAAf,CAAvB,CAEA,GAAIuM,MAAK,CAAG,EAAZ,CACAD,UAAU,CAAC,CAAD,CAAV,CAAcnK,OAAd,CAAsB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/B5C,mBAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3B,GAAID,EAAE,EAAEX,CAAC,CAACM,WAAP,EAAsBK,EAAE,EAAE,KAA7B,CAAoC,CAAE;AAClCd,uBAAW,CAACe,EAAD,CAAX,CAAgBoB,mBAAhB,EAAuChC,CAAC,CAAC4C,kBAAzC,CACH,CACJ,CAJD,EAKH,CAND,EAQA/C,uBAAW,CAACuK,IAAZ,CAAiB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC1B,GAAGrO,OAAO,CAACsO,mBAAR,EAA+B,OAAlC,CAA2C,MAAQD,EAAC,CAAC7J,gBAAH,CAAwB4J,CAAC,CAAC5J,gBAAjC,CAC3C,GAAGxE,OAAO,CAACsO,mBAAR,EAA+B,QAAlC,CAA4C,MAAQD,EAAC,CAAC5J,iBAAH,CAAyB2J,CAAC,CAAC3J,iBAAlC,CAC5C,GAAGzE,OAAO,CAACsO,mBAAR,EAA+B,UAAlC,CAA8C,MAAQD,EAAC,CAACtI,mBAAH,CAA2BqI,CAAC,CAACrI,mBAApC,CACjD,CAJD,EAMAsH,eAAe,CAAGrG,qBAAA,CAAOpD,uBAAP,CAAoB,SAASG,CAAT,CAAWC,CAAX,CAAa,CAC/C,MAAOD,EAAC,CAACgC,mBAAT,CACH,CAFiB,CAAlB,CAIA;AACA,GAAMwI,qBAAoB,CAAGvH,wBAAA,CAAU,iCAAV,EAA6CU,IAA7C,CAAkD,SAAlD,CAA6D,CAA7D,CAA7B,CACAoG,MAAM,CAAG,CACLvM,CAAC,CAAEgN,oBAAoB,CAAC7G,IAArB,CAA0B,GAA1B,CADE,CAC8B0B,CAAC,CAAEmF,oBAAoB,CAAC7G,IAArB,CAA0B,GAA1B,CADjC,CACiEC,KAAK,CAAE4G,oBAAoB,CAAC7G,IAArB,CAA0B,OAA1B,CADxE,CAC4GmE,MAAM,CAAE0C,oBAAoB,CAAC7G,IAArB,CAA0B,QAA1B,CADpH,CAAT,CAIA,GAAM3H,IAAG,CAAGiH,wBAAA,CAAU,SAAV,EAAqBS,MAArB,CAA4B,GAA5B,EAAiCC,IAAjC,CAAsC,WAAtC,CAAmD,aAAaoG,MAAM,CAACvM,CAApB,CAAsB,IAAtB,CAA2BuM,MAAM,CAAC1E,CAAlC,CAAoC,GAAvF,EACX1B,IADW,CACN,IADM,CACA,cADA,CAAZ,CAGH,GAAI8G,UAAS,CAAGV,MAAM,CAACjC,MAAP,EAAejI,uBAAW,CAACjC,MAAZ,CAAmB,CAAlC,CAAhB,CAAsD;AAEnD,GAAI8M,KAAI,CAAG1O,GAAG,CAACwH,SAAJ,CAAc,UAAd,EACbtH,IADa,CACR2D,uBAAW,CAACiD,MAAZ,CAAmB,SAAA9C,CAAC,QAAEA,EAAC,CAACwB,MAAF,GAAW,KAAb,EAApB,CADQ,EAEbwD,KAFa,GAGbtB,MAHa,CAGN,GAHM,EAIbC,IAJa,CAIR,OAJQ,CAIC,SAJD,EAKbA,IALa,CAKR,WALQ,CAKK,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC/B,MAAO,gBAAmBA,CAAC,CAACwK,SAAH,CAAgBd,MAAM,CAACE,GAAzC,EAAgD,GAAvD,CACA,CAPa,CAAX,CASA3N,IAAI,CAACyO,iBAAL,CAAyB9K,uBAAzB,CAEA,GAAI+K,MAAK,CAAGF,IAAI,CAAChH,MAAL,CAAY,MAAZ,EACdC,IADc,CACT,GADS,CACJ8G,SAAS,CAAC,CADN,EAEX9G,IAFW,CAEN,GAFM,CAEDgG,MAAM,CAACC,IAAP,CAAY,CAFX,EAGdjG,IAHc,CAGT,OAHS,CAGA,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAO,wBAAwBD,CAAC,CAACwB,MAAjC,CAAyC,CAHxD,EAIdkF,KAJc,CAIR,oBAJQ,CAIc,QAJd,EAKdA,KALc,CAKR,WALQ,CAKK,MALL,EAMX/C,IANW,CAMN,SANM,CAMK,CANL,EAOdA,IAPc,CAOT,MAPS,CAOD,MAPC,EAQdkD,IARc,CAQT,SAAS7G,CAAT,CAAWC,CAAX,CAAa,CAClB,GAAGD,CAAC,CAACwB,MAAF,GAAW,IAAd,CAAoB,MAAO,UAAP,CACpB,GAAGxB,CAAC,CAACwB,MAAF,GAAW,IAAd,CAAoB,MAAO,QAAP,CACpB,GAAGxB,CAAC,CAACwB,MAAF,GAAW,IAAd,CAAoB,MAAO,QAAP,CACpB,GAAGxB,CAAC,CAACwB,MAAF,GAAW,IAAd,CAAoB,MAAO,8BAAP,CACpB,GAAGxB,CAAC,CAACwB,MAAF,GAAW,IAAd,CAAoB,MAAO,cAAP,CACpB,CAdc,EAcZkF,KAdY,CAcN,aAdM,CAcS,KAdT,CAAZ,CAgBAgD,UAAU,CAAGgB,IAAI,CAAC1E,IAAL,GAAYkC,OAAZ,GAAsBtE,KAAtB,CAA8B+F,MAAM,CAACC,IAAlD,CACHgB,KAAK,CAACjH,IAAN,CAAW,GAAX,CAAgB+F,UAAU,CAAC,EAA3B,EACAA,UAAU,CAAGA,UAAU,CAAG,EAA1B,CACGzG,2BAAA,CAAa,UAAb,EAAyBU,IAAzB,CAA8B,SAA9B,CAAwC,CAAxC,EAEA,GAAIkH,MAAK,CAAGH,IAAI,CAAChH,MAAL,CAAY,MAAZ,EACdC,IADc,CACT,GADS,CACJ,CADI,EAEdA,IAFc,CAET,GAFS,CAEJ,CAFI,EAGdA,IAHc,CAGT,OAHS,CAGA+F,UAHA,EAId/F,IAJc,CAIT,QAJS,CAIC8G,SAAS,CAAC,CAJX,EAKd/D,KALc,CAKR,SALQ,CAKG,CALH,EAMX/C,IANW,CAMN,MANM,CAME,MANF,EAOd+C,KAPc,CAOR,QAPQ,CAOE,SAPF,EAQd/C,IARc,CAQT,OARS,CAQA,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAO,UAAUD,CAAC,CAACwB,MAAnB,CAA2B,CAR1C,EASdmC,IATc,CAST,SATS,CASE,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAOD,EAAC,CAACwB,MAAT,CAAiB,CATlC,EAUd4E,EAVc,CAUX,WAVW,CAUE,SAASpG,CAAT,CAAW,CAC3BiD,wBAAA,CAAU,IAAV,EAAgByD,KAAhB,CAAsB,SAAtB,CAAiC,GAAjC,EACM;AACA;AACA;AACN,CAfc,EAgBdN,EAhBc,CAgBX,UAhBW,CAgBC,UAAU,CACzBnD,wBAAA,CAAU,IAAV,EAAgByD,KAAhB,CAAsB,SAAtB,CAAiC,CAAjC,EACM;AACN,CAnBc,EAoBdN,EApBc,CAoBX,OApBW,CAoBF,SAASpG,CAAT,CAAWC,CAAX,CAAa,CACnB,GAAI6K,EAAC,CAAG7H,wBAAA,CAAU,IAAV,EAAgBU,IAAhB,CAAqB,SAArB,CAAR,CACAb,MAAM,CAAC,CAACgI,CAAD,CAAD,CAAK,aAAL,CAAN,CACH,CAvBW,CAAZ,CAyBAvB,WAAW,CAAGtG,6BAAA,GAChBc,KADgB,CACV,CAAC,CAAD,CAAIgG,MAAM,CAACnG,KAAP,CAAe+F,MAAM,CAACG,KAAtB,CAA8BJ,UAAlC,CADU,EAEhB1F,MAFgB,CAET,CAAC,CAAD,CAAId,oBAAJ,CAFS,CAAd,CAEoB;AAEpBsG,YAAY,CAAGvG,6BAAA,GACjBc,KADiB,CACX,CAAC,CAAD,CAAIgG,MAAM,CAACnG,KAAP,CAAe+F,MAAM,CAACG,KAAtB,CAA8BJ,UAAlC,CADW,EAEjB1F,MAFiB,CAEV,CAAC,CAAD,CAAIb,qBAAJ,CAFU,CAAf,CAEqB;AAErBsG,cAAc,CAAGxG,6BAAA,GACnBc,KADmB,CACb,CAAC2F,UAAD,CAAaK,MAAM,CAACnG,KAAP,CAAe+F,MAAM,CAACG,KAAtB,CAA8BJ,UAA3C,CADa,EAEnB1F,MAFmB,CAEZ,CAAC,CAAD,CAAIsF,eAAJ,CAFY,CAAjB,CAE2B;AAE3B,GAAIyB,KAAI,CAAGL,IAAI,CAAChH,MAAL,CAAY,MAAZ,EACVC,IADU,CACL,IADK,CACC,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACrB,MAAO,OAAOD,CAAC,CAACwB,MAAhB,CACH,CAHU,EAIbmC,IAJa,CAIR,SAJQ,CAIG,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAOD,EAAC,CAACwB,MAAT,CAAiB,CAJnC,EAKVmC,IALU,CAKL,OALK,CAKI,YALJ,EAMVA,IANU,CAML,OANK,CAMI,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACxB,GAAGhE,OAAO,CAACsO,mBAAR,EAA+B,OAAlC,CAA2C,MAAOhB,YAAW,CAACvJ,CAAC,CAACS,gBAAH,CAAlB,CAC3C,GAAGxE,OAAO,CAACsO,mBAAR,EAA+B,QAAlC,CAA4C,MAAOf,aAAY,CAACxJ,CAAC,CAACU,iBAAH,CAAnB,CAC5C,GAAGzE,OAAO,CAACsO,mBAAR,EAA+B,UAAlC,CAA8C,MAAOf,aAAY,CAACxJ,CAAC,CAACgC,mBAAH,CAAnB,CACjD,CAVU,EAWV2B,IAXU,CAWL,GAXK,CAWA+F,UAXA,EAYVhD,KAZU,CAYJ,SAZI,CAYO,MAZP,EAaVA,KAbU,CAaJ,QAbI,CAaM,SAbN,EAcV/C,IAdU,CAcL,GAdK,CAcA8G,SAAS,CAAC3G,UAAV,CAAuB,CAdvB,EAeVH,IAfU,CAeL,QAfK,CAeK8G,SAAS,CAAGA,SAAS,CAAC3G,UAAX,CAAuB,CAfvC,EAgBV4C,KAhBU,CAgBJ,MAhBI,CAgBI,SAAS1G,CAAT,CAAW,CACtB,MAAO7D,WAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACwB,MAAjB,CAAP,CACH,CAlBU,EAmBVmC,IAnBU,CAmBL,SAnBK,CAmBK,CAnBL,EAoBVyC,EApBU,CAoBP,OApBO,CAoBE,SAASpG,CAAT,CAAWC,CAAX,CAAa,CACtB,GAAI6K,EAAC,CAAG7H,wBAAA,CAAU,IAAV,EAAgBU,IAAhB,CAAqB,SAArB,CAAR,CACAb,MAAM,CAAC,CAACgI,CAAD,CAAD,CAAK,aAAL,CAAN,CACH,CAvBU,EAwBV1E,EAxBU,CAwBP,WAxBO,CAwBM,SAASpG,CAAT,CAAW,CACxB,GAAIgL,IAAG,CAAG/H,wBAAA,CAAU,KAAKiC,UAAf,EAA2BC,KAA3B,EAAV,CACA;AACA;AACN,CA5Ba,EA6BbiB,EA7Ba,CA6BV,UA7BU,CA6BE,UAAU,CACnB;AACN,CA/Ba,CAAX,CAiCA,GAAI6E,UAAS,CAAGP,IAAI,CAAChH,MAAL,CAAY,MAAZ,EAClBmD,IADkB,CACb,SAAS7G,CAAT,CAAW,CACV,GAAG/D,OAAO,CAACsO,mBAAR,EAA+B,OAAlC,CAA2C,MAAOjN,UAAS,CAAC0C,CAAC,CAACS,gBAAH,CAAhB,CAC3C,GAAGxE,OAAO,CAACsO,mBAAR,EAA+B,QAAlC,CAA4C,MAAOjN,UAAS,CAAC0C,CAAC,CAACU,iBAAH,CAAhB,CAC5C,GAAGzE,OAAO,CAACsO,mBAAR,EAA+B,UAAlC,CAA8C,MAAOjN,UAAS,CAAC0C,CAAC,CAACgC,mBAAH,CAAhB,CACjD,CALe,EAMlB2B,IANkB,CAMb,IANa,CAMP,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACxB,MAAO,aAAaD,CAAC,CAACwB,MAAtB,CACA,CARkB,EASfmC,IATe,CASV,SATU,CASC,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAOD,EAAC,CAACwB,MAAT,CAAiB,CATjC,EAUlBmC,IAVkB,CAUb,OAVa,CAUJ,YAVI,EAWlBA,IAXkB,CAWb,GAXa,CAWR8G,SAAS,CAAC,CAXF,EAYlB/D,KAZkB,CAYZ,oBAZY,CAYU,QAZV,EAalBA,KAbkB,CAaZ,aAbY,CAaG,OAbH,EAclB/C,IAdkB,CAcb,GAda,CAcR,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACjB,GAAGhE,OAAO,CAACsO,mBAAR,EAA+B,OAAlC,CAA2C,MAAOhB,YAAW,CAACvJ,CAAC,CAACS,gBAAH,CAAX,CAAgCiJ,UAAhC,CAA2C,CAAlD,CAC3C,GAAGzN,OAAO,CAACsO,mBAAR,EAA+B,QAAlC,CAA4C,MAAOf,aAAY,CAACxJ,CAAC,CAACU,iBAAH,CAAZ,CAAkCgJ,UAAlC,CAA6C,CAApD,CAC5C,GAAGzN,OAAO,CAACsO,mBAAR,EAA+B,UAAlC,CAA8C,MAAOd,eAAc,CAACzJ,CAAC,CAACgC,mBAAH,CAAd,CAAsC0H,UAAtC,CAAiD,CAAxD,CACjD,CAlBe,EAmBf/F,IAnBe,CAmBV,SAnBU,CAmBC,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC1B,GAAIiL,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACsO,mBAAR,EAA+B,OAAlC,CAA2CW,GAAG,CAAIlL,CAAC,CAACS,gBAAT,CAC3C,GAAGxE,OAAO,CAACsO,mBAAR,EAA+B,QAAlC,CAA4CW,GAAG,CAAIlL,CAAC,CAACU,iBAAT,CAC5C,GAAGzE,OAAO,CAACsO,mBAAR,EAA+B,UAAlC,CAA8CW,GAAG,CAAIlL,CAAC,CAACgC,mBAAT,CAC9C,GAAGkJ,GAAG,CAAC,CAAP,CAAS,CAAE,MAAO,EAAP,CAAU,CAArB,IAA2B,CAAE,MAAO,EAAP,CAAS,CACzC,CAzBe,EA0BlBxE,KA1BkB,CA0BZ,MA1BY,CA0BJ,SA1BI,EA2BlBA,KA3BkB,CA2BZ,aA3BY,CA2BG,QA3BH,EA4BlBA,KA5BkB,CA4BZ,WA5BY,CA4BC,MA5BD,CAAhB,CA8BH,CAEM,QAASyE,kBAAT,CAA2BlP,OAA3B,CAAmCC,IAAnC,CAAyC,CAE5C2D,uBAAW,CAAG,EAAd,CAEAxC,mBAAO,CAAC0C,OAAR,CAAgB,SAASC,CAAT,CAAWC,CAAX,CAAa,CACzBJ,uBAAW,CAAC4B,IAAZ,CAAiB,CAAED,MAAM,CAAExB,CAAV,CAAaS,gBAAgB,CAAE,CAA/B,CAAkCC,iBAAiB,CAAE,CAArD,CAAwDsB,mBAAmB,CAAE,CAA7E,CAAjB,EACH,CAFD,EAIA9F,IAAI,CAAC4D,QAAL,CAAcC,OAAd,CAAsB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/B5C,mBAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3B,GAAID,EAAE,EAAEX,CAAC,CAACM,WAAV,CAAuB,CAAE;AACrBT,uBAAW,CAACe,EAAD,CAAX,CAAgBH,gBAAhB,EAAoCT,CAAC,CAACO,SAAtC,CACAV,uBAAW,CAACe,EAAD,CAAX,CAAgBF,iBAAhB,EAAqCV,CAAC,CAACQ,UAAvC,CACAX,uBAAW,CAACe,EAAD,CAAX,CAAgBoB,mBAAhB,CAAsC,CAAtC,CACH,CACJ,CAND,EAOH,CARD,EAUAkB,oBAAQ,CAAGD,qBAAA,CAAOpD,uBAAP,CAAoB,SAASG,CAAT,CAAWC,CAAX,CAAa,CACxC,MAAOD,EAAC,CAACS,gBAAT,CACH,CAFU,CAAX,CAIA0C,qBAAS,CAAGF,qBAAA,CAAOpD,uBAAP,CAAoB,SAASG,CAAT,CAAWC,CAAX,CAAa,CACzC,MAAOD,EAAC,CAACU,iBAAT,CACH,CAFW,CAAZ,CAIA;AACA,GAAIuJ,OAAM,CAAGhH,2BAAA,CAAa/G,IAAI,CAACiG,wBAAlB,CAA4C,SAAAnC,CAAC,QAAIA,EAAC,CAACG,IAAN,EAA7C,CAAb,CAEA,GAAI+J,WAAU,CAAGD,MAAM,CAACA,MAAM,CAACrM,MAAP,CAAc,CAAf,CAAvB,CAEA,GAAIuM,MAAK,CAAG,EAAZ,CACA,GAAGD,UAAH,CAAc,CACVA,UAAU,CAAC,CAAD,CAAV,CAAcnK,OAAd,CAAsB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/B5C,mBAAO,CAAC0C,OAAR,CAAgB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3B,GAAID,EAAE,EAAEX,CAAC,CAACM,WAAV,CAAuB,CAAE;AACrBT,uBAAW,CAACe,EAAD,CAAX,CAAgBoB,mBAAhB,EAAuChC,CAAC,CAAC4C,kBAAzC,CACH,CACJ,CAJD,EAKH,CAND,EAOH,CAED/C,uBAAW,CAACuK,IAAZ,CAAiB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC1B,GAAGrO,OAAO,CAACsO,mBAAR,EAA+B,OAAlC,CAA2C,MAAQD,EAAC,CAAC7J,gBAAH,CAAwB4J,CAAC,CAAC5J,gBAAjC,CAC3C,GAAGxE,OAAO,CAACsO,mBAAR,EAA+B,QAAlC,CAA4C,MAAQD,EAAC,CAAC5J,iBAAH,CAAyB2J,CAAC,CAAC3J,iBAAlC,CAC5C,GAAGzE,OAAO,CAACsO,mBAAR,EAA+B,UAAlC,CAA8C,MAAQD,EAAC,CAACtI,mBAAH,CAA2BqI,CAAC,CAACrI,mBAApC,CACjD,CAJD,EAMA9F,IAAI,CAACyO,iBAAL,CAAyB9K,uBAAzB,CAEAyJ,eAAe,CAAGrG,qBAAA,CAAOpD,uBAAP,CAAoB,SAASG,CAAT,CAAWC,CAAX,CAAa,CAC/C,MAAOD,EAAC,CAACgC,mBAAT,CACH,CAFiB,CAAlB,CAIAuH,WAAW,CAAGtG,6BAAA,GAChBc,KADgB,CACV,CAAC,CAAD,CAAIgG,MAAM,CAACnG,KAAP,CAAe+F,MAAM,CAACG,KAAtB,CAA8BJ,UAAlC,CADU,EAEhB1F,MAFgB,CAET,CAAC,CAAD,CAAId,oBAAJ,CAFS,CAAd,CAEoB;AAEpBsG,YAAY,CAAGvG,6BAAA,GACjBc,KADiB,CACX,CAAC,CAAD,CAAIgG,MAAM,CAACnG,KAAP,CAAe+F,MAAM,CAACG,KAAtB,CAA8BJ,UAAlC,CADW,EAEjB1F,MAFiB,CAEV,CAAC,CAAD,CAAIb,qBAAJ,CAFU,CAAf,CAEqB;AAErBsG,cAAc,CAAGxG,6BAAA,GACnBc,KADmB,CACb,CAAC,CAAD,CAAIgG,MAAM,CAACnG,KAAP,CAAe+F,MAAM,CAACG,KAAtB,CAA8BJ,UAAlC,CADa,EAEnB1F,MAFmB,CAEZ,CAAC,CAAD,CAAIsF,eAAJ,CAFY,CAAjB,CAE2B;AAE3B,GAAIA,eAAe,EAAE,CAAlB,EAAuBpG,oBAAQ,EAAE,CAAjC,EAAsCC,qBAAS,EAAE,CAApD,CAAuD,CACnDF,2BAAA,CAAa,aAAb,EACCmG,UADD,GACcC,QADd,CACuB,GADvB,EAEC1F,IAFD,CAEM,OAFN,CAEe,CAFf,EAIAV,2BAAA,CAAa,aAAb,EACCmG,UADD,GAEGC,QAFH,CAEY,GAFZ,EAGG1F,IAHH,CAGQ,GAHR,CAGa+F,UAHb,EAIG/F,IAJH,CAIQ,SAJR,CAImB,CAJnB,EAKH,CAVD,IAUO,CACHV,2BAAA,CAAa,aAAb,EACCmG,UADD,GACcC,QADd,CACuB,GADvB,EAEC1F,IAFD,CAEM,OAFN,CAEe,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACxB,GAAImL,GAAE,CAAGnI,wBAAA,CAAU,IAAV,EAAgBU,IAAhB,CAAqB,SAArB,CAAT,CACA,GAAI3D,EAAJ,CACAH,uBAAW,CAACE,OAAZ,CAAoB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC/B,GAAGD,EAAE,CAACa,MAAH,EAAa4J,EAAhB,CAAmB,CACfpL,CAAC,CAAGW,EAAJ,CACH,CACJ,CAJD,EAKA,GAAIuK,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACsO,mBAAR,EAA+B,OAAlC,CAA2CW,GAAG,CAAG3B,WAAW,CAACvJ,CAAC,CAACS,gBAAH,CAAjB,CAC3C,GAAGxE,OAAO,CAACsO,mBAAR,EAA+B,QAAlC,CAA4CW,GAAG,CAAG1B,YAAY,CAACxJ,CAAC,CAACU,iBAAH,CAAlB,CAC5C,GAAGzE,OAAO,CAACsO,mBAAR,EAA+B,UAAlC,CAA8CW,GAAG,CAAGzB,cAAc,CAACzJ,CAAC,CAACgC,mBAAH,CAApB,CAC9C,GAAG,CAACqJ,KAAK,CAACH,GAAD,CAAT,CAAgB,CAAE,MAAOrC,WAAU,CAACqC,GAAD,CAAjB,CAAwB,CAA1C,IAAgD,CAAE,MAAO,EAAP,CAAS,CAC9D,CAfD,EAgBAjI,2BAAA,CAAa,aAAb,EACCmG,UADD,GAEGC,QAFH,CAEY,GAFZ,EAGGiC,KAHH,CAGS,MAHT,CAGiB,SAAStL,CAAT,CAAWC,CAAX,CAAc,CAC3B,GAAIsL,IAAG,CAAG,CAAV,CACA,GAAIH,GAAE,CAAGnI,wBAAA,CAAU,IAAV,EAAgBU,IAAhB,CAAqB,SAArB,CAAT,CACA,GAAI3D,EAAJ,CACAH,uBAAW,CAACE,OAAZ,CAAoB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC/B,GAAGD,EAAE,CAACa,MAAH,EAAa4J,EAAhB,CAAmB,CACfpL,CAAC,CAAGW,EAAJ,CACH,CACJ,CAJD,EAKA,GAAG1E,OAAO,CAACsO,mBAAR,EAA+B,OAAlC,CAA2CgB,GAAG,CAAIvL,CAAC,CAACS,gBAAT,CAC3C,GAAGxE,OAAO,CAACsO,mBAAR,EAA+B,QAAlC,CAA4CgB,GAAG,CAAIvL,CAAC,CAACU,iBAAT,CAC5C,GAAGzE,OAAO,CAACsO,mBAAR,EAA+B,UAAlC,CAA8CgB,GAAG,CAAIvL,CAAC,CAACgC,mBAAT,CAC9C,GAAI/B,EAAC,CAAGgD,6BAAA,CAAe+F,IAAI,CAACwC,KAAL,CAAYxC,IAAI,CAACyC,MAAL,GAAgB,MAAjB,CAA2B,KAAtC,CAAf,CAA6DF,GAA7D,CAAR,CACA,MAAO,UAAST,CAAT,CAAY,CACjB7H,wBAAA,CAAU,IAAV,EAAgB4D,IAAhB,CAAqBvJ,SAAS,CAAC0L,IAAI,CAACC,KAAL,CAAWhJ,CAAC,CAAC6K,CAAD,CAAZ,CAAD,CAA9B,EACD,CAFD,CAGD,CAnBH,EAoBCnH,IApBD,CAoBM,GApBN,CAoBW,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CACpB,GAAImL,GAAE,CAAGnI,wBAAA,CAAU,IAAV,EAAgBU,IAAhB,CAAqB,SAArB,CAAT,CACA,GAAI3D,EAAJ,CACAH,uBAAW,CAACE,OAAZ,CAAoB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC/B,GAAGD,EAAE,CAACa,MAAH,EAAa4J,EAAhB,CAAmB,CACfpL,CAAC,CAAGW,EAAJ,CACH,CACJ,CAJD,EAKA,GAAG1E,OAAO,CAACsO,mBAAR,EAA+B,OAAlC,CAA2C,MAAOhB,YAAW,CAACvJ,CAAC,CAACS,gBAAH,CAAX,CAAgCiJ,UAAhC,CAA2C,CAAlD,CAC3C,GAAGzN,OAAO,CAACsO,mBAAR,EAA+B,QAAlC,CAA4C,MAAOf,aAAY,CAACxJ,CAAC,CAACU,iBAAH,CAAZ,CAAkCgJ,UAAlC,CAA6C,CAApD,CAC5C,GAAGzN,OAAO,CAACsO,mBAAR,EAA+B,UAAlC,CAA8C,MAAOd,eAAc,CAACzJ,CAAC,CAACgC,mBAAH,CAAd,CAAsC0H,UAAtC,CAAiD,CAAxD,CACjD,CA/BD,EAgCC/F,IAhCD,CAgCM,SAhCN,CAgCiB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC1B,GAAID,EAAJ,CACA,GAAIoL,GAAE,CAAGnI,wBAAA,CAAU,IAAV,EAAgBU,IAAhB,CAAqB,SAArB,CAAT,CACA9D,uBAAW,CAACE,OAAZ,CAAoB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC/B,GAAGD,EAAE,CAACa,MAAH,EAAa4J,EAAhB,CAAmB,CACfpL,CAAC,CAAGW,EAAJ,CACH,CACJ,CAJD,EAKA,GAAIuK,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACsO,mBAAR,EAA+B,OAAlC,CAA2CW,GAAG,CAAIlL,CAAC,CAACS,gBAAT,CAC3C,GAAGxE,OAAO,CAACsO,mBAAR,EAA+B,QAAlC,CAA4CW,GAAG,CAAIlL,CAAC,CAACU,iBAAT,CAC5C,GAAGzE,OAAO,CAACsO,mBAAR,EAA+B,UAAlC,CAA8CW,GAAG,CAAIlL,CAAC,CAACgC,mBAAT,CAC9C,GAAGkJ,GAAG,CAAC,CAAP,CAAS,CAAE,MAAO,EAAP,CAAU,CAArB,IAA2B,CAAE,MAAO,EAAP,CAAS,CACzC,CA7CD,EA+CH,CAIJ,CAEclB,+DAAf,E;;;;;;;;;;;AChWA,GAAM0B,eAAc,CAAG,SAAvB,CACA,GAAMC,iBAAgB,CAAG,SAAzB,CACA,GAAMC,qBAAoB,CAAG,MAA7B,CACA,GAAMC,mBAAkB,CAAG,MAA3B,CAEA,QAASC,OAAT,CAAgB9P,GAAhB,CAAqBC,OAArB,CAA8BC,IAA9B,CAAoC4G,MAApC,CAA4CiJ,WAA5C,CAAyDC,SAAzD,CAAoE,CAElE;AACA/I,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,SAAnC,CAA8C,CAA9C,EAAiD+C,KAAjD,CAAuD,SAAvD,CAAkE,MAAlE,EACAzD,wBAAA,CAAU,oBAAV,EAAgCU,IAAhC,CAAqC,MAArC,CAA6CxH,UAAM,CAACS,KAApD,EAEAZ,GAAG,CAAC0L,MAAJ,CAAW,eAAX,EAA4BhB,KAA5B,CAAkC,QAAlC,CAA4C,SAA5C,EACCN,EADD,CACI,WADJ,CACiB,SAASC,KAAT,CAAgB4F,EAAhB,CAAmB,CAClChJ,wBAAA,CAAU,gBAAV,EAA4ByD,KAA5B,CAAkC,SAAlC,CAA6C,EAA7C,EACAzD,wBAAA,CAAU,kBAAV,EAA8ByD,KAA9B,CAAoC,SAApC,CAA+C,QAA/C,EAAyD0C,UAAzD,GAAsEC,QAAtE,CAA+E,GAA/E,EAAoF1F,IAApF,CAAyF,SAAzF,CAAoG,CAApG,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,MAAhE,CAAwExH,UAAM,CAACG,IAA/E,EACD,CALD,EAKG8J,EALH,CAKM,UALN,CAKkB,SAASC,KAAT,CAAgBrG,CAAhB,CAAkB,CAClCiD,wBAAA,CAAU,gBAAV,EAA4ByD,KAA5B,CAAkC,SAAlC,CAA6C,CAA7C,EACAzD,wBAAA,CAAU,kBAAV,EAA8ByD,KAA9B,CAAoC,SAApC,CAA+C,MAA/C,EAAuD/C,IAAvD,CAA4D,SAA5D,CAAuE,CAAvE,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,MAAhE,CAAwExH,UAAM,CAACS,KAA/E,EACD,CATD,EAWA;AACAZ,GAAG,CAAC0L,MAAJ,CAAW,uBAAX,EAAoC/D,IAApC,CAAyC,SAAzC,CAAoD,CAApD,EAAuD+C,KAAvD,CAA6D,QAA7D,CAAuE,SAAvE,EAAkFN,EAAlF,CAAqF,OAArF,CAA8F,SAASpG,CAAT,CAAWC,CAAX,CAAa,CACzGhE,OAAO,CAACiQ,aAAR,CAAwB,EAAxB,CACApJ,MAAM,CAAC,cAAD,CAAN,CACD,CAHD,EAKA9G,GAAG,CAAC0L,MAAJ,CAAW,iDAAX,EAA8DhB,KAA9D,CAAoE,QAApE,CAA8E,SAA9E,EAAyFN,EAAzF,CAA4F,OAA5F,CAAqG,SAASpG,CAAT,CAAW,CAC9G,GAAG/D,OAAO,CAACsO,mBAAR,GAAgC,OAAnC,CAA4C,MAAO,MAAP,CAC5CtO,OAAO,CAACsO,mBAAR,CAA8B,OAA9B,CACAvO,GAAG,CAACwH,SAAJ,CAAc,2BAAd,EAA2CG,IAA3C,CAAgD,MAAhD,CAAwDgI,gBAAxD,EACA3P,GAAG,CAACwH,SAAJ,CAAc,2BAAd,EAA2CG,IAA3C,CAAgD,MAAhD,CAAwDiI,oBAAxD,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,iCAAX,EAA8C/D,IAA9C,CAAmD,MAAnD,CAA2D+H,cAA3D,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,iCAAX,EAA8C/D,IAA9C,CAAmD,MAAnD,CAA2DkI,kBAA3D,EACAV,iBAAiB,CAAClP,OAAD,CAASC,IAAT,CAAjB,CACD,CARD,EAUAF,GAAG,CAAC0L,MAAJ,CAAW,kDAAX,EAA+DhB,KAA/D,CAAqE,QAArE,CAA+E,SAA/E,EAA0FN,EAA1F,CAA6F,OAA7F,CAAsG,SAASpG,CAAT,CAAW,CAC/G,GAAG/D,OAAO,CAACsO,mBAAR,GAAgC,QAAnC,CAA6C,MAAO,MAAP,CAC7CtO,OAAO,CAACsO,mBAAR,CAA8B,QAA9B,CACAvO,GAAG,CAACwH,SAAJ,CAAc,2BAAd,EAA2CG,IAA3C,CAAgD,MAAhD,CAAwDgI,gBAAxD,EACA3P,GAAG,CAACwH,SAAJ,CAAc,2BAAd,EAA2CG,IAA3C,CAAgD,MAAhD,CAAwDiI,oBAAxD,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,kCAAX,EAA+C/D,IAA/C,CAAoD,MAApD,CAA4D+H,cAA5D,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,kCAAX,EAA+C/D,IAA/C,CAAoD,MAApD,CAA4DkI,kBAA5D,EACAV,iBAAiB,CAAClP,OAAD,CAASC,IAAT,CAAjB,CACD,CARD,EAUAF,GAAG,CAAC0L,MAAJ,CAAW,oDAAX,EAAiEhB,KAAjE,CAAuE,QAAvE,CAAiF,SAAjF,EAA4FN,EAA5F,CAA+F,OAA/F,CAAwG,SAASpG,CAAT,CAAW,CACjH,GAAG/D,OAAO,CAACsO,mBAAR,GAAgC,UAAnC,CAA+C,MAAO,MAAP,CAC/CtO,OAAO,CAACsO,mBAAR,CAA8B,UAA9B,CACAvO,GAAG,CAACwH,SAAJ,CAAc,2BAAd,EAA2CG,IAA3C,CAAgD,MAAhD,CAAwDgI,gBAAxD,EACA3P,GAAG,CAACwH,SAAJ,CAAc,2BAAd,EAA2CG,IAA3C,CAAgD,MAAhD,CAAwDiI,oBAAxD,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,oCAAX,EAAiD/D,IAAjD,CAAsD,MAAtD,CAA8D+H,cAA9D,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,oCAAX,EAAiD/D,IAAjD,CAAsD,MAAtD,CAA8DkI,kBAA9D,EACAV,iBAAiB,CAAClP,OAAD,CAASC,IAAT,CAAjB,CACD,CARD,EAUA;AACAF,GAAG,CAAC0L,MAAJ,CAAW,0CAAX,EAAuDhB,KAAvD,CAA6D,QAA7D,CAAuE,SAAvE,EAAkFN,EAAlF,CAAqF,OAArF,CAA8F,SAASpG,CAAT,CAAW,CACvG,GAAG/D,OAAO,CAACkQ,UAAR,GAAuB,kBAA1B,CAA8C,MAAO,MAAP,CAC9ClQ,OAAO,CAACkQ,UAAR,CAAqB,kBAArB,CACAnQ,GAAG,CAACwH,SAAJ,CAAc,kBAAd,EAAkCG,IAAlC,CAAuC,MAAvC,CAA+CgI,gBAA/C,EACA3P,GAAG,CAACwH,SAAJ,CAAc,kBAAd,EAAkCG,IAAlC,CAAuC,MAAvC,CAA+CiI,oBAA/C,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,mCAAX,EAAgD/D,IAAhD,CAAqD,MAArD,CAA6D+H,cAA7D,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,mCAAX,EAAgD/D,IAAhD,CAAqD,MAArD,CAA6DkI,kBAA7D,EACA;AAEAG,SAAS,CAAC9P,IAAD,CAAOD,OAAP,CAAgB,GAAhB,CAAT,CACD,CAVD,EAYAD,GAAG,CAAC0L,MAAJ,CAAW,+BAAX,EAA4ChB,KAA5C,CAAkD,QAAlD,CAA4D,SAA5D,EAAuEN,EAAvE,CAA0E,OAA1E,CAAmF,SAASpG,CAAT,CAAW,CAC5F,GAAG/D,OAAO,CAACkQ,UAAR,GAAuB,OAA1B,CAAmC,MAAO,MAAP,CACnClQ,OAAO,CAACkQ,UAAR,CAAqB,OAArB,CACAnQ,GAAG,CAACwH,SAAJ,CAAc,kBAAd,EAAkCG,IAAlC,CAAuC,MAAvC,CAA+CgI,gBAA/C,EACA3P,GAAG,CAACwH,SAAJ,CAAc,kBAAd,EAAkCG,IAAlC,CAAuC,MAAvC,CAA+CiI,oBAA/C,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,wBAAX,EAAqC/D,IAArC,CAA0C,MAA1C,CAAkD+H,cAAlD,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,wBAAX,EAAqC/D,IAArC,CAA0C,MAA1C,CAAkDkI,kBAAlD,EACA;AAEAG,SAAS,CAAC9P,IAAD,CAAOD,OAAP,CAAgB,GAAhB,CAAT,CACD,CAVD,EAYAD,GAAG,CAAC0L,MAAJ,CAAW,gCAAX,EAA6ChB,KAA7C,CAAmD,QAAnD,CAA6D,SAA7D,EAAwEN,EAAxE,CAA2E,OAA3E,CAAoF,SAASpG,CAAT,CAAW,CAC7F,GAAG/D,OAAO,CAACkQ,UAAR,GAAuB,QAA1B,CAAoC,MAAO,MAAP,CACpClQ,OAAO,CAACkQ,UAAR,CAAqB,QAArB,CACAnQ,GAAG,CAACwH,SAAJ,CAAc,kBAAd,EAAkCG,IAAlC,CAAuC,MAAvC,CAA+CgI,gBAA/C,EACA3P,GAAG,CAACwH,SAAJ,CAAc,kBAAd,EAAkCG,IAAlC,CAAuC,MAAvC,CAA+CiI,oBAA/C,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,yBAAX,EAAsC/D,IAAtC,CAA2C,MAA3C,CAAmD+H,cAAnD,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,yBAAX,EAAsC/D,IAAtC,CAA2C,MAA3C,CAAmDkI,kBAAnD,EACA;AAEAG,SAAS,CAAC9P,IAAD,CAAOD,OAAP,CAAgB,GAAhB,CAAT,CACD,CAVD,EAYAD,GAAG,CAAC0L,MAAJ,CAAW,kDAAX,EAA+DhB,KAA/D,CAAqE,QAArE,CAA+E,SAA/E,EAA0FN,EAA1F,CAA6F,OAA7F,CAAsG,SAASpG,CAAT,CAAW,CAC/G,GAAG/D,OAAO,CAACkQ,UAAR,GAAuB,0BAA1B,CAAsD,MAAO,MAAP,CACtDlQ,OAAO,CAACkQ,UAAR,CAAqB,0BAArB,CACAnQ,GAAG,CAACwH,SAAJ,CAAc,kBAAd,EAAkCG,IAAlC,CAAuC,MAAvC,CAA+CgI,gBAA/C,EACA3P,GAAG,CAACwH,SAAJ,CAAc,kBAAd,EAAkCG,IAAlC,CAAuC,MAAvC,CAA+CiI,oBAA/C,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,2CAAX,EAAwD/D,IAAxD,CAA6D,MAA7D,CAAqE+H,cAArE,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,2CAAX,EAAwD/D,IAAxD,CAA6D,MAA7D,CAAqEkI,kBAArE,EACA;AACAG,SAAS,CAAC9P,IAAD,CAAOD,OAAP,CAAgB,GAAhB,CAAT,CACD,CATD,EAWAD,GAAG,CAAC0L,MAAJ,CAAW,oDAAX,EAAiEhB,KAAjE,CAAuE,QAAvE,CAAiF,SAAjF,EAA4FN,EAA5F,CAA+F,OAA/F,CAAwG,SAASpG,CAAT,CAAW,CACjH,GAAG/D,OAAO,CAACkQ,UAAR,GAAuB,4BAA1B,CAAwD,MAAO,MAAP,CACxDlQ,OAAO,CAACkQ,UAAR,CAAqB,4BAArB,CACAnQ,GAAG,CAACwH,SAAJ,CAAc,kBAAd,EAAkCG,IAAlC,CAAuC,MAAvC,CAA+CgI,gBAA/C,EACA3P,GAAG,CAACwH,SAAJ,CAAc,kBAAd,EAAkCG,IAAlC,CAAuC,MAAvC,CAA+CiI,oBAA/C,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,6CAAX,EAA0D/D,IAA1D,CAA+D,MAA/D,CAAuE+H,cAAvE,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,6CAAX,EAA0D/D,IAA1D,CAA+D,MAA/D,CAAuEkI,kBAAvE,EACA;AACAG,SAAS,CAAC9P,IAAD,CAAOD,OAAP,CAAgB,GAAhB,CAAT,CACD,CATD,EAWE;AACAD,GAAG,CAAC0L,MAAJ,CAAW,0DAAX,EAAuEhB,KAAvE,CAA6E,QAA7E,CAAuF,SAAvF,EAAkGN,EAAlG,CAAqG,OAArG,CAA8G,SAASpG,CAAT,CAAW,CACvH,GAAG/D,OAAO,CAAC0F,aAAR,GAA0B,YAA7B,CAA2C,MAAO,MAAP,CAC3C1F,OAAO,CAAC0F,aAAR,CAAwB,YAAxB,CACA3F,GAAG,CAACwH,SAAJ,CAAc,6BAAd,EAA6CG,IAA7C,CAAkD,MAAlD,CAA0DgI,gBAA1D,EACA3P,GAAG,CAACwH,SAAJ,CAAc,iCAAd,EAAiDG,IAAjD,CAAsD,QAAtD,CAAgEiI,oBAAhE,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,wCAAX,EAAqD/D,IAArD,CAA0D,MAA1D,CAAkE+H,cAAlE,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,4CAAX,EAAyD/D,IAAzD,CAA8D,QAA9D,CAAwEkI,kBAAxE,EACA7P,GAAG,CAACwH,SAAJ,CAAc,wCAAd,EAAwDG,IAAxD,CAA6D,MAA7D,CAAqE+H,cAArE,EACAvC,eAAe,CAACjN,IAAD,CAAOD,OAAP,CAAf,CACD,CATD,EAWAmQ,oCAAK,CAAC,mCAAD,CAAsC,CACzCC,OAAO,CAAE,YADgC,CAEzChD,QAAQ,CAAE,CAF+B,CAGzCiD,SAAS,CAAE,QAH8B,CAIzCC,KAAK,CAAE,OAJkC,CAKzCC,KAAK,CAAE,IALkC,CAMzCC,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CANkC,CAAtC,CAAL,CASAzQ,GAAG,CAAC0L,MAAJ,CAAW,8DAAX,EAA2EhB,KAA3E,CAAiF,QAAjF,CAA2F,SAA3F,EAAsGN,EAAtG,CAAyG,OAAzG,CAAkH,SAASpG,CAAT,CAAW,CAC3H,GAAG/D,OAAO,CAAC0F,aAAR,GAA0B,gBAA7B,CAA+C,MAAO,MAAP,CAC/C1F,OAAO,CAAC0F,aAAR,CAAwB,gBAAxB,CACA3F,GAAG,CAACwH,SAAJ,CAAc,6BAAd,EAA6CG,IAA7C,CAAkD,MAAlD,CAA0DgI,gBAA1D,EACA3P,GAAG,CAACwH,SAAJ,CAAc,iCAAd,EAAiDG,IAAjD,CAAsD,QAAtD,CAAgEiI,oBAAhE,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,4CAAX,EAAyD/D,IAAzD,CAA8D,MAA9D,CAAsE+H,cAAtE,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,gDAAX,EAA6D/D,IAA7D,CAAkE,QAAlE,CAA4EkI,kBAA5E,EACA7P,GAAG,CAACwH,SAAJ,CAAc,wCAAd,EAAwDG,IAAxD,CAA6D,MAA7D,CAAqE+H,cAArE,EACAvC,eAAe,CAACjN,IAAD,CAAOD,OAAP,CAAf,CACD,CATD,EAWAmQ,oCAAK,CAAC,uCAAD,CAA0C,CAC7CC,OAAO,CAAE,gBADoC,CAE7ChD,QAAQ,CAAE,CAFmC,CAG7CiD,SAAS,CAAE,QAHkC,CAI7CC,KAAK,CAAE,OAJsC,CAK7CC,KAAK,CAAE,IALsC,CAM7CC,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CANsC,CAA1C,CAAL,CASAzQ,GAAG,CAAC0L,MAAJ,CAAW,uDAAX,EAAoEhB,KAApE,CAA0E,QAA1E,CAAoF,SAApF,EAA+FN,EAA/F,CAAkG,OAAlG,CAA2G,SAASpG,CAAT,CAAW,CACpH,GAAG/D,OAAO,CAAC0F,aAAR,GAA0B,SAA7B,CAAwC,MAAO,MAAP,CACxC1F,OAAO,CAAC0F,aAAR,CAAwB,SAAxB,CACA3F,GAAG,CAACwH,SAAJ,CAAc,6BAAd,EAA6CG,IAA7C,CAAkD,MAAlD,CAA0DgI,gBAA1D,EACA3P,GAAG,CAACwH,SAAJ,CAAc,iCAAd,EAAiDG,IAAjD,CAAsD,QAAtD,CAAgEiI,oBAAhE,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,qCAAX,EAAkD/D,IAAlD,CAAuD,MAAvD,CAA+D+H,cAA/D,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,yCAAX,EAAsD/D,IAAtD,CAA2D,QAA3D,CAAqEkI,kBAArE,EACA7P,GAAG,CAACwH,SAAJ,CAAc,wCAAd,EAAwDG,IAAxD,CAA6D,MAA7D,CAAqEkI,kBAArE,EACA1C,eAAe,CAACjN,IAAD,CAAOD,OAAP,CAAf,CACD,CATD,EAWAmQ,oCAAK,CAAC,gCAAD,CAAmC,CACtCC,OAAO,CAAE,cAD6B,CAEtChD,QAAQ,CAAE,CAF4B,CAGtCiD,SAAS,CAAE,QAH2B,CAItCC,KAAK,CAAE,OAJ+B,CAKtCC,KAAK,CAAE,IAL+B,CAMtCC,KAAK,CAAE,CAAC,GAAD,CAAM,GAAN,CAN+B,CAAnC,CAAL,CASF;AACAzQ,GAAG,CAAC0L,MAAJ,CAAW,6DAAX,EAA0EhB,KAA1E,CAAgF,QAAhF,CAA0F,SAA1F,EAAqGN,EAArG,CAAwG,OAAxG,CAAiH,SAASpG,CAAT,CAAW,CAC1H,GAAG/D,OAAO,CAACiE,kBAAR,GAA+B,KAAlC,CAAyC,MAAO,MAAP,CACzCjE,OAAO,CAACiE,kBAAR,CAA6B,KAA7B,CACAlE,GAAG,CAACwH,SAAJ,CAAc,kCAAd,EAAkDG,IAAlD,CAAuD,MAAvD,CAA+DgI,gBAA/D,EACA3P,GAAG,CAACwH,SAAJ,CAAc,kCAAd,EAAkDG,IAAlD,CAAuD,MAAvD,CAA+DiI,oBAA/D,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,sCAAX,EAAmD/D,IAAnD,CAAwD,MAAxD,CAAgE+H,cAAhE,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,sCAAX,EAAmD/D,IAAnD,CAAwD,MAAxD,CAAgEkI,kBAAhE,EACA7P,GAAG,CAAC0L,MAAJ,CAAW,0BAAX,EAAuC/D,IAAvC,CAA4C,aAA5C,CAA2D,KAA3D,EAAkEA,IAAlE,CAAuE,IAAvE,CAA6E,EAA7E,EAAiFkD,IAAjF,CAAsF,KAAtF,EACAjH,aAAa,CAAC1D,IAAD,CAAOD,OAAP,CAAb,CACD,CATD,EAWAD,GAAG,CAAC0L,MAAJ,CAAW,8DAAX,EAA2EhB,KAA3E,CAAiF,QAAjF,CAA2F,SAA3F,EAAsGN,EAAtG,CAAyG,OAAzG,CAAkH,SAASpG,CAAT,CAAW,CAC3H,GAAG/D,OAAO,CAACiE,kBAAR,GAA+B,MAAlC,CAA0C,MAAO,MAAP,CAC1CjE,OAAO,CAACiE,kBAAR,CAA6B,MAA7B,CACAlE,GAAG,CAACwH,SAAJ,CAAc,kCAAd,EAAkDG,IAAlD,CAAuD,MAAvD,CAA+DgI,gBAA/D,EACA3P,GAAG,CAACwH,SAAJ,CAAc,kCAAd,EAAkDG,IAAlD,CAAuD,MAAvD,CAA+DiI,oBAA/D,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,uCAAX,EAAoD/D,IAApD,CAAyD,MAAzD,CAAiE+H,cAAjE,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,0BAAX,EAAuC/D,IAAvC,CAA4C,aAA5C,CAA2D,KAA3D,EAAkEA,IAAlE,CAAuE,IAAvE,CAA6E,EAA7E,EAAiFkD,IAAjF,CAAsF,MAAtF,EACA7K,GAAG,CAAC0L,MAAJ,CAAW,uCAAX,EAAoD/D,IAApD,CAAyD,MAAzD,CAAiEkI,kBAAjE,EACAjM,aAAa,CAAC1D,IAAD,CAAOD,OAAP,CAAb,CACD,CATD,EAWAD,GAAG,CAAC0L,MAAJ,CAAW,+DAAX,EAA4EhB,KAA5E,CAAkF,QAAlF,CAA4F,SAA5F,EAAuGN,EAAvG,CAA0G,OAA1G,CAAmH,SAASpG,CAAT,CAAW,CAC5H,GAAG/D,OAAO,CAACiE,kBAAR,GAA+B,OAAlC,CAA2C,MAAO,MAAP,CAC3CjE,OAAO,CAACiE,kBAAR,CAA6B,OAA7B,CACAlE,GAAG,CAACwH,SAAJ,CAAc,kCAAd,EAAkDG,IAAlD,CAAuD,MAAvD,CAA+DgI,gBAA/D,EACA3P,GAAG,CAACwH,SAAJ,CAAc,kCAAd,EAAkDG,IAAlD,CAAuD,MAAvD,CAA+DiI,oBAA/D,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,wCAAX,EAAqD/D,IAArD,CAA0D,MAA1D,CAAkE+H,cAAlE,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,0BAAX,EAAuC/D,IAAvC,CAA4C,aAA5C,CAA2D,KAA3D,EAAkEA,IAAlE,CAAuE,IAAvE,CAA6E,EAA7E,EAAiFkD,IAAjF,CAAsF,OAAtF,EACA7K,GAAG,CAAC0L,MAAJ,CAAW,wCAAX,EAAqD/D,IAArD,CAA0D,MAA1D,CAAkEkI,kBAAlE,EACAjM,aAAa,CAAC1D,IAAD,CAAOD,OAAP,CAAb,CACD,CATD,EAWE;AAEAD,GAAG,CAAC0L,MAAJ,CAAW,oBAAX,EAAiC/D,IAAjC,CAAsC,SAAtC,CAAiD,CAAjD,EAAoD+C,KAApD,CAA0D,QAA1D,CAAoE,SAApE,EAA+EN,EAA/E,CAAkF,OAAlF,CAA2F,SAASpG,CAAT,CAAWC,CAAX,CAAa,CACtGgD,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,CAA7G,EACAb,MAAM,CAAC,WAAD,CAAN,CACD,CAHD,EAKA9G,GAAG,CAAC0L,MAAJ,CAAW,mCAAX,EAAgDhB,KAAhD,CAAsD,QAAtD,CAAgE,SAAhE,EAA2EN,EAA3E,CAA8E,OAA9E,CAAuF,SAASpG,CAAT,CAAW,CAChG0M,MAAM,CAACzQ,OAAO,CAAC0Q,UAAT,CAAqB,WAArB,CAAN,CACA,GAAG1Q,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,GAA8B,CAAjC,CAAoC,CAAE3B,OAAO,CAAC0Q,UAAR,CAAqB,EAArB,CAAyB1J,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,CAA7G,EAAkH,CAAjL,IACK,IAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,GAA8B,CAAjC,CAAoC,CAAEqF,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,CAA7G,EAAiH,CAAvJ,IACA,IAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,CAA4B,CAA/B,CAAkC,CAAEqF,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,GAA7G,EAAmH,CAC5J,GAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,CAA4B,CAA/B,CAAiC,CAC/B3B,OAAO,CAAC0Q,UAAR,CAAmB5M,OAAnB,CAA2B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACtCgD,wBAAA,CAAU,eAAejD,CAAzB,EAA4B2D,IAA5B,CAAiC,SAAjC,CAA4C,CAA5C,EACD,CAFD,EAGD,CACDb,MAAM,CAAC,KAAD,CAAN,CACD,CAXD,EAaA9G,GAAG,CAAC0L,MAAJ,CAAW,8BAAX,EAA2ChB,KAA3C,CAAiD,QAAjD,CAA2D,SAA3D,EAAsEN,EAAtE,CAAyE,OAAzE,CAAkF,SAASpG,CAAT,CAAW,CAC3F0M,MAAM,CAACzQ,OAAO,CAAC0Q,UAAT,CAAqB,MAArB,CAAN,CACA,GAAG1Q,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,GAA8B,CAAjC,CAAoC,CAAE3B,OAAO,CAAC0Q,UAAR,CAAqB,EAArB,CAAyB1J,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,CAA7G,EAAkH,CAAjL,IACK,IAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,GAA8B,CAAjC,CAAoC,CAAEqF,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,CAA7G,EAAiH,CAAvJ,IACA,IAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,CAA4B,CAA/B,CAAkC,CAAEqF,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,GAA7G,EAAmH,CAC5J,GAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,CAA4B,CAA/B,CAAiC,CAC/B3B,OAAO,CAAC0Q,UAAR,CAAmB5M,OAAnB,CAA2B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACtCgD,wBAAA,CAAU,eAAejD,CAAzB,EAA4B2D,IAA5B,CAAiC,SAAjC,CAA4C,CAA5C,EACD,CAFD,EAGD,CACDb,MAAM,CAAC,KAAD,CAAN,CACD,CAXD,EAYA9G,GAAG,CAAC0L,MAAJ,CAAW,gCAAX,EAA6ChB,KAA7C,CAAmD,QAAnD,CAA6D,SAA7D,EAAwEN,EAAxE,CAA2E,OAA3E,CAAoF,SAASpG,CAAT,CAAW,CAC7F0M,MAAM,CAACzQ,OAAO,CAAC0Q,UAAT,CAAqB,QAArB,CAAN,CACA,GAAG1Q,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,GAA8B,CAAjC,CAAoC,CAAE3B,OAAO,CAAC0Q,UAAR,CAAqB,EAArB,CAAyB1J,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,CAA7G,EAAkH,CAAjL,IACK,IAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,GAA8B,CAAjC,CAAoC,CAAEqF,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,CAA7G,EAAiH,CAAvJ,IACA,IAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,CAA4B,CAA/B,CAAkC,CAAEqF,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,GAA7G,EAAmH,CAC5J,GAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,CAA4B,CAA/B,CAAiC,CAC/B3B,OAAO,CAAC0Q,UAAR,CAAmB5M,OAAnB,CAA2B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACtCgD,wBAAA,CAAU,eAAejD,CAAzB,EAA4B2D,IAA5B,CAAiC,SAAjC,CAA4C,CAA5C,EACD,CAFD,EAGD,CACDb,MAAM,CAAC,KAAD,CAAN,CACD,CAXD,EAYA9G,GAAG,CAAC0L,MAAJ,CAAW,6BAAX,EAA0ChB,KAA1C,CAAgD,QAAhD,CAA0D,SAA1D,EAAqEN,EAArE,CAAwE,OAAxE,CAAiF,SAASpG,CAAT,CAAW,CAC1F0M,MAAM,CAACzQ,OAAO,CAAC0Q,UAAT,CAAqB,KAArB,CAAN,CACA,GAAG1Q,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,GAA8B,CAAjC,CAAoC,CAAE3B,OAAO,CAAC0Q,UAAR,CAAqB,EAArB,CAAyB1J,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,CAA7G,EAAiH,CAAhL,IACK,IAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,GAA8B,CAAjC,CAAoC,CAAEqF,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,CAA7G,EAAiH,CAAvJ,IACA,IAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,CAA4B,CAA/B,CAAkC,CAAEqF,2BAAA,CAAa,8EAAb,EAA6FU,IAA7F,CAAkG,SAAlG,CAA6G,GAA7G,EAAmH,CAC5J,GAAG1H,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,CAA4B,CAA/B,CAAiC,CAC/B3B,OAAO,CAAC0Q,UAAR,CAAmB5M,OAAnB,CAA2B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACtCgD,wBAAA,CAAU,eAAejD,CAAzB,EAA4B2D,IAA5B,CAAiC,SAAjC,CAA4C,CAA5C,EACD,CAFD,EAGD,CACDb,MAAM,CAAC,KAAD,CAAN,CACD,CAXD,EAaA;AAEA9G,GAAG,CAAC0L,MAAJ,CAAW,uBAAX,EAAoC/D,IAApC,CAAyC,SAAzC,CAAoD,CAApD,EAAuD+C,KAAvD,CAA6D,QAA7D,CAAuE,SAAvE,EAAkFN,EAAlF,CAAqF,OAArF,CAA8F,SAASpG,CAAT,CAAWC,CAAX,CAAa,CACzGgD,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EACAb,MAAM,CAAC,cAAD,CAAN,CACD,CAHD,EAKA9G,GAAG,CAAC0L,MAAJ,CAAW,wCAAX,EAAqDhB,KAArD,CAA2D,QAA3D,CAAqE,SAArE,EAAgFN,EAAhF,CAAmF,OAAnF,CAA4F,SAASpG,CAAT,CAAW,CACrG0M,MAAM,CAACzQ,OAAO,CAAC2Q,aAAT,CAAwB,UAAxB,CAAN,CACA,GAAG3Q,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,GAAiC,CAApC,CAAuC,CAAE3B,OAAO,CAAC2Q,aAAR,CAAwB,EAAxB,CAA4B3J,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EAAsJ,CAA3N,IACK,IAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,GAAiC,CAApC,CAAuC,CAAEqF,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EAAsJ,CAA/L,IACA,IAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA+B,CAAlC,CAAqC,CAAEqF,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,GAAlJ,EAAwJ,CACpM,GAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA+B,CAAlC,CAAoC,CAClC3B,OAAO,CAAC2Q,aAAR,CAAsB7M,OAAtB,CAA8B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACzCgD,wBAAA,CAAU,kBAAkBjD,CAA5B,EAA+B2D,IAA/B,CAAoC,SAApC,CAA+C,CAA/C,EACD,CAFD,EAGD,CACDb,MAAM,CAAC,QAAD,CAAN,CACD,CAXD,EAaA9G,GAAG,CAAC0L,MAAJ,CAAW,mCAAX,EAAgDhB,KAAhD,CAAsD,QAAtD,CAAgE,SAAhE,EAA2EN,EAA3E,CAA8E,OAA9E,CAAuF,SAASpG,CAAT,CAAW,CAChG0M,MAAM,CAACzQ,OAAO,CAAC2Q,aAAT,CAAwB,KAAxB,CAAN,CACA,GAAG3Q,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,GAAiC,CAApC,CAAuC,CAAE3B,OAAO,CAAC2Q,aAAR,CAAwB,EAAxB,CAA4B3J,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EAAsJ,CAA3N,IACK,IAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,GAAiC,CAApC,CAAuC,CAAEqF,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EAAsJ,CAA/L,IACA,IAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA+B,CAAlC,CAAqC,CAAEqF,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,GAAlJ,EAAwJ,CACpM,GAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA+B,CAAlC,CAAoC,CAClC3B,OAAO,CAAC2Q,aAAR,CAAsB7M,OAAtB,CAA8B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACzCgD,wBAAA,CAAU,kBAAkBjD,CAA5B,EAA+B2D,IAA/B,CAAoC,SAApC,CAA+C,CAA/C,EACD,CAFD,EAGD,CACDb,MAAM,CAAC,QAAD,CAAN,CACD,CAXD,EAaA9G,GAAG,CAAC0L,MAAJ,CAAW,sCAAX,EAAmDhB,KAAnD,CAAyD,QAAzD,CAAmE,SAAnE,EAA8EN,EAA9E,CAAiF,OAAjF,CAA0F,SAASpG,CAAT,CAAW,CACnG0M,MAAM,CAACzQ,OAAO,CAAC2Q,aAAT,CAAwB,QAAxB,CAAN,CACA,GAAG3Q,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,GAAiC,CAApC,CAAuC,CAAE3B,OAAO,CAAC2Q,aAAR,CAAwB,EAAxB,CAA4B3J,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EAAsJ,CAA3N,IACK,IAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,GAAiC,CAApC,CAAuC,CAAEqF,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EAAsJ,CAA/L,IACA,IAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA+B,CAAlC,CAAqC,CAAEqF,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,GAAlJ,EAAwJ,CACpM,GAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA+B,CAAlC,CAAoC,CAClC3B,OAAO,CAAC2Q,aAAR,CAAsB7M,OAAtB,CAA8B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACzCgD,wBAAA,CAAU,kBAAkBjD,CAA5B,EAA+B2D,IAA/B,CAAoC,SAApC,CAA+C,CAA/C,EACD,CAFD,EAGD,CACDb,MAAM,CAAC,QAAD,CAAN,CACD,CAXD,EAaA9G,GAAG,CAAC0L,MAAJ,CAAW,oCAAX,EAAiDhB,KAAjD,CAAuD,QAAvD,CAAiE,SAAjE,EAA4EN,EAA5E,CAA+E,OAA/E,CAAwF,SAASpG,CAAT,CAAW,CACjG0M,MAAM,CAACzQ,OAAO,CAAC2Q,aAAT,CAAwB,MAAxB,CAAN,CACA,GAAG3Q,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,GAAiC,CAApC,CAAuC,CAAE3B,OAAO,CAAC2Q,aAAR,CAAwB,EAAxB,CAA4B3J,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EAAsJ,CAA3N,IACK,IAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,GAAiC,CAApC,CAAuC,CAAEqF,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EAAsJ,CAA/L,IACA,IAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA+B,CAAlC,CAAqC,CAAEqF,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,GAAlJ,EAAwJ,CACpM,GAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA+B,CAAlC,CAAoC,CAClC3B,OAAO,CAAC2Q,aAAR,CAAsB7M,OAAtB,CAA8B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACzCgD,wBAAA,CAAU,kBAAkBjD,CAA5B,EAA+B2D,IAA/B,CAAoC,SAApC,CAA+C,CAA/C,EACD,CAFD,EAGD,CACDb,MAAM,CAAC,QAAD,CAAN,CACD,CAXD,EAaA9G,GAAG,CAAC0L,MAAJ,CAAW,yCAAX,EAAsDhB,KAAtD,CAA4D,QAA5D,CAAsE,SAAtE,EAAiFN,EAAjF,CAAoF,OAApF,CAA6F,SAASpG,CAAT,CAAW,CACtG0M,MAAM,CAACzQ,OAAO,CAAC2Q,aAAT,CAAwB,WAAxB,CAAN,CACA,GAAG3Q,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,GAAiC,CAApC,CAAuC,CAAE3B,OAAO,CAAC2Q,aAAR,CAAwB,EAAxB,CAA4B3J,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EAAsJ,CAA3N,IACK,IAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,GAAiC,CAApC,CAAuC,CAAEqF,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,CAAlJ,EAAsJ,CAA/L,IACA,IAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA+B,CAAlC,CAAqC,CAAEqF,2BAAA,CAAa,mHAAb,EAAkIU,IAAlI,CAAuI,SAAvI,CAAkJ,GAAlJ,EAAwJ,CACpM,GAAG1H,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA+B,CAAlC,CAAoC,CAClC3B,OAAO,CAAC2Q,aAAR,CAAsB7M,OAAtB,CAA8B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACzCgD,wBAAA,CAAU,kBAAkBjD,CAA5B,EAA+B2D,IAA/B,CAAoC,SAApC,CAA+C,CAA/C,EACD,CAFD,EAGD,CACDb,MAAM,CAAC,QAAD,CAAN,CACD,CAXD,EAaF;AAEAG,wBAAA,CAAU,4BAAV,EAAwCU,IAAxC,CAA6C,SAA7C,CAAwD,CAAxD,EAA2D+D,MAA3D,CAAkE,oCAAlE,EAAwG/D,IAAxG,CAA6G,SAA7G,CAAwH,MAAxH,EACAV,wBAAA,CAAU,UAAV,EAAsBU,IAAtB,CAA2B,SAA3B,CAAsC,CAAtC,EAAyC+D,MAAzC,CAAgD,kBAAhD,EAAoE/D,IAApE,CAAyE,SAAzE,CAAoF,QAApF,EACAV,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,SAAnC,CAA8C,CAA9C,EAAiDH,SAAjD,CAA2D,wCAA3D,EAAqGG,IAArG,CAA0G,SAA1G,CAAqH,MAArH,EACAV,wBAAA,CAAU,wBAAV,EAAoCyD,KAApC,CAA0C,SAA1C,CAAqD,MAArD,EAEA1K,GAAG,CAAC0L,MAAJ,CAAW,wBAAX,EAAqChB,KAArC,CAA2C,QAA3C,CAAqD,SAArD,EAAgEN,EAAhE,CAAmE,OAAnE,CAA4E,SAASpG,CAAT,CAAW,CACrF,GAAG/D,OAAO,CAAC4Q,UAAR,GAAuB,kBAA1B,CAA8C,MAAO,MAAP,CAC9C5Q,OAAO,CAAC4Q,UAAR,CAAqB,kBAArB,CACA5J,wBAAA,CAAU,4BAAV,EAAwCU,IAAxC,CAA6C,SAA7C,CAAwD,CAAxD,EAA2D+D,MAA3D,CAAkE,oCAAlE,EAAwG/D,IAAxG,CAA6G,SAA7G,CAAwH,MAAxH,EACAV,wBAAA,CAAU,UAAV,EAAsBU,IAAtB,CAA2B,SAA3B,CAAsC,CAAtC,EAAyC+D,MAAzC,CAAgD,kBAAhD,EAAoE/D,IAApE,CAAyE,SAAzE,CAAoF,QAApF,EACAV,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,SAAnC,CAA8C,CAA9C,EAAiDH,SAAjD,CAA2D,wCAA3D,EAAqGG,IAArG,CAA0G,SAA1G,CAAqH,MAArH,EACA3H,GAAG,CAACwH,SAAJ,CAAc,YAAd,EAA4BG,IAA5B,CAAiC,MAAjC,CAAyCgI,gBAAzC,EACA3P,GAAG,CAACwH,SAAJ,CAAc,YAAd,EAA4BG,IAA5B,CAAiC,MAAjC,CAAyCiI,oBAAzC,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,uBAAX,EAAoC/D,IAApC,CAAyC,MAAzC,CAAiD+H,cAAjD,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,uBAAX,EAAoC/D,IAApC,CAAyC,MAAzC,CAAiDkI,kBAAjD,EACA5I,wBAAA,CAAU,wBAAV,EAAoCyD,KAApC,CAA0C,SAA1C,CAAqD,MAArD,EAEA3K,UAAM,CAACC,GAAD,CAAKC,OAAL,CAAaC,IAAb,CAAN,CACD,CAbD,EAeAF,GAAG,CAAC0L,MAAJ,CAAW,uBAAX,EAAoChB,KAApC,CAA0C,QAA1C,CAAoD,SAApD,EAA+DN,EAA/D,CAAkE,OAAlE,CAA2E,SAASpG,CAAT,CAAW,CACpF,GAAG/D,OAAO,CAAC4Q,UAAR,GAAuB,YAA1B,CAAwC,MAAO,MAAP,CACxC5Q,OAAO,CAAC4Q,UAAR,CAAqB,YAArB,CACA5J,wBAAA,CAAU,4BAAV,EAAwCU,IAAxC,CAA6C,SAA7C,CAAwD,CAAxD,EAA2D+D,MAA3D,CAAkE,oCAAlE,EAAwG/D,IAAxG,CAA6G,SAA7G,CAAwH,QAAxH,EACAV,wBAAA,CAAU,UAAV,EAAsBU,IAAtB,CAA2B,SAA3B,CAAsC,CAAtC,EAAyC+D,MAAzC,CAAgD,kBAAhD,EAAoE/D,IAApE,CAAyE,SAAzE,CAAoF,MAApF,EACAV,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,SAAnC,CAA8C,CAA9C,EAAiDH,SAAjD,CAA2D,wCAA3D,EAAqGG,IAArG,CAA0G,SAA1G,CAAqH,MAArH,EACA3H,GAAG,CAACwH,SAAJ,CAAc,YAAd,EAA4BG,IAA5B,CAAiC,MAAjC,CAAyCgI,gBAAzC,EACA3P,GAAG,CAACwH,SAAJ,CAAc,YAAd,EAA4BG,IAA5B,CAAiC,MAAjC,CAAyCiI,oBAAzC,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,sBAAX,EAAmC/D,IAAnC,CAAwC,MAAxC,CAAgD+H,cAAhD,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,sBAAX,EAAmC/D,IAAnC,CAAwC,MAAxC,CAAgDkI,kBAAhD,EACA5I,wBAAA,CAAU,wBAAV,EAAoCyD,KAApC,CAA0C,SAA1C,CAAqD,MAArD,EAEA3K,UAAM,CAACC,GAAD,CAAKC,OAAL,CAAaC,IAAb,CAAN,CACD,CAbD,EAeAF,GAAG,CAAC0L,MAAJ,CAAW,yBAAX,EAAsChB,KAAtC,CAA4C,QAA5C,CAAsD,SAAtD,EAAiEN,EAAjE,CAAoE,OAApE,CAA6E,SAASpG,CAAT,CAAW,CACtF,GAAG/D,OAAO,CAAC4Q,UAAR,GAAuB,eAA1B,CAA2C,MAAO,MAAP,CAC3C5Q,OAAO,CAAC4Q,UAAR,CAAqB,cAArB,CACA5J,wBAAA,CAAU,4BAAV,EAAwCU,IAAxC,CAA6C,SAA7C,CAAwD,CAAxD,EAA2D+D,MAA3D,CAAkE,oCAAlE,EAAwG/D,IAAxG,CAA6G,SAA7G,CAAwH,MAAxH,EACAV,wBAAA,CAAU,UAAV,EAAsBU,IAAtB,CAA2B,SAA3B,CAAsC,CAAtC,EAAyC+D,MAAzC,CAAgD,kBAAhD,EAAoE/D,IAApE,CAAyE,SAAzE,CAAoF,MAApF,EACAV,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,SAAnC,CAA8C,CAA9C,EAAiDH,SAAjD,CAA2D,wCAA3D,EAAqGG,IAArG,CAA0G,SAA1G,CAAqH,QAArH,EACA3H,GAAG,CAACwH,SAAJ,CAAc,YAAd,EAA4BG,IAA5B,CAAiC,MAAjC,CAAyCgI,gBAAzC,EACA3P,GAAG,CAACwH,SAAJ,CAAc,YAAd,EAA4BG,IAA5B,CAAiC,MAAjC,CAAyCiI,oBAAzC,EACA5P,GAAG,CAAC0L,MAAJ,CAAW,wBAAX,EAAqC/D,IAArC,CAA0C,MAA1C,CAAkD+H,cAAlD,EACA1P,GAAG,CAAC0L,MAAJ,CAAW,wBAAX,EAAqC/D,IAArC,CAA0C,MAA1C,CAAkDkI,kBAAlD,EACA5I,wBAAA,CAAU,wBAAV,EAAoCyD,KAApC,CAA0C,SAA1C,CAAqD,cAArD,EAEA3K,UAAM,CAACC,GAAD,CAAKC,OAAL,CAAaC,IAAb,CAAN,CACD,CAbD,EAeA;AACE+G,wBAAA,CAAU,WAAV,EAAuBS,MAAvB,CAA8B,UAA9B,EAA0CC,IAA1C,CAA+C,IAA/C,CAAqD,MAArD,EACCD,MADD,CACQ,MADR,EAECC,IAFD,CAEM,GAFN,CAEW,GAFX,EAGCA,IAHD,CAGM,QAHN,CAGgB,GAHhB,EAICA,IAJD,CAIM,OAJN,CAIe,GAJf,EAKCA,IALD,CAKM,GALN,CAKW,EALX,EAQF;AACA,GAAMmJ,mBAAkB,CAAG9Q,GAAG,CAAC0L,MAAJ,CAAW,sBAAX,EAAmC/D,IAAnC,CAAwC,SAAxC,CAAmD,CAAnD,CAA3B,CACA,GAAMoJ,OAAM,CAAG,CACbvP,CAAC,CAAEsP,kBAAkB,CAACnJ,IAAnB,CAAwB,GAAxB,CADU,CACoB0B,CAAC,CAAEyH,kBAAkB,CAACnJ,IAAnB,CAAwB,GAAxB,CADvB,CACqDC,KAAK,CAAEkJ,kBAAkB,CAACnJ,IAAnB,CAAwB,OAAxB,CAD5D,CAC8FmE,MAAM,CAAEgF,kBAAkB,CAACnJ,IAAnB,CAAwB,QAAxB,CADtG,CAAf,CAIA,GAAMqJ,aAAY,CAAGhR,GAAG,CAAC0H,MAAJ,CAAW,KAAX,EAAkBC,IAAlB,CAAuB,IAAvB,CAA6B,eAA7B,EAA8CA,IAA9C,CAAmD,SAAnD,CAA8D,OAAO,IAAP,CAAa,GAAb,CAAkBoJ,MAAM,CAACjF,MAAvF,EACpBnE,IADoB,CACf,qBADe,CACQ,MADR,EAEpBA,IAFoB,CAEf,GAFe,CAEVoJ,MAAM,CAACvP,CAFG,EAGpBmG,IAHoB,CAGf,GAHe,CAGVoJ,MAAM,CAAC1H,CAHG,EAIpB1B,IAJoB,CAIf,OAJe,CAINoJ,MAAM,CAACnJ,KAJD,EAKpBD,IALoB,CAKf,QALe,CAKLoJ,MAAM,CAACjF,MALF,CAArB,CAOA,GAAMmF,OAAM,CAAGD,YAAY,CAC1BtJ,MADc,CACP,GADO,EAEdC,IAFc,CAET,IAFS,CAEH,QAFG,CAAf,CAIA,GAAMuJ,YAAW,CAAGF,YAAY,CAACtJ,MAAb,CAAoB,GAApB,EAAyBC,IAAzB,CAA8B,IAA9B,CAAoC,QAApC,CAApB,CAEAsJ,MAAM,CAACvJ,MAAP,CAAc,MAAd,EACCC,IADD,CACM,GADN,CACW,CADX,EAECA,IAFD,CAEM,GAFN,CAEW,CAFX,EAGCA,IAHD,CAGM,OAHN,CAGe,MAHf,EAICA,IAJD,CAIM,QAJN,CAIgB,MAJhB,EAKCA,IALD,CAKM,SALN,CAKiB,CALjB,EAMC+C,KAND,CAMO,MANP,CAMe,aANf,EAQA;AAxakE,yBA0a1DzG,CA1a0D,EA4ahE;AACAgD,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,cADd,EAECA,IAFD,CAEM,IAFN,CAEW,SAAS1D,CAFpB,EAGC0D,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,GAJN,CAIW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAND,EAOC0D,IAPD,CAOM,QAPN,CAOgB,EAPhB,EAQCA,IARD,CAQM,OARN,CAQe,EARf,EASCA,IATD,CASM,MATN,CAScxH,UAAM,CAACU,SATrB,EAWA;AACAoG,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,SADd,EAECA,IAFD,CAEM,IAFN,CAEW,UAAU1D,CAFrB,EAGC0D,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,GAJN,CAIW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAND,EAOC0D,IAPD,CAOM,QAPN,CAOgB,EAPhB,EAQCA,IARD,CAQM,OARN,CAQe,CARf,EASCA,IATD,CASM,MATN,CAScxH,UAAM,CAACG,IATrB,EAWA;AACA2G,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,cADd,EAECA,IAFD,CAEM,IAFN,CAEW,SAAS1D,CAFpB,EAGC0D,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,GAJN,CAIW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAND,EAOC0D,IAPD,CAOM,QAPN,CAOgB,EAPhB,EAQCA,IARD,CAQM,OARN,CAQe,EARf,EASCA,IATD,CASM,MATN,CAScxH,UAAM,CAACU,SATrB,EAWA;AACAoG,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,SADd,EAECA,IAFD,CAEM,IAFN,CAEW,UAAU1D,CAFrB,EAGC0D,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,GAJN,CAIW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAND,EAOC0D,IAPD,CAOM,QAPN,CAOgB,EAPhB,EAQCA,IARD,CAQM,OARN,CAQe,CARf,EASCA,IATD,CASM,MATN,CAScxH,UAAM,CAACG,IATrB,EAWA;AACA2G,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,cADd,EAECA,IAFD,CAEM,IAFN,CAEW,SAAS1D,CAFpB,EAGC0D,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,GAJN,CAIW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAND,EAOC0D,IAPD,CAOM,QAPN,CAOgB,EAPhB,EAQCA,IARD,CAQM,OARN,CAQe,EARf,EASCA,IATD,CASM,MATN,CAScxH,UAAM,CAACU,SATrB,EAWA;AACAoG,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,SADd,EAECA,IAFD,CAEM,IAFN,CAEW,UAAU1D,CAFrB,EAGC0D,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,GAJN,CAIW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAND,EAOC0D,IAPD,CAOM,QAPN,CAOgB,EAPhB,EAQCA,IARD,CAQM,OARN,CAQe,CARf,EASCA,IATD,CASM,MATN,CAScxH,UAAM,CAACG,IATrB,EAWA;AACA2G,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,cADd,EAECA,IAFD,CAEM,IAFN,CAEW,SAAS1D,CAFpB,EAGC0D,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,GAJN,CAIW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAND,EAOC0D,IAPD,CAOM,QAPN,CAOgB,EAPhB,EAQCA,IARD,CAQM,OARN,CAQe,EARf,EASCA,IATD,CASM,MATN,CAScxH,UAAM,CAACU,SATrB,EAWA;AACAoG,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,SADd,EAECA,IAFD,CAEM,IAFN,CAEW,UAAU1D,CAFrB,EAGC0D,IAHD,CAGM,GAHN,CAGW,GAHX,EAICA,IAJD,CAIM,GAJN,CAIW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAND,EAOC0D,IAPD,CAOM,QAPN,CAOgB,EAPhB,EAQCA,IARD,CAQM,OARN,CAQe,CARf,EASCA,IATD,CASM,MATN,CAScxH,UAAM,CAACG,IATrB,EAWA,IAAQkB,CAAC,CAAG,CAAZ,CAAeA,CAAC,CAAC,CAAjB,CAAoBA,CAAC,EAArB,CAAwB,CACtByF,wBAAA,CAAU,OAAOzF,CAAP,CAAS,YAAnB,EAAiCmG,IAAjC,CAAsC,SAAtC,CAAiD,CAAjD,EACAV,wBAAA,CAAU,OAAOzF,CAAP,CAAS,WAAnB,EAAgCmG,IAAhC,CAAqC,SAArC,CAAgD,CAAhD,EACAV,wBAAA,CAAU,OAAOzF,CAAP,CAAS,OAAnB,EAA4BkJ,KAA5B,CAAkC,QAAlC,CAA4C,SAA5C,EACCN,EADD,CACI,OADJ,CACa,UAAU,CACrB,GAAI+G,OAAM,CAAGlK,wBAAA,CAAU,IAAV,EAAgBU,IAAhB,CAAqB,IAArB,CAAb,CACA,GAAG1H,OAAO,CAACmR,UAAR,EAAoBD,MAAvB,CAA8B,CAC5B,GAAGlR,OAAO,CAACoR,oBAAR,EAA8B,MAAjC,CAAwC,CACtCpR,OAAO,CAACoR,oBAAR,CAA+B,KAA/B,CACD,CAFD,IAEO,CACLpR,OAAO,CAACoR,oBAAR,CAA+B,MAA/B,CACD,CACF,CAND,IAMO,CACLpR,OAAO,CAACmR,UAAR,CAAqBD,MAArB,CACAlR,OAAO,CAACoR,oBAAR,CAA+B,MAA/B,CACD,CACDpR,OAAO,CAACqR,IAAR,CAAe,CAAf,CACAvB,WAAW,CAAC7P,IAAD,CAAOD,OAAP,CAAX,CACH,CAfC,EAgBF;AACC,CAhiB+D,EA0alE,IAAI,GAAIgE,EAAC,CAAG,CAAZ,CAAeA,CAAC,CAAG,EAAnB,CAAuBA,CAAC,EAAxB,CAA2B,IAkGjBzC,EAlGiB,OAAnByC,CAAmB,EAuH1B,CAEDgD,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,SAAnC,CAA8C,MAA9C,EAID,CAEcmI,qDAAf,EAEA,QAASY,OAAT,CAAgBa,UAAhB,CAA4BhP,IAA5B,CAAkC,CAChC,GAAIiP,IAAG,CAAGD,UAAU,CAACE,OAAX,CAAmBlP,IAAnB,CAAV,CACA,GAAIiP,GAAG,GAAK,CAAC,CAAb,CAAgB,CACdD,UAAU,CAACG,MAAX,CAAkBF,GAAlB,CAAuB,CAAvB,EACD,CAFD,IAEO,CACLD,UAAU,CAAC9L,IAAX,CAAgBlD,IAAhB,EACD,CACF,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;AC5lBA,GAAIoP,KAAI,CAAE,IAAV,CACA,GAAIC,KAAI,CAAG,GAAX,CACA,GAAIC,KAAI,CAAG,OAAX,CACA,GAAIxO,mBAAJ,CACA,GAAIyO,OAAJ,CACA,GAAIC,OAAJ,CACA,GAAIlO,wBAAW,CAAG,EAAlB,CACA,GAAI+D,kBAAK,CAAG,GAAZ,CACA,GAAIkE,OAAM,CAAG,GAAb,CACA,GAAItK,cAAC,CAAG,EAAR,CACA,GAAI6H,cAAC,CAAG,EAAR,CACA,GAAI2I,QAAJ,CAEO,QAASC,gBAAT,CAAyB/R,IAAzB,CAA+BD,OAA/B,CAAwC6G,MAAxC,CAAgD,CAEnD6K,IAAI,CAAG1K,qBAAA,CAAO/G,IAAI,CAACgS,WAAZ,CAAyB,SAASlO,CAAT,CAAWC,CAAX,CAAa,CACzC,MAAO4I,WAAU,CAAC7I,CAAC,CAACmO,QAAH,CAAjB,CACH,CAFM,CAAP,CAIAP,IAAI,CAAG3K,qBAAA,CAAO/G,IAAI,CAACgS,WAAZ,CAAyB,SAASlO,CAAT,CAAWC,CAAX,CAAa,CACzC;AACA,GAAGhE,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwE,MAAO,IAAP,CACxE;AACA,GAAGnS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8D,MAAO,IAAP,CAC9D,GAAGnS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgE,MAAO,IAAP,CACnE,CANM,CAAP,CAQAP,IAAI,CAAG5K,qBAAA,CAAO/G,IAAI,CAACgS,WAAZ,CAAyB,SAASlO,CAAT,CAAWC,CAAX,CAAa,CACzC,MAAO4I,WAAU,CAAC7I,CAAC,CAACqO,UAAH,CAAjB,CACH,CAFM,CAAP,CAIAhP,kBAAM,CAAG4D,6BAAA,GACXc,KADW,CACL,CAAC,CAAD,CAAIH,iBAAJ,CADK,EAEXI,MAFW,CAEJ,CAAC,CAAD,CAAI2J,IAAJ,CAFI,EAEOW,IAFP,EAAT,CAIAR,MAAM,CAAG7K,6BAAA,GACXc,KADW,CACL,CAAC+D,MAAD,CAAS,CAAT,CADK,EAEX9D,MAFW,CAEJ,CAAC,CAAD,CAAI4J,IAAJ,CAFI,CAAT,CAIAG,MAAM,CAAG9K,2BAAA,GACRe,MADQ,CACD,CAAC,CAAD,CAAI6J,IAAJ,CADC,EAER9J,KAFQ,CAEF,CAAC,CAAD,CAAI,EAAJ,CAFE,CAAT,CAIA,GAAM/H,IAAG,CAAGiH,wBAAA,CAAU,kBAAV,EAA8BS,MAA9B,CAAqC,GAArC,EAA0CC,IAA1C,CAA+C,WAA/C,CAA4D,aAAanG,aAAb,CAAe,IAAf,CAAoB6H,aAApB,CAAsB,GAAlF,EACX1B,IADW,CACN,IADM,CACA,aADA,CAAZ,CAGA;AACA3H,GAAG,CAAC0H,MAAJ,CAAW,GAAX,EACCC,IADD,CACM,IADN,CACY,SADZ,EAECa,IAFD,CAEMvB,0BAAA,CAAY6K,MAAZ,EAAoB1J,KAApB,CAA0B,CAA1B,EAA6BF,QAA7B,CAAsC,CAAtC,CAFN,EAIA;AACAlI,GAAG,CAAC0H,MAAJ,CAAW,GAAX,EACCC,IADD,CACM,IADN,CACY,SADZ,EAECA,IAFD,CAEM,OAFN,CAEe,OAFf,EAGCA,IAHD,CAGM,WAHN,CAGmB,eAAiBmE,MAAjB,CAA0B,GAH7C,EAICtD,IAJD,CAIMvB,4BAAA,CAAc5D,kBAAd,EAAsB+E,KAAtB,CAA4B,CAA5B,EAA+BF,QAA/B,CAAwC,CAAxC,CAJN,EAMA;AACA8J,OAAO,CAAG/K,wBAAA,CAAU,cAAV,EAA0BO,SAA1B,CAAoC,SAApC,EACTtH,IADS,CACJA,IAAI,CAACgS,WADD,EAETK,IAFS,CAEJ,SAASvJ,KAAT,CAAe,CACjBA,KAAK,CAACtB,MAAN,CAAa,QAAb,EACCC,IADD,CACM,OADN,CACe,SAAS3D,CAAT,CAAY,CAAE,MAAO,QAAP,CAAiB,CAD9C,EAEC2D,IAFD,CAEM,IAFN,CAEY,SAAU3D,CAAV,CAAa,CAAE,MAAOX,mBAAM,CAACwJ,UAAU,CAAC7I,CAAC,CAACmO,QAAH,CAAX,CAAb,CAAwC,CAFnE,EAGCxK,IAHD,CAGM,IAHN,CAGY,SAAU3D,CAAV,CAAa,CACrB,GAAG/D,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwE,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAb,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8D,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAb,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgE,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAb,CACnE,CAPD,EAQC/K,IARD,CAQM,GARN,CAQW,SAAU3D,CAAV,CAAa,CAAE,MAAO+N,OAAM,CAAClF,UAAU,CAAC7I,CAAC,CAACqO,UAAH,CAAX,CAAb,CAA0C,CARpE,EASC3H,KATD,CASO,MATP,CASe,SAAU1G,CAAV,CAAa,CACxB,GAAG/D,OAAO,CAAC0S,qBAAR,EAAiC,QAApC,CAA8C,CAC3C,GAAGxS,UAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACM,WAAjB,CAAH,CAAkC,MAAOnE,WAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACM,WAAjB,CAAP,CACpC,CACD,GAAGrE,OAAO,CAAC0S,qBAAR,EAAiC,KAApC,CAA2C,CACvC,GAAGxS,UAAM,CAACC,YAAP,CAAoB4D,CAAC,CAAC5D,YAAtB,CAAH,CAAwC,MAAOD,WAAM,CAACC,YAAP,CAAoB4D,CAAC,CAAC5D,YAAtB,CAAP,CAC1C,CACD,GAAGH,OAAO,CAAC0S,qBAAR,EAAiC,iBAApC,CAAuD,CACpD,GAAGxS,UAAM,CAACE,eAAP,CAAuB2D,CAAC,CAAC3D,eAAzB,CAAH,CAA8C,MAAOF,WAAM,CAACE,eAAP,CAAuB2D,CAAC,CAAC3D,eAAzB,CAAP,CAChD,CACF,MAAQ,aAAR,CACH,CApBD,EAqBCqK,KArBD,CAqBO,QArBP,CAqBiB,SAAU1G,CAAV,CAAa,CAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAO,MAAP,CACH,CAjCD,EAkCC0G,KAlCD,CAkCO,cAlCP,CAkCuB,CAlCvB,CAmCA;AAnCA,CAoCC/C,IApCD,CAoCM,SApCN,CAoCiB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC1B,GAAIiL,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAZ,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8DlD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAZ,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAZ,CAChE,GAAGrD,KAAK,CAACH,GAAD,CAAR,CAAc,MAAO,MAAP,CACd,MAAO,QAAP,CACH,CA3CD,EA4CCvH,IA5CD,CA4CM,SA5CN,CA4CiB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC1B,GAAIiL,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAZ,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8DlD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAZ,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAZ,CAChE,GAAGrD,KAAK,CAACH,GAAD,CAAR,CAAc,MAAO,EAAP,CACd,MAAO,EAAP,CACH,CAnDD,EAoDH,CAvDS,CAuDP,SAAS0D,MAAT,CAAgB,CACfA,MAAM,CAACxF,UAAP,GAAoBC,QAApB,CAA6B,GAA7B,EAAkC1F,IAAlC,CAAuC,IAAvC,CAA6C,SAAU3D,CAAV,CAAa,CAAE,MAAOX,mBAAM,CAACwJ,UAAU,CAAC7I,CAAC,CAACmO,QAAH,CAAX,CAAb,CAAwC,CAApG,EACCxK,IADD,CACM,IADN,CACY,SAAU3D,CAAV,CAAa,CACrB,GAAG/D,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwE,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAb,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8D,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAb,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgE,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAb,CACnE,CALD,EAMC/K,IAND,CAMM,GANN,CAMW,SAAU3D,CAAV,CAAa,CAAE,MAAO+N,OAAM,CAAClF,UAAU,CAAC7I,CAAC,CAACqO,UAAH,CAAX,CAAb,CAA0C,CANpE,EAOC3H,KAPD,CAOO,MAPP,CAOe,SAAU1G,CAAV,CAAa,CACxB,GAAG/D,OAAO,CAAC0S,qBAAR,EAAiC,QAApC,CAA8C,CAC3C,GAAGxS,UAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACM,WAAjB,CAAH,CAAkC,MAAOnE,WAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACM,WAAjB,CAAP,CACpC,CACD,GAAGrE,OAAO,CAAC0S,qBAAR,EAAiC,KAApC,CAA2C,CACvC,GAAGxS,UAAM,CAACC,YAAP,CAAoB4D,CAAC,CAAC5D,YAAtB,CAAH,CAAwC,MAAOD,WAAM,CAACC,YAAP,CAAoB4D,CAAC,CAAC5D,YAAtB,CAAP,CAC1C,CACD,GAAGH,OAAO,CAAC0S,qBAAR,EAAiC,iBAApC,CAAuD,CACpD,GAAGxS,UAAM,CAACE,eAAP,CAAuB2D,CAAC,CAAC3D,eAAzB,CAAH,CAA8C,MAAOF,WAAM,CAACE,eAAP,CAAuB2D,CAAC,CAAC3D,eAAzB,CAAP,CAChD,CACF,MAAQ,aAAR,CACH,CAlBD,EAmBCqK,KAnBD,CAmBO,QAnBP,CAmBiB,SAAU1G,CAAV,CAAa,CAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAO,MAAP,CACH,CA/BD,EA+BG2D,IA/BH,CA+BQ,SA/BR,CA+BmB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC5B,GAAIiL,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAZ,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8DlD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAZ,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAZ,CAChE,GAAGrD,KAAK,CAACH,GAAD,CAAR,CAAc,MAAO,MAAP,CACd,MAAO,QAAP,CACH,CAtCD,EAuCCvH,IAvCD,CAuCM,SAvCN,CAuCiB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC1B,GAAIiL,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAZ,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8DlD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAZ,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAZ,CAChE,GAAGrD,KAAK,CAACH,GAAD,CAAR,CAAc,MAAO,EAAP,CACd,MAAO,EAAP,CACH,CA9CD,EA+CH,CAvGS,CAuGR,SAAS2D,IAAT,CAAc,CACZA,IAAI,CAACpL,MAAL,GACH,CAzGS,CAAV,CA2GAR,wBAAA,CAAU,cAAV,EAA0BO,SAA1B,CAAoC,SAApC,EAA+C4C,EAA/C,CAAkD,WAAlD,CAA+D,SAASC,KAAT,CAAgBrG,CAAhB,CAAkB,CAC7EiD,wBAAA,CAAU,wBAAV,EAAoCyD,KAApC,CAA0C,SAA1C,CAAqD,CAArD,EACAzD,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmD7G,CAAC,CAAC8O,YAArD,EACA,GAAG7S,OAAO,CAACmS,mBAAR,EAA6B,oCAAhC,CAAqE,CACjEnL,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmD,8BAAnD,EACA5D,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmDgC,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAV,CAA4C,GAA/F,EACC7K,IADD,CACM,aADN,CACqB,KADrB,EAC4BA,IAD5B,CACiC,IADjC,CACuC,EADvC,EAEH,CACD,GAAG1H,OAAO,CAACmS,mBAAR,EAA6B,0BAAhC,CAA2D,CACvDnL,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmD,oBAAnD,EACA5D,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmDgC,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAV,CAAkD,GAArG,EACC9K,IADD,CACM,aADN,CACqB,KADrB,EAC4BA,IAD5B,CACiC,IADjC,CACuC,EADvC,EAEH,CACD,GAAG1H,OAAO,CAACmS,mBAAR,EAA6B,4BAAhC,CAA6D,CACzDnL,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmD,sBAAnD,EACA5D,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmDgC,UAAU,CAAE7I,CAAC,CAAC0O,0BAAJ,CAAV,CAA2C/P,OAA3C,CAAmD,CAAnD,EAAsD,GAAzG,EACCgF,IADD,CACM,aADN,CACqB,KADrB,EAC4BA,IAD5B,CACiC,IADjC,CACuC,EADvC,EAEH,CACDV,wBAAA,CAAU,gCAAV,EAA4C4D,IAA5C,CAAiD,IAAIvJ,SAAS,CAAC0L,IAAI,CAACC,KAAL,CAAWJ,UAAU,CAAC7I,CAAC,CAACmO,QAAH,CAArB,CAAD,CAA9D,EAAoGxK,IAApG,CAAyG,aAAzG,CAAwH,KAAxH,EAA+HA,IAA/H,CAAoI,IAApI,CAA0I,EAA1I,EACAV,wBAAA,CAAU,uCAAV,EAAmD4D,IAAnD,CAAwD7I,UAAU,CAACgL,IAAI,CAACC,KAAL,CAAWZ,QAAQ,CAACrI,CAAC,CAACqO,UAAH,CAAnB,CAAD,CAAlE,EAAwG1K,IAAxG,CAA6G,aAA7G,CAA4H,KAA5H,EAAmIA,IAAnI,CAAwI,IAAxI,CAA8I,EAA9I,EAEA,GAAI2C,OAAM,CAAGrD,yBAAA,CAAYoD,KAAZ,CAAoBpD,wBAAA,CAAU,MAAV,EAAkB+C,IAAlB,EAApB,CAAb,CACA,GAAGM,MAAM,CAAC,CAAD,CAAN,CAAU,IAAb,CAAkB,CACdrD,wBAAA,CAAU,sBAAV,EAAkCU,IAAlC,CAAuC,WAAvC,CAAoD,cAAc2C,MAAM,CAAC,CAAD,CAAN,CAAU,EAAxB,EAA4B,GAA5B,EAAiCA,MAAM,CAAC,CAAD,CAAN,CAAUjB,aAAV,CAAY,EAA7C,EAAiD,GAArG,EAA0G1B,IAA1G,CAA+G,SAA/G,CAA0H,QAA1H,EACAV,wBAAA,CAAU,iCAAV,EAA6CU,IAA7C,CAAkD,SAAlD,CAA6D,QAA7D,EACAV,wBAAA,CAAU,kCAAV,EAA8CU,IAA9C,CAAmD,SAAnD,CAA8D,MAA9D,EACH,CAJD,IAIO,CACHV,wBAAA,CAAU,sBAAV,EAAkCU,IAAlC,CAAuC,WAAvC,CAAoD,cAAc2C,MAAM,CAAC,CAAD,CAAN,CAAU,GAAxB,EAA6B,GAA7B,EAAkCA,MAAM,CAAC,CAAD,CAAN,CAAUjB,aAAV,CAAY,EAA9C,EAAkD,GAAtG,EAA2G1B,IAA3G,CAAgH,SAAhH,CAA2H,QAA3H,EACAV,wBAAA,CAAU,iCAAV,EAA6CU,IAA7C,CAAkD,SAAlD,CAA6D,MAA7D,EACAV,wBAAA,CAAU,kCAAV,EAA8CU,IAA9C,CAAmD,SAAnD,CAA8D,QAA9D,EACH,CACDV,2BAAA,CAAa,SAAb,EAAwBU,IAAxB,CAA6B,SAA7B,CAAwC,GAAxC,EACAV,wBAAA,CAAU,IAAV,EAAgBU,IAAhB,CAAqB,SAArB,CAAgC,CAAhC,EAAmC+C,KAAnC,CAAyC,cAAzC,CAAyD,CAAzD,EACH,CAjCD,EAiCGN,EAjCH,CAiCM,UAjCN,CAiCkB,SAASC,KAAT,CAAe,CAC7B,GAAGA,KAAK,CAAC0I,SAAN,EAAiB,OAApB,CAA6B,MAAO,MAAP,CAC7B9L,wBAAA,CAAU,wBAAV,EAAoCyD,KAApC,CAA0C,SAA1C,CAAqD,CAArD,EAEA;AACAzD,wBAAA,CAAU,sBAAV,EAAkCU,IAAlC,CAAuC,SAAvC,CAAkD,MAAlD,EACAV,2BAAA,CAAa,SAAb,EAAwBU,IAAxB,CAA6B,SAA7B,CAAwC,CAAxC,EAA2C+C,KAA3C,CAAiD,cAAjD,CAAiE,CAAjE,EACH,CAxCD,EA0CAzD,wBAAA,CAAU,sBAAV,EAAkCU,IAAlC,CAAuC,SAAvC,CAAkD,MAAlD,EAEAV,wBAAA,CAAU,sBAAV,EAAkCU,IAAlC,CAAuC,aAAvC,CAAsD,QAAtD,EAAgE+D,MAAhE,CAAuE,OAAvE,EAAgF/D,IAAhF,CAAqF,IAArF,CAA2F,EAA3F,EACA,GAAG1H,OAAO,CAACmS,mBAAR,EAA6B,oCAAhC,CAAqE,CACjEnL,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6C,8BAA7C,EACH,CACD,GAAG5K,OAAO,CAACmS,mBAAR,EAA6B,0BAAhC,CAA2D,CACvDnL,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6C,oBAA7C,EACH,CACD,GAAG5K,OAAO,CAACmS,mBAAR,EAA6B,4BAAhC,CAA6D,CACzDnL,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6C,sBAA7C,EACH,CAGJ,CAEM,QAASmI,kBAAT,CAA2B9S,IAA3B,CAAgCD,OAAhC,CAAwC6G,MAAxC,CAAgD,CAEnD5G,IAAI,CAAC+N,MAAL,CAAYlK,OAAZ,CAAoB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC7B/D,IAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CACpC,GAAGZ,CAAC,CAAC,CAAD,CAAD,EAAQW,EAAE,CAACsO,YAAd,CAA2B,CACvBtO,EAAE,CAAC8N,mCAAH,CAAyC5F,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQyO,mCAAT,CAAnD,CACA9N,EAAE,CAAC6N,6BAAH,CAAmC3F,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQwO,6BAAT,CAA7C,CACA7N,EAAE,CAACiC,kBAAH,CAAwBiG,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ4C,kBAAT,CAAlC,CACAjC,EAAE,CAACuO,8BAAH,CAAoCrG,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQkP,8BAAT,CAA9C,CAEH,CACJ,CARD,EASH,CAVD,EAYAvB,IAAI,CAAG1K,qBAAA,CAAO/G,IAAI,CAACgS,WAAZ,CAAyB,SAASlO,CAAT,CAAWC,CAAX,CAAa,CACzC,MAAO4I,WAAU,CAAC7I,CAAC,CAACmO,QAAH,CAAjB,CACH,CAFM,CAAP,CAIAP,IAAI,CAAG3K,qBAAA,CAAO/G,IAAI,CAACgS,WAAZ,CAAyB,SAASlO,CAAT,CAAWC,CAAX,CAAa,CACzC,GAAGhE,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwE,MAAOvF,WAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAjB,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8D,MAAOvF,WAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAjB,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgE,MAAOvF,WAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAjB,CACnE,CAJM,CAAP,CAMAb,IAAI,CAAG5K,qBAAA,CAAO/G,IAAI,CAACgS,WAAZ,CAAyB,SAASlO,CAAT,CAAWC,CAAX,CAAa,CACzC,MAAO4I,WAAU,CAAC7I,CAAC,CAACqO,UAAH,CAAjB,CACH,CAFM,CAAP,CAIAhP,kBAAM,CAAG4D,6BAAA,GACXc,KADW,CACL,CAAC,CAAD,CAAIH,iBAAJ,CADK,EAEXI,MAFW,CAEJ,CAAC,CAAD,CAAI2J,IAAJ,CAFI,CAAT,CAIAG,MAAM,CAAG7K,6BAAA,GACXc,KADW,CACL,CAAC+D,MAAD,CAAS,CAAT,CADK,EAEX9D,MAFW,CAEJ,CAAC,CAAD,CAAI4J,IAAJ,CAFI,CAAT,CAIAG,MAAM,CAAG9K,2BAAA,GACRe,MADQ,CACD,CAAC,CAAD,CAAI6J,IAAJ,CADC,EAER9J,KAFQ,CAEF,CAAC,CAAD,CAAI,EAAJ,CAFE,CAAT,CAIA,GAAM/H,IAAG,CAAGiH,wBAAA,CAAU,cAAV,CAAZ,CAEA;AACAjH,GAAG,CAAC0L,MAAJ,CAAW,UAAX,EACC0B,UADD,GACcC,QADd,CACuB,GADvB,EAEC7E,IAFD,CAEMvB,0BAAA,CAAY6K,MAAZ,EAAoB1J,KAApB,CAA0B,CAA1B,CAFN,EAIA;AACApI,GAAG,CAAC0L,MAAJ,CAAW,UAAX,EACC0B,UADD,GACcC,QADd,CACuB,GADvB,EAEC7E,IAFD,CAEMvB,4BAAA,CAAc5D,kBAAd,EAAsB+E,KAAtB,CAA4B,CAA5B,CAFN,EAIA4J,OAAO,CAAG/K,wBAAA,CAAU,cAAV,EAA0BO,SAA1B,CAAoC,SAApC,EACTtH,IADS,CACJA,IAAI,CAACgS,WADD,EAETK,IAFS,CAEJ,SAASvJ,KAAT,CAAe,CACjBA,KAAK,CAACtB,MAAN,CAAa,QAAb,EACCC,IADD,CACM,IADN,CACY,SAAU3D,CAAV,CAAa,CAAE,MAAOX,mBAAM,CAACsO,IAAD,CAAb,CAAoB,CAD/C,EAEChK,IAFD,CAEM,IAFN,CAEY,SAAU3D,CAAV,CAAa,CAAE,MAAO8N,OAAM,CAACF,IAAD,CAAb,CAAoB,CAF/C,EAGCjK,IAHD,CAGM,OAHN,CAGe,SAAS3D,CAAT,CAAY,CAAE,MAAO,QAAP,CAAiB,CAH9C,EAICoJ,UAJD,GAIcC,QAJd,CAIuB,GAJvB,EAKC1F,IALD,CAKM,IALN,CAKY,SAAU3D,CAAV,CAAa,CAAE,MAAOX,mBAAM,CAACwJ,UAAU,CAAC7I,CAAC,CAACmO,QAAH,CAAX,CAAb,CAAwC,CALnE,EAMCxK,IAND,CAMM,IANN,CAMY,SAAU3D,CAAV,CAAa,CACrB,GAAG/D,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwE,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAb,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8D,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAb,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgE,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAb,CACnE,CAVD,EAWC/K,IAXD,CAWM,GAXN,CAWW,SAAU3D,CAAV,CAAa,CAAE,MAAO+N,OAAM,CAAClF,UAAU,CAAC7I,CAAC,CAACqO,UAAH,CAAX,CAAb,CAA0C,CAXpE,EAYC3H,KAZD,CAYO,MAZP,CAYe,SAAU1G,CAAV,CAAa,CACxB,GAAG/D,OAAO,CAAC0S,qBAAR,EAAiC,QAApC,CAA8C,CAC3C,GAAGxS,UAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACM,WAAjB,CAAH,CAAkC,MAAOnE,WAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACM,WAAjB,CAAP,CACpC,CACD,GAAGrE,OAAO,CAAC0S,qBAAR,EAAiC,KAApC,CAA2C,CACvC,GAAGxS,UAAM,CAACC,YAAP,CAAoB4D,CAAC,CAAC5D,YAAtB,CAAH,CAAwC,MAAOD,WAAM,CAACC,YAAP,CAAoB4D,CAAC,CAAC5D,YAAtB,CAAP,CAC1C,CACD,GAAGH,OAAO,CAAC0S,qBAAR,EAAiC,iBAApC,CAAuD,CACpD,GAAGxS,UAAM,CAACE,eAAP,CAAuB2D,CAAC,CAAC3D,eAAzB,CAAH,CAA8C,MAAOF,WAAM,CAACE,eAAP,CAAuB2D,CAAC,CAAC3D,eAAzB,CAAP,CAChD,CACF,MAAQ,aAAR,CACH,CAvBD,EAwBCqK,KAxBD,CAwBO,QAxBP,CAwBiB,SAAU1G,CAAV,CAAa,CAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAO,MAAP,CACH,CApCD,EAqCC0G,KArCD,CAqCO,cArCP,CAqCuB,CArCvB,CAsCA;AAtCA,CAuCC/C,IAvCD,CAuCM,SAvCN,CAuCiB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC1B,GAAIiL,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAZ,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8DlD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAZ,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAZ,CAChE,GAAGrD,KAAK,CAACH,GAAD,CAAR,CAAc,MAAO,MAAP,CACd,MAAO,QAAP,CACH,CA9CD,EA+CCvH,IA/CD,CA+CM,SA/CN,CA+CiB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC1B,GAAIiL,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAZ,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8DlD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAZ,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAZ,CAChE,GAAGrD,KAAK,CAACH,GAAD,CAAR,CAAc,MAAO,EAAP,CACd,MAAO,EAAP,CACH,CAtDD,EAuDH,CA1DS,CA0DP,SAAS0D,MAAT,CAAgB,CACfA,MAAM,CAACxF,UAAP,GAAoBC,QAApB,CAA6B,GAA7B,EAAkC1F,IAAlC,CAAuC,IAAvC,CAA6C,SAAU3D,CAAV,CAAa,CAAE,MAAOX,mBAAM,CAACwJ,UAAU,CAAC7I,CAAC,CAACmO,QAAH,CAAX,CAAb,CAAwC,CAApG,EACCxK,IADD,CACM,IADN,CACY,SAAU3D,CAAV,CAAa,CACrB,GAAG/D,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwE,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAb,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8D,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAb,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgE,MAAON,OAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAb,CACnE,CALD,EAMC/K,IAND,CAMM,GANN,CAMW,SAAU3D,CAAV,CAAa,CAAE,MAAO+N,OAAM,CAAClF,UAAU,CAAC7I,CAAC,CAACqO,UAAH,CAAX,CAAb,CAA0C,CANpE,EAOC3H,KAPD,CAOO,MAPP,CAOe,SAAU1G,CAAV,CAAa,CACxB,GAAG/D,OAAO,CAAC0S,qBAAR,EAAiC,QAApC,CAA8C,CAC3C,GAAGxS,UAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACM,WAAjB,CAAH,CAAkC,MAAOnE,WAAM,CAACkB,OAAP,CAAe2C,CAAC,CAACM,WAAjB,CAAP,CACpC,CACD,GAAGrE,OAAO,CAAC0S,qBAAR,EAAiC,KAApC,CAA2C,CACvC,GAAGxS,UAAM,CAACC,YAAP,CAAoB4D,CAAC,CAAC5D,YAAtB,CAAH,CAAwC,MAAOD,WAAM,CAACC,YAAP,CAAoB4D,CAAC,CAAC5D,YAAtB,CAAP,CAC1C,CACD,GAAGH,OAAO,CAAC0S,qBAAR,EAAiC,iBAApC,CAAuD,CACpD,GAAGxS,UAAM,CAACE,eAAP,CAAuB2D,CAAC,CAAC3D,eAAzB,CAAH,CAA8C,MAAOF,WAAM,CAACE,eAAP,CAAuB2D,CAAC,CAAC3D,eAAzB,CAAP,CAChD,CACF,MAAQ,aAAR,CACH,CAlBD,EAmBCqK,KAnBD,CAmBO,QAnBP,CAmBiB,SAAU1G,CAAV,CAAa,CAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAO,MAAP,CACH,CA/BD,EAgCC2D,IAhCD,CAgCM,SAhCN,CAgCiB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC1B,GAAIiL,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAZ,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8DlD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAZ,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAZ,CAChE,GAAGrD,KAAK,CAACH,GAAD,CAAR,CAAc,MAAO,MAAP,CACd,MAAO,QAAP,CACH,CAvCD,EAuCGvH,IAvCH,CAuCQ,SAvCR,CAuCmB,SAAS3D,CAAT,CAAWC,CAAX,CAAa,CAC5B,GAAIiL,IAAG,CAAG,CAAV,CACA,GAAGjP,OAAO,CAACmS,mBAAR,EAA+B,oCAAlC,CAAwElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAX,CAAZ,CACxE,GAAGvS,OAAO,CAACmS,mBAAR,EAA+B,0BAAlC,CAA8DlD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAX,CAAZ,CAC9D,GAAGxS,OAAO,CAACmS,mBAAR,EAA+B,4BAAlC,CAAgElD,GAAG,CAAG4C,MAAM,CAACjF,UAAU,CAAC7I,CAAC,CAAC0O,0BAAH,CAAX,CAAZ,CAChE,GAAGrD,KAAK,CAACH,GAAD,CAAR,CAAc,MAAO,EAAP,CACd,MAAO,EAAP,CACH,CA9CD,EA+CH,CA1GS,CA0GR,SAAS2D,IAAT,CAAc,CACZA,IAAI,CAACpL,MAAL,GACH,CA5GS,CAAV,CA8GAR,wBAAA,CAAU,cAAV,EAA0BO,SAA1B,CAAoC,SAApC,EAA+C4C,EAA/C,CAAkD,WAAlD,CAA+D,SAASC,KAAT,CAAgBrG,CAAhB,CAAkB,CAC7EiD,wBAAA,CAAU,wBAAV,EAAoCyD,KAApC,CAA0C,SAA1C,CAAqD,CAArD,EACAzD,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmD7G,CAAC,CAAC8O,YAArD,EACA,GAAG7S,OAAO,CAACmS,mBAAR,EAA6B,oCAAhC,CAAqE,CACjEnL,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmD,8BAAnD,EACA5D,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmDgC,UAAU,CAAC7I,CAAC,CAACwO,6BAAH,CAAV,CAA4C,GAA/F,EACC7K,IADD,CACM,aADN,CACqB,KADrB,EAC4BA,IAD5B,CACiC,IADjC,CACuC,EADvC,EAEH,CACD,GAAG1H,OAAO,CAACmS,mBAAR,EAA6B,0BAAhC,CAA2D,CACvDnL,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmD,oBAAnD,EACA5D,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmDgC,UAAU,CAAC7I,CAAC,CAACyO,mCAAH,CAAV,CAAkD,GAArG,EACC9K,IADD,CACM,aADN,CACqB,KADrB,EAC4BA,IAD5B,CACiC,IADjC,CACuC,EADvC,EAEH,CACD,GAAG1H,OAAO,CAACmS,mBAAR,EAA6B,4BAAhC,CAA6D,CACzDnL,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmD,sBAAnD,EACA5D,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmDgC,UAAU,CAAE7I,CAAC,CAAC0O,0BAAJ,CAAV,CAA2C/P,OAA3C,CAAmD,CAAnD,EAAsD,GAAzG,EACCgF,IADD,CACM,aADN,CACqB,KADrB,EAC4BA,IAD5B,CACiC,IADjC,CACuC,EADvC,EAEH,CACDV,wBAAA,CAAU,gCAAV,EAA4C4D,IAA5C,CAAiD,IAAIvJ,SAAS,CAAC0L,IAAI,CAACC,KAAL,CAAWJ,UAAU,CAAC7I,CAAC,CAACmO,QAAH,CAArB,CAAD,CAA9D,EAAoGxK,IAApG,CAAyG,aAAzG,CAAwH,KAAxH,EAA+HA,IAA/H,CAAoI,IAApI,CAA0I,EAA1I,EACAV,wBAAA,CAAU,uCAAV,EAAmD4D,IAAnD,CAAwD7I,UAAU,CAACgL,IAAI,CAACC,KAAL,CAAWZ,QAAQ,CAACrI,CAAC,CAACqO,UAAH,CAAnB,CAAD,CAAlE,EAAwG1K,IAAxG,CAA6G,aAA7G,CAA4H,KAA5H,EAAmIA,IAAnI,CAAwI,IAAxI,CAA8I,EAA9I,EACA,GAAI2C,OAAM,CAAGrD,yBAAA,CAAYoD,KAAZ,CAAoBpD,wBAAA,CAAU,MAAV,EAAkB+C,IAAlB,EAApB,CAAb,CACA,GAAGM,MAAM,CAAC,CAAD,CAAN,CAAU,IAAb,CAAkB,CACdrD,wBAAA,CAAU,sBAAV,EAAkCU,IAAlC,CAAuC,WAAvC,CAAoD,cAAc2C,MAAM,CAAC,CAAD,CAAN,CAAU,EAAxB,EAA4B,GAA5B,EAAiCA,MAAM,CAAC,CAAD,CAAN,CAAUjB,aAAV,CAAY,EAA7C,EAAiD,GAArG,EAA0G1B,IAA1G,CAA+G,SAA/G,CAA0H,QAA1H,EACAV,wBAAA,CAAU,iCAAV,EAA6CU,IAA7C,CAAkD,SAAlD,CAA6D,QAA7D,EACAV,wBAAA,CAAU,kCAAV,EAA8CU,IAA9C,CAAmD,SAAnD,CAA8D,MAA9D,EACH,CAJD,IAIO,CACHV,wBAAA,CAAU,sBAAV,EAAkCU,IAAlC,CAAuC,WAAvC,CAAoD,cAAc2C,MAAM,CAAC,CAAD,CAAN,CAAU,GAAxB,EAA6B,GAA7B,EAAkCA,MAAM,CAAC,CAAD,CAAN,CAAUjB,aAAV,CAAY,EAA9C,EAAkD,GAAtG,EAA2G1B,IAA3G,CAAgH,SAAhH,CAA2H,QAA3H,EACAV,wBAAA,CAAU,iCAAV,EAA6CU,IAA7C,CAAkD,SAAlD,CAA6D,MAA7D,EACAV,wBAAA,CAAU,kCAAV,EAA8CU,IAA9C,CAAmD,SAAnD,CAA8D,QAA9D,EACH,CACDV,2BAAA,CAAa,SAAb,EAAwBU,IAAxB,CAA6B,SAA7B,CAAwC,GAAxC,EACAV,wBAAA,CAAU,IAAV,EAAgBU,IAAhB,CAAqB,SAArB,CAAgC,CAAhC,EAAmC+C,KAAnC,CAAyC,cAAzC,CAAyD,CAAzD,EACH,CAhCD,EAgCGN,EAhCH,CAgCM,UAhCN,CAgCkB,SAASC,KAAT,CAAe,CAC7B,GAAGA,KAAK,CAAC0I,SAAN,EAAiB,OAApB,CAA6B,MAAO,MAAP,CAC7B9L,wBAAA,CAAU,wBAAV,EAAoCyD,KAApC,CAA0C,SAA1C,CAAqD,CAArD,EAEA;AACAzD,wBAAA,CAAU,sBAAV,EAAkCU,IAAlC,CAAuC,SAAvC,CAAkD,MAAlD,EACAV,2BAAA,CAAa,SAAb,EAAwBU,IAAxB,CAA6B,SAA7B,CAAwC,CAAxC,EAA2C+C,KAA3C,CAAiD,cAAjD,CAAiE,CAAjE,EACH,CAvCD,EAyCA,GAAGzK,OAAO,CAACmS,mBAAR,EAA6B,oCAAhC,CAAqE,CACjEnL,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6C,8BAA7C,EACH,CACD,GAAG5K,OAAO,CAACmS,mBAAR,EAA6B,0BAAhC,CAA2D,CACvDnL,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6C,oBAA7C,EACH,CACD,GAAG5K,OAAO,CAACmS,mBAAR,EAA6B,4BAAhC,CAA6D,CACzDnL,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6C,sBAA7C,EACH,CAKJ,CAEcoH,+DAAf,E;;AChcA;AACA,GAAMhS,gBAAO,CAAG,CACZsO,mBAAmB,CAAE,OADT,CACkB;AAC9B2B,aAAa,CAAE,EAFH,CAGZiD,cAAc,CAAE,EAHJ,CAIZxC,UAAU,CAAE,EAJA,CAII;AAChBC,aAAa,CAAE,EALH,CAKO;AACnBjL,aAAa,CAAE,gBANH,CAMqB;AACjCzB,kBAAkB,CAAE,MAPR,CAOgB;AAC5BiM,UAAU,CAAE,OARA,CAQS;AACrBU,UAAU,CAAE,kBATA,CASoB;AAChCO,UAAU,CAAE,WAVA,CAWZC,oBAAoB,CAAE,MAXV,CAYZsB,qBAAqB,CAAE,KAZX,CAYkB;AAC9BP,mBAAmB,CAAE,oCAbT,CAa+C;AAC3D3O,OAAO,CAAE,IAdG,CAeZgD,QAAQ,CAAE,IAfE,CAgBZ6E,MAAM,CAAE,CAhBI,CAiBZD,MAAM,CAAE,GAjBI,CAkBZiG,IAAI,CAAE,CAlBM,CAmBZ8B,QAAQ,CAAE,CAnBE,CAAhB,CAsBenT,2DAAf,E;;;;;ACvBA;AAKO,QAASoT,UAAT,CAAmBnT,IAAnB,CAAyBD,OAAzB,CAAkC,CAErCC,IAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAClCD,CAAC,CAACsP,aAAF,CAAkB,EAAlB,CACAtP,CAAC,CAACuP,yBAAF,CAA8B,CAA9B,CACAvP,CAAC,CAACwP,gBAAF,CAAqB,CAArB,CACAtT,IAAI,CAACuT,iBAAL,CAAuB1P,OAAvB,CAA+B,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC1C,GAAGZ,CAAC,CAACiP,YAAF,EAAgBtO,EAAE,CAAC+O,IAAtB,CAA2B,CACvB1P,CAAC,CAAC2P,YAAF,CAAiBtN,gBAAM,CAAC1B,EAAE,CAACiP,YAAJ,CAAN,CAAwBrN,OAAxB,CAAgC,KAAhC,EAAuCc,MAAvC,EAAjB,CACArD,CAAC,CAACuP,yBAAF,CAA8B5O,EAAE,CAACkP,0BAAjC,CACA7P,CAAC,CAACwP,gBAAF,CAAqB3G,UAAU,CAAClI,EAAE,CAACmP,yBAAJ,CAA/B,CACA,GAAGzE,KAAK,CAACrL,CAAC,CAACwP,gBAAH,CAAR,CAA6BxP,CAAC,CAACwP,gBAAF,CAAqB,CAArB,CAC7BxP,CAAC,CAACsP,aAAF,CAAkB3O,EAAE,CAACoP,aAAH,CAAiBtS,KAAjB,CAAuB,GAAvB,EAA4BuS,GAA5B,CAAgC,SAASzR,IAAT,CAAe,CAC7D,MAAOA,KAAI,CAAC0R,IAAL,EAAP,CACD,CAFe,CAAlB,CAGH,CACJ,CAVD,EAWAjQ,CAAC,CAACkQ,cAAF,CAAmB,CAAnB,CACAhU,IAAI,CAACiU,eAAL,CAAqBpQ,OAArB,CAA6B,SAASY,EAAT,CAAYC,EAAZ,CAAe,CACxC,GAAGZ,CAAC,CAACiP,YAAF,EAAgBtO,EAAE,CAAC+O,IAAtB,CAA2B,CACvB,GAAG/O,EAAE,CAAC,mBAAD,CAAF,EAAyB,KAA5B,CAAmCX,CAAC,CAACkQ,cAAF,CAAmB,CAAnB,CACtC,CACJ,CAJD,EAMAhU,IAAI,CAACkU,kBAAL,CAAwBrQ,OAAxB,CAAgC,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC3C,GAAGZ,CAAC,CAACiP,YAAF,EAAgBtO,EAAE,CAAC0P,IAAtB,CAA2B,CACvB;AACArQ,CAAC,CAACsQ,YAAF,CAAiBtQ,CAAC,CAACuQ,YAAnB,CACAvQ,CAAC,CAAC0O,0BAAF,CAA+B7F,UAAU,CAAClI,EAAE,CAAC6P,eAAJ,CAAV,CAA+B,GAA9D,CACAxQ,CAAC,CAACyQ,6BAAF,CAAkCpI,QAAQ,CAAC1H,EAAE,CAAC+P,eAAJ,CAA1C,CACH,CACJ,CAPD,EASA,GAAI1Q,CAAC,CAAC2Q,gBAAF,CAAmBC,WAAnB,IAAkC,KAAnC,EAA4C5Q,CAAC,CAAC2Q,gBAAF,CAAmBC,WAAnB,IAAkC,MAAjF,CAAyF,CACrF5Q,CAAC,CAAC2Q,gBAAF,CAAqB,CAArB,CACH,CAFD,IAEO,CACH3Q,CAAC,CAAC2Q,gBAAF,CAAqB,CAArB,CACH,CAED3Q,CAAC,CAAC6Q,kBAAF,CAAuBhI,UAAU,CAAC7I,CAAC,CAAC6Q,kBAAH,CAAV,EAAkC,CAAzD,CAEH,CAvCD,EAwCA;AACA,GAAIpR,QAAO,CAAG4C,gBAAM,CAAC,GAAIiB,KAAJ,CAASwN,6BAAG,CAAC5U,IAAI,CAAC4D,QAAN,CAAgB,SAASE,CAAT,CAAW,CACxD,MAAOA,EAAC,CAAC+Q,aAAT,CACH,CAFgC,CAAZ,CAAD,CAApB,CAIA,GAAIrR,QAAO,CAAG2C,gBAAM,CAAC,GAAIiB,KAAJ,CAAS0N,6BAAG,CAAC9U,IAAI,CAAC4D,QAAN,CAAgB,SAASE,CAAT,CAAW,CACxD,MAAOA,EAAC,CAAC+Q,aAAT,CACH,CAFgC,CAAZ,CAAD,CAApB,CAIA;AACArR,OAAO,CAAG2C,gBAAM,CAAC,YAAD,CAAhB,CAEA,GAAI4O,gBAAe,CAAI,GAAI3N,KAAJ,CAAS0N,6BAAG,CAAC9U,IAAI,CAAC0F,aAAN,CAAqB,SAAS5B,CAAT,CAAW,CAC/D,MAAOA,EAAC,CAACG,IAAT,CACH,CAFkC,CAAZ,CAAvB,CAKA,GAAI+Q,gBAAe,CAAI,GAAI5N,KAAJ,CAASwN,6BAAG,CAAC5U,IAAI,CAAC0F,aAAN,CAAqB,SAAS5B,CAAT,CAAW,CAC/D,MAAOA,EAAC,CAACG,IAAT,CACH,CAFkC,CAAZ,CAAvB,CAIAlE,OAAO,CAACkV,WAAR,CAAuB1R,OAAD,CAAU4D,MAAV,EAAtB,CACApH,OAAO,CAACmV,YAAR,CAAuBF,eAAvB,CAEA,GAAGA,eAAe,CAACzR,OAAnB,CAA4B,CACxBA,OAAO,CAAGyR,eAAV,CACH,CAED;AACA;AACA;AACA;AACA;AACA;AAEAjV,OAAO,CAACwD,OAAR,CAAkB4C,gBAAM,CAAC5C,OAAD,CAAN,CAAgB4D,MAAhB,EAAlB,CACApH,OAAO,CAACwG,QAAR,CAAmBJ,gBAAM,CAAC6O,eAAD,CAAN,CAAwB7N,MAAxB,EAAnB,CACApH,OAAO,CAACyD,OAAR,CAAkB2C,gBAAM,CAAC3C,OAAD,CAAN,CAAgB2D,MAAhB,EAAlB,CAEA;AAEA,GAAIgO,SAAQ,CAAG,CAAC,CAAhB,CACA,GAAIC,SAAQ,CAAG,CAAf,CAEA,GAAIC,UAAS,CAAG,CAAC,CAAjB,CACA,GAAIC,UAAS,CAAG,CAAC,CAAjB,CAEA,GAAIC,WAAU,CAAG,CAAjB,CACA,GAAIC,WAAU,CAAG,CAAjB,CAEA;AACA;AACA;AAEAxV,IAAI,CAAC4D,QAAL,CAAcsK,IAAd,CAAmB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC5B,MAAO,IAAIhH,KAAJ,CAAS+G,CAAC,CAAC0G,aAAX,EAA4B,GAAIzN,KAAJ,CAASgH,CAAC,CAACyG,aAAX,CAAnC,CACH,CAFD,EAIA,GAAIY,aAAY,CAAG,EAAnB,CACA,GAAIC,QAAO,CAAG,EAAd,CAEA1V,IAAI,CAAC4D,QAAL,CAAcC,OAAd,CAAsB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/BD,CAAC,CAACG,IAAF,CAAS,GAAImD,KAAJ,CAAStD,CAAC,CAAC+Q,aAAX,CAAT,CACA/Q,CAAC,CAAC6R,SAAF,CAAexP,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAe0R,SAAf,EAAf,CACA,GAAG7R,CAAC,CAAC6R,SAAF,GAAcP,QAAjB,CAA2BD,QAAQ,GACnCrR,CAAC,CAACqR,QAAF,CAAaA,QAAb,CAEArR,CAAC,CAAC8R,IAAF,CAASzP,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAe4R,OAAf,EAAT,CACA,GAAG/R,CAAC,CAAC8R,IAAF,GAASN,SAAZ,CAAuBD,SAAS,GAChCvR,CAAC,CAACuR,SAAF,CAAcA,SAAd,CACAvR,CAAC,CAACgS,KAAF,CAAUhS,CAAC,CAACG,IAAF,CAAO8R,QAAP,EAAV,CACA,GAAGjS,CAAC,CAACgS,KAAF,GAAUN,UAAb,CAAyBD,UAAU,GACnCzR,CAAC,CAACyR,UAAF,CAAeA,UAAf,CACAzR,CAAC,CAACkS,IAAF,CAASlS,CAAC,CAACG,IAAF,CAAOgS,WAAP,EAAT,CAEAnS,CAAC,CAACI,UAAF,CAAe,GAAIkD,KAAJ,CAASjB,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,SAAvB,EAAkCc,MAAlC,EAAT,CAAf,CACArD,CAAC,CAACK,WAAF,CAAgB,GAAIiD,KAAJ,CAASjB,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,OAAvB,EAAgCc,MAAhC,EAAT,CAAhB,CAEArD,CAAC,CAACO,SAAF,CAAc8H,QAAQ,CAACrI,CAAC,CAACoS,SAAH,CAAtB,CACApS,CAAC,CAACQ,UAAF,CAAe6H,QAAQ,CAACrI,CAAC,CAACqS,UAAH,CAAvB,CAEA;AACA,GAAGrS,CAAC,CAACQ,UAAF,CAAa,CAAhB,CAAkBR,CAAC,CAACQ,UAAF,CAAe,CAAf,CAClB,GAAGR,CAAC,CAACO,SAAF,CAAY,CAAf,CAAiBP,CAAC,CAACO,SAAF,CAAc,CAAd,CAEjBP,CAAC,CAACU,iBAAF,CAAsB2H,QAAQ,CAACrI,CAAC,CAACsS,iBAAH,CAA9B,CACAtS,CAAC,CAACS,gBAAF,CAAqB4H,QAAQ,CAACrI,CAAC,CAACuS,gBAAH,CAA7B,CACAvS,CAAC,CAACsQ,YAAF,CAAiBtQ,CAAC,CAACwS,YAAnB,CACAxS,CAAC,CAAC8O,YAAF,CAAiB,IAAjB,CACA5S,IAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CACpC,GAAGD,EAAE,CAAC4P,YAAH,GAAkBvQ,CAAC,CAACwS,YAAvB,CAAoC,CAChCxS,CAAC,CAACM,WAAF,CAAgBK,EAAE,CAACL,WAAnB,CACAN,CAAC,CAAC8O,YAAF,CAAiBnO,EAAE,CAACmO,YAApB,CACH,CACJ,CALD,EAMA,GAAG9O,CAAC,CAACM,WAAF,EAAemS,SAAlB,CAA6BzS,CAAC,CAACM,WAAF,CAAgB,KAAhB,CAC7B,GAAG,CAACqR,YAAY,CAACe,QAAb,CAAsB1S,CAAC,CAACsQ,YAAxB,CAAJ,CAA2C,CACvC,GAAGtQ,CAAC,CAACM,WAAF,EAAe,KAAlB,CAAwB,CACpBsR,OAAO,CAACnQ,IAAR,CAAa,CAACzB,CAAC,CAAC2S,OAAH,CAAY3S,CAAC,CAACsQ,YAAd,CAAb,EACH,CACDqB,YAAY,CAAClQ,IAAb,CAAkBzB,CAAC,CAACsQ,YAApB,EACH,CAED,MAAOtQ,EAAC,CAAC+Q,aAAT,CACA,MAAO/Q,EAAC,CAAC2S,OAAT,CACA,MAAO3S,EAAC,CAACoS,SAAT,CACA,MAAOpS,EAAC,CAACqS,UAAT,CACA,MAAOrS,EAAC,CAACwS,YAAT,CACA,MAAOxS,EAAC,CAACsS,iBAAT,CACA,MAAOtS,EAAC,CAACuS,gBAAT,CACA;AACA,MAAOvS,EAAC,CAAC4S,UAAT,CACA;AACAtB,QAAQ,CAAGtR,CAAC,CAAC6R,SAAb,CACAL,SAAS,CAAGxR,CAAC,CAAC8R,IAAd,CACAJ,UAAU,CAAG1R,CAAC,CAACgS,KAAf,CACH,CAvDD,EAyDA;AACA;AACA;AACA;AACA;AAGA;AACAX,QAAQ,CAAG,CAAC,CAAZ,CACAC,QAAQ,CAAG,CAAX,CAEAC,SAAS,CAAG,CAAC,CAAb,CACAC,SAAS,CAAG,CAAC,CAAb,CACAC,UAAU,CAAG,CAAb,CACAC,UAAU,CAAG,CAAb,CAEA;AACAxV,IAAI,CAACiG,wBAAL,CAAgCjG,IAAI,CAAC0F,aAAL,CAAmBkB,MAAnB,CAA0B,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CACnE,MAAOD,EAAC,CAAC6S,QAAF,CAAWjV,MAAX,GAAoB,CAApB,EAAyBoC,CAAC,CAAC4C,kBAAF,CAAuB,CAAvD,CACH,CAF+B,CAAhC,CAIA;AACA,GAAIqH,OAAM,CAAG6I,mCAAS,CAAC5W,IAAI,CAACiG,wBAAN,CAAgC,SAAAnC,CAAC,QAAIA,EAAC,CAAC6S,QAAN,EAAjC,CAAtB,CAEA,GAAIE,SAAQ,CAAG,EAAf,CACA,GAAIC,QAAO,CAAG,EAAd,CACA,GAAIC,SAAQ,CAAG,CAAf,CACA,GAAIC,WAAU,CAAG,EAAjB,CACA,GAAIC,UAAS,CAAG,EAAhB,CACAlJ,MAAM,CAAClK,OAAP,CAAe,SAASC,CAAT,CAAWC,CAAX,CAAa,gBAExB,GAAImT,MAAK,CAAG,GAAI9P,KAAJ,CAAS2N,eAAT,CAAZ,CACA,GAAIoC,MAAK,CAAG,GAAI/P,KAAJ,CAAS4N,eAAT,CAAZ,CACA,GAAI8B,QAAO,CAAG,EAAd,CACA,GAAIM,QAAO,CAAG,EAAd,CACA,GAAIA,QAAO,CAAG,EAAd,CACApX,IAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CACpC,GAAGD,EAAE,CAACsO,YAAH,GAAkBhF,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,CAArB,CAAkC,CAC9BD,CAAC,CAACM,WAAF,CAAgBK,EAAE,CAACL,WAAnB,CACAN,CAAC,CAAC8O,YAAF,CAAiBnO,EAAE,CAACmO,YAApB,CACA9O,CAAC,CAACsQ,YAAF,CAAiB3P,EAAE,CAAC4P,YAApB,CAEH,CACJ,CAPD,EASAtG,MAAM,CAAChK,CAAD,CAAN,CAAUsT,QAAV,CAAqB,GAAIjQ,KAAJ,CAASwN,6BAAG,CAAC7G,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,CAAD,CAAe,SAASD,CAAT,CAAWC,CAAX,CAAa,CAAE,MAAOD,EAAC,CAACG,IAAT,CAAe,CAA7C,CAAZ,CAArB,CAEA8J,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,EAAaF,OAAb,CAAqB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAChCoS,OAAO,CAACvR,IAAR,CAAa,GAAI6B,KAAJ,CAAS3C,EAAE,CAACR,IAAZ,EAAkBsG,OAAlB,EAAb,EACH,CAFD,EAIA;AACAwD,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,EAAaF,OAAb,CAAqB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAChCD,EAAE,CAACiC,kBAAH,CAAwByF,QAAQ,CAAC1H,EAAE,CAACiC,kBAAJ,CAAhC,CACA,IAAK,GAAI4Q,IAAG,CAAGJ,KAAf,CAAqBI,GAAG,EAAIH,KAA5B,CAAmCG,GAAG,CAACC,OAAJ,CAAYD,GAAG,CAACE,OAAJ,GAAgB,CAA5B,CAAnC,CAAmE,CAC/D,GAAIC,OAAM,CAAGH,GAAG,CAAC/M,OAAJ,EAAb,CACA,GAAG,CAACuM,OAAO,CAACN,QAAR,CAAiBiB,MAAjB,CAAJ,CAA6B,CACzBL,OAAO,CAAC7R,IAAR,CAAa,CAACtB,IAAI,CAAE,GAAImD,KAAJ,CAASkQ,GAAT,CAAP,CAAsB5Q,kBAAkB,CAAE,IAA1C,CAAb,EACH,CACJ,CACD;AACH,CATD,EAWA,YAAAqH,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,GAAawB,IAAb,+DAAqB6R,OAArB,GAEArJ,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,EAAamK,IAAb,CAAkB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC3B,MAAO,IAAIhH,KAAJ,CAAS+G,CAAC,CAAClK,IAAX,EAAmB,GAAImD,KAAJ,CAASgH,CAAC,CAACnK,IAAX,CAA1B,CACH,CAFD,EAIA,GAAIyT,SAAQ,CAAG,CAAf,CACA,GAAIC,YAAW,CAAG,CAAlB,CACA,GAAIrF,8BAA6B,CAAG,CAApC,CACA,GAAIC,oCAAmC,CAAG,CAA1C,CAEAxE,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,EAAaF,OAAb,CAAqB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAEhC,GAAGD,EAAE,CAACiC,kBAAN,CAAyB,CACrBgR,QAAQ,CAAGjT,EAAE,CAACiC,kBAAd,CACH,CAFD,IAEO,CACHjC,EAAE,CAACiC,kBAAH,CAAwBgR,QAAxB,CACH,CACD,GAAGjT,EAAE,CAACuO,8BAAN,CAAqC,CACjC2E,WAAW,CAAGlT,EAAE,CAACuO,8BAAjB,CACH,CAFD,IAEO,CACHvO,EAAE,CAACuO,8BAAH,CAAoC2E,WAApC,CACH,CACD,GAAGlT,EAAE,CAAC6N,6BAAN,CAAoC,CAChCA,6BAA6B,CAAG7N,EAAE,CAAC6N,6BAAnC,CACH,CAFD,IAEO,CACH7N,EAAE,CAAC6N,6BAAH,CAAmCA,6BAAnC,CACH,CACD,GAAG7N,EAAE,CAAC8N,mCAAN,CAA0C,CACtCA,mCAAmC,CAAG9N,EAAE,CAAC8N,mCAAzC,CACH,CAFD,IAEO,CACH9N,EAAE,CAAC8N,mCAAH,CAAyCA,mCAAzC,CACH,CAED,GAAIqF,YAAJ,CACA,GAAG7J,MAAM,CAAChK,CAAD,CAAN,CAAU6O,YAAV,EAAwB,IAA3B,CAAiC,CAAEgF,WAAW,CAAG7J,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,CAAd,CAClC,CADD,IACO,CACH6T,WAAW,CAAG7J,MAAM,CAAChK,CAAD,CAAN,CAAU6O,YAAxB,CACH,CAEDqE,SAAS,CAAC1R,IAAV,CAAe,CACXtB,IAAI,CAAE,GAAImD,KAAJ,CAAS3C,EAAE,CAACR,IAAZ,CADK,CAEXoT,QAAQ,CAAGtJ,MAAM,CAAChK,CAAD,CAAN,CAAUsT,QAFV,CAGXrE,8BAA8B,CAAErG,UAAU,CAACgL,WAAD,CAH/B,CAIXrF,6BAA6B,CAAEA,6BAJpB,CAKXC,mCAAmC,CAAEA,mCAL1B,CAMXoE,QAAQ,CAAE5I,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,CANC,CAOXK,WAAW,CAAE2J,MAAM,CAAChK,CAAD,CAAN,CAAUK,WAPZ,CAQXwO,YAAY,CAAEgF,WARH,CASXxD,YAAY,CAAErG,MAAM,CAAChK,CAAD,CAAN,CAAUqQ,YATb,CAUX1N,kBAAkB,CAAEgR,QAVT,CAAf,EAYH,CAzCD,EA0CH,CAvFD,EAyFA1X,IAAI,CAACiG,wBAAL,CAAgCgR,SAAhC,CAEAjX,IAAI,CAACiG,wBAAL,CAA8BiI,IAA9B,CAAmC,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC5C,MAAO,IAAIhH,KAAJ,CAAS+G,CAAC,CAAClK,IAAX,EAAmB,GAAImD,KAAJ,CAASgH,CAAC,CAACnK,IAAX,CAA1B,CACH,CAFD,EAIAjE,IAAI,CAACiG,wBAAL,CAA8BpC,OAA9B,CAAsC,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/C,GAAGD,CAAC,CAACM,WAAF,EAAemS,SAAlB,CAA6BzS,CAAC,CAACM,WAAF,CAAgB,KAAhB,CAC7BN,CAAC,CAAC6R,SAAF,CAAexP,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAe0R,SAAf,EAAf,CACA,GAAG7R,CAAC,CAAC6R,SAAF,GAAcP,QAAjB,CAA2BD,QAAQ,GACnCrR,CAAC,CAACqR,QAAF,CAAaA,QAAb,CACArR,CAAC,CAAC8R,IAAF,CAASzP,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAe4R,OAAf,EAAT,CACA,GAAG/R,CAAC,CAAC8R,IAAF,GAASN,SAAZ,CAAuBD,SAAS,GAChCvR,CAAC,CAACuR,SAAF,CAAcA,SAAd,CACAvR,CAAC,CAACgS,KAAF,CAAUhS,CAAC,CAACG,IAAF,CAAO8R,QAAP,EAAV,CACA,GAAGjS,CAAC,CAACgS,KAAF,GAAUN,UAAb,CAAyBD,UAAU,GACnCzR,CAAC,CAACyR,UAAF,CAAeA,UAAf,CACAzR,CAAC,CAACkS,IAAF,CAASlS,CAAC,CAACG,IAAF,CAAOgS,WAAP,EAAT,CACAb,QAAQ,CAAGtR,CAAC,CAAC6R,SAAb,CACAL,SAAS,CAAGxR,CAAC,CAAC8R,IAAd,CACAJ,UAAU,CAAG1R,CAAC,CAACgS,KAAf,CACAhS,CAAC,CAACI,UAAF,CAAe,GAAIkD,KAAJ,CAASjB,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,SAAvB,EAAkCc,MAAlC,EAAT,CAAf,CACArD,CAAC,CAACK,WAAF,CAAgB,GAAIiD,KAAJ,CAASjB,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,OAAvB,EAAgCc,MAAhC,EAAT,CAAhB,CACH,CAjBD,EAmBA;AAEAgO,QAAQ,CAAG,CAAC,CAAZ,CACAC,QAAQ,CAAG,CAAX,CAEAC,SAAS,CAAG,CAAC,CAAb,CACAC,SAAS,CAAG,CAAC,CAAb,CACAC,UAAU,CAAG,CAAb,CACAC,UAAU,CAAG,CAAb,CAEA;AACAxV,IAAI,CAAC2F,mBAAL,CAA2B3F,IAAI,CAAC0F,aAAL,CAAmBkB,MAAnB,CAA0B,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CAC9D,MAAOD,EAAC,CAAC6S,QAAF,CAAWjV,MAAX,GAAoB,CAApB,EAAyBoC,CAAC,CAAC+B,kBAAF,CAAuB,CAAvD,CACH,CAF0B,CAA3B,CAIA;AACA,GAAIkI,OAAM,CAAG6I,mCAAS,CAAC5W,IAAI,CAAC2F,mBAAN,CAA2B,SAAA7B,CAAC,QAAIA,EAAC,CAAC6S,QAAN,EAA5B,CAAtB,CAEA,GAAIE,SAAQ,CAAG,EAAf,CACA,GAAIC,QAAO,CAAG,EAAd,CACA,GAAIC,SAAQ,CAAG,CAAf,CACA,GAAIC,WAAU,CAAG,EAAjB,CACA,GAAIC,UAAS,CAAG,EAAhB,CACAlJ,MAAM,CAAClK,OAAP,CAAe,SAASC,CAAT,CAAWC,CAAX,CAAa,iBAExB,GAAImT,MAAK,CAAG,GAAI9P,KAAJ,CAAS2N,eAAT,CAAZ,CACA,GAAIoC,MAAK,CAAG,GAAI/P,KAAJ,CAAS4N,eAAT,CAAZ,CACA,GAAI8B,QAAO,CAAG,EAAd,CACA,GAAIM,QAAO,CAAG,EAAd,CACA,GAAIA,QAAO,CAAG,EAAd,CAEApX,IAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CACpC,GAAGD,EAAE,CAACsO,YAAH,GAAkBhF,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,CAArB,CAAkC,CAC9BD,CAAC,CAACM,WAAF,CAAgBK,EAAE,CAACL,WAAnB,CACAN,CAAC,CAAC8O,YAAF,CAAiBnO,EAAE,CAACmO,YAApB,CACA9O,CAAC,CAACsQ,YAAF,CAAiB3P,EAAE,CAAC4P,YAApB,CACH,CACJ,CAND,EAQAtG,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,EAAaF,OAAb,CAAqB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAChCoS,OAAO,CAACvR,IAAR,CAAa,GAAI6B,KAAJ,CAAS3C,EAAE,CAACR,IAAZ,EAAkBsG,OAAlB,EAAb,EACH,CAFD,EAIA;AACAwD,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,EAAaF,OAAb,CAAqB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAChCD,EAAE,CAACoB,kBAAH,CAAwBsG,QAAQ,CAAC1H,EAAE,CAACoB,kBAAJ,CAAhC,CACA,IAAK,GAAIyR,IAAG,CAAGJ,KAAf,CAAqBI,GAAG,EAAIH,KAA5B,CAAmCG,GAAG,CAACC,OAAJ,CAAYD,GAAG,CAACE,OAAJ,GAAgB,CAA5B,CAAnC,CAAmE,CAC/D,GAAIC,OAAM,CAAGH,GAAG,CAAC/M,OAAJ,EAAb,CACA,GAAG,CAACuM,OAAO,CAACN,QAAR,CAAiBiB,MAAjB,CAAJ,CAA6B,CACzBL,OAAO,CAAC7R,IAAR,CAAa,CAACtB,IAAI,CAAE,GAAImD,KAAJ,CAASkQ,GAAT,CAAP,CAAsBzR,kBAAkB,CAAE,IAA1C,CAAb,EACH,CACJ,CACJ,CARD,EAUA,aAAAkI,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,GAAawB,IAAb,gEAAqB6R,OAArB,GAEArJ,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,EAAamK,IAAb,CAAkB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC3B,MAAO,IAAIhH,KAAJ,CAAS+G,CAAC,CAAClK,IAAX,EAAmB,GAAImD,KAAJ,CAASgH,CAAC,CAACnK,IAAX,CAA1B,CACH,CAFD,EAIA,GAAI4B,mBAAkB,CAAG,CAAzB,CAEAkI,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,EAAaF,OAAb,CAAqB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAChC,GAAGD,EAAE,CAACoB,kBAAN,CAAyB,CACrBA,kBAAkB,CAAGpB,EAAE,CAACoB,kBAAxB,CACH,CAFD,IAEO,CACHpB,EAAE,CAACoB,kBAAH,CAAwBA,kBAAxB,CACH,CACD,GAAI+R,YAAJ,CACA,GAAG7J,MAAM,CAAChK,CAAD,CAAN,CAAU6O,YAAV,EAAwB,IAA3B,CAAiC,CAAEgF,WAAW,CAAG7J,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,CAAd,CAClC,CADD,IACO,CACH6T,WAAW,CAAG7J,MAAM,CAAChK,CAAD,CAAN,CAAU6O,YAAxB,CACH,CACDqE,SAAS,CAAC1R,IAAV,CAAe,CACXtB,IAAI,CAAE,GAAImD,KAAJ,CAAS3C,EAAE,CAACR,IAAZ,CADK,CAEX0S,QAAQ,CAAE5I,MAAM,CAAChK,CAAD,CAAN,CAAU,CAAV,CAFC,CAGXK,WAAW,CAAE2J,MAAM,CAAChK,CAAD,CAAN,CAAUK,WAHZ,CAIXwO,YAAY,CAAEgF,WAJH,CAKXxD,YAAY,CAAErG,MAAM,CAAChK,CAAD,CAAN,CAAUqQ,YALb,CAMXvO,kBAAkB,CAAEA,kBANT,CAAf,EAQH,CAnBD,EAoBH,CA3DD,EA6DA7F,IAAI,CAAC2F,mBAAL,CAA2BsR,SAA3B,CAEAjX,IAAI,CAAC2F,mBAAL,CAAyBuI,IAAzB,CAA8B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACvC,MAAO,IAAIhH,KAAJ,CAAS+G,CAAC,CAAClK,IAAX,EAAmB,GAAImD,KAAJ,CAASgH,CAAC,CAACnK,IAAX,CAA1B,CACH,CAFD,EAIAjE,IAAI,CAAC2F,mBAAL,CAAyB9B,OAAzB,CAAiC,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC1C,GAAGD,CAAC,CAACM,WAAF,EAAemS,SAAlB,CAA6BzS,CAAC,CAACM,WAAF,CAAgB,KAAhB,CAC7BN,CAAC,CAAC6R,SAAF,CAAexP,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAe0R,SAAf,EAAf,CACA,GAAG7R,CAAC,CAAC6R,SAAF,GAAcP,QAAjB,CAA2BD,QAAQ,GACnCrR,CAAC,CAACqR,QAAF,CAAaA,QAAb,CACArR,CAAC,CAAC8R,IAAF,CAASzP,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAe4R,OAAf,EAAT,CACA,GAAG/R,CAAC,CAAC8R,IAAF,GAASN,SAAZ,CAAuBD,SAAS,GAChCvR,CAAC,CAACuR,SAAF,CAAcA,SAAd,CACAvR,CAAC,CAACgS,KAAF,CAAUhS,CAAC,CAACG,IAAF,CAAO8R,QAAP,EAAV,CACA,GAAGjS,CAAC,CAACgS,KAAF,GAAUN,UAAb,CAAyBD,UAAU,GACnCzR,CAAC,CAACyR,UAAF,CAAeA,UAAf,CACAzR,CAAC,CAACkS,IAAF,CAASlS,CAAC,CAACG,IAAF,CAAOgS,WAAP,EAAT,CACAb,QAAQ,CAAGtR,CAAC,CAAC6R,SAAb,CACAL,SAAS,CAAGxR,CAAC,CAAC8R,IAAd,CACAJ,UAAU,CAAG1R,CAAC,CAACgS,KAAf,CACAhS,CAAC,CAACI,UAAF,CAAe,GAAIkD,KAAJ,CAASjB,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,SAAvB,EAAkCc,MAAlC,EAAT,CAAf,CACArD,CAAC,CAACK,WAAF,CAAgB,GAAIiD,KAAJ,CAASjB,gBAAM,CAACrC,CAAC,CAACG,IAAH,CAAN,CAAeoC,OAAf,CAAuB,OAAvB,EAAgCc,MAAhC,EAAT,CAAhB,CACH,CAjBD,EAoBA;AACAnH,IAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAClC,GAAGD,CAAC,CAAC5D,YAAF,CAAe2X,KAAf,CAAqB,YAArB,CAAH,CAAsC,CAClC/T,CAAC,CAAC5D,YAAF,CAAiB,WAAjB,CACH,CAFD,IAGK,IAAG4D,CAAC,CAAC5D,YAAF,CAAe2X,KAAf,CAAqB,OAArB,CAAH,CAAiC,CAClC/T,CAAC,CAAC5D,YAAF,CAAiB,MAAjB,CACH,CAFI,IAGA,IAAG4D,CAAC,CAAC5D,YAAF,CAAe2X,KAAf,CAAqB,SAArB,CAAH,CAAmC,CACpC/T,CAAC,CAAC5D,YAAF,CAAiB,QAAjB,CACH,CAFI,IAGA,IAAG4D,CAAC,CAAC5D,YAAF,CAAe2X,KAAf,CAAqB,MAArB,CAAH,CAAgC,CACjC/T,CAAC,CAAC5D,YAAF,CAAiB,KAAjB,CACH,CACD,GAAG4D,CAAC,CAAC3D,eAAF,CAAkB0X,KAAlB,CAAwB,YAAxB,CAAH,CAAyC,CACrC/T,CAAC,CAAC3D,eAAF,CAAoB,WAApB,CACH,CAFD,IAGK,IAAG2D,CAAC,CAAC3D,eAAF,CAAkB0X,KAAlB,CAAwB,OAAxB,CAAH,CAAoC,CACrC/T,CAAC,CAAC3D,eAAF,CAAoB,MAApB,CACH,CAFI,IAGA,IAAG2D,CAAC,CAAC3D,eAAF,CAAkB0X,KAAlB,CAAwB,SAAxB,CAAH,CAAsC,CACvC/T,CAAC,CAAC3D,eAAF,CAAoB,QAApB,CACH,CAFI,IAGA,IAAG2D,CAAC,CAAC3D,eAAF,CAAkB0X,KAAlB,CAAwB,MAAxB,CAAH,CAAmC,CACpC/T,CAAC,CAAC3D,eAAF,CAAoB,KAApB,CACH,CAFI,IAGA,IAAG2D,CAAC,CAAC3D,eAAF,CAAkB0X,KAAlB,CAAwB,KAAxB,CAAH,CAAkC,CACnC/T,CAAC,CAAC3D,eAAF,CAAoB,UAApB,CACH,CACJ,CA5BD,EA8BAH,IAAI,CAACgS,WAAL,CAAmBhS,IAAI,CAACgS,WAAL,CAAiBpL,MAAjB,CAAwB,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CACrD,MAAO0R,aAAY,CAACe,QAAb,CAAsB1S,CAAC,CAACuQ,YAAxB,CAAP,CACF,CAFkB,CAAnB,CAGArU,IAAI,CAAC8X,QAAL,CAAgB9R,oBAAK,CAAChG,IAAD,CAArB,CACA;AACH,CAEcmT,2DAAf,E;;;;;;;;;;;;;;;;;;;;;;ACpcmC;AAInC4E,mBAAQ,CAACC,WAAT,CAAuB,2FAAvB,CAEA,GAAIlE,IAAJ,CACA,GAAImE,KAAJ,CACA,GAAIC,QAAO,CAAG,EAAd,CACA,GAAIC,WAAJ,CAEO,QAASC,UAAT,CAAmBpY,IAAnB,CAAyBD,OAAzB,CAAkC6G,MAAlC,CAA0C,CAE7CG,wBAAA,CAAU,cAAV,EAA0BU,IAA1B,CAA+B,SAA/B,CAA0C,MAA1C,EAAkD+C,KAAlD,CAAwD,QAAxD,CAAkE,SAAlE,EACCN,EADD,CACI,OADJ,CACa,SAASpG,CAAT,CAAWC,CAAX,CAAa,CACtB+P,GAAG,CAACuE,SAAJ,CAAc,CAAC,CAAD,CAAI,EAAJ,CAAd,EACAvE,GAAG,CAACwE,OAAJ,CAAY,CAAZ,EACAvR,wBAAA,CAAU,cAAV,EAA0BU,IAA1B,CAA+B,SAA/B,CAA0C,MAA1C,EACH,CALD,EAOAqM,GAAG,CAAG,GAAIiE,oBAAQ,CAACQ,GAAb,CAAiB,CACnBC,SAAS,CAAE,SADQ,CACG;AACtB;AACAhO,KAAK,CAAE,mDAHY,CAGyC;AAC5DiO,MAAM,CAAE,CAAC,CAAD,CAAI,EAAJ,CAJW,CAIF;AACjBC,IAAI,CAAE,CAAE;AALW,CAAjB,CAAN,CAQA5E,GAAG,CAAC6E,oBAAJ,CAAyB,KAAzB,EACA7E,GAAG,CAAC8E,UAAJ,CAAe,GAAIb,oBAAQ,CAACc,iBAAb,EAAf,EAEA/E,GAAG,CAAC5J,EAAJ,CAAO,MAAP,CAAe,UAAW,CACtBnD,wBAAA,CAAU,cAAV,EAA0BU,IAA1B,CAA+B,SAA/B,CAA0C,QAA1C,EACH,CAFD,EAIAqM,GAAG,CAAC5J,EAAJ,CAAO,WAAP,CAAoB,UAAW,CAC3BnD,wBAAA,CAAU,cAAV,EAA0BU,IAA1B,CAA+B,SAA/B,CAA0C,QAA1C,EACH,CAFD,EAIAqM,GAAG,CAAC5J,EAAJ,CAAO,OAAP,CAAgB,UAAW,CACvBnD,wBAAA,CAAU,cAAV,EAA0BU,IAA1B,CAA+B,SAA/B,CAA0C,QAA1C,EACH,CAFD,EAIAqM,GAAG,CAAC5J,EAAJ,CAAO,MAAP,CAAe,UAAW,CACtBnD,wBAAA,CAAU,cAAV,EAA0BU,IAA1B,CAA+B,SAA/B,CAA0C,QAA1C,EACH,CAFD,EAIA,GAAI+Q,UAAS,CAAG1E,GAAG,CAACgF,kBAAJ,EAAhB,CAEA,GAAIhZ,IAAG,CAAGiH,wBAAA,CACFyR,SADE,EAEThR,MAFS,CAEF,KAFE,EAGTC,IAHS,CAGJ,IAHI,CAGE,YAHF,EAITA,IAJS,CAIJ,OAJI,CAIK,MAJL,EAKTA,IALS,CAKJ,QALI,CAKM,MALN,EAMT+C,KANS,CAMH,UANG,CAMS,UANT,EAOTA,KAPS,CAOH,SAPG,CAOQ,CAPR,CAAV,CASA2N,UAAU,CAAGpR,wBAAA,CAAU,cAAV,EAA0BU,IAA1B,CAA+B,SAA/B,CAA0C,CAA1C,EAA6CA,IAA7C,CAAkD,WAAlD,CAA+D,gBAA/D,EAAiFA,IAAjF,CAAsF,SAAtF,CAAiG,QAAjG,CAAb,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEAkC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,WAAtC,CAAkD9C,wBAAA,CAAU,cAAV,EAA0B+C,IAA1B,EAAlD,EACAqO,UAAU,CAAC1Q,IAAX,CAAgB,SAAhB,CAA2B,MAA3B,EAEAqM,GAAG,CAAC5J,EAAJ,CAAO,MAAP,CAAe,SAAU6O,CAAV,CAAa,CAExBjF,GAAG,CAACkF,gBAAJ,CAAqB,WAArB,CAAkC,yBAAlC,CAA6D,CAAC7L,QAAQ,CAAE,CAAX,CAAcoD,KAAK,CAAE,CAArB,CAA7D,EAEAT,aAAS,CAAC9P,IAAD,CAAOD,OAAP,CAAT,CAEH,CAND,EAQH,CAEM,QAAS+P,cAAT,CAAmB9P,IAAnB,CAAyBD,OAAzB,CAAkC,CAErC,GAAIoN,SAAQ,CAAG,GAAf,CACA,GAAIoD,MAAK,CAAG,EAAZ,CAEAuD,GAAG,CAACmF,iBAAJ,CACI,WADJ,CAEI,YAFJ,CAGI,MAHJ,EAMA,GAAGlZ,OAAO,CAACkQ,UAAR,EAAsB,kBAAzB,CAA4C,CAExC,GAAIiJ,YAAW,CAAGnS,qBAAA,CAAO/G,IAAI,CAACmZ,OAAZ,CAAqB,SAASrV,CAAT,CAAWC,CAAX,CAAa,CAChD,MAAOD,EAAC,CAAC,CAAD,CAAD,CAAKsV,cAAZ,CACH,CAFiB,CAAlB,CAIA,GAAIC,YAAW,CAAGtS,qBAAA,CAAO/G,IAAI,CAACmZ,OAAZ,CAAqB,SAASrV,CAAT,CAAWC,CAAX,CAAa,CAChD,MAAOD,EAAC,CAAC,CAAD,CAAD,CAAKsV,cAAZ,CACH,CAFiB,CAAlB,CAIA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAIE,WAAU,CAAGvS,6BAAA,EACjB;AADiB,CAEhBe,MAFgB,CAET,CAAC,CAAC,EAAF,CAAM,CAAN,CAAS,EAAT,CAFS,EAGhBD,KAHgB,CAGV,CAAC5H,UAAM,CAACG,IAAR,CAAcH,UAAM,CAACU,SAArB,CAAgCV,UAAM,CAACM,GAAvC,CAHU,CAAjB,CAIA;AAEA,GAAIgZ,eAAc,CAAG,CAAC,MAAD,CAArB,CACAvZ,IAAI,CAACmZ,OAAL,CAAatV,OAAb,CAAqB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC9BwV,cAAc,CAAChU,IAAf,CAAoB,CAAC,IAAD,CAAO,CAAC,KAAD,CAAQ,KAAR,CAAP,CAAuBzB,CAAC,CAAC,CAAD,CAAxB,CAApB,EACAyV,cAAc,CAAChU,IAAf,CAAoB+T,UAAU,CAACxV,CAAC,CAAC,CAAD,CAAD,CAAKsV,cAAN,CAA9B,EACH,CAHD,EAKA,GAAGG,cAAc,CAAC7X,MAAf,CAAsB,CAAzB,CAA2B,CACvB6X,cAAc,CAAChU,IAAf,CAAoBtF,UAAM,CAACW,QAA3B,EACAkT,GAAG,CAACkF,gBAAJ,CACI,WADJ,CAEI,YAFJ,CAEkBO,cAFlB,EAIH,CAEJ,CAED,GAAGxZ,OAAO,CAACkQ,UAAR,EAAsB,OAAzB,CAAiC,CAC7B,GAAIuJ,SAAQ,CAAGzS,qBAAA,CAAO/G,IAAI,CAACmZ,OAAZ,CAAqB,SAASrV,CAAT,CAAWC,CAAX,CAAa,CAC7C,MAAOD,EAAC,CAAC,CAAD,CAAD,CAAKS,gBAAZ,CACH,CAFc,CAAf,CAIA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAI+U,WAAU,CAAGvS,6BAAA,GAChBe,MADgB,CACT,CAAC,CAAD,CAAI0R,QAAJ,CADS,EAEhB3R,KAFgB,CAEV,CAAC5H,UAAM,CAACU,SAAR,CAAmBV,UAAM,CAACM,GAA1B,CAFU,CAAjB,CAIA,GAAIgZ,eAAc,CAAG,CAAC,MAAD,CAArB,CACAvZ,IAAI,CAACmZ,OAAL,CAAatV,OAAb,CAAqB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC9BwV,cAAc,CAAChU,IAAf,CAAoB,CAAC,IAAD,CAAO,CAAC,KAAD,CAAQ,KAAR,CAAP,CAAuBzB,CAAC,CAAC,CAAD,CAAxB,CAApB,EACAyV,cAAc,CAAChU,IAAf,CAAoB+T,UAAU,CAACxV,CAAC,CAAC,CAAD,CAAD,CAAKS,gBAAN,CAA9B,EACH,CAHD,EAKA,GAAGgV,cAAc,CAAC7X,MAAf,CAAsB,CAAzB,CAA2B,CACvB6X,cAAc,CAAChU,IAAf,CAAoBtF,UAAM,CAACW,QAA3B,EACAkT,GAAG,CAACkF,gBAAJ,CACI,WADJ,CAEI,YAFJ,CAEkBO,cAFlB,EAIH,CAEJ,CAED,GAAGxZ,OAAO,CAACkQ,UAAR,EAAsB,QAAzB,CAAkC,CAC9B,GAAIuJ,SAAQ,CAAGzS,qBAAA,CAAO/G,IAAI,CAACmZ,OAAZ,CAAqB,SAASrV,CAAT,CAAWC,CAAX,CAAa,CAC7C,MAAOD,EAAC,CAAC,CAAD,CAAD,CAAKU,iBAAZ,CACH,CAFc,CAAf,CAIA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAI8U,WAAU,CAAGvS,6BAAA,GAChBe,MADgB,CACT,CAAC,CAAD,CAAI0R,QAAJ,CADS,EAEhB3R,KAFgB,CAEV,CAAC5H,UAAM,CAACU,SAAR,CAAmBV,UAAM,CAACM,GAA1B,CAFU,CAAjB,CAIA,GAAIgZ,eAAc,CAAG,CAAC,MAAD,CAArB,CACAvZ,IAAI,CAACmZ,OAAL,CAAatV,OAAb,CAAqB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC9BwV,cAAc,CAAChU,IAAf,CAAoB,CAAC,IAAD,CAAO,CAAC,KAAD,CAAQ,KAAR,CAAP,CAAuBzB,CAAC,CAAC,CAAD,CAAxB,CAApB,EACAyV,cAAc,CAAChU,IAAf,CAAoB+T,UAAU,CAACxV,CAAC,CAAC,CAAD,CAAD,CAAKU,iBAAN,CAA9B,EACH,CAHD,EAKA,GAAG+U,cAAc,CAAC7X,MAAf,CAAsB,CAAzB,CAA2B,CACvB6X,cAAc,CAAChU,IAAf,CAAoBtF,UAAM,CAACW,QAA3B,EACAkT,GAAG,CAACkF,gBAAJ,CACI,WADJ,CAEI,YAFJ,CAEkBO,cAFlB,EAIH,CACJ,CAED,GAAGxZ,OAAO,CAACkQ,UAAR,EAAsB,0BAAzB,CAAoD,CAChD,GAAIuJ,SAAQ,CAAGzS,qBAAA,CAAO/G,IAAI,CAAC+N,MAAZ,CAAoB,SAASjK,CAAT,CAAWC,CAAX,CAAa,CAC5C,MAAO4I,WAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQyO,mCAAT,CAAV,CAAwD,GAA/D,CACH,CAFc,CAAf,CAIA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAI+G,WAAU,CAAGvS,6BAAA,GAChBe,MADgB,CACT,CAAC,CAAD,CAAI0R,QAAJ,CADS,EAEhB3R,KAFgB,CAEV,CAAC5H,UAAM,CAACU,SAAR,CAAmBV,UAAM,CAACG,IAA1B,CAFU,CAAjB,CAIA,GAAImZ,eAAc,CAAG,CAAC,MAAD,CAArB,CACAvZ,IAAI,CAAC+N,MAAL,CAAYlK,OAAZ,CAAoB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC7B,GAAI0V,iBAAgB,CAAG9M,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQyO,mCAAT,CAAV,CAAwD,GAA/E,CACA,GAAGpD,KAAK,CAACsK,gBAAD,CAAR,CAA4BA,gBAAgB,CAAG,CAAnB,CAC5B,GAAGA,gBAAgB,CAAC,CAApB,CAAsB,CAClB,GAAG3V,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQsQ,YAAX,CAAyBmF,cAAc,CAAChU,IAAf,CAAoB,CAAC,IAAD,CAAO,CAAC,KAAD,CAAQ,KAAR,CAAP,CAAuBzB,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQsQ,YAA/B,CAApB,EACzB,GAAGtQ,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQsQ,YAAX,CAAyBmF,cAAc,CAAChU,IAAf,CAAoB+T,UAAU,CAACG,gBAAD,CAA9B,EAC5B,CACJ,CAPD,EASA,GAAGF,cAAc,CAAC7X,MAAf,CAAsB,CAAzB,CAA2B,CACvB6X,cAAc,CAAChU,IAAf,CAAoBtF,UAAM,CAACW,QAA3B,EACAkT,GAAG,CAACkF,gBAAJ,CACI,WADJ,CAEI,YAFJ,CAEkBO,cAFlB,EAIH,CAND,IAMO,CACHzF,GAAG,CAACkF,gBAAJ,CACI,WADJ,CAEI,YAFJ,CAGI/Y,UAAM,CAACW,QAHX,EAKH,CAEJ,CAED,GAAGb,OAAO,CAACkQ,UAAR,EAAsB,4BAAzB,CAAsD,CAClD,GAAIuJ,SAAQ,CAAGzS,qBAAA,CAAO/G,IAAI,CAAC+N,MAAZ,CAAoB,SAASjK,CAAT,CAAWC,CAAX,CAAa,CAC5C,MAAO4I,WAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ0O,0BAAT,CAAV,CAA+C,GAAtD,CACH,CAFc,CAAf,CAKA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAI8G,WAAU,CAAGvS,6BAAA,GAChBe,MADgB,CACT,CAAC,CAAD,CAAI0R,QAAJ,CADS,EAEhB3R,KAFgB,CAEV,CAAC5H,UAAM,CAACU,SAAR,CAAmBV,UAAM,CAACG,IAA1B,CAFU,CAAjB,CAIA,GAAImZ,eAAc,CAAG,CAAC,MAAD,CAArB,CACAvZ,IAAI,CAAC+N,MAAL,CAAYlK,OAAZ,CAAoB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC7B,GAAIyO,2BAA0B,CAAG7F,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ0O,0BAAT,CAAV,CAA+C,GAAhF,CACA,GAAGrD,KAAK,CAACqD,0BAAD,CAAR,CAAsCA,0BAA0B,CAAG,CAA7B,CACtC,GAAGA,0BAA0B,CAAC,CAA9B,CAAgC,CAC5B,GAAG1O,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQsQ,YAAX,CAAyBmF,cAAc,CAAChU,IAAf,CAAoB,CAAC,IAAD,CAAO,CAAC,KAAD,CAAQ,KAAR,CAAP,CAAuBzB,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQsQ,YAA/B,CAApB,EACzB,GAAGtQ,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQsQ,YAAX,CAAyBmF,cAAc,CAAChU,IAAf,CAAoB+T,UAAU,CAAC9G,0BAAD,CAA9B,EAC5B,CACJ,CAPD,EASA,GAAG+G,cAAc,CAAC7X,MAAf,CAAsB,CAAzB,CAA2B,CACvB6X,cAAc,CAAChU,IAAf,CAAoBtF,UAAM,CAACW,QAA3B,EACAkT,GAAG,CAACkF,gBAAJ,CACI,WADJ,CAEI,YAFJ,CAEkBO,cAFlB,EAIH,CAND,IAMO,CACHzF,GAAG,CAACkF,gBAAJ,CACI,WADJ,CAEI,YAFJ,CAGI/Y,UAAM,CAACW,QAHX,EAKH,CAGJ,CAEDuX,UAAU,CAAC1Q,IAAX,CAAgB,SAAhB,CAA2B,MAA3B,EAEAqM,GAAG,CAAC5J,EAAJ,CAAO,WAAP,CAAoB,SAAU6O,CAAV,CAAa,CAC7B,GAAIW,SAAQ,CAAG5F,GAAG,CAAC6F,qBAAJ,CAA0BZ,CAAC,CAACa,KAA5B,CAAf,CAEA,GAAIC,kBAAiB,CAAG,CACxB,MADwB,CAExB,YAFwB,CAGxB,IAHwB,CAIxB,OAJwB,CAKxB,QALwB,CAMxB,aANwB,CAOxB,OAPwB,CAAxB,CAUA,GAAIH,QAAQ,CAAChY,MAAT,EAAiB,CAAlB,EAAuBgY,QAAQ,CAAC,CAAD,CAAR,CAAYI,KAAZ,CAAkB5K,EAAlB,EAAsB,WAAhD,CAA6D,CAEzD,GAAIA,GAAE,CAAGwK,QAAQ,CAAC,CAAD,CAAR,CAAYK,UAAZ,CAAuBC,GAAhC,CACA,GAAIC,gBAAe,CAAGja,IAAI,CAACgS,WAAL,CAAiBpL,MAAjB,CAAwB,SAAA9C,CAAC,QAAEA,EAAC,CAACuQ,YAAF,EAAkBnF,EAApB,EAAzB,CAAtB,CACA,GAAI0I,YAAJ,CACA,GAAGqC,eAAe,CAAC,CAAD,CAAlB,CAAuBrC,WAAW,CAAGqC,eAAe,CAAC,CAAD,CAAf,CAAmBrH,YAAjC,CAEvBuF,UAAU,CAAC3M,MAAX,CAAkB,yBAAlB,EAA6Cb,IAA7C,CAAkDiN,WAAlD,EAEA,GAAGO,UAAU,CAAC3M,MAAX,CAAkB,yBAAlB,EAA6Cb,IAA7C,GAAoDjJ,MAApD,EAA4D,CAA/D,CAAiE,CAC7DyW,UAAU,CACT1Q,IADD,CACM,SADN,CACiB,MADjB,EAEH,EAED,GAAG1H,OAAO,CAACkQ,UAAR,EAAoB,OAAvB,CAA+B,CAC3B,GAAIkJ,QAAO,CAAGnZ,IAAI,CAACmZ,OAAL,CAAavS,MAAb,CAAoB,SAAA9C,CAAC,QAAEA,EAAC,CAAC,CAAD,CAAD,CAAKsQ,YAAL,EAAqBlF,EAAvB,EAArB,EAAgD,CAAhD,CAAd,CACA,GAAI,CAACiK,OAAF,EAAaA,OAAO,CAACzX,MAAR,EAAgB,CAAhC,CAAoC,MAAO,MAAP,CACpCyW,UAAU,CAAC3M,MAAX,CAAkB,wBAAlB,EAA4Cb,IAA5C,CAAiDvJ,SAAS,CAAC+X,OAAO,CAAC,CAAD,CAAP,CAAW5U,gBAAZ,CAAT,CAAuC,QAAxF,EACH,CAED,GAAGxE,OAAO,CAACkQ,UAAR,EAAoB,QAAvB,CAAgC,CAC5B,GAAIkJ,QAAO,CAAGnZ,IAAI,CAACmZ,OAAL,CAAavS,MAAb,CAAoB,SAAA9C,CAAC,QAAEA,EAAC,CAAC,CAAD,CAAD,CAAKsQ,YAAL,EAAqBlF,EAAvB,EAArB,EAAgD,CAAhD,CAAd,CACA,GAAI,CAACiK,OAAF,EAAaA,OAAO,CAACzX,MAAR,EAAgB,CAAhC,CAAoC,MAAO,MAAP,CACpCyW,UAAU,CAAC3M,MAAX,CAAkB,wBAAlB,EAA4Cb,IAA5C,CAAiDvJ,SAAS,CAAC+X,OAAO,CAAC,CAAD,CAAP,CAAW3U,iBAAZ,CAAT,CAAwC,SAAzF,EACH,CAED,GAAGzE,OAAO,CAACkQ,UAAR,EAAoB,kBAAvB,CAA0C,CACtC,GAAIkJ,QAAO,CAAGnZ,IAAI,CAACmZ,OAAL,CAAavS,MAAb,CAAoB,SAAA9C,CAAC,QAAEA,EAAC,CAAC,CAAD,CAAD,CAAKsQ,YAAL,EAAqBlF,EAAvB,EAArB,EAAgD,CAAhD,CAAd,CACA,GAAI,CAACiK,OAAF,EAAaA,OAAO,CAACzX,MAAR,EAAgB,CAAhC,CAAoC,MAAO,MAAP,CACpC,GAAIsN,IAAG,CAAG,CAAEmK,OAAO,CAAC,CAAD,CAAP,CAAWC,cAAZ,CAA4B,GAA7B,EAAkC3W,OAAlC,CAA0C,CAA1C,CAAV,CACA,GAAIyX,IAAG,CAAG,EAAV,CACA,GAAGlL,GAAG,EAAE,CAAR,CAAU,CACNkL,GAAG,CAAG,YAAN,CACH,CAFD,IAEO,CACHA,GAAG,CAAG,YAAN,CACH,CACD/B,UAAU,CAAC3M,MAAX,CAAkB,wBAAlB,EAA4Cb,IAA5C,CAAiDmC,IAAI,CAACqN,GAAL,CAASnL,GAAT,EAAckL,GAA/D,EACH,CAED,GAAGna,OAAO,CAACkQ,UAAR,EAAoB,0BAAvB,CAAkD,CAC9C,GAAIkJ,QAAO,CAAGnZ,IAAI,CAAC+N,MAAL,CAAYnH,MAAZ,CAAmB,SAAA9C,CAAC,QAAEA,EAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQsQ,YAAR,EAAwBlF,EAA1B,EAApB,CAAd,CACA,GAAI,CAACiK,OAAF,EAAaA,OAAO,CAACzX,MAAR,EAAgB,CAAhC,CAAoC,MAAO,MAAP,CACpC,GAAI,CAACyX,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,CAAL,CAAqB,MAAO,MAAP,CACrBA,OAAO,CAAGA,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,CAAV,CACA,GAAInK,IAAG,CAAGrC,UAAU,CAACwM,OAAO,CAAC,CAAD,CAAP,CAAW5G,mCAAZ,CAAV,CAA2D9P,OAA3D,CAAmE,CAAnE,CAAV,CACA,GAAG0M,KAAK,CAACH,GAAD,CAAR,CAAc,CAAEA,GAAG,CAAG,GAAN,CAAW,CAA3B,IAAiC,CAAEA,GAAG,CAAGA,GAAG,CAAG,oBAAZ,CAAiC,CACpEmJ,UAAU,CAAC3M,MAAX,CAAkB,wBAAlB,EAA4Cb,IAA5C,CAAiDqE,GAAjD,EACH,CAED,GAAGjP,OAAO,CAACkQ,UAAR,EAAoB,4BAAvB,CAAoD,CAChD,GAAIkJ,QAAO,CAAGnZ,IAAI,CAAC+N,MAAL,CAAYnH,MAAZ,CAAmB,SAAA9C,CAAC,QAAEA,EAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQsQ,YAAR,EAAwBlF,EAA1B,EAApB,CAAd,CACA,GAAI,CAACiK,OAAF,EAAaA,OAAO,CAACzX,MAAR,EAAgB,CAAhC,CAAoC,MAAO,MAAP,CACpC,GAAI,CAACyX,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,CAAL,CAAqB,MAAO,MAAP,CACrBA,OAAO,CAAGA,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,CAAV,CACA,GAAInK,IAAG,CAAGrC,UAAU,CAACwM,OAAO,CAAC,CAAD,CAAP,CAAW3G,0BAAZ,CAAV,CAAkD/P,OAAlD,CAA0D,CAA1D,CAAV,CACA,GAAG0M,KAAK,CAACH,GAAD,CAAR,CAAc,CAAEA,GAAG,CAAG,GAAN,CAAW,CAA3B,IAAiC,CAAEA,GAAG,CAAGA,GAAG,CAAG,sBAAZ,CAAmC,CACtEmJ,UAAU,CAAC3M,MAAX,CAAkB,wBAAlB,EAA4Cb,IAA5C,CAAiDqE,GAAjD,EACH,CAED,GAAIkL,IAAG,CAAG/B,UAAU,CAAC3M,MAAX,CAAkB,wBAAlB,EAA4Cb,IAA5C,EAAV,CACA,GAAGuP,GAAG,CAAC1D,QAAJ,CAAa,KAAb,CAAH,CAAwB2B,UAAU,CAAC1Q,IAAX,CAAgB,SAAhB,CAA2B,MAA3B,EAExBV,wBAAA,CAAU,iBAAV,EAA6BU,IAA7B,CAAkC,OAAlC,CAA2C,EAA3C,EACA,GAAIsE,KAAI,CAAGhF,wBAAA,CAAU,mBAAV,EAA+B+C,IAA/B,GAAsCkC,OAAtC,EAAX,CACAjF,wBAAA,CAAU,iBAAV,EAA6BU,IAA7B,CAAkC,OAAlC,CAA4CkF,UAAU,CAACZ,IAAI,CAACrE,KAAN,CAAV,CAAuB,EAAnE,EACA,GAAIK,MAAK,CAAGqS,MAAM,CAACC,UAAP,CAAkB,IAA9B,CACAlC,UAAU,CACT1Q,IADD,CACM,SADN,CACiB,QADjB,EAECA,IAFD,CAEM,WAFN,CAEmB,cAAcsR,CAAC,CAACa,KAAF,CAAQtY,CAAR,CAAU,EAAxB,EAA4B,GAA5B,CAAgCyX,CAAC,CAACa,KAAF,CAAQzQ,CAAxC,CAA0C,SAA1C,CAAoDpB,KAApD,CAA0D,GAF7E,EAGA,GAAIuS,aAAY,CAAGnC,UAAU,CAACrO,IAAX,GAAkBkC,OAAlB,EAAnB,CAEA,GAAGmM,UAAU,CAAC3M,MAAX,CAAkB,yBAAlB,EAA6Cb,IAA7C,GAAoDjJ,MAApD,EAA4D,CAA/D,CAAiE,CAC7DyW,UAAU,CACT1Q,IADD,CACM,SADN,CACiB,MADjB,EAEH,EAED;AACH,CA7ED,IA6EO,CACH0Q,UAAU,CAAC1Q,IAAX,CAAgB,SAAhB,CAA2B,MAA3B,EACH,CACJ,CA7FD,EAgGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEAqM,GAAG,CAACmF,iBAAJ,CACI,WADJ,CAEI,YAFJ,CAGI,SAHJ,EAMH,CAED;AACA;AACA;AAEeb,iDAAf,E;;;;;AC/gBE,0EAEF,GAAMmC,cAAa,CAAG,wBAAtB,CACA,GAAMC,UAAS,CAAG,qBAAlB,CACA,GAAMC,WAAU,CAAG,6BAAnB,CACA;AACA,GAAMC,SAAQ,CAAG,0BAAjB,CACA;AACA,GAAMC,gBAAe,CAAG,8BAAxB,CACA;AACA,GAAMC,mBAAkB,CAAG,iCAA3B,CACA;AACA,GAAMC,gBAAe,CAAG,qBAAxB,CACA,GAAMC,kBAAiB,CAAG,wBAA1B,CACA,GAAMC,sBAAqB,CAAG,4BAA9B,CACA,GAAMC,yBAAwB,CAAG,+BAAjC,CAEA,GAAMhb,SAAI,CAAG,EAAb,CAEA,GAAMib,cAAa,CAAG,CACpB,CAAE/L,EAAE,CAAE,IAAN,CAAYvE,IAAI,CAAE,UAAlB,CADoB,CAEpB,CAAEuE,EAAE,CAAE,IAAN,CAAYvE,IAAI,CAAE,QAAlB,CAFoB,CAGpB,CAAEuE,EAAE,CAAE,IAAN,CAAYvE,IAAI,CAAE,cAAlB,CAHoB,CAIpB,CAAEuE,EAAE,CAAE,IAAN,CAAYvE,IAAI,CAAE,8BAAlB,CAJoB,CAKpB,CAAEuE,EAAE,CAAE,IAAN,CAAYvE,IAAI,CAAE,QAAlB,CALoB,CAAtB,CAQA,GAAMuQ,eAAc,CAAG,EAAvB,CAEA,QAASC,QAAT,EAAe,eAEmBC,yBAAQ,CAAC,CAAD,CAF3B,kEAENC,QAFM,eAEIC,WAFJ,8BAGuBF,yBAAQ,CAAC,uBAAD,CAH/B,mEAGNG,UAHM,eAGMC,aAHN,uBAKEC,KALF,kJAKb,gJAEE;AACMC,MAHR,CAGiB3U,qBAAA,CAAOyT,SAAP,CAHjB,CAIEkB,MAAM,CAACC,IAAP,CAAY,SAAS7X,CAAT,CAAW,CACrBiD,wBAAA,CAAU,gBAAV,EAA4B+C,IAA5B,GAAmCtC,MAAnC,CAA0CT,wBAAA,CAAUjD,CAAC,CAAC8X,eAAZ,EAA6BnU,IAA7B,CAAkC,OAAlC,CAA2C,MAA3C,EAAmDA,IAAnD,CAAwD,QAAxD,CAAkE,MAAlE,EAA0EqC,IAA1E,EAA1C,EACA,GAAMhK,IAAG,CAAGiH,wBAAA,CAAU,oBAAV,CAAZ,CACAjH,GAAG,CAAC0L,MAAJ,CAAW,OAAX,EAAoBjE,MAApB,GACAzH,GAAG,CAAC2H,IAAJ,CAAS,IAAT,CAAe,KAAf,EACAmI,UAAM,CAAC9P,GAAD,CAAMC,OAAN,CAAeC,QAAf,CAAqB4G,MAArB,CAA6BiJ,WAA7B,CAA0CC,aAA1C,CAAN,CACAwL,WAAW,CAAC,GAAD,CAAX,CACAE,aAAa,CAAC,4BAAD,CAAb,CACA;AACA,GAAMK,WAAU,CAAG9U,qBAAA,CAAOwT,aAAP,CAAnB,CACAsB,UAAU,CAACF,IAAX,CAAgB,SAAS7X,CAAT,CAAW,CACzB9D,QAAI,CAACgS,WAAL,CAAmBlO,CAAnB,CACAA,CAAC,CAACD,OAAF,CAAU,SAASC,CAAT,CAAWC,CAAX,CAAa,CACrBmX,cAAc,CAAC3V,IAAf,CAAoB,CAAC,OAAQzB,CAAC,CAAC8O,YAAX,CAAyB,KAAM,WAAW9O,CAAC,CAACuQ,YAA5C,CAApB,EACD,CAFD,EAGAyH,aAAa,GACbR,WAAW,CAAC,GAAD,CAAX,CACAE,aAAa,CAAC,yBAAD,CAAb,CACA;AACA,GAAMO,aAAY,CAAGhV,qBAAA,CAAO4T,eAAP,CAArB,CACEoB,YAAY,CAACJ,IAAb,CAAkB,SAAS7X,CAAT,CAAW,CAC3B9D,QAAI,CAAC0F,aAAL,CAAqB5B,CAArB,CACAwX,WAAW,CAAC,IAAD,CAAX,CACAE,aAAa,CAAC,+BAAD,CAAb,CACC;AACA,GAAMQ,gBAAe,CAAGjV,qBAAA,CAAO6T,kBAAP,CAAxB,CACAoB,eAAe,CAACL,IAAhB,CAAqB,SAAS7X,CAAT,CAAW,CAC9B9D,QAAI,CAACuT,iBAAL,CAAyBzP,CAAzB,CACAwX,WAAW,CAAC,IAAD,CAAX,CACAE,aAAa,CAAC,+BAAD,CAAb,CACC;AACA,GAAMS,mBAAkB,CAAGlV,qBAAA,CAAOgU,qBAAP,CAA3B,CACAkB,kBAAkB,CAACN,IAAnB,CAAwB,SAAS7X,CAAT,CAAW,CACjC9D,QAAI,CAACiU,eAAL,CAAuBnQ,CAAvB,CACAwX,WAAW,CAAC,IAAD,CAAX,CACAE,aAAa,CAAC,4BAAD,CAAb,CACA;AACA,GAAMU,sBAAqB,CAAGnV,qBAAA,CAAOiU,wBAAP,CAA9B,CACAkB,qBAAqB,CAACP,IAAtB,CAA2B,SAAS7X,CAAT,CAAW,CACpC9D,QAAI,CAACkU,kBAAL,CAA0BpQ,CAA1B,CACAwX,WAAW,CAAC,GAAD,CAAX,CACEE,aAAa,CAAC,oCAAD,CAAb,CACA;AACA,GAAMW,aAAY,CAAGpV,qBAAA,CAAO8T,eAAP,CAArB,CACAsB,YAAY,CAACR,IAAb,CAAkB,SAAS7X,CAAT,CAAW,CAC3B9D,QAAI,CAAC0J,aAAL,CAAqB5F,CAArB,CACAwX,WAAW,CAAC,GAAD,CAAX,CACAE,aAAa,CAAC,4BAAD,CAAb,CACA;AACA,GAAMY,eAAc,CAAGrV,qBAAA,CAAO+T,iBAAP,CAAvB,CACAsB,cAAc,CAACT,IAAf,CAAoB,SAAS7X,CAAT,CAAW,CAC7B9D,QAAI,CAACqc,WAAL,CAAmBvY,CAAnB,CACAwX,WAAW,CAAC,IAAD,CAAX,CACAE,aAAa,CAAC,6BAAD,CAAb,CACA;AACA,GAAMc,QAAO,CAAGvV,qBAAA,CAAO0T,UAAP,CAAhB,CACA6B,OAAO,CAACX,IAAR,CAAa,SAAS7X,CAAT,CAAW,CACtB9D,QAAI,CAAC4D,QAAL,CAAgBE,CAAhB,CACAwX,WAAW,CAAC,GAAD,CAAX,CACAE,aAAa,CAAC,sBAAD,CAAb,CACA;AACA;AACA,GAAMe,MAAK,CAAGxV,sBAAA,CAAQ2T,QAAR,CAAd,CACA6B,KAAK,CAACZ,IAAN,CAAW,SAAS7X,CAAT,CAAW,CACpB9D,QAAI,CAACuc,KAAL,CAAazY,CAAb,CACA0X,aAAa,CAAC,mBAAD,CAAb,CACAF,WAAW,CAAC,CAAD,CAAX,CACAnI,aAAS,CAACnT,QAAD,CAAOD,OAAP,CAAT,CACAyc,YAAY,GACZzV,wBAAA,CAAU,YAAV,EAAwBmG,UAAxB,GAAqCC,QAArC,CAA8C,IAA9C,EAAoD3C,KAApD,CAA0D,SAA1D,CAAqE,CAArE,EAAwEN,EAAxE,CAA2E,KAA3E,CAAkF,iBAAMnD,yBAAA,CAAU,YAAV,EAAwBQ,MAAxB,EAAN,EAAlF,EACD,CAPD,EAQL,CAfG,EAgBL,CAtBG,EAuBL,CA7BG,EA8BL,CApCC,EAqCH,CA3CC,EA4CH,CAlDA,EAmDF,CAzDD,EA0DH,CApED,EAqED,CA/ED,EAJF,sDALa,uCA2Fb,QAASiV,aAAT,EAAuB,CAErBzV,wBAAA,CAAU,sBAAV,EAAkC4D,IAAlC,CAAuCxE,gBAAM,CAACpG,OAAO,CAACkV,WAAT,CAAN,CAA4BvK,MAA5B,CAAmC,IAAnC,CAAvC,EACA3D,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwCxE,gBAAM,CAACpG,OAAO,CAACmV,YAAT,CAAN,CAA6BxK,MAA7B,CAAoC,IAApC,CAAxC,EAEAhH,aAAa,CAAC1D,QAAD,CAAOD,OAAP,CAAb,CACA+N,eAAe,CAAC9N,QAAD,CAAOD,OAAP,CAAgB6G,MAAhB,CAAf,CACAiJ,WAAW,CAAC7P,QAAD,CAAOD,OAAP,CAAX,CACA0c,YAAY,CAACzc,QAAD,CAAOD,OAAP,CAAZ,CACAqY,SAAS,CAACpY,QAAD,CAAOD,OAAP,CAAgB6G,MAAhB,CAAT,CACAmL,eAAe,CAAC/R,QAAD,CAAOD,OAAP,CAAgB6G,MAAhB,CAAf,CAED,CAED,QAASA,OAAT,CAAgBsI,EAAhB,CAAmB6J,CAAnB,CAAqB,CACnBhZ,OAAO,CAACqR,IAAR,CAAe,CAAf,CACA,GAAGlC,EAAE,EAAE,OAAP,CAAe,CACbnP,OAAO,CAACiQ,aAAR,CAAwB,EAAxB,CACAjQ,OAAO,CAACkT,cAAR,CAAyB,EAAzB,CACAlM,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,SAAnC,CAA8C,MAA9C,EACD,CACD,GAAGyH,EAAE,EAAE,cAAP,CAAsB,CACpBnP,OAAO,CAACiQ,aAAR,CAAwB,EAAxB,CACD,CAED,GAAGd,EAAE,EAAE,WAAP,CAAmB,CACjBnP,OAAO,CAAC0Q,UAAR,CAAqB,EAArB,CACD,CAED,GAAGvB,EAAE,EAAE,cAAP,CAAsB,CACpBnP,OAAO,CAAC2Q,aAAR,CAAwB,EAAxB,CACD,CAED,GAAIxB,EAAE,CAACxN,MAAH,EAAW,CAAZ,EAAiBwN,EAAE,CAAC,CAAD,CAAF,CAAMxN,MAAN,EAAc,CAA/B,EAAoCwN,EAAE,EAAE,QAA3C,CAAqD,CACnD,GAAGnP,OAAO,CAACiQ,aAAR,CAAsBwG,QAAtB,CAA+BtH,EAAE,CAAC,CAAD,CAAjC,CAAH,CAAyC,CACvCnP,OAAO,CAACiQ,aAAR,CAAwBjQ,OAAO,CAACiQ,aAAR,CAAsBpJ,MAAtB,CAA6B,SAAA9C,CAAC,QAAEA,EAAC,GAAGoL,EAAE,CAAC,CAAD,CAAR,EAA9B,CAAxB,CACD,CAFD,IAEO,CACLnP,OAAO,CAACiQ,aAAR,CAAsBzK,IAAtB,CAA2B2J,EAAE,CAAC,CAAD,CAA7B,EACD,CACF,CAED,GAAGnP,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,EAA8B,CAAjC,CAAoC3B,OAAO,CAACiQ,aAAR,CAAwB,EAAxB,CAEpC,GAAGjQ,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,CAA6B,CAAhC,CAAkC,CAChCqF,wBAAA,CAAU,uBAAV,EAAmCU,IAAnC,CAAwC,SAAxC,CAAmD,CAAnD,EAEAV,2BAAA,CAAa,aAAb,EAA4BU,IAA5B,CAAiC,SAAjC,CAA4C,GAA5C,EACA1H,OAAO,CAACiQ,aAAR,CAAsBnM,OAAtB,CAA8B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACzCgD,wBAAA,CAAU,cAAcjD,CAAxB,EAA2B2D,IAA3B,CAAgC,SAAhC,CAA2C,CAA3C,EACD,CAFD,EAGD,CAPD,IAOO,CACHV,wBAAA,CAAU,uBAAV,EAAmCU,IAAnC,CAAwC,SAAxC,CAAmD,CAAnD,EACAV,2BAAA,CAAa,aAAb,EAA4BU,IAA5B,CAAiC,SAAjC,CAA4C,CAA5C,EACH,CAEDzH,QAAI,CAACgS,WAAL,CAAmBhS,QAAI,CAAC8X,QAAL,CAAc9F,WAAjC,CAEA,GAAI0K,cAAa,CAAG,EAApB,CACA,GAAG3c,OAAO,CAAC0Q,UAAR,CAAmB/O,MAAnB,CAA0B,CAA7B,CAA+B,CAC7BqF,wBAAA,CAAU,oBAAV,EAAgCU,IAAhC,CAAqC,SAArC,CAAgD,CAAhD,EACAzH,QAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASC,CAAT,CAAWC,CAAX,CAAa,CACpC,GAAGhE,OAAO,CAAC0Q,UAAR,CAAmB+F,QAAnB,CAA4B1S,CAAC,CAAC5D,YAA9B,CAAH,CAA+C,CAC7Cwc,aAAa,CAACnX,IAAd,CAAmBzB,CAAC,CAACuQ,YAArB,EACD,CACF,CAJD,EAKD,CAPD,IAOO,CACLtN,wBAAA,CAAU,oBAAV,EAAgCU,IAAhC,CAAqC,SAArC,CAAgD,CAAhD,EACD,CAED,GAAIkV,iBAAgB,CAAG,EAAvB,CACA,GAAG5c,OAAO,CAAC2Q,aAAR,CAAsBhP,MAAtB,CAA6B,CAAhC,CAAkC,CAChCqF,wBAAA,CAAU,uBAAV,EAAmCU,IAAnC,CAAwC,SAAxC,CAAmD,CAAnD,EACAzH,QAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASC,CAAT,CAAWC,CAAX,CAAa,CACpC,GAAGhE,OAAO,CAAC2Q,aAAR,CAAsB8F,QAAtB,CAA+B1S,CAAC,CAAC3D,eAAjC,CAAH,CAAqD,CACnDwc,gBAAgB,CAACpX,IAAjB,CAAsBzB,CAAC,CAACuQ,YAAxB,EACD,CACF,CAJD,EAKD,CAPD,IAOO,CACLtN,wBAAA,CAAU,uBAAV,EAAmCU,IAAnC,CAAwC,SAAxC,CAAmD,CAAnD,EACD,CAED,GAAIyH,EAAE,CAACxN,MAAH,EAAW,CAAZ,EAAiBwN,EAAE,CAAC,CAAD,CAAF,CAAMxN,MAAN,CAAa,CAAjC,CAAoC,CAClC,GAAIkb,KAAI,CAAG1N,EAAE,CAAC,CAAD,CAAF,CAAM2N,SAAN,CAAgB,CAAhB,CAAX,CACA,GAAG9c,OAAO,CAACkT,cAAR,CAAuBuD,QAAvB,CAAgCoG,IAAhC,CAAH,CAAyC,CACvC7c,OAAO,CAACkT,cAAR,CAAyBlT,OAAO,CAACkT,cAAR,CAAuBrM,MAAvB,CAA8B,SAAA9C,CAAC,QAAEA,EAAC,GAAG8Y,IAAN,EAA/B,CAAzB,CACD,CAFD,IAEO,CACL7c,OAAO,CAACkT,cAAR,CAAuB1N,IAAvB,CAA4BqX,IAA5B,EACD,CACF,CAED,GAAI7c,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,EAA8B,CAA/B,EAAoC3B,OAAO,CAACkT,cAAR,CAAuBvR,MAAvB,EAA+B,CAAtE,CAAyE,CACvEqF,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,SAAnC,CAA8C,MAA9C,EACD,CAED,GAAIqV,WAAU,CAAG,EAAjB,CACA/c,OAAO,CAACkT,cAAR,CAAuBpP,OAAvB,CAA+B,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC1C+Y,UAAU,CAACvX,IAAX,CAAgB,WAAWzB,CAA3B,EACD,CAFD,EAIA,GAAI/D,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,CAA6B,CAA9B,EAAmC3B,OAAO,CAACkT,cAAR,CAAuBvR,MAAvB,CAA8B,CAApE,CAAwE,CACpEqF,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,SAAnC,CAA8C,QAA9C,EACD,CAFH,IAES,CACLV,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,SAAnC,CAA8C,MAA9C,EACD,CAEH,GAAIsV,YAAW,CAAGhd,OAAO,CAACiQ,aAAR,CAAsBgN,MAAtB,CAA6BF,UAA7B,CAAlB,CACAG,gBAAC,CAAC,eAAD,CAAD,CAAmBjO,GAAnB,CAAuB+N,WAAvB,EACAE,gBAAC,CAAC,eAAD,CAAD,CAAmBC,OAAnB,CAA2B,QAA3B,EAEA;AACAld,QAAI,CAAC4D,QAAL,CAAgB5D,QAAI,CAAC8X,QAAL,CAAclU,QAA9B,CAEA,GAAG+Y,gBAAgB,CAACjb,MAAjB,CAAwB,CAA3B,CAA6B,CAC3B1B,QAAI,CAAC4D,QAAL,CAAgB5D,QAAI,CAAC4D,QAAL,CAAcgD,MAAd,CAAqB,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CAChD,MAAO4Y,iBAAgB,CAACnG,QAAjB,CAA0B1S,CAAC,CAACsQ,YAA5B,CAAP,CACD,CAFe,CAAhB,CAGD,CAED,GAAIrU,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,CAA6B,CAA9B,EAAmC3B,OAAO,CAACkT,cAAR,CAAuBvR,MAAvB,CAA8B,CAAjE,EAAsEgb,aAAa,CAAChb,MAAd,CAAqB,CAA9F,CAAiG,CAC/F1B,QAAI,CAAC4D,QAAL,CAAgB5D,QAAI,CAAC4D,QAAL,CAAcgD,MAAd,CAAqB,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CAChD,GAAG2Y,aAAa,CAAChb,MAAd,CAAqB,CAAxB,CAA0B,CACxB,GAAI3B,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,CAA6B,CAA9B,EAAmC3B,OAAO,CAACkT,cAAR,CAAuBvR,MAAvB,CAA8B,CAApE,CAAuE,CACrE,MAAO,CAAC3B,OAAO,CAACiQ,aAAR,CAAsBwG,QAAtB,CAA+B1S,CAAC,CAACM,WAAjC,GAAgDrE,OAAO,CAACkT,cAAR,CAAuBuD,QAAvB,CAAgC1S,CAAC,CAACsQ,YAAlC,CAAjD,GAAqGsI,aAAa,CAAClG,QAAd,CAAuB1S,CAAC,CAACsQ,YAAzB,CAA5G,CACD,CAFD,IAEO,CACL,MAAQsI,cAAa,CAAClG,QAAd,CAAuB1S,CAAC,CAACsQ,YAAzB,CAAR,CACD,CACF,CAND,IAMO,CACL,MAAOrU,QAAO,CAACiQ,aAAR,CAAsBwG,QAAtB,CAA+B1S,CAAC,CAACM,WAAjC,GAAgDrE,OAAO,CAACkT,cAAR,CAAuBuD,QAAvB,CAAgC1S,CAAC,CAACsQ,YAAlC,CAAvD,CACD,CACF,CAVe,CAAhB,CAWD,CACDpU,QAAI,CAACiG,wBAAL,CAAgCjG,QAAI,CAAC8X,QAAL,CAAc7R,wBAA9C,CAEA,GAAG0W,gBAAgB,CAACjb,MAAjB,CAAwB,CAA3B,CAA6B,CAC3B1B,QAAI,CAACiG,wBAAL,CAAgCjG,QAAI,CAACiG,wBAAL,CAA8BW,MAA9B,CAAqC,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CAChF,MAAO4Y,iBAAgB,CAACnG,QAAjB,CAA0B1S,CAAC,CAACsQ,YAA5B,CAAP,CACD,CAF+B,CAAhC,CAGD,CACD,GAAIrU,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,CAA6B,CAA9B,EAAmC3B,OAAO,CAACkT,cAAR,CAAuBvR,MAAvB,CAA8B,CAAjE,EAAsEgb,aAAa,CAAChb,MAAd,CAAqB,CAA9F,CAAiG,CAC/F1B,QAAI,CAACiG,wBAAL,CAAgCjG,QAAI,CAACiG,wBAAL,CAA8BW,MAA9B,CAAqC,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CAChF,GAAG2Y,aAAa,CAAChb,MAAd,CAAqB,CAAxB,CAA0B,CACxB,GAAI3B,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,CAA6B,CAA9B,EAAmC3B,OAAO,CAACkT,cAAR,CAAuBvR,MAAvB,CAA8B,CAApE,CAAuE,CACrE,MAAO,CAAC3B,OAAO,CAACiQ,aAAR,CAAsBwG,QAAtB,CAA+B1S,CAAC,CAACM,WAAjC,GAAgDrE,OAAO,CAACkT,cAAR,CAAuBuD,QAAvB,CAAgC1S,CAAC,CAACsQ,YAAlC,CAAjD,GAAqGsI,aAAa,CAAClG,QAAd,CAAuB1S,CAAC,CAACsQ,YAAzB,CAA5G,CACD,CAFD,IAEO,CACL,MAAQsI,cAAa,CAAClG,QAAd,CAAuB1S,CAAC,CAACsQ,YAAzB,CAAR,CACD,CACF,CAND,IAMO,CACL,MAAOrU,QAAO,CAACiQ,aAAR,CAAsBwG,QAAtB,CAA+B1S,CAAC,CAACM,WAAjC,GAAgDrE,OAAO,CAACkT,cAAR,CAAuBuD,QAAvB,CAAgC1S,CAAC,CAACsQ,YAAlC,CAAvD,CACD,CACF,CAV+B,CAAhC,CAWD,CACDpU,QAAI,CAAC2F,mBAAL,CAA2B3F,QAAI,CAAC8X,QAAL,CAAcnS,mBAAzC,CACA,GAAGgX,gBAAgB,CAACjb,MAAjB,CAAwB,CAA3B,CAA6B,CAC3B1B,QAAI,CAAC2F,mBAAL,CAA2B3F,QAAI,CAAC2F,mBAAL,CAAyBiB,MAAzB,CAAgC,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CACtE,MAAO4Y,iBAAgB,CAACnG,QAAjB,CAA0B1S,CAAC,CAACsQ,YAA5B,CAAP,CACD,CAF0B,CAA3B,CAGD,CACD,GAAIrU,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,CAA6B,CAA9B,EAAmC3B,OAAO,CAACkT,cAAR,CAAuBvR,MAAvB,CAA8B,CAAjE,EAAsEgb,aAAa,CAAChb,MAAd,CAAqB,CAA9F,CAAiG,CAC/F1B,QAAI,CAAC2F,mBAAL,CAA2B3F,QAAI,CAAC2F,mBAAL,CAAyBiB,MAAzB,CAAgC,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CACtE,GAAG2Y,aAAa,CAAChb,MAAd,CAAqB,CAAxB,CAA0B,CACxB,GAAI3B,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,CAA6B,CAA9B,EAAmC3B,OAAO,CAACkT,cAAR,CAAuBvR,MAAvB,CAA8B,CAApE,CAAuE,CACrE,MAAO,CAAC3B,OAAO,CAACiQ,aAAR,CAAsBwG,QAAtB,CAA+B1S,CAAC,CAACM,WAAjC,GAAgDrE,OAAO,CAACkT,cAAR,CAAuBuD,QAAvB,CAAgC1S,CAAC,CAACsQ,YAAlC,CAAjD,GAAqGsI,aAAa,CAAClG,QAAd,CAAuB1S,CAAC,CAACsQ,YAAzB,CAA5G,CACD,CAFD,IAEO,CACL,MAAQsI,cAAa,CAAClG,QAAd,CAAuB1S,CAAC,CAACsQ,YAAzB,CAAR,CACD,CACF,CAND,IAMO,CACL,MAAOrU,QAAO,CAACiQ,aAAR,CAAsBwG,QAAtB,CAA+B1S,CAAC,CAACM,WAAjC,GAAgDrE,OAAO,CAACkT,cAAR,CAAuBuD,QAAvB,CAAgC1S,CAAC,CAACsQ,YAAlC,CAAvD,CACD,CACF,CAV0B,CAA3B,CAWD,CACD,GAAGuI,gBAAgB,CAACjb,MAAjB,CAAwB,CAA3B,CAA6B,CAC3B1B,QAAI,CAACgS,WAAL,CAAmBhS,QAAI,CAACgS,WAAL,CAAiBpL,MAAjB,CAAwB,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CACtD,MAAO4Y,iBAAgB,CAACnG,QAAjB,CAA0B1S,CAAC,CAACuQ,YAA5B,CAAP,CACD,CAFkB,CAAnB,CAGD,CACD,GAAItU,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,CAA6B,CAA9B,EAAmC3B,OAAO,CAACkT,cAAR,CAAuBvR,MAAvB,CAA8B,CAAjE,EAAsEgb,aAAa,CAAChb,MAAd,CAAqB,CAA9F,CAAiG,CAC/F1B,QAAI,CAACgS,WAAL,CAAmBhS,QAAI,CAACgS,WAAL,CAAiBpL,MAAjB,CAAwB,SAAS9C,CAAT,CAAWC,CAAX,CAAa,CACtD,GAAG2Y,aAAa,CAAChb,MAAd,CAAqB,CAAxB,CAA0B,CACxB,GAAI3B,OAAO,CAACiQ,aAAR,CAAsBtO,MAAtB,CAA6B,CAA9B,EAAmC3B,OAAO,CAACkT,cAAR,CAAuBvR,MAAvB,CAA8B,CAApE,CAAuE,CACrE,MAAO,CAAC3B,OAAO,CAACiQ,aAAR,CAAsBwG,QAAtB,CAA+B1S,CAAC,CAACM,WAAjC,GAAgDrE,OAAO,CAACkT,cAAR,CAAuBuD,QAAvB,CAAgC1S,CAAC,CAACuQ,YAAlC,CAAjD,GAAqGqI,aAAa,CAAClG,QAAd,CAAuB1S,CAAC,CAACuQ,YAAzB,CAA5G,CACD,CAFD,IAEO,CACL,MAAQqI,cAAa,CAAClG,QAAd,CAAuB1S,CAAC,CAACuQ,YAAzB,CAAR,CACD,CACF,CAND,IAMO,CACL,MAAOtU,QAAO,CAACiQ,aAAR,CAAsBwG,QAAtB,CAA+B1S,CAAC,CAACM,WAAjC,GAAgDrE,OAAO,CAACkT,cAAR,CAAuBuD,QAAvB,CAAgC1S,CAAC,CAACuQ,YAAlC,CAAvD,CACD,CACF,CAVkB,CAAnB,CAWD,CAED8I,kBAAkB,GAClBC,YAAY,GAEb,CACD,QAASA,aAAT,EAAuB,CACrBnO,iBAAiB,CAAClP,OAAD,CAASC,QAAT,CAAjB,CACA6P,WAAW,CAAC7P,QAAD,CAAOD,OAAP,CAAX,CACA0c,YAAY,CAACzc,QAAD,CAAOD,OAAP,CAAZ,CACAkN,eAAe,CAACjN,QAAD,CAAOD,OAAP,CAAf,CACA+P,aAAS,CAAC9P,QAAD,CAAMD,OAAN,CAAT,CACA+S,iBAAiB,CAAC9S,QAAD,CAAOD,OAAP,CAAgB6G,MAAhB,CAAjB,CACD,CAED,QAAS6V,aAAT,CAAsBzc,IAAtB,CAA2BD,OAA3B,CAAmC,CACjC,GAAIsd,WAAU,CAAGtW,qBAAA,CAAO/G,IAAI,CAACyO,iBAAZ,CAA+B,SAAA3K,CAAC,QAAEA,EAAC,CAACS,gBAAJ,EAAhC,CAAjB,CACA,GAAI+Y,YAAW,CAAGvW,qBAAA,CAAO/G,IAAI,CAACyO,iBAAZ,CAA+B,SAAA3K,CAAC,QAAEA,EAAC,CAACU,iBAAJ,EAAhC,CAAlB,CACA,GAAI+Y,qBAAoB,CAAGxW,2BAAA,CAAa/G,IAAI,CAAC4D,QAAlB,CAA4B,SAAAE,CAAC,QAAIA,EAAC,CAACsQ,YAAN,EAA7B,EAAiD1S,MAA5E,CACA,GAAI8b,UAAS,CAAGzW,2BAAA,CAAa/G,IAAI,CAAC4D,QAAlB,CAA4B,SAAAE,CAAC,QAAIA,EAAC,CAACsQ,YAAN,EAA7B,CAAhB,CACA;AACA,GAAIqJ,cAAa,CAAG1W,qBAAA,CAAO/G,IAAI,CAACgS,WAAZ,CAAyB,SAAAlO,CAAC,QAAEA,EAAC,CAAC4C,kBAAJ,EAA1B,CAApB,CAEA1G,IAAI,CAACmZ,OAAL,CAAe,EAAf,CACAqE,SAAS,CAAC3Z,OAAV,CAAkB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC7B,GAAI2Z,eAAc,CAAG5Z,CAAC,CAAC,CAAD,CAAD,CAAKA,CAAC,CAAC,CAAD,CAAD,CAAKpC,MAAL,CAAY,EAAjB,EAAqB6C,gBAA1C,CACA,GAAIoZ,eAAc,CAAG7Z,CAAC,CAAC,CAAD,CAAD,CAAKA,CAAC,CAAC,CAAD,CAAD,CAAKpC,MAAL,CAAY,EAAjB,EAAqB6C,gBAA1C,CACA,GAAIqZ,eAAc,CAAG9Z,CAAC,CAAC,CAAD,CAAD,CAAKA,CAAC,CAAC,CAAD,CAAD,CAAKpC,MAAL,CAAY,CAAjB,EAAoB6C,gBAAzC,CACA,GAAIsZ,YAAW,CAAG/Z,CAAC,CAAC,CAAD,CAAD,CAAKA,CAAC,CAAC,CAAD,CAAD,CAAKpC,MAAL,CAAY,CAAjB,CAAlB,CACA,GAAIoc,cAAa,CAAGnR,UAAU,CAAC,CAAEkR,WAAW,CAACtZ,gBAAZ,CAA+BoZ,cAAhC,EAAiDA,cAAc,CAACD,cAAhE,CAAD,EAAkFA,cAAnF,CAA9B,CACA,GAAGK,QAAQ,CAACD,aAAD,CAAX,CAA4B,CAAED,WAAW,CAACzE,cAAZ,CAA6B0E,aAA7B,CAA6C,CAA3E,IAAiF,CAAED,WAAW,CAACzE,cAAZ,CAA6B,CAA7B,CAAgC,CACnHpZ,IAAI,CAACmZ,OAAL,CAAa5T,IAAb,CAAkB,CAAEzB,CAAC,CAAC,CAAD,CAAH,CAAQ+Z,WAAR,CAAqBF,cAArB,CAAqCD,cAArC,CAAqDE,cAArD,CAAlB,EACD,CARD,EAUA;AACA,GAAII,QAAO,CAAG,CAAC,YAAY,CAAb,CAAgB,OAAQ,CAAxB,CAA2B,SAAU,CAArC,CAAwC,MAAO,CAA/C,CAAd,CACA,GAAIC,kBAAiB,CAAG,CAAC,YAAY,CAAb,CAAgB,OAAQ,CAAxB,CAA2B,SAAU,CAArC,CAAwC,MAAO,CAA/C,CAAxB,CACA,GAAIC,gBAAe,CAAG,CAAC,YAAY,CAAb,CAAgB,OAAQ,CAAxB,CAA2B,SAAU,CAArC,CAAwC,MAAO,CAA/C,CAAtB,CACA,GAAIC,kBAAiB,CAAG,CAAC,YAAY,CAAb,CAAgB,OAAQ,CAAxB,CAA2B,SAAU,CAArC,CAAwC,MAAO,CAA/C,CAAxB,CACA,GAAIC,kBAAiB,CAAG,CAAC,YAAY,CAAb,CAAgB,OAAQ,CAAxB,CAA2B,SAAU,CAArC,CAAwC,MAAO,CAA/C,CAAxB,CACA,GAAIC,eAAc,CAAG,CAAC,YAAY,EAAb,CAAiB,OAAQ,EAAzB,CAA6B,SAAU,EAAvC,CAA2C,MAAO,EAAlD,CAArB,CACA,GAAIC,WAAU,CAAG,CAAC,YAAY,CAAb,CAAgB,OAAQ,CAAxB,CAA2B,SAAU,CAArC,CAAwC,MAAO,CAA/C,CAAkD,WAAY,CAA9D,CAAjB,CACA,GAAIC,qBAAoB,CAAG,CAAC,YAAY,CAAb,CAAgB,OAAQ,CAAxB,CAA2B,SAAU,CAArC,CAAwC,MAAO,CAA/C,CAAkD,WAAY,CAA9D,CAA3B,CACA,GAAIC,mBAAkB,CAAG,CAAC,YAAY,CAAb,CAAgB,OAAQ,CAAxB,CAA2B,SAAU,CAArC,CAAwC,MAAO,CAA/C,CAAkD,WAAY,CAA9D,CAAzB,CACA,GAAIC,qBAAoB,CAAG,CAAC,YAAY,CAAb,CAAgB,OAAQ,CAAxB,CAA2B,SAAU,CAArC,CAAwC,MAAO,CAA/C,CAAkD,WAAY,CAA9D,CAA3B,CACA,GAAIC,qBAAoB,CAAG,CAAC,YAAY,CAAb,CAAgB,OAAQ,CAAxB,CAA2B,SAAU,CAArC,CAAwC,MAAO,CAA/C,CAAkD,WAAY,CAA9D,CAA3B,CACA,GAAIC,kBAAiB,CAAG,CAAC,YAAY,EAAb,CAAiB,OAAQ,EAAzB,CAA6B,SAAU,EAAvC,CAA2C,MAAO,EAAlD,CAAsD,WAAY,EAAlE,CAAxB,CACA,GAAIC,wBAAuB,CAAG,CAA9B,CAEA5e,IAAI,CAAC6e,aAAL,CAAqB,EAArB,CACA,GAAIC,eAAc,CAAG,EAArB,CACA,GAAIC,mBAAkB,CAAG,CAAC,mBAAoB,CAArB,CAAwB,qBAAsB,CAA9C,CAAzB,CAEA,GAAIC,sBAAqB,CAAG,CAA5B,CACA,GAAIC,kBAAiB,CAAG,CAAC,mBAAoB,CAArB,CAAwB,oBAAqB,CAA7C,CAAxB,CACA,GAAG5B,UAAU,CAAC,CAAd,CAAgB,CACdrd,IAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CACpCD,EAAE,CAAC2O,aAAH,CAAiBvP,OAAjB,CAAyB,SAASqb,GAAT,CAAa,CACpC,GAAG,CAAClf,IAAI,CAAC6e,aAAL,CAAmBrI,QAAnB,CAA4B0I,GAA5B,CAAJ,CAAsClf,IAAI,CAAC6e,aAAL,CAAmBtZ,IAAnB,CAAwB2Z,GAAxB,EACvC,CAFD,EAGA,GAAG/P,KAAK,CAAC1K,EAAE,CAACiC,kBAAJ,CAAR,CAAgCjC,EAAE,CAACiC,kBAAH,CAAwB,CAAxB,CAEhCsX,OAAO,CAACvZ,EAAE,CAACvE,YAAJ,CAAP,EAA4B,CAA5B,CACA+d,iBAAiB,CAACxZ,EAAE,CAACvE,YAAJ,CAAjB,EAAsCiM,QAAQ,CAAC1H,EAAE,CAAC0N,UAAJ,CAA9C,CACA+L,eAAe,CAACzZ,EAAE,CAACvE,YAAJ,CAAf,EAAoCiM,QAAQ,CAAC1H,EAAE,CAACiC,kBAAJ,CAAR,EAAiC,CAArE,CACAsY,qBAAqB,EAAIva,EAAE,CAACuP,cAA5B,CACAsK,UAAU,CAAC7Z,EAAE,CAACtE,eAAJ,CAAV,EAAkC,CAAlC,CAEAse,oBAAoB,CAACha,EAAE,CAACtE,eAAJ,CAApB,EAA4CsE,EAAE,CAACgQ,gBAA/C,CACA0J,iBAAiB,CAAC1Z,EAAE,CAACvE,YAAJ,CAAjB,EAAsCuE,EAAE,CAACgQ,gBAAzC,CACA,GAAIhQ,EAAE,CAACvE,YAAH,EAAiB,WAAlB,EAAiCuE,EAAE,CAACvE,YAAH,EAAiB,MAAlD,EAA4DuE,EAAE,CAACvE,YAAH,EAAiB,QAA7E,EAAyFuE,EAAE,CAACvE,YAAH,EAAiB,KAA7G,CACAme,cAAc,CAAC5Z,EAAE,CAACvE,YAAJ,CAAd,CAAgCqF,IAAhC,CAAqCd,EAAE,CAACkQ,kBAAxC,EACA,GAAIlQ,EAAE,CAACtE,eAAH,EAAoB,WAArB,EAAoCsE,EAAE,CAACtE,eAAH,EAAoB,MAAxD,EAAkEsE,EAAE,CAACtE,eAAH,EAAoB,QAAtF,EAAkGsE,EAAE,CAACtE,eAAH,EAAoB,KAAtH,EAA+HsE,EAAE,CAACtE,eAAH,EAAoB,UAAtJ,CACAwe,iBAAiB,CAACla,EAAE,CAACtE,eAAJ,CAAjB,CAAsCoF,IAAtC,CAA2Cd,EAAE,CAACkQ,kBAA9C,EAEA4J,oBAAoB,CAAC9Z,EAAE,CAACtE,eAAJ,CAApB,EAA4CgM,QAAQ,CAAC1H,EAAE,CAAC0N,UAAJ,CAApD,CACAqM,kBAAkB,CAAC/Z,EAAE,CAACtE,eAAJ,CAAlB,EAA0CgM,QAAQ,CAAC1H,EAAE,CAACiC,kBAAJ,CAAR,EAAiC,CAA3E,CACA,GAAIoI,IAAG,CAAG0O,SAAS,CAAC5W,MAAV,CAAiB,SAAC9C,CAAD,QAAKA,EAAC,CAAC,CAAD,CAAD,EAAMW,EAAE,CAAC4P,YAAd,EAAjB,CAAV,CACA,GAAIvF,GAAG,CAAC,CAAD,CAAH,CAAO,CAAP,EAAUpN,MAAV,CAAiB,CAAlB,EAAuBoN,GAAG,CAAC,CAAD,CAA7B,CAAkC,CAChC,GAAIkI,WAAU,CAAGlI,GAAG,CAAC,CAAD,CAAH,CAAO,CAAP,EAAUA,GAAG,CAAC,CAAD,CAAH,CAAO,CAAP,EAAUpN,MAAV,CAAiB,CAA3B,CAAjB,CACA;AACA0c,iBAAiB,CAAC3Z,EAAE,CAACvE,YAAJ,CAAjB,EAAsC8W,UAAU,CAACzS,gBAAjD,CACAma,oBAAoB,CAACja,EAAE,CAACtE,eAAJ,CAApB,EAA4C6W,UAAU,CAACzS,gBAAvD,CACD,CACH;AACA,GAAGE,EAAE,CAAC6O,gBAAH,CAAoB,CAAvB,CAA0BwL,cAAc,CAACvZ,IAAf,CAAoB,CAACd,EAAE,CAAC6O,gBAAJ,CAAqB7O,EAAE,CAAC0N,UAAxB,CAApB,EAC1B;AACA,GAAIA,WAAU,CAAG,CAAjB,CACA,GAAG1N,EAAE,CAAC8P,6BAAN,CAAoC,CAClCpC,UAAU,CAAG1N,EAAE,CAAC8P,6BAAhB,CACD,CAFD,IAEO,IAAI9P,EAAE,CAAC0N,UAAP,CAAkB,CACvBA,UAAU,CAAG1N,EAAE,CAAC0N,UAAhB,CACD,CACD,GAAI1N,EAAE,CAAC6O,gBAAH,CAAoB,CAArB,EAA0BnB,UAAU,CAAC,CAAxC,CAA4C4M,kBAAkB,CAACI,gBAAnB,EAAuChT,QAAQ,CAACgG,UAAD,CAA/C,CAC5C,GAAI1N,EAAE,CAAC6O,gBAAH,CAAoB,CAArB,EAA0BnB,UAAU,CAAC,CAAxC,CAA4C4M,kBAAkB,CAACK,kBAAnB,EAA0CjN,UAAU,EAAI1N,EAAE,CAAC6O,gBAAH,CAAoB,GAAxB,CAApD,CAC5C;AACE,GAAG7O,EAAE,CAAC8P,6BAAH,CAAiC,CAApC,CAAuC0K,iBAAiB,CAACE,gBAAlB,EAAsC1a,EAAE,CAAC8P,6BAAzC,CACvC,GAAG9P,EAAE,CAAC8P,6BAAH,CAAiC,CAApC,CAAuC0K,iBAAiB,CAACI,iBAAlB,EAAwC5a,EAAE,CAAC8P,6BAAH,CAAmC9P,EAAE,CAAC+N,0BAA9E,CAC1C,CA1CD,EA2CD,CAED;AACA,GAAI8M,yBAAwB,CAAG,CAAEL,iBAAiB,CAACI,iBAAlB,CAAsCJ,iBAAiB,CAACE,gBAA1D,EAA6E1c,OAA7E,CAAqF,CAArF,CAA/B,CAEA;AACA,GAAI8c,0BAAyB,CAAG,CAAER,kBAAkB,CAACK,kBAAnB,CAAwCL,kBAAkB,CAACI,gBAA5D,CAA8E,GAA/E,EAAoF1c,OAApF,CAA4F,CAA5F,CAAhC,CACA,GAAI+c,uBAAsB,CAAGzY,sBAAA,CAAQ/G,IAAI,CAAC+N,MAAb,CAAqB,SAAAjK,CAAC,QAAEA,EAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQkP,8BAAV,EAAtB,CAA7B,CAEAjM,2BAAA,CAAa,eAAb,EAA8BQ,MAA9B,GACAR,wBAAA,CAAU,qBAAV,EAAiCU,IAAjC,CAAsC,QAAtC,CAAgD,CAAhD,EACAzH,IAAI,CAAC6e,aAAL,CAAmBhb,OAAnB,CAA2B,SAASC,CAAT,CAAWC,CAAX,CAAa,CACtCgD,wBAAA,CAAU,kBAAV,EAA8BS,MAA9B,CAAqC,MAArC,EACCC,IADD,CACM,WADN,CACmB,CADnB,EAECA,IAFD,CAEM,MAFN,CAEc,MAFd,EAGCA,IAHD,CAGM,OAHN,CAGe,cAHf,EAICD,MAJD,CAIQ,OAJR,EAIiBmD,IAJjB,CAIsB7G,CAJtB,EAKC2D,IALD,CAKM,IALN,CAKY,CALZ,EAMCA,IAND,CAMM,IANN,CAMa1D,CAAC,CAAC,GAAH,CAAQ,GAAT,CAAc,IANzB,EAOD,CARD,EAUA,GAAI0b,aAAY,CAAG1Y,wBAAA,CAAU,kBAAV,EAA8B+C,IAA9B,GAAqCkC,OAArC,EAAnB,CACAjF,wBAAA,CAAU,qBAAV,EAAiCU,IAAjC,CAAsC,QAAtC,CAAgDgY,YAAY,CAAC7T,MAAb,CAAoB,CAApE,EAEA;AACA,GAAI8T,SAAQ,CAAG3Y,qBAAA,CAAO/G,IAAI,CAACmZ,OAAZ,CAAqB,SAAArV,CAAC,QAAIA,EAAC,CAAC,CAAD,CAAL,EAAtB,CAAf,CAGA;AACA,GAAGuZ,UAAU,EAAE,CAAf,CAAiB,CACftW,2BAAA,CAAa,YAAb,EAA2BU,IAA3B,CAAgC,SAAhC,CAA0C,CAA1C,EACD,CAFD,IAEO,CACLV,2BAAA,CAAa,YAAb,EAA2BU,IAA3B,CAAgC,SAAhC,CAA0C,CAA1C,EACD,CAED,GAAIkY,YAAW,CAAG1B,iBAAiB,CAAC,WAAD,CAAjB,CAA+BA,iBAAiB,CAAC,MAAD,CAAhD,CAAyDA,iBAAiB,CAAC,QAAD,CAA1E,CAAqFA,iBAAiB,CAAC,KAAD,CAAxH,CACA,GAAI2B,eAAc,CAAGrB,oBAAoB,CAAC,WAAD,CAApB,CAAkCA,oBAAoB,CAAC,MAAD,CAAtD,CAA+DA,oBAAoB,CAAC,QAAD,CAAnF,CAA8FA,oBAAoB,CAAC,KAAD,CAAlH,CAA0HA,oBAAoB,CAAC,UAAD,CAAnK,CAEA;AACA;AACAxX,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmDkV,KAAK,CAAEzB,iBAAiB,CAAC,WAAD,CAAjB,CAA+Bf,UAAhC,CAA4C,GAA7C,CAAL,CAAuD5a,OAAvD,CAA+D,CAA/D,EAAkE,GAArH,EAA0H+H,KAA1H,CAAgI,aAAhI,CAA+I,KAA/I,EAAsJ/C,IAAtJ,CAA2J,IAA3J,CAAiK,IAAjK,EACAV,wBAAA,CAAU,4BAAV,EAAwCmG,UAAxC,GAAqDC,QAArD,CAA8D,GAA9D,EAAmE1F,IAAnE,CAAwE,OAAxE,CAAkFoY,KAAK,CAACzB,iBAAiB,CAAC,WAAD,CAAjB,CAA+Bf,UAAhC,CAAL,CAAiD,EAAnI,EACAtW,wBAAA,CAAU,6BAAV,EAAyC4D,IAAzC,CAA8CkV,KAAK,CAAEzB,iBAAiB,CAAC,MAAD,CAAjB,CAA0Bf,UAA3B,CAAuC,GAAxC,CAAL,CAAkD5a,OAAlD,CAA0D,CAA1D,EAA6D,GAA3G,EAAgH+H,KAAhH,CAAsH,aAAtH,CAAqI,KAArI,EAA4I/C,IAA5I,CAAiJ,IAAjJ,CAAuJ,IAAvJ,EACAV,wBAAA,CAAU,uBAAV,EAAmCmG,UAAnC,GAAgDC,QAAhD,CAAyD,GAAzD,EAA8D1F,IAA9D,CAAmE,OAAnE,CAA6EoY,KAAK,CAACzB,iBAAiB,CAAC,MAAD,CAAjB,CAA0Bf,UAA3B,CAAL,CAA4C,EAAzH,EACAtW,wBAAA,CAAU,+BAAV,EAA2C4D,IAA3C,CAAgDkV,KAAK,CAAEzB,iBAAiB,CAAC,QAAD,CAAjB,CAA4Bf,UAA7B,CAAyC,GAA1C,CAAL,CAAoD5a,OAApD,CAA4D,CAA5D,EAA+D,GAA/G,EAAoH+H,KAApH,CAA0H,aAA1H,CAAyI,KAAzI,EAAgJ/C,IAAhJ,CAAqJ,IAArJ,CAA2J,IAA3J,EACAV,wBAAA,CAAU,yBAAV,EAAqCmG,UAArC,GAAkDC,QAAlD,CAA2D,GAA3D,EAAgE1F,IAAhE,CAAqE,OAArE,CAA+EoY,KAAK,CAACzB,iBAAiB,CAAC,QAAD,CAAjB,CAA4Bf,UAA7B,CAAL,CAA8C,EAA7H,EACAtW,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6CkV,KAAK,CAAEzB,iBAAiB,CAAC,KAAD,CAAjB,CAAyBf,UAA1B,CAAsC,GAAvC,CAAL,CAAiD5a,OAAjD,CAAyD,CAAzD,EAA4D,GAAzG,EAA8G+H,KAA9G,CAAoH,aAApH,CAAmI,KAAnI,EAA0I/C,IAA1I,CAA+I,IAA/I,CAAqJ,IAArJ,EACAV,wBAAA,CAAU,sBAAV,EAAkCmG,UAAlC,GAA+CC,QAA/C,CAAwD,GAAxD,EAA6D1F,IAA7D,CAAkE,OAAlE,CAA4EoY,KAAK,CAACzB,iBAAiB,CAAC,KAAD,CAAjB,CAAyBf,UAA1B,CAAL,CAA2C,EAAvH,EAEAtW,wBAAA,CAAU,qCAAV,EAAiD4D,IAAjD,CAAsDkV,KAAK,CAAEnB,oBAAoB,CAAC,WAAD,CAApB,CAAkCrB,UAAnC,CAA+C,GAAhD,CAAL,CAA0D5a,OAA1D,CAAkE,CAAlE,EAAqE,GAA3H,EAAgI+H,KAAhI,CAAsI,aAAtI,CAAqJ,KAArJ,EAA4J/C,IAA5J,CAAiK,IAAjK,CAAuK,IAAvK,EACAV,wBAAA,CAAU,+BAAV,EAA2CmG,UAA3C,GAAwDC,QAAxD,CAAiE,GAAjE,EAAsE1F,IAAtE,CAA2E,OAA3E,CAAqFoY,KAAK,CAACnB,oBAAoB,CAAC,WAAD,CAApB,CAAkCrB,UAAnC,CAAL,CAAoD,EAAzI,EACAtW,wBAAA,CAAU,gCAAV,EAA4C4D,IAA5C,CAAiDkV,KAAK,CAAEnB,oBAAoB,CAAC,MAAD,CAApB,CAA6BrB,UAA9B,CAA0C,GAA3C,CAAL,CAAqD5a,OAArD,CAA6D,CAA7D,EAAgE,GAAjH,EAAsH+H,KAAtH,CAA4H,aAA5H,CAA2I,KAA3I,EAAkJ/C,IAAlJ,CAAuJ,IAAvJ,CAA6J,IAA7J,EACAV,wBAAA,CAAU,0BAAV,EAAsCmG,UAAtC,GAAmDC,QAAnD,CAA4D,GAA5D,EAAiE1F,IAAjE,CAAsE,OAAtE,CAAgFoY,KAAK,CAACnB,oBAAoB,CAAC,MAAD,CAApB,CAA6BrB,UAA9B,CAAL,CAA+C,EAA/H,EACAtW,wBAAA,CAAU,kCAAV,EAA8C4D,IAA9C,CAAmDkV,KAAK,CAAEnB,oBAAoB,CAAC,QAAD,CAApB,CAA+BrB,UAAhC,CAA4C,GAA7C,CAAL,CAAuD5a,OAAvD,CAA+D,CAA/D,EAAkE,GAArH,EAA0H+H,KAA1H,CAAgI,aAAhI,CAA+I,KAA/I,EAAsJ/C,IAAtJ,CAA2J,IAA3J,CAAiK,IAAjK,EACAV,wBAAA,CAAU,4BAAV,EAAwCmG,UAAxC,GAAqDC,QAArD,CAA8D,GAA9D,EAAmE1F,IAAnE,CAAwE,OAAxE,CAAkFoY,KAAK,CAACnB,oBAAoB,CAAC,QAAD,CAApB,CAA+BrB,UAAhC,CAAL,CAAiD,EAAnI,EACAtW,wBAAA,CAAU,+BAAV,EAA2C4D,IAA3C,CAAgDkV,KAAK,CAAEnB,oBAAoB,CAAC,KAAD,CAApB,CAA4BrB,UAA7B,CAAyC,GAA1C,CAAL,CAAoD5a,OAApD,CAA4D,CAA5D,EAA+D,GAA/G,EAAoH+H,KAApH,CAA0H,aAA1H,CAAyI,KAAzI,EAAgJ/C,IAAhJ,CAAqJ,IAArJ,CAA2J,IAA3J,EACAV,wBAAA,CAAU,yBAAV,EAAqCmG,UAArC,GAAkDC,QAAlD,CAA2D,GAA3D,EAAgE1F,IAAhE,CAAqE,OAArE,CAA+EoY,KAAK,CAACnB,oBAAoB,CAAC,KAAD,CAApB,CAA4BrB,UAA7B,CAAL,CAA8C,EAA7H,EACAtW,wBAAA,CAAU,oCAAV,EAAgD4D,IAAhD,CAAqDkV,KAAK,CAAEnB,oBAAoB,CAAC,UAAD,CAApB,CAAiCrB,UAAlC,CAA8C,GAA/C,CAAL,CAAyD5a,OAAzD,CAAiE,CAAjE,EAAoE,GAAzH,EAA8H+H,KAA9H,CAAoI,aAApI,CAAmJ,KAAnJ,EAA0J/C,IAA1J,CAA+J,IAA/J,CAAqK,IAArK,EACAV,wBAAA,CAAU,8BAAV,EAA0CmG,UAA1C,GAAuDC,QAAvD,CAAgE,GAAhE,EAAqE1F,IAArE,CAA0E,OAA1E,CAAoFoY,KAAK,CAACnB,oBAAoB,CAAC,UAAD,CAApB,CAAiCrB,UAAlC,CAAL,CAAmD,EAAvI,EAEAtW,wBAAA,CAAU,iCAAV,EAA6C4D,IAA7C,CAAkDqT,OAAO,CAAC,WAAD,CAAzD,EAAwExT,KAAxE,CAA8E,aAA9E,CAA6F,KAA7F,EAAoG/C,IAApG,CAAyG,IAAzG,CAA+G,IAA/G,EACAV,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6CqT,OAAO,CAAC,MAAD,CAApD,EAA8DxT,KAA9D,CAAoE,aAApE,CAAmF,KAAnF,EAA0F/C,IAA1F,CAA+F,IAA/F,CAAqG,IAArG,EACAV,wBAAA,CAAU,8BAAV,EAA0C4D,IAA1C,CAA+CqT,OAAO,CAAC,QAAD,CAAtD,EAAkExT,KAAlE,CAAwE,aAAxE,CAAuF,KAAvF,EAA8F/C,IAA9F,CAAmG,IAAnG,CAAyG,IAAzG,EACAV,wBAAA,CAAU,2BAAV,EAAuC4D,IAAvC,CAA4CqT,OAAO,CAAC,KAAD,CAAnD,EAA4DxT,KAA5D,CAAkE,aAAlE,CAAiF,KAAjF,EAAwF/C,IAAxF,CAA6F,IAA7F,CAAmG,IAAnG,EAEAV,wBAAA,CAAU,oCAAV,EAAgD4D,IAAhD,CAAqD2T,UAAU,CAAC,WAAD,CAA/D,EAA8E9T,KAA9E,CAAoF,aAApF,CAAmG,KAAnG,EAA0G/C,IAA1G,CAA+G,IAA/G,CAAqH,GAArH,EACAV,wBAAA,CAAU,+BAAV,EAA2C4D,IAA3C,CAAgD2T,UAAU,CAAC,MAAD,CAA1D,EAAoE9T,KAApE,CAA0E,aAA1E,CAAyF,KAAzF,EAAgG/C,IAAhG,CAAqG,IAArG,CAA2G,IAA3G,EACAV,wBAAA,CAAU,iCAAV,EAA6C4D,IAA7C,CAAkD2T,UAAU,CAAC,QAAD,CAA5D,EAAwE9T,KAAxE,CAA8E,aAA9E,CAA6F,KAA7F,EAAoG/C,IAApG,CAAyG,IAAzG,CAA+G,GAA/G,EACAV,wBAAA,CAAU,8BAAV,EAA0C4D,IAA1C,CAA+C2T,UAAU,CAAC,KAAD,CAAzD,EAAkE9T,KAAlE,CAAwE,aAAxE,CAAuF,KAAvF,EAA8F/C,IAA9F,CAAmG,IAAnG,CAAyG,GAAzG,EACAV,wBAAA,CAAU,mCAAV,EAA+C4D,IAA/C,CAAoD2T,UAAU,CAAC,UAAD,CAA9D,EAA4E9T,KAA5E,CAAkF,aAAlF,CAAiG,KAAjG,EAAwG/C,IAAxG,CAA6G,IAA7G,CAAmH,IAAnH,EAEA;AAEAV,wBAAA,CAAU,0BAAV,EAAsC4D,IAAtC,CAA2CkV,KAAK,CAAE5B,iBAAiB,CAAC,WAAD,CAAjB,CAA+B0B,WAAhC,CAA6C,GAA9C,CAAL,CAAwDld,OAAxD,CAAgE,CAAhE,EAAmE,GAA9G,EAAmH+H,KAAnH,CAAyH,aAAzH,CAAwI,KAAxI,EAA+I/C,IAA/I,CAAoJ,IAApJ,CAA0J,IAA1J,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,OAAhE,CAA0EoY,KAAK,CAAC5B,iBAAiB,CAAC,WAAD,CAAjB,CAA+B0B,WAAhC,CAAL,CAAkD,EAA5H,EACA5Y,wBAAA,CAAU,qBAAV,EAAiC4D,IAAjC,CAAsCkV,KAAK,CAAE5B,iBAAiB,CAAC,MAAD,CAAjB,CAA0B0B,WAA3B,CAAwC,GAAzC,CAAL,CAAmDld,OAAnD,CAA2D,CAA3D,EAA8D,GAApG,EAAyG+H,KAAzG,CAA+G,aAA/G,CAA8H,KAA9H,EAAqI/C,IAArI,CAA0I,IAA1I,CAAgJ,IAAhJ,EACAV,wBAAA,CAAU,eAAV,EAA2BmG,UAA3B,GAAwCC,QAAxC,CAAiD,GAAjD,EAAsD1F,IAAtD,CAA2D,OAA3D,CAAqEoY,KAAK,CAAC5B,iBAAiB,CAAC,MAAD,CAAjB,CAA0B0B,WAA3B,CAAL,CAA6C,EAAlH,EACA5Y,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwCkV,KAAK,CAAE5B,iBAAiB,CAAC,QAAD,CAAjB,CAA4B0B,WAA7B,CAA0C,GAA3C,CAAL,CAAqDld,OAArD,CAA6D,CAA7D,EAAgE,GAAxG,EAA6G+H,KAA7G,CAAmH,aAAnH,CAAkI,KAAlI,EAAyI/C,IAAzI,CAA8I,IAA9I,CAAoJ,IAApJ,EACAV,wBAAA,CAAU,iBAAV,EAA6BmG,UAA7B,GAA0CC,QAA1C,CAAmD,GAAnD,EAAwD1F,IAAxD,CAA6D,OAA7D,CAAuEoY,KAAK,CAAC5B,iBAAiB,CAAC,QAAD,CAAjB,CAA4B0B,WAA7B,CAAL,CAA+C,EAAtH,EACA5Y,wBAAA,CAAU,oBAAV,EAAgC4D,IAAhC,CAAqCkV,KAAK,CAAE5B,iBAAiB,CAAC,KAAD,CAAjB,CAAyB0B,WAA1B,CAAuC,GAAxC,CAAL,CAAkDld,OAAlD,CAA0D,CAA1D,EAA6D,GAAlG,EAAuG+H,KAAvG,CAA6G,aAA7G,CAA4H,KAA5H,EAAmI/C,IAAnI,CAAwI,IAAxI,CAA8I,IAA9I,EACAV,wBAAA,CAAU,cAAV,EAA0BmG,UAA1B,GAAuCC,QAAvC,CAAgD,GAAhD,EAAqD1F,IAArD,CAA0D,OAA1D,CAAoEoY,KAAK,CAAC5B,iBAAiB,CAAC,KAAD,CAAjB,CAAyB0B,WAA1B,CAAL,CAA4C,EAAhH,EAEA5Y,wBAAA,CAAU,6BAAV,EAAyC4D,IAAzC,CAA8CkV,KAAK,CAAEtB,oBAAoB,CAAC,WAAD,CAApB,CAAkCqB,cAAnC,CAAmD,GAApD,CAAL,CAA8Dnd,OAA9D,CAAsE,CAAtE,EAAyE,GAAvH,EAA4H+H,KAA5H,CAAkI,aAAlI,CAAiJ,KAAjJ,EAAwJ/C,IAAxJ,CAA6J,IAA7J,CAAmK,IAAnK,EACAV,wBAAA,CAAU,uBAAV,EAAmCmG,UAAnC,GAAgDC,QAAhD,CAAyD,GAAzD,EAA8D1F,IAA9D,CAAmE,OAAnE,CAA6EoY,KAAK,CAACtB,oBAAoB,CAAC,WAAD,CAApB,CAAkCqB,cAAnC,CAAL,CAAwD,EAArI,EACA7Y,wBAAA,CAAU,wBAAV,EAAoC4D,IAApC,CAAyCkV,KAAK,CAAEtB,oBAAoB,CAAC,MAAD,CAApB,CAA6BqB,cAA9B,CAA8C,GAA/C,CAAL,CAAyDnd,OAAzD,CAAiE,CAAjE,EAAoE,GAA7G,EAAkH+H,KAAlH,CAAwH,aAAxH,CAAuI,KAAvI,EAA8I/C,IAA9I,CAAmJ,IAAnJ,CAAyJ,IAAzJ,EACAV,wBAAA,CAAU,kBAAV,EAA8BmG,UAA9B,GAA2CC,QAA3C,CAAoD,GAApD,EAAyD1F,IAAzD,CAA8D,OAA9D,CAAwEoY,KAAK,CAACtB,oBAAoB,CAAC,MAAD,CAApB,CAA6BqB,cAA9B,CAAL,CAAmD,EAA3H,EACA7Y,wBAAA,CAAU,0BAAV,EAAsC4D,IAAtC,CAA2CkV,KAAK,CAAEtB,oBAAoB,CAAC,QAAD,CAApB,CAA+BqB,cAAhC,CAAgD,GAAjD,CAAL,CAA2Dnd,OAA3D,CAAmE,CAAnE,EAAsE,GAAjH,EAAsH+H,KAAtH,CAA4H,aAA5H,CAA2I,KAA3I,EAAkJ/C,IAAlJ,CAAuJ,IAAvJ,CAA6J,IAA7J,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,OAAhE,CAA0EoY,KAAK,CAACtB,oBAAoB,CAAC,QAAD,CAApB,CAA+BqB,cAAhC,CAAL,CAAqD,EAA/H,EACA7Y,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwCkV,KAAK,CAAEtB,oBAAoB,CAAC,KAAD,CAApB,CAA4BqB,cAA7B,CAA6C,GAA9C,CAAL,CAAwDnd,OAAxD,CAAgE,CAAhE,EAAmE,GAA3G,EAAgH+H,KAAhH,CAAsH,aAAtH,CAAqI,KAArI,EAA4I/C,IAA5I,CAAiJ,IAAjJ,CAAuJ,IAAvJ,EACAV,wBAAA,CAAU,iBAAV,EAA6BmG,UAA7B,GAA0CC,QAA1C,CAAmD,GAAnD,EAAwD1F,IAAxD,CAA6D,OAA7D,CAAuEoY,KAAK,CAACtB,oBAAoB,CAAC,KAAD,CAApB,CAA4BqB,cAA7B,CAAL,CAAkD,EAAzH,EACA7Y,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6CkV,KAAK,CAAEtB,oBAAoB,CAAC,UAAD,CAApB,CAAiCqB,cAAlC,CAAkD,GAAnD,CAAL,CAA6Dnd,OAA7D,CAAqE,CAArE,EAAwE,GAArH,EAA0H+H,KAA1H,CAAgI,aAAhI,CAA+I,KAA/I,EAAsJ/C,IAAtJ,CAA2J,IAA3J,CAAiK,IAAjK,EACAV,wBAAA,CAAU,sBAAV,EAAkCmG,UAAlC,GAA+CC,QAA/C,CAAwD,GAAxD,EAA6D1F,IAA7D,CAAkE,OAAlE,CAA4EoY,KAAK,CAACtB,oBAAoB,CAAC,UAAD,CAApB,CAAiCqB,cAAlC,CAAL,CAAuD,EAAnI,EAEA;AACA7Y,wBAAA,CAAU,0BAAV,EAAsC4D,IAAtC,CAA2CkV,KAAK,CAAE3B,eAAe,CAAC,WAAD,CAAf,CAA6BT,aAA9B,CAA6C,GAA9C,CAAL,CAAwDhb,OAAxD,CAAgE,CAAhE,EAAmE,GAA9G,EAAmH+H,KAAnH,CAAyH,aAAzH,CAAwI,KAAxI,EAA+I/C,IAA/I,CAAoJ,IAApJ,CAA0J,IAA1J,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,OAAhE,CAA0EoY,KAAK,CAAC3B,eAAe,CAAC,WAAD,CAAf,CAA6BT,aAA9B,CAAL,CAAkD,EAA5H,EACA1W,wBAAA,CAAU,qBAAV,EAAiC4D,IAAjC,CAAsCkV,KAAK,CAAE3B,eAAe,CAAC,MAAD,CAAf,CAAwBT,aAAzB,CAAwC,GAAzC,CAAL,CAAmDhb,OAAnD,CAA2D,CAA3D,EAA8D,GAApG,EAAyG+H,KAAzG,CAA+G,aAA/G,CAA8H,KAA9H,EAAqI/C,IAArI,CAA0I,IAA1I,CAAgJ,IAAhJ,EACAV,wBAAA,CAAU,eAAV,EAA2BmG,UAA3B,GAAwCC,QAAxC,CAAiD,GAAjD,EAAsD1F,IAAtD,CAA2D,OAA3D,CAAqEoY,KAAK,CAAC3B,eAAe,CAAC,MAAD,CAAf,CAAwBT,aAAzB,CAAL,CAA6C,EAAlH,EACA1W,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwCkV,KAAK,CAAE3B,eAAe,CAAC,QAAD,CAAf,CAA0BT,aAA3B,CAA0C,GAA3C,CAAL,CAAqDhb,OAArD,CAA6D,CAA7D,EAAgE,GAAxG,EAA6G+H,KAA7G,CAAmH,aAAnH,CAAkI,KAAlI,EAAyI/C,IAAzI,CAA8I,IAA9I,CAAoJ,IAApJ,EACAV,wBAAA,CAAU,iBAAV,EAA6BmG,UAA7B,GAA0CC,QAA1C,CAAmD,GAAnD,EAAwD1F,IAAxD,CAA6D,OAA7D,CAAuEoY,KAAK,CAAC3B,eAAe,CAAC,QAAD,CAAf,CAA0BT,aAA3B,CAAL,CAA+C,EAAtH,EACA1W,wBAAA,CAAU,oBAAV,EAAgC4D,IAAhC,CAAqCkV,KAAK,CAAE3B,eAAe,CAAC,KAAD,CAAf,CAAuBT,aAAxB,CAAuC,GAAxC,CAAL,CAAkDhb,OAAlD,CAA0D,CAA1D,EAA6D,GAAlG,EAAuG+H,KAAvG,CAA6G,aAA7G,CAA4H,KAA5H,EAAmI/C,IAAnI,CAAwI,IAAxI,CAA8I,IAA9I,EACAV,wBAAA,CAAU,cAAV,EAA0BmG,UAA1B,GAAuCC,QAAvC,CAAgD,GAAhD,EAAqD1F,IAArD,CAA0D,OAA1D,CAAoEoY,KAAK,CAAC3B,eAAe,CAAC,KAAD,CAAf,CAAuBT,aAAxB,CAAL,CAA4C,EAAhH,EAEA1W,wBAAA,CAAU,6BAAV,EAAyC4D,IAAzC,CAA8CkV,KAAK,CAAErB,kBAAkB,CAAC,WAAD,CAAlB,CAAgCf,aAAjC,CAAgD,GAAjD,CAAL,CAA2Dhb,OAA3D,CAAmE,CAAnE,EAAsE,GAApH,EAAyH+H,KAAzH,CAA+H,aAA/H,CAA8I,KAA9I,EAAqJ/C,IAArJ,CAA0J,IAA1J,CAAgK,IAAhK,EACAV,wBAAA,CAAU,uBAAV,EAAmCmG,UAAnC,GAAgDC,QAAhD,CAAyD,GAAzD,EAA8D1F,IAA9D,CAAmE,OAAnE,CAA6EoY,KAAK,CAACrB,kBAAkB,CAAC,WAAD,CAAlB,CAAgCf,aAAjC,CAAL,CAAqD,EAAlI,EACA1W,wBAAA,CAAU,wBAAV,EAAoC4D,IAApC,CAAyCkV,KAAK,CAAErB,kBAAkB,CAAC,MAAD,CAAlB,CAA2Bf,aAA5B,CAA2C,GAA5C,CAAL,CAAsDhb,OAAtD,CAA8D,CAA9D,EAAiE,GAA1G,EAA+G+H,KAA/G,CAAqH,aAArH,CAAoI,KAApI,EAA2I/C,IAA3I,CAAgJ,IAAhJ,CAAsJ,IAAtJ,EACAV,wBAAA,CAAU,kBAAV,EAA8BmG,UAA9B,GAA2CC,QAA3C,CAAoD,GAApD,EAAyD1F,IAAzD,CAA8D,OAA9D,CAAwEoY,KAAK,CAACrB,kBAAkB,CAAC,MAAD,CAAlB,CAA2Bf,aAA5B,CAAL,CAAgD,EAAxH,EACA1W,wBAAA,CAAU,0BAAV,EAAsC4D,IAAtC,CAA2CkV,KAAK,CAAErB,kBAAkB,CAAC,QAAD,CAAlB,CAA6Bf,aAA9B,CAA6C,GAA9C,CAAL,CAAwDhb,OAAxD,CAAgE,CAAhE,EAAmE,GAA9G,EAAmH+H,KAAnH,CAAyH,aAAzH,CAAwI,KAAxI,EAA+I/C,IAA/I,CAAoJ,IAApJ,CAA0J,IAA1J,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,OAAhE,CAA0EoY,KAAK,CAACrB,kBAAkB,CAAC,QAAD,CAAlB,CAA6Bf,aAA9B,CAAL,CAAkD,EAA5H,EACA1W,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwCkV,KAAK,CAAErB,kBAAkB,CAAC,KAAD,CAAlB,CAA0Bf,aAA3B,CAA0C,GAA3C,CAAL,CAAqDhb,OAArD,CAA6D,CAA7D,EAAgE,GAAxG,EAA6G+H,KAA7G,CAAmH,aAAnH,CAAkI,KAAlI,EAAyI/C,IAAzI,CAA8I,IAA9I,CAAoJ,IAApJ,EACAV,wBAAA,CAAU,iBAAV,EAA6BmG,UAA7B,GAA0CC,QAA1C,CAAmD,GAAnD,EAAwD1F,IAAxD,CAA6D,OAA7D,CAAuEoY,KAAK,CAACrB,kBAAkB,CAAC,KAAD,CAAlB,CAA0Bf,aAA3B,CAAL,CAA+C,EAAtH,EACA1W,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6CkV,KAAK,CAAErB,kBAAkB,CAAC,UAAD,CAAlB,CAA+Bf,aAAhC,CAA+C,GAAhD,CAAL,CAA0Dhb,OAA1D,CAAkE,CAAlE,EAAqE,GAAlH,EAAuH+H,KAAvH,CAA6H,aAA7H,CAA4I,KAA5I,EAAmJ/C,IAAnJ,CAAwJ,IAAxJ,CAA8J,IAA9J,EACAV,wBAAA,CAAU,sBAAV,EAAkCmG,UAAlC,GAA+CC,QAA/C,CAAwD,GAAxD,EAA6D1F,IAA7D,CAAkE,OAAlE,CAA4EoY,KAAK,CAACrB,kBAAkB,CAAC,UAAD,CAAlB,CAA+Bf,aAAhC,CAAL,CAAoD,EAAhI,EAEA;AACA,GAAIqC,UAAS,CAAG/Y,qBAAA,CAAO,CAAEmX,eAAe,CAAC,KAAD,CAAjB,CAAyBA,eAAe,CAAC,QAAD,CAAxC,CAAmDA,eAAe,CAAC,MAAD,CAAlE,CAA2EA,eAAe,CAAC,WAAD,CAA1F,CAAP,CAAhB,CACA,GAAI6B,aAAY,CAAGhZ,qBAAA,CAAO,CAAEyX,kBAAkB,CAAC,KAAD,CAApB,CAA4BA,kBAAkB,CAAC,QAAD,CAA9C,CAAyDA,kBAAkB,CAAC,MAAD,CAA3E,CAAoFA,kBAAkB,CAAC,WAAD,CAAtG,CAAoHA,kBAAkB,CAAC,UAAD,CAAtI,CAAP,CAAnB,CAEAzX,wBAAA,CAAU,0BAAV,EAAsC4D,IAAtC,CAA2C7I,UAAU,CAACoc,eAAe,CAAC,WAAD,CAAhB,CAArD,EAAqF1T,KAArF,CAA2F,aAA3F,CAA0G,KAA1G,EAAiH/C,IAAjH,CAAsH,IAAtH,CAA4H,IAA5H,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,OAAhE,CAA0EoY,KAAK,CAAC3B,eAAe,CAAC,WAAD,CAAf,CAA6B4B,SAA9B,CAAL,CAA8C,EAAxH,EACA/Y,wBAAA,CAAU,qBAAV,EAAiC4D,IAAjC,CAAsC7I,UAAU,CAACoc,eAAe,CAAC,MAAD,CAAhB,CAAhD,EAA2E1T,KAA3E,CAAiF,aAAjF,CAAgG,KAAhG,EAAuG/C,IAAvG,CAA4G,IAA5G,CAAkH,IAAlH,EACAV,wBAAA,CAAU,eAAV,EAA2BmG,UAA3B,GAAwCC,QAAxC,CAAiD,GAAjD,EAAsD1F,IAAtD,CAA2D,OAA3D,CAAqEoY,KAAK,CAAC3B,eAAe,CAAC,MAAD,CAAf,CAAwB4B,SAAzB,CAAL,CAAyC,EAA9G,EACA/Y,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwC7I,UAAU,CAACoc,eAAe,CAAC,QAAD,CAAhB,CAAlD,EAA+E1T,KAA/E,CAAqF,aAArF,CAAoG,KAApG,EAA2G/C,IAA3G,CAAgH,IAAhH,CAAsH,IAAtH,EACAV,wBAAA,CAAU,iBAAV,EAA6BmG,UAA7B,GAA0CC,QAA1C,CAAmD,GAAnD,EAAwD1F,IAAxD,CAA6D,OAA7D,CAAuEoY,KAAK,CAAC3B,eAAe,CAAC,QAAD,CAAf,CAA0B4B,SAA3B,CAAL,CAA2C,EAAlH,EACA/Y,wBAAA,CAAU,oBAAV,EAAgC4D,IAAhC,CAAqC7I,UAAU,CAACoc,eAAe,CAAC,KAAD,CAAhB,CAA/C,EAAyE1T,KAAzE,CAA+E,aAA/E,CAA8F,KAA9F,EAAqG/C,IAArG,CAA0G,IAA1G,CAAgH,IAAhH,EACAV,wBAAA,CAAU,cAAV,EAA0BmG,UAA1B,GAAuCC,QAAvC,CAAgD,GAAhD,EAAqD1F,IAArD,CAA0D,OAA1D,CAAoEoY,KAAK,CAAC3B,eAAe,CAAC,KAAD,CAAf,CAAuB4B,SAAxB,CAAL,CAAwC,EAA5G,EAEA/Y,wBAAA,CAAU,6BAAV,EAAyC4D,IAAzC,CAA8C7I,UAAU,CAAC0c,kBAAkB,CAAC,WAAD,CAAnB,CAAxD,EAA2FhU,KAA3F,CAAiG,aAAjG,CAAgH,KAAhH,EAAuH/C,IAAvH,CAA4H,IAA5H,CAAkI,IAAlI,EACAV,wBAAA,CAAU,uBAAV,EAAmCmG,UAAnC,GAAgDC,QAAhD,CAAyD,GAAzD,EAA8D1F,IAA9D,CAAmE,OAAnE,CAA6EoY,KAAK,CAACrB,kBAAkB,CAAC,WAAD,CAAlB,CAAgCuB,YAAjC,CAAL,CAAoD,EAAjI,EACAhZ,wBAAA,CAAU,wBAAV,EAAoC4D,IAApC,CAAyC7I,UAAU,CAAC0c,kBAAkB,CAAC,MAAD,CAAnB,CAAnD,EAAiFhU,KAAjF,CAAuF,aAAvF,CAAsG,KAAtG,EAA6G/C,IAA7G,CAAkH,IAAlH,CAAwH,IAAxH,EACAV,wBAAA,CAAU,kBAAV,EAA8BmG,UAA9B,GAA2CC,QAA3C,CAAoD,GAApD,EAAyD1F,IAAzD,CAA8D,OAA9D,CAAwEoY,KAAK,CAACrB,kBAAkB,CAAC,MAAD,CAAlB,CAA2BuB,YAA5B,CAAL,CAA+C,EAAvH,EACAhZ,wBAAA,CAAU,0BAAV,EAAsC4D,IAAtC,CAA2C7I,UAAU,CAAC0c,kBAAkB,CAAC,QAAD,CAAnB,CAArD,EAAqFhU,KAArF,CAA2F,aAA3F,CAA0G,KAA1G,EAAiH/C,IAAjH,CAAsH,IAAtH,CAA4H,IAA5H,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,OAAhE,CAA0EoY,KAAK,CAACrB,kBAAkB,CAAC,QAAD,CAAlB,CAA6BuB,YAA9B,CAAL,CAAiD,EAA3H,EACAhZ,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwC7I,UAAU,CAAC0c,kBAAkB,CAAC,KAAD,CAAnB,CAAlD,EAA+EhU,KAA/E,CAAqF,aAArF,CAAoG,KAApG,EAA2G/C,IAA3G,CAAgH,IAAhH,CAAsH,IAAtH,EACAV,wBAAA,CAAU,iBAAV,EAA6BmG,UAA7B,GAA0CC,QAA1C,CAAmD,GAAnD,EAAwD1F,IAAxD,CAA6D,OAA7D,CAAuEoY,KAAK,CAACrB,kBAAkB,CAAC,KAAD,CAAlB,CAA0BuB,YAA3B,CAAL,CAA8C,EAArH,EACAhZ,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6C7I,UAAU,CAAC0c,kBAAkB,CAAC,UAAD,CAAnB,CAAvD,EAAyFhU,KAAzF,CAA+F,aAA/F,CAA8G,KAA9G,EAAqH/C,IAArH,CAA0H,IAA1H,CAAgI,IAAhI,EACAV,wBAAA,CAAU,sBAAV,EAAkCmG,UAAlC,GAA+CC,QAA/C,CAAwD,GAAxD,EAA6D1F,IAA7D,CAAkE,OAAlE,CAA4EoY,KAAK,CAACrB,kBAAkB,CAAC,UAAD,CAAlB,CAA+BuB,YAAhC,CAAL,CAAmD,EAA/H,EAEA;AACAhZ,wBAAA,CAAU,0BAAV,EAAsC4D,IAAtC,CAA2CkV,KAAK,CAAE1B,iBAAiB,CAAC,WAAD,CAAjB,CAA+BZ,oBAAhC,CAAsD,GAAvD,CAAL,CAAiE9a,OAAjE,CAAyE,CAAzE,EAA4E,GAAvH,EAA4H+H,KAA5H,CAAkI,aAAlI,CAAiJ,KAAjJ,EAAwJ/C,IAAxJ,CAA6J,IAA7J,CAAmK,IAAnK,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,OAAhE,CAA0EoY,KAAK,CAAC1B,iBAAiB,CAAC,WAAD,CAAjB,CAA+BZ,oBAAhC,CAAL,CAA2D,EAArI,EACAxW,wBAAA,CAAU,qBAAV,EAAiC4D,IAAjC,CAAsCkV,KAAK,CAAE1B,iBAAiB,CAAC,MAAD,CAAjB,CAA0BZ,oBAA3B,CAAiD,GAAlD,CAAL,CAA4D9a,OAA5D,CAAoE,CAApE,EAAuE,GAA7G,EAAkH+H,KAAlH,CAAwH,aAAxH,CAAuI,KAAvI,EAA8I/C,IAA9I,CAAmJ,IAAnJ,CAAyJ,IAAzJ,EACAV,wBAAA,CAAU,eAAV,EAA2BmG,UAA3B,GAAwCC,QAAxC,CAAiD,GAAjD,EAAsD1F,IAAtD,CAA2D,OAA3D,CAAqEoY,KAAK,CAAC1B,iBAAiB,CAAC,MAAD,CAAjB,CAA0BZ,oBAA3B,CAAL,CAAsD,EAA3H,EACAxW,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwCkV,KAAK,CAAE1B,iBAAiB,CAAC,QAAD,CAAjB,CAA4BZ,oBAA7B,CAAmD,GAApD,CAAL,CAA8D9a,OAA9D,CAAsE,CAAtE,EAAyE,GAAjH,EAAsH+H,KAAtH,CAA4H,aAA5H,CAA2I,KAA3I,EAAkJ/C,IAAlJ,CAAuJ,IAAvJ,CAA6J,IAA7J,EACAV,wBAAA,CAAU,iBAAV,EAA6BmG,UAA7B,GAA0CC,QAA1C,CAAmD,GAAnD,EAAwD1F,IAAxD,CAA6D,OAA7D,CAAuEoY,KAAK,CAAC1B,iBAAiB,CAAC,QAAD,CAAjB,CAA4BZ,oBAA7B,CAAL,CAAwD,EAA/H,EACAxW,wBAAA,CAAU,oBAAV,EAAgC4D,IAAhC,CAAqCkV,KAAK,CAAE1B,iBAAiB,CAAC,KAAD,CAAjB,CAAyBZ,oBAA1B,CAAgD,GAAjD,CAAL,CAA2D9a,OAA3D,CAAmE,CAAnE,EAAsE,GAA3G,EAAgH+H,KAAhH,CAAsH,aAAtH,CAAqI,KAArI,EAA4I/C,IAA5I,CAAiJ,IAAjJ,CAAuJ,IAAvJ,EACAV,wBAAA,CAAU,cAAV,EAA0BmG,UAA1B,GAAuCC,QAAvC,CAAgD,GAAhD,EAAqD1F,IAArD,CAA0D,OAA1D,CAAoEoY,KAAK,CAAC1B,iBAAiB,CAAC,KAAD,CAAjB,CAAyBZ,oBAA1B,CAAL,CAAqD,EAAzH,EAEAxW,wBAAA,CAAU,6BAAV,EAAyC4D,IAAzC,CAA8CkV,KAAK,CAAEpB,oBAAoB,CAAC,WAAD,CAApB,CAAkClB,oBAAnC,CAAyD,GAA1D,CAAL,CAAoE9a,OAApE,CAA4E,CAA5E,EAA+E,GAA7H,EAAkI+H,KAAlI,CAAwI,aAAxI,CAAuJ,KAAvJ,EAA8J/C,IAA9J,CAAmK,IAAnK,CAAyK,IAAzK,EACAV,wBAAA,CAAU,uBAAV,EAAmCmG,UAAnC,GAAgDC,QAAhD,CAAyD,GAAzD,EAA8D1F,IAA9D,CAAmE,OAAnE,CAA6EoY,KAAK,CAACpB,oBAAoB,CAAC,WAAD,CAApB,CAAkClB,oBAAnC,CAAL,CAA8D,EAA3I,EACAxW,wBAAA,CAAU,wBAAV,EAAoC4D,IAApC,CAAyCkV,KAAK,CAAEpB,oBAAoB,CAAC,MAAD,CAApB,CAA6BlB,oBAA9B,CAAoD,GAArD,CAAL,CAA+D9a,OAA/D,CAAuE,CAAvE,EAA0E,GAAnH,EAAwH+H,KAAxH,CAA8H,aAA9H,CAA6I,KAA7I,EAAoJ/C,IAApJ,CAAyJ,IAAzJ,CAA+J,IAA/J,EACAV,wBAAA,CAAU,kBAAV,EAA8BmG,UAA9B,GAA2CC,QAA3C,CAAoD,GAApD,EAAyD1F,IAAzD,CAA8D,OAA9D,CAAwEoY,KAAK,CAACpB,oBAAoB,CAAC,MAAD,CAApB,CAA6BlB,oBAA9B,CAAL,CAAyD,EAAjI,EACAxW,wBAAA,CAAU,0BAAV,EAAsC4D,IAAtC,CAA2CkV,KAAK,CAAEpB,oBAAoB,CAAC,QAAD,CAApB,CAA+BlB,oBAAhC,CAAsD,GAAvD,CAAL,CAAiE9a,OAAjE,CAAyE,CAAzE,EAA4E,GAAvH,EAA4H+H,KAA5H,CAAkI,aAAlI,CAAiJ,KAAjJ,EAAwJ/C,IAAxJ,CAA6J,IAA7J,CAAmK,IAAnK,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,OAAhE,CAA0EoY,KAAK,CAACpB,oBAAoB,CAAC,QAAD,CAApB,CAA+BlB,oBAAhC,CAAL,CAA2D,EAArI,EACAxW,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwCkV,KAAK,CAAEpB,oBAAoB,CAAC,KAAD,CAApB,CAA4BlB,oBAA7B,CAAmD,GAApD,CAAL,CAA8D9a,OAA9D,CAAsE,CAAtE,EAAyE,GAAjH,EAAsH+H,KAAtH,CAA4H,aAA5H,CAA2I,KAA3I,EAAkJ/C,IAAlJ,CAAuJ,IAAvJ,CAA6J,IAA7J,EACAV,wBAAA,CAAU,iBAAV,EAA6BmG,UAA7B,GAA0CC,QAA1C,CAAmD,GAAnD,EAAwD1F,IAAxD,CAA6D,OAA7D,CAAuEoY,KAAK,CAACpB,oBAAoB,CAAC,KAAD,CAApB,CAA4BlB,oBAA7B,CAAL,CAAwD,EAA/H,EACAxW,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6CkV,KAAK,CAAEpB,oBAAoB,CAAC,UAAD,CAApB,CAAiClB,oBAAlC,CAAwD,GAAzD,CAAL,CAAmE9a,OAAnE,CAA2E,CAA3E,EAA8E,GAA3H,EAAgI+H,KAAhI,CAAsI,aAAtI,CAAqJ,KAArJ,EAA4J/C,IAA5J,CAAiK,IAAjK,CAAuK,IAAvK,EACAV,wBAAA,CAAU,sBAAV,EAAkCmG,UAAlC,GAA+CC,QAA/C,CAAwD,GAAxD,EAA6D1F,IAA7D,CAAkE,OAAlE,CAA4EoY,KAAK,CAACpB,oBAAoB,CAAC,UAAD,CAApB,CAAiClB,oBAAlC,CAAL,CAA6D,EAAzI,EAEA;AACAc,cAAc,CAAC,KAAD,CAAd,CAAwBvR,IAAI,CAACC,KAAL,CAAWhG,sBAAA,CAAQsX,cAAc,CAAC,KAAD,CAAtB,CAAX,GAA4C,CAApE,CACAA,cAAc,CAAC,QAAD,CAAd,CAA2BvR,IAAI,CAACC,KAAL,CAAWhG,sBAAA,CAAQsX,cAAc,CAAC,QAAD,CAAtB,CAAX,GAA+C,CAA1E,CACAA,cAAc,CAAC,MAAD,CAAd,CAAyBvR,IAAI,CAACC,KAAL,CAAWhG,sBAAA,CAAQsX,cAAc,CAAC,MAAD,CAAtB,CAAX,GAA6C,CAAtE,CACAA,cAAc,CAAC,WAAD,CAAd,CAA8BvR,IAAI,CAACC,KAAL,CAAWhG,sBAAA,CAAQsX,cAAc,CAAC,WAAD,CAAtB,CAAX,GAAkD,CAAhF,CACAM,iBAAiB,CAAC,UAAD,CAAjB,CAAgC7R,IAAI,CAACC,KAAL,CAAWhG,sBAAA,CAAQ4X,iBAAiB,CAAC,UAAD,CAAzB,CAAX,GAAoD,CAApF,CACAA,iBAAiB,CAAC,KAAD,CAAjB,CAA2B7R,IAAI,CAACC,KAAL,CAAWhG,sBAAA,CAAQ4X,iBAAiB,CAAC,KAAD,CAAzB,CAAX,GAA+C,CAA1E,CACAA,iBAAiB,CAAC,QAAD,CAAjB,CAA8B7R,IAAI,CAACC,KAAL,CAAWhG,sBAAA,CAAQ4X,iBAAiB,CAAC,QAAD,CAAzB,CAAX,GAAkD,CAAhF,CACAA,iBAAiB,CAAC,MAAD,CAAjB,CAA4B7R,IAAI,CAACC,KAAL,CAAWhG,sBAAA,CAAQ4X,iBAAiB,CAAC,MAAD,CAAzB,CAAX,GAAgD,CAA5E,CACAA,iBAAiB,CAAC,WAAD,CAAjB,CAAiC7R,IAAI,CAACC,KAAL,CAAWhG,sBAAA,CAAQ4X,iBAAiB,CAAC,WAAD,CAAzB,CAAX,GAAqD,CAAtF,CAEA,GAAIqB,WAAU,CAAGjZ,qBAAA,CAAO,CAAEsX,cAAc,CAAC,KAAD,CAAhB,CAAwBA,cAAc,CAAC,QAAD,CAAtC,CAAiDA,cAAc,CAAC,MAAD,CAA/D,CAAwEA,cAAc,CAAC,WAAD,CAAtF,CAAP,CAAjB,CACA,GAAI4B,cAAa,CAAGlZ,qBAAA,CAAO,CAAE4X,iBAAiB,CAAC,KAAD,CAAnB,CAA2BA,iBAAiB,CAAC,QAAD,CAA5C,CAAuDA,iBAAiB,CAAC,MAAD,CAAxE,CAAiFA,iBAAiB,CAAC,WAAD,CAAlG,CAAgHA,iBAAiB,CAAC,UAAD,CAAjI,CAAP,CAApB,CAEA5X,wBAAA,CAAU,0BAAV,EAAsC4D,IAAtC,CAA2CvJ,SAAS,CAACid,cAAc,CAAC,WAAD,CAAf,CAApD,EAAmF7T,KAAnF,CAAyF,aAAzF,CAAwG,KAAxG,EAA+G/C,IAA/G,CAAoH,IAApH,CAA0H,IAA1H,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,OAAhE,CAA0EoY,KAAK,CAACxB,cAAc,CAAC,WAAD,CAAd,CAA4B2B,UAA7B,CAAL,CAA8C,EAAxH,EACAjZ,wBAAA,CAAU,qBAAV,EAAiC4D,IAAjC,CAAsCvJ,SAAS,CAACid,cAAc,CAAC,MAAD,CAAf,CAA/C,EAAyE7T,KAAzE,CAA+E,aAA/E,CAA8F,KAA9F,EAAqG/C,IAArG,CAA0G,IAA1G,CAAgH,IAAhH,EACAV,wBAAA,CAAU,eAAV,EAA2BmG,UAA3B,GAAwCC,QAAxC,CAAiD,GAAjD,EAAsD1F,IAAtD,CAA2D,OAA3D,CAAqEoY,KAAK,CAACxB,cAAc,CAAC,MAAD,CAAd,CAAuB2B,UAAxB,CAAL,CAAyC,EAA9G,EACAjZ,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwCvJ,SAAS,CAACid,cAAc,CAAC,QAAD,CAAf,CAAjD,EAA6E7T,KAA7E,CAAmF,aAAnF,CAAkG,KAAlG,EAAyG/C,IAAzG,CAA8G,IAA9G,CAAoH,IAApH,EACAV,wBAAA,CAAU,iBAAV,EAA6BmG,UAA7B,GAA0CC,QAA1C,CAAmD,GAAnD,EAAwD1F,IAAxD,CAA6D,OAA7D,CAAuEoY,KAAK,CAACxB,cAAc,CAAC,QAAD,CAAd,CAAyB2B,UAA1B,CAAL,CAA2C,EAAlH,EACAjZ,wBAAA,CAAU,oBAAV,EAAgC4D,IAAhC,CAAqCvJ,SAAS,CAACid,cAAc,CAAC,KAAD,CAAf,CAA9C,EAAuE7T,KAAvE,CAA6E,aAA7E,CAA4F,KAA5F,EAAmG/C,IAAnG,CAAwG,IAAxG,CAA8G,IAA9G,EACAV,wBAAA,CAAU,cAAV,EAA0BmG,UAA1B,GAAuCC,QAAvC,CAAgD,GAAhD,EAAqD1F,IAArD,CAA0D,OAA1D,CAAoEoY,KAAK,CAACxB,cAAc,CAAC,KAAD,CAAd,CAAsB2B,UAAvB,CAAL,CAAwC,EAA5G,EAEAjZ,wBAAA,CAAU,6BAAV,EAAyC4D,IAAzC,CAA8CvJ,SAAS,CAACud,iBAAiB,CAAC,WAAD,CAAlB,CAAvD,EAAyFnU,KAAzF,CAA+F,aAA/F,CAA8G,KAA9G,EAAqH/C,IAArH,CAA0H,IAA1H,CAAgI,IAAhI,EACAV,wBAAA,CAAU,uBAAV,EAAmCmG,UAAnC,GAAgDC,QAAhD,CAAyD,GAAzD,EAA8D1F,IAA9D,CAAmE,OAAnE,CAA6EoY,KAAK,CAAClB,iBAAiB,CAAC,WAAD,CAAjB,CAA+BsB,aAAhC,CAAL,CAAoD,EAAjI,EACAlZ,wBAAA,CAAU,wBAAV,EAAoC4D,IAApC,CAAyCvJ,SAAS,CAACud,iBAAiB,CAAC,MAAD,CAAlB,CAAlD,EAA+EnU,KAA/E,CAAqF,aAArF,CAAoG,KAApG,EAA2G/C,IAA3G,CAAgH,IAAhH,CAAsH,IAAtH,EACAV,wBAAA,CAAU,kBAAV,EAA8BmG,UAA9B,GAA2CC,QAA3C,CAAoD,GAApD,EAAyD1F,IAAzD,CAA8D,OAA9D,CAAwEoY,KAAK,CAAClB,iBAAiB,CAAC,MAAD,CAAjB,CAA0BsB,aAA3B,CAAL,CAA+C,EAAvH,EACAlZ,wBAAA,CAAU,0BAAV,EAAsC4D,IAAtC,CAA2CvJ,SAAS,CAACud,iBAAiB,CAAC,QAAD,CAAlB,CAApD,EAAmFnU,KAAnF,CAAyF,aAAzF,CAAwG,KAAxG,EAA+G/C,IAA/G,CAAoH,IAApH,CAA0H,IAA1H,EACAV,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EAA2D1F,IAA3D,CAAgE,OAAhE,CAA0EoY,KAAK,CAAClB,iBAAiB,CAAC,QAAD,CAAjB,CAA4BsB,aAA7B,CAAL,CAAiD,EAA3H,EACAlZ,wBAAA,CAAU,uBAAV,EAAmC4D,IAAnC,CAAwCvJ,SAAS,CAACud,iBAAiB,CAAC,KAAD,CAAlB,CAAjD,EAA6EnU,KAA7E,CAAmF,aAAnF,CAAkG,KAAlG,EAAyG/C,IAAzG,CAA8G,IAA9G,CAAoH,IAApH,EACAV,wBAAA,CAAU,iBAAV,EAA6BmG,UAA7B,GAA0CC,QAA1C,CAAmD,GAAnD,EAAwD1F,IAAxD,CAA6D,OAA7D,CAAuEoY,KAAK,CAAClB,iBAAiB,CAAC,KAAD,CAAjB,CAAyBsB,aAA1B,CAAL,CAA8C,EAArH,EACAlZ,wBAAA,CAAU,4BAAV,EAAwC4D,IAAxC,CAA6CvJ,SAAS,CAACud,iBAAiB,CAAC,UAAD,CAAlB,CAAtD,EAAuFnU,KAAvF,CAA6F,aAA7F,CAA4G,KAA5G,EAAmH/C,IAAnH,CAAwH,IAAxH,CAA8H,IAA9H,EACAV,wBAAA,CAAU,sBAAV,EAAkCmG,UAAlC,GAA+CC,QAA/C,CAAwD,GAAxD,EAA6D1F,IAA7D,CAAkE,OAAlE,CAA4EoY,KAAK,CAAClB,iBAAiB,CAAC,UAAD,CAAjB,CAA8BsB,aAA/B,CAAL,CAAmD,EAA/H,EAEA;AACAlZ,wBAAA,CAAU,2BAAV,EAAuC4D,IAAvC,CAA4C4S,oBAAoB,CAAC,qBAAjE,EAAwF/S,KAAxF,CAA8F,aAA9F,CAA6G,KAA7G,EAAoH/C,IAApH,CAAyH,IAAzH,CAA+H,KAA/H,EAEAV,wBAAA,CAAU,wBAAV,EAAoC4D,IAApC,CAAyC,GAAzC,EACA5D,wBAAA,CAAU,sBAAV,EAAkC4D,IAAlC,CAAuC,GAAvC,EACA5D,wBAAA,CAAU,2BAAV,EAAuC4D,IAAvC,CAA4C,GAA5C,EAEA5D,wBAAA,CAAU,oBAAV,EAAgCmG,UAAhC,GAA6CC,QAA7C,CAAsD,GAAtD,EACC+S,SADD,CACW,UAAW,CACpB,MAAO,UAAStR,CAAT,CAAY,CACjB,MAAO9M,WAAU,CAACiF,6BAAA,CAAe,CAAf,CAAkBsW,UAAlB,EAA8BzO,CAA9B,CAAD,CAAjB,CACD,CAFD,CAGD,CALD,EAOA7H,wBAAA,CAAU,wBAAV,EAAoCmG,UAApC,GAAiDC,QAAjD,CAA0D,GAA1D,EACC+S,SADD,CACW,UAAW,CACpB,MAAO,UAAStR,CAAT,CAAY,CACjB,MAAO9M,WAAU,CAACiF,6BAAA,CAAe,CAAf,CAAkBsW,UAAU,CAACqC,QAA7B,EAAuC9Q,CAAvC,CAAD,CAAjB,CACD,CAFD,CAGD,CALD,EAOA7H,wBAAA,CAAU,qBAAV,EAAiCmG,UAAjC,GAA8CC,QAA9C,CAAuD,GAAvD,EACC+S,SADD,CACW,UAAW,CACpB,MAAO,UAAStR,CAAT,CAAY,CACjB,MAAO9M,WAAU,CAACiF,6BAAA,CAAe,CAAf,CAAkBuW,WAAlB,EAA+B1O,CAA/B,CAAD,CAAjB,CACD,CAFD,CAGD,CALD,EAOA7H,wBAAA,CAAU,uBAAV,EAAmCmG,UAAnC,GAAgDC,QAAhD,CAAyD,GAAzD,EACC+S,SADD,CACW,UAAW,CACpB,MAAO,UAAStR,CAAT,CAAY,CACjB,MAAO9M,WAAU,CAACiF,6BAAA,CAAe,CAAf,CAAkB0W,aAAlB,EAAiC7O,CAAjC,CAAD,CAAjB,CACD,CAFD,CAGD,CALD,EAOA7H,wBAAA,CAAU,2BAAV,EAAuCmG,UAAvC,GAAoDC,QAApD,CAA6D,GAA7D,EACC+S,SADD,CACW,UAAW,CACpB,MAAO,UAAStR,CAAT,CAAY,CACjB,MAAO9B,KAAI,CAACC,KAAL,CAAWhG,6BAAA,CAAe,CAAf,CAAkBiY,qBAAlB,EAAyCpQ,CAAzC,CAAX,CAAP,CACD,CAFD,CAGD,CALD,EAOA7H,wBAAA,CAAU,qBAAV,EAAiCmG,UAAjC,GAA8CC,QAA9C,CAAuD,GAAvD,EACC+S,SADD,CACW,UAAW,CACpB,MAAO,UAAStR,CAAT,CAAY,CACjB,MAAO9B,KAAI,CAACC,KAAL,CAAWhG,6BAAA,CAAe,CAAf,CAAkB/G,IAAI,CAAC6e,aAAL,CAAmBnd,MAArC,EAA6CkN,CAA7C,CAAX,CAAP,CACD,CAFD,CAGD,CALD,EAOA,GAAG4Q,sBAAH,CAA0B,CACxBzY,wBAAA,CAAU,sBAAV,EAAkCmG,UAAlC,GAA+CC,QAA/C,CAAwD,GAAxD,EACC+S,SADD,CACW,UAAW,CACpB,MAAO,UAAStR,CAAT,CAAY,CACjB,MAAQ7H,8BAAA,CAAe,CAAf,CAAkByY,sBAAlB,EAA0C5Q,CAA1C,EAA6CnM,OAA7C,CAAqD,CAArD,CAAR,CACD,CAFD,CAGD,CALD,EAMD,CAGDsE,wBAAA,CAAU,2BAAV,EAAuCmG,UAAvC,GAAoDC,QAApD,CAA6D,GAA7D,EACC+S,SADD,CACW,UAAW,CACpB,MAAO,UAAStR,CAAT,CAAY,CACjB,MAAO9B,KAAI,CAACC,KAAL,CAAWhG,6BAAA,CAAe,CAAf,CAAkBuY,wBAAlB,EAA4C1Q,CAA5C,CAAX,EAA2D,GAAlE,CACD,CAFD,CAGD,CALD,EAQD,CAED7H,wBAAA,CAAU,OAAV,EAAmByD,KAAnB,CAAyB,QAAzB,CAAmC,SAAnC,EACC/C,IADD,CACM,SADN,CACiB,GADjB,EAECyC,EAFD,CAEI,OAFJ,CAEY,UAAU,CACpB,GAAGnK,OAAO,CAACqR,IAAR,EAAc,CAAjB,CAAoB,MAAO,MAAP,CACpBrR,OAAO,CAACqR,IAAR,CAAerR,OAAO,CAACqR,IAAR,CAAa,CAA5B,CACAvB,WAAW,CAAC7P,QAAD,CAAOD,OAAP,CAAX,CACD,CAND,EASAgH,wBAAA,CAAU,OAAV,EAAmByD,KAAnB,CAAyB,QAAzB,CAAmC,SAAnC,EAA8CN,EAA9C,CAAiD,OAAjD,CAAyD,UAAU,CACjE,GAAGnK,OAAO,CAACqR,IAAR,EAAcrR,OAAO,CAACmT,QAAzB,CAAmC,MAAO,MAAP,CACnCnT,OAAO,CAACqR,IAAR,CAAerR,OAAO,CAACqR,IAAR,CAAa,CAA5B,CACAvB,WAAW,CAAC7P,QAAD,CAAOD,OAAP,CAAX,CACD,CAJD,EAxoBa,QA8oBE8P,YA9oBF,6KA8oBb,kBAA2B7P,IAA3B,CAAiCD,OAAjC,oLAEMiX,UAFN,CAEmBhX,IAAI,CAACiG,wBAAL,CAA8BW,MAA9B,CAAqC,SAAA9C,CAAC,QAAEA,EAAC,CAACG,IAAF,CAAOsG,OAAP,IAAkBxK,OAAO,CAACwG,QAAR,CAAiBgE,OAAjB,EAApB,EAAtC,CAFnB,CAGMwD,MAHN,CAGehH,2BAAA,CAAaiQ,UAAb,CAAyB,SAAAlT,CAAC,QAAIA,EAAC,CAAC6S,QAAN,EAA1B,CAHf,CAKE3W,IAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASC,CAAT,CAAWC,CAAX,CAAa,CACpC,GAAIyO,2BAA0B,CAAI1O,CAAC,CAAC0O,0BAAH,EAAkC,CAAnE,CACA,GAAG,CAACzE,MAAM,CAACoS,IAAP,CAAY,SAAA9d,IAAI,QAAIA,KAAI,CAAC,CAAD,CAAJ,GAAYyB,CAAC,CAACiP,YAAlB,EAAhB,CAAJ,CAAoD,CAClDhF,MAAM,CAACxI,IAAP,CAAY,CAACzB,CAAC,CAACiP,YAAH,CAAiB,CAAC,CAC5BH,YAAY,CAAE9O,CAAC,CAAC8O,YADY,CAE5BwB,YAAY,CAAEtQ,CAAC,CAACuQ,YAFY,CAG5B7B,0BAA0B,CAAEA,0BAHA,CAAD,CAAjB,CAAZ,EAKD,CACDzE,MAAM,CAAClK,OAAP,CAAe,SAASY,EAAT,CAAYC,EAAZ,CAAe,CAC5B,GAAGD,EAAE,CAAC,CAAD,CAAF,EAAOX,CAAC,CAACiP,YAAZ,CAAyB,CACvBtO,EAAE,CAAC,CAAD,CAAF,CAAM,CAAN,EAAS+N,0BAAT,CAAsCA,0BAAtC,CACA/N,EAAE,CAAC,CAAD,CAAF,CAAM,CAAN,EAASmO,YAAT,CAAwB9O,CAAC,CAAC8O,YAA1B,CACAnO,EAAE,CAAC,CAAD,CAAF,CAAM,CAAN,EAAS2P,YAAT,CAAwBtQ,CAAC,CAACuQ,YAA1B,CACD,CACF,CAND,EAOD,CAhBD,EAmBA,GAAGtU,OAAO,CAACmR,UAAR,EAAoB,WAAvB,CAAoCkP,OAAO,CAAG,cAAV,CACpC,GAAGrgB,OAAO,CAACmR,UAAR,EAAoB,WAAvB,CAAoCkP,OAAO,CAAG,gCAAV,CACpC,GAAGrgB,OAAO,CAACmR,UAAR,EAAoB,WAAvB,CAAoCkP,OAAO,CAAG,+BAAV,CACpC,GAAGrgB,OAAO,CAACmR,UAAR,EAAoB,WAAvB,CAAoCkP,OAAO,CAAG,qCAAV,CACpC,GAAGrgB,OAAO,CAACmR,UAAR,EAAoB,WAAvB,CAAoCkP,OAAO,CAAG,4BAAV,CACpC,GAAGrgB,OAAO,CAACmR,UAAR,EAAoB,WAAvB,CAAoCkP,OAAO,CAAG,oBAAV,CAEpC,IAAQ9e,CAAR,CAAY,CAAZ,CAAeA,CAAC,CAAC,CAAjB,CAAoBA,CAAC,EAArB,CAAwB,CACtByF,wBAAA,CAAU,OAAOzF,CAAP,CAAS,YAAnB,EAAiCmG,IAAjC,CAAsC,SAAtC,CAAiD,CAAjD,EACAV,wBAAA,CAAU,OAAOzF,CAAP,CAAS,WAAnB,EAAgCmG,IAAhC,CAAqC,SAArC,CAAgD,CAAhD,EACD,CAEDV,wBAAA,CAAU,IAAIhH,OAAO,CAACmR,UAAZ,CAAuB,GAAvB,CAA2BnR,OAAO,CAACoR,oBAA7C,EACC1J,IADD,CACM,SADN,CACiB,CADjB,EAGA,GAAG2Y,OAAO,EAAE,cAAZ,CAA2B,CACzB,GAAGrgB,OAAO,CAACoR,oBAAR,EAA8B,KAAjC,CAAwC,CACtCpD,MAAM,CAACG,IAAP,CAAY,SAASE,CAAT,CAAYD,CAAZ,CAAc,CACxB,MAAOA,EAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQyE,YAAR,CAAqByN,aAArB,CAAmCjS,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQwE,YAA3C,CAAP,CACD,CAFD,EAGD,CAJD,IAIO,CACL7E,MAAM,CAACG,IAAP,CAAY,SAASC,CAAT,CAAYC,CAAZ,CAAc,CACxB,MAAOD,EAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQyE,YAAR,CAAqByN,aAArB,CAAmCjS,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQwE,YAA3C,CAAP,CACD,CAFD,EAGD,CAEF,CAXD,IAWO,CACL,GAAG7S,OAAO,CAACoR,oBAAR,EAA8B,MAAjC,CAAyC,CACvCpD,MAAM,CAACG,IAAP,CAAY,SAASC,CAAT,CAAWC,CAAX,CAAa,CACrB,MAAOA,EAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQgS,OAAR,EAAmBjS,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQiS,OAAR,CAA1B,CACH,CAFD,EAGD,CAJD,IAIO,CACLrS,MAAM,CAACG,IAAP,CAAY,SAASE,CAAT,CAAWD,CAAX,CAAa,CACvB,MAAOC,EAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQgS,OAAR,EAAmBjS,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQiS,OAAR,CAA1B,CACD,CAFD,EAGD,CACF,CAEDpgB,IAAI,CAAC+N,MAAL,CAAcA,MAAd,CAEA/N,IAAI,CAAC+N,MAAL,CAAYlK,OAAZ,CAAoB,SAASC,CAAT,CAAWC,CAAX,CAAa,CAC/B/D,IAAI,CAACgS,WAAL,CAAiBnO,OAAjB,CAAyB,SAASY,EAAT,CAAYC,EAAZ,CAAe,CACpC,GAAGZ,CAAC,CAAC,CAAD,CAAD,EAAQW,EAAE,CAACsO,YAAd,CAA2B,CACvBtO,EAAE,CAAC8N,mCAAH,CAAyC5F,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQyO,mCAAT,CAAnD,CACA9N,EAAE,CAAC6N,6BAAH,CAAmC3F,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQwO,6BAAT,CAA7C,CACA7N,EAAE,CAACiC,kBAAH,CAAwBiG,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ4C,kBAAT,CAAlC,CACAjC,EAAE,CAACuO,8BAAH,CAAoCrG,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQkP,8BAAT,CAA9C,CACH,CACJ,CAPD,EAQH,CATC,EAYAjM,2BAAA,CAAa,WAAb,EAA0BQ,MAA1B,GACAR,2BAAA,CAAa,UAAb,EAAyBU,IAAzB,CAA8B,SAA9B,CAAyC,CAAzC,EACAV,2BAAA,CAAa,UAAb,EAAyBU,IAAzB,CAA8B,SAA9B,CAAyC,CAAzC,EACAV,2BAAA,CAAa,UAAb,EAAyBU,IAAzB,CAA8B,SAA9B,CAAyC,CAAzC,EACAV,2BAAA,CAAa,UAAb,EAAyBU,IAAzB,CAA8B,SAA9B,CAAyC,CAAzC,EACAV,2BAAA,CAAa,QAAb,EAAuBU,IAAvB,CAA4B,SAA5B,CAAuC,CAAvC,EACAV,2BAAA,CAAa,2BAAb,EAA0C4D,IAA1C,CAA+C,EAA/C,EAEA5K,OAAO,CAACmT,QAAR,CAAmBpG,IAAI,CAACwT,IAAL,CAAUvS,MAAM,CAACrM,MAAP,CAAc,EAAxB,CAAnB,CAEAqF,wBAAA,CAAU,OAAV,EAAmBU,IAAnB,CAAwB,SAAxB,CAAmC,UAAU,CAC3C,GAAG1H,OAAO,CAACqR,IAAR,EAAcrR,OAAO,CAACmT,QAAzB,CAAmC,MAAO,IAAP,CACnC,MAAO,EAAP,CACD,CAHD,EAKAnM,wBAAA,CAAU,OAAV,EACCU,IADD,CACM,SADN,CACiB,UAAU,CACzB,GAAG1H,OAAO,CAACqR,IAAR,EAAc,CAAjB,CAAoB,MAAO,IAAP,CACpB,MAAO,EAAP,CACD,CAJD,EAMArK,wBAAA,CAAU,kBAAV,EAA8BU,IAA9B,CAAmC,aAAnC,CAAkD,KAAlD,EACAV,wBAAA,CAAU,wBAAV,EAAoCU,IAApC,CAAyC,GAAzC,CAA8C,EAA9C,EACAV,wBAAA,CAAU,wBAAV,EAAoC4D,IAApC,CAAyC,QAAQ5K,OAAO,CAACqR,IAAhB,CAAuB,MAAvB,CAA8BrR,OAAO,CAACmT,QAA/E,EAEInP,CArGN,CAqGU,CArGV,CAsGMwM,KAtGN,CAsGc,EAtGd,CAuGQgQ,KAvGR,CAuGgB,QAARA,MAAQ,CAAAC,EAAE,QAAI,IAAIC,QAAJ,CAAY,SAAAC,GAAG,QAAIC,WAAU,CAACD,GAAD,CAAMF,EAAN,CAAd,EAAf,CAAJ,EAvGlB,CAyGUI,CAzGV,CAyGe,CAAC7gB,OAAO,CAACqR,IAAR,CAAa,CAAd,EAAiB,EAzGhC,cAyGqCwP,CAAC,CAAK7gB,OAAO,CAACqR,IAAT,CAAe,EAzGzD,4BA2GQtN,CA3GR,CA2GYiK,MAAM,CAAC6S,CAAD,CA3GlB,IA4GQ7S,MAAM,CAAC6S,CAAD,CA5Gd,2BA6GM7Z,wBAAA,CAAU,WAAWhD,CAArB,EACC0D,IADD,CACM,OADN,CACe,CADf,EAEAV,wBAAA,CAAU,WAAWhD,CAArB,EACC0D,IADD,CACM,OADN,CACe,CADf,EAEAV,wBAAA,CAAU,WAAWhD,CAArB,EACC0D,IADD,CACM,OADN,CACe,CADf,EAEAV,wBAAA,CAAU,WAAWhD,CAArB,EACC0D,IADD,CACM,OADN,CACe,CADf,EAnHN,+CAwHIV,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,6BADd,EAECkD,IAFD,CAEM,UAAU,CACd,GAAIkW,KAAJ,CACA,GAAG/c,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ8O,YAAX,CAAyB,CAAEiO,IAAI,CAAG/c,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ8O,YAAf,CAA8B,CAAzD,IAA+D,CAC7DiO,IAAI,CAAG/c,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ6S,QAAf,CACD,CACDkK,IAAI,CAAGA,IAAI,CAAChE,SAAL,CAAe,CAAf,CAAiB,EAAjB,CAAP,CACA,GAAGgE,IAAI,CAACnf,MAAL,EAAa,EAAhB,CAAmBmf,IAAI,CAACA,IAAI,CAAC,GAAV,CACnB,MAAOA,KAAP,CACD,CAVD,EAWCpZ,IAXD,CAWM,GAXN,CAWW,CAXX,EAYCA,IAZD,CAYM,GAZN,CAYW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAdD,EAeCyG,KAfD,CAeO,MAfP,CAee,MAff,EAgBCA,KAhBD,CAgBO,WAhBP,CAgBoB,KAhBpB,EAkBA;AACAzD,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,6BADd,EAECkD,IAFD,CAEM,UAAU,CACd,GAAIqE,IAAG,CAAGrC,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQkP,8BAAT,CAAV,CAAmDvQ,OAAnD,CAA2D,CAA3D,CAAV,CACA,GAAI0M,KAAK,CAACH,GAAD,CAAN,EAAeA,GAAG,EAAE,CAAvB,CAA0B,CAAE,MAAO,EAAP,CAAU,CAAtC,IAA4C,CAAE,MAAOA,IAAP,CAAY,CAC3D,CALD,EAMCxE,KAND,CAMO,aANP,CAMsB,KANtB,EAOC/C,IAPD,CAOM,GAPN,CAOW,GAPX,EAQCA,IARD,CAQM,GARN,CAQW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAVD,EAWCyG,KAXD,CAWO,MAXP,CAWe,MAXf,EAYCA,KAZD,CAYO,WAZP,CAYoB,KAZpB,EAcA;AACAzD,wBAAA,CAAU,WAAWhD,CAArB,EACC0D,IADD,CACM,SADN,CACiB,CADjB,EAECyF,UAFD,GAGCC,QAHD,CAGU,GAHV,EAIC1F,IAJD,CAIM,OAJN,CAIe,UAAU,CACvB,GAAIuH,IAAG,CAAGlL,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQkP,8BAAlB,CACA,GAAGlP,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQkP,8BAAR,CAAuC,GAA1C,CAA8C,CAC5ChE,GAAG,CAAG,GAAN,CACD,CACD,GAAGG,KAAK,CAACH,GAAD,CAAR,CAAc,CAAE,MAAO,EAAP,CAAS,CAAzB,IAA+B,CAAE,MAAO,KAAIA,GAAG,CAAC,GAAR,CAAP,CAAqB,CACvD,CAVD,EAYAjI,wBAAA,CAAU,UAAUhD,CAApB,EACC0D,IADD,CACM,SADN,CACiB,CADjB,EAGA;AACAV,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,UADd,EAECkD,IAFD,CAEM,UAAU,CACd,GAAIqE,IAAG,CAAGrC,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQwO,6BAAT,CAAV,CAAkD7P,OAAlD,CAA0D,CAA1D,CAAV,CACA,GAAI0M,KAAK,CAACH,GAAD,CAAN,EAAeA,GAAG,EAAE,CAAvB,CAA0B,CAAE,MAAO,EAAP,CAAU,CAAtC,IAA4C,CAAE,MAAOA,IAAG,CAAC,GAAX,CAAgB,CAC/D,CALD,EAMCxE,KAND,CAMO,aANP,CAMsB,KANtB,EAOC/C,IAPD,CAOM,GAPN,CAOW,GAPX,EAQCA,IARD,CAQM,GARN,CAQW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAVD,EAWCyG,KAXD,CAWO,MAXP,CAWe,MAXf,EAYCA,KAZD,CAYO,WAZP,CAYoB,KAZpB,EAcA;AACAzD,wBAAA,CAAU,WAAWhD,CAArB,EACC0D,IADD,CACM,SADN,CACiB,CADjB,EAECyF,UAFD,GAGCC,QAHD,CAGU,GAHV,EAIC1F,IAJD,CAIM,OAJN,CAIe,UAAU,CACvB,GAAIuH,IAAG,CAAGlL,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQwO,6BAAlB,CACA,GAAGxO,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQwO,6BAAR,CAAsC,GAAzC,CAA6C,CAC3CtD,GAAG,CAAG,GAAN,CACD,CACD,GAAGG,KAAK,CAACH,GAAD,CAAR,CAAc,CAAE,MAAO,EAAP,CAAS,CAAzB,IAA+B,CAAE,MAAO,KAAIA,GAAG,CAAC,GAAR,CAAP,CAAqB,CACvD,CAVD,EAYAjI,wBAAA,CAAU,UAAUhD,CAApB,EACC0D,IADD,CACM,SADN,CACiB,CADjB,EAGA;AACAV,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,UADd,EAECkD,IAFD,CAEM,UAAU,CACd,GAAIqE,IAAG,CAAGrC,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQyO,mCAAT,CAAV,CAAwD9P,OAAxD,CAAgE,CAAhE,CAAV,CACA,GAAI0M,KAAK,CAACH,GAAD,CAAN,EAAeA,GAAG,EAAE,CAAvB,CAA0B,CAAE,MAAO,EAAP,CAAU,CAAtC,IAA4C,CAAE,MAAOA,IAAG,CAAC,GAAX,CAAgB,CAC/D,CALD,EAMCxE,KAND,CAMO,aANP,CAMsB,KANtB,EAOC/C,IAPD,CAOM,GAPN,CAOW,GAPX,EAQCA,IARD,CAQM,GARN,CAQW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAVD,EAWCyG,KAXD,CAWO,MAXP,CAWe,MAXf,EAYCA,KAZD,CAYO,WAZP,CAYoB,KAZpB,EAcA;AACAzD,wBAAA,CAAU,WAAWhD,CAArB,EACC0D,IADD,CACM,SADN,CACiB,CADjB,EAECyF,UAFD,GAGCC,QAHD,CAGU,GAHV,EAIC1F,IAJD,CAIM,OAJN,CAIe,UAAU,CACvB,GAAIuH,IAAG,CAAGlL,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQyO,mCAAlB,CACA,GAAGzO,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQyO,mCAAR,CAA4C,GAA/C,CAAmD,CACjDvD,GAAG,CAAG,GAAN,CACD,CACD,GAAGG,KAAK,CAACH,GAAD,CAAR,CAAc,CAAE,MAAO,EAAP,CAAS,CAAzB,IAA+B,CAAE,MAAO,KAAIA,GAAG,CAAC,GAAR,CAAP,CAAqB,CACvD,CAVD,EAYAjI,wBAAA,CAAU,UAAUhD,CAApB,EACC0D,IADD,CACM,SADN,CACiB,CADjB,EAGA;AACAV,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,UADd,EAECkD,IAFD,CAEM,UAAU,CACd,GAAIqE,IAAG,CAAGrC,UAAU,CAAC7I,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ0O,0BAAT,CAAV,CAA+C/P,OAA/C,CAAuD,CAAvD,CAAV,CACA,GAAI0M,KAAK,CAACH,GAAD,CAAN,EAAeA,GAAG,EAAE,CAAvB,CAA0B,CAAE,MAAO,EAAP,CAAU,CAAtC,IAA4C,CAAE,MAAOA,IAAG,CAAC,GAAX,CAAgB,CAC/D,CALD,EAMCxE,KAND,CAMO,aANP,CAMsB,KANtB,EAOC/C,IAPD,CAOM,GAPN,CAOW,GAPX,EAQCA,IARD,CAQM,GARN,CAQW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAVD,EAWCyG,KAXD,CAWO,MAXP,CAWe,MAXf,EAYCA,KAZD,CAYO,WAZP,CAYoB,KAZpB,EAcA;AACAzD,wBAAA,CAAU,WAAWhD,CAArB,EACC0D,IADD,CACM,SADN,CACiB,CADjB,EAECyF,UAFD,GAGCC,QAHD,CAGU,GAHV,EAIC1F,IAJD,CAIM,OAJN,CAIe,UAAU,CACvB,GAAIuH,IAAG,CAAGlL,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ0O,0BAAlB,CACA,GAAG1O,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ0O,0BAAR,CAAmC,GAAtC,CAA0C,CACxCxD,GAAG,CAAG,GAAN,CACD,CACD,GAAGG,KAAK,CAACH,GAAD,CAAR,CAAc,CAAE,MAAO,EAAP,CAAS,CAAzB,IAA+B,CAAE,MAAO,KAAIA,GAAG,CAAC,GAAR,CAAP,CAAqB,CACvD,CAVD,EAYAjI,wBAAA,CAAU,UAAUhD,CAApB,EACC0D,IADD,CACM,SADN,CACiB,CADjB,EAIIqZ,SAvQR,CAuQoB/Z,4BAAA,CAAc,OAAd,CAvQpB,CAwQI;AACAA,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,UADd,EAECkD,IAFD,CAEM,UAAU,CACd,GAAIqE,IAAG,CAAIlL,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQ4C,kBAAnB,CACA,GAAIyI,KAAK,CAACH,GAAD,CAAN,EAAeA,GAAG,EAAE,CAAvB,CAA0B,CAAE,MAAO,EAAP,CAAU,CAAtC,IAA4C,CAAE,MAAOlN,WAAU,CAACkN,GAAD,CAAjB,CAAwB,CACvE,CALD,EAMCxE,KAND,CAMO,aANP,CAMsB,KANtB,EAOC/C,IAPD,CAOM,GAPN,CAOW,GAPX,EAQCA,IARD,CAQM,GARN,CAQW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAVD,EAWCyG,KAXD,CAWO,MAXP,CAWe,MAXf,EAYCA,KAZD,CAYO,WAZP,CAYoB,KAZpB,EAcA;AACAzD,wBAAA,CAAU,UAAV,EAAsBS,MAAtB,CAA6B,MAA7B,EACCC,IADD,CACM,OADN,CACc,UADd,EAECkD,IAFD,CAEM,UAAU,CACd,GAAIqE,IAAG,CAAIlL,CAAC,CAAC,CAAD,CAAD,CAAK,CAAL,EAAQuT,QAAnB,CACA,GAAIrI,GAAJ,CAAS,CAAE,MAAO8R,UAAS,CAAC9R,GAAD,CAAhB,CAAsB,CAAjC,IAAuC,CAAE,MAAO,EAAP,CAAW,CACrD,CALD,EAMCxE,KAND,CAMO,aANP,CAMsB,KANtB,EAOC/C,IAPD,CAOM,GAPN,CAOW,GAPX,EAQCA,IARD,CAQM,GARN,CAQW,UAAU,CACnB,MAAO,IAAI1D,CAAC,CAAC,IAAb,CACD,CAVD,EAWCyG,KAXD,CAWO,MAXP,CAWe,MAXf,EAYCA,KAZD,CAYO,WAZP,CAYoB,KAZpB,EAcAzG,CAAC,GAtSL,wBAwSUwc,MAAK,CAAC,EAAD,CAxSf,SAyG8DK,CAAC,EAzG/D,kFA9oBa,8CA27Bb,QAAS9E,cAAT,EAAwB,CACrB;AACCmB,gBAAC,CAAC,eAAD,CAAD,CAAmB8D,OAAnB,CAA2B,CACzB/gB,IAAI,CAAE,CAAC,CACLkP,EAAE,CAAE,SADC,CAELvE,IAAI,CAAE,cAFD,CAGLqW,QAAQ,CAAE/F,aAHL,CAAD,CAIJ,CACA/L,EAAE,CAAE,WADJ,CAEAvE,IAAI,CAAE,WAFN,CAGAqW,QAAQ,CAAE9F,cAHV,CAJI,CADmB,CAUzB+F,WAAW,CAAE,EAVY,CAWzBC,iBAAiB,CAAE,IAXM,CAYzBC,cAAc,CAAE,wBAAA9e,IAAI,QAAIA,KAAI,CAACsI,IAAL,EAAa,QAAjB,EAZK,CAazByW,cAAc,CAAEnE,gBAAC,CAAC,aAAD,CAbQ,CAczBoE,gBAAgB,CAAE,2BAAW,CAC7B,MAAO,MAAP,CACD,CAhB0B,CAiBzBC,cAAc,CAAE,wBAASthB,IAAT,CAAe,CAC/B,GAAIuhB,OAAM,CAAGtE,gBAAC,CAAC,SAAWjd,IAAI,CAAC2K,IAAhB,CAAuB,QAAxB,CAAd,CACA,MAAO4W,OAAP,CACD,CApB0B,CAA3B,EAqBGrX,EArBH,CAqBM,qBArBN,CAqB6B,UAAW,CACpC+S,gBAAC,CAAC,IAAD,CAAD,CAAQjd,IAAR,CAAa,aAAb,CAA4B,IAA5B,EACH,CAvBD,EAuBGkK,EAvBH,CAuBM,iBAvBN,CAuByB,SAAS6O,CAAT,CAAY,CACjC,GAAIkE,gBAAC,CAAC,IAAD,CAAD,CAAQjd,IAAR,CAAa,aAAb,CAAJ,CAAiC,CAC7Bid,gBAAC,CAAC,IAAD,CAAD,CAAQuE,UAAR,CAAmB,aAAnB,EACAzI,CAAC,CAAC0I,cAAF,GACH,CACJ,CA5BD,EA8BAxE,gBAAC,CAAC,eAAD,CAAD,CAAmB/S,EAAnB,CAAsB,gBAAtB,CAAwC,SAAU6O,CAAV,CAAa,CACjD,GAAI/Y,KAAI,CAAG+Y,CAAC,CAAC2I,MAAF,CAAS1hB,IAApB,CACA4G,MAAM,CAAC,CAAC5G,IAAI,CAACkP,EAAN,CAAD,CAAN,CACH,CAHD,EAKA+N,gBAAC,CAAC,eAAD,CAAD,CAAmB/S,EAAnB,CAAsB,kBAAtB,CAA0C,SAAU6O,CAAV,CAAa,CACrD,GAAI/Y,KAAI,CAAG+Y,CAAC,CAAC2I,MAAF,CAAS1hB,IAApB,CACA4G,MAAM,CAAC,CAAC5G,IAAI,CAACkP,EAAN,CAAD,CAAN,CACH,CAHC,EAKA;AACAnI,wBAAA,CAAU,kBAAV,EAA8ByD,KAA9B,CAAoC,QAApC,CAA8C,SAA9C,EACCN,EADD,CACI,OADJ,CACa,UAAU,CACrBtD,MAAM,CAAC,OAAD,CAAN,CACD,CAHD,EAKA;AACAqW,gBAAC,CAAC,cAAD,CAAD,CAAkB8D,OAAlB,CAA0B,CACxBG,iBAAiB,CAAE,IADK,CAExBS,uBAAuB,CAAE,CAAC,CAFF,CAGxBR,cAAc,CAAE,wBAAA9e,IAAI,QAAIA,KAAI,CAACsI,IAAL,EAAa,QAAjB,EAHI,CAIxByW,cAAc,CAAEnE,gBAAC,CAAC,aAAD,CAJO,CAKxBoE,gBAAgB,CAAE,2BAAW,CAC7B,MAAO,MAAP,CACD,CAPyB,CAQxBC,cAAc,CAAE,wBAASthB,IAAT,CAAe,CAC/B,GAAIuhB,OAAM,CAAGtE,gBAAC,CAAC,SAAWjd,IAAI,CAAC2K,IAAhB,CAAuB,QAAxB,CAAd,CACA,MAAO4W,OAAP,CACD,CAXyB,CAA1B,EAYGrX,EAZH,CAYM,gBAZN,CAYwB,SAAS6O,CAAT,CAAY,CAClC,GAAIjV,EAAC,CAAGiV,CAAC,CAAC2I,MAAF,CAAS1hB,IAAjB,CACAD,OAAO,CAAC0S,qBAAR,CAAgC3O,CAAC,CAACoL,EAAlC,CACA4D,iBAAiB,CAAC9S,QAAD,CAAOD,OAAP,CAAgB6G,MAAhB,CAAjB,CACD,CAhBD,EAkBA;AACAqW,gBAAC,CAAC,UAAD,CAAD,CAAc8D,OAAd,CAAsB,CACpBG,iBAAiB,CAAE,IADC,CAEpBS,uBAAuB,CAAE,CAAC,CAFN,CAGpBR,cAAc,CAAE,wBAAA9e,IAAI,QAAIA,KAAI,CAACsI,IAAL,EAAa,QAAjB,EAHA,CAIpByW,cAAc,CAAEnE,gBAAC,CAAC,aAAD,CAJG,CAKpBoE,gBAAgB,CAAE,2BAAW,CAC7B,MAAO,MAAP,CACD,CAPqB,CAQpBC,cAAc,CAAE,wBAASthB,IAAT,CAAe,CAC/B,GAAIuhB,OAAM,CAAGtE,gBAAC,CAAC,SAAWjd,IAAI,CAAC2K,IAAhB,CAAuB,QAAxB,CAAd,CACA,MAAO4W,OAAP,CACD,CAXqB,CAAtB,EAYGrX,EAZH,CAYM,gBAZN,CAYwB,SAAS6O,CAAT,CAAY,CAClC,GAAIjV,EAAC,CAAGiV,CAAC,CAAC2I,MAAF,CAAS1hB,IAAjB,CACAD,OAAO,CAACmS,mBAAR,CAA8BpO,CAAC,CAACoL,EAAhC,CACA4D,iBAAiB,CAAC9S,QAAD,CAAOD,OAAP,CAAgB6G,MAAhB,CAAjB,CACD,CAhBD,EAkBH,CAED,QAASuW,mBAAT,EAA6B,CAC3B,GAAIyE,OAAM,CAAG3E,gBAAC,CAAC,eAAD,CAAD,CAAmB8D,OAAnB,CAA2B,MAA3B,CAAb,CACA;AACA,GAAIc,mBAAkB,CAAG5E,gBAAC,CAAC,wBAAD,CAAD,CAA4BvV,KAA5B,GAAoCuV,gBAAC,CAAC,wBAAD,CAAD,CAA4BrR,MAA5B,EAA7D,CACA,GAAGiW,kBAAkB,CAAC,EAAtB,CAAyB,CACvB5E,gBAAC,CAAC,4BAAD,CAAD,CAAgC6E,IAAhC,GACA7E,gBAAC,CAAC,wBAAD,CAAD,CAA4BxV,IAA5B,CAAiC,aAAjC,CAAgDma,MAAM,CAAClgB,MAAP,CAAc,qBAA9D,EAAsFqgB,GAAtF,CAA0F,OAA1F,CAAmG,MAAnG,EACD,CAHD,IAGO,CACL9E,gBAAC,CAAC,wBAAD,CAAD,CAA4BxV,IAA5B,CAAiC,aAAjC,CAAgD,EAAhD,EACAwV,gBAAC,CAAC,4BAAD,CAAD,CAAgC+E,IAAhC,GACD,CACF,CAEDC,0BAAS,CAAC,UAAM,CACdxG,IAAI,GACL,CAFQ,CAEN,EAFM,CAAT,CAKA,GAAMyG,YAAW,CAAG,CAClBC,OAAO,CAAE,iBAACC,IAAD,CAAOC,KAAP,kDAAC,4CACLD,IADI,MAEPE,MAAM,CAAE,mBAFD,CAGPC,SAAS,CAAE,MAHJ,CAIP,UAAW,CACPD,MAAM,CAAE,mBADD,CAJJ,IADS,CAApB,CAWA,mBACE,0DACE,mCAAK,EAAE,CAAC,WAAR,wBACE,kCAAK,EAAE,CAAC,YAAR,UAAsB/G,UAAtB,EADF,cAEE,kCAAK,EAAE,CAAC,WAAR,uBACE,kCAAK,EAAE,CAAC,gBAAR,CAAyB,KAAK,CAAE,CAAC7T,KAAK,CAAE2T,QAAQ,CAAC,GAAT,CAAa,GAArB,CAAhC,EADF,EAFF,GADF,cAQE,mCAAK,EAAE,CAAC,uBAAR,wBACE,qCAAQ,EAAE,CAAC,cAAX,CAA0B,SAAS,CAAC,uBAApC,CAA4D,IAAI,CAAC,UAAjE,CAA4E,QAAQ,CAAC,UAArF,EADF,cAEE,kCAAK,EAAE,CAAC,YAAR,EAFF,GARF,cAaE,mCAAK,EAAE,CAAC,uBAAR,wBACE,mCAAK,EAAE,CAAC,sBAAR,2CACA,sCAAQ,EAAE,CAAC,aAAX,CAAyB,SAAS,CAAC,uBAAnC,CAA2D,IAAI,CAAC,WAAhE,CAA4E,YAAY,CAAC,KAAzF,wBACE,qCAAQ,KAAK,CAAC,QAAd,yBADF,cAEE,qCAAQ,KAAK,CAAC,KAAd,2CAFF,cAGE,qCAAQ,KAAK,CAAC,iBAAd,mCAHF,GADA,cAMA,kCAAK,EAAE,CAAC,WAAR,EANA,GADF,cASE,mCAAK,EAAE,CAAC,kBAAR,yCAEA,sCAAQ,EAAE,CAAC,SAAX,CAAqB,SAAS,CAAC,uBAA/B,CAAuD,IAAI,CAAC,SAA5D,wBACE,qCAAQ,KAAK,CAAC,oCAAd,0CADF,cAEE,qCAAQ,KAAK,CAAC,0BAAd,gCAFF,cAGE,qCAAQ,KAAK,CAAC,4BAAd,kCAHF,GAFA,cAOA,kCAAK,EAAE,CAAC,OAAR,EAPA,GATF,GAbF,cAkCA,kCAAK,EAAE,CAAC,eAAR,CAAwB,SAAS,CAAC,KAAlC,EAlCA,cAqCA,kCAAK,EAAE,CAAC,eAAR,uBACE,kCAAK,EAAE,CAAC,SAAR,EADF,EArCA,cA0CA,mCAAK,EAAE,CAAC,QAAR,0CAAgC,gCAAG,IAAI,CAAC,+BAAR,CAAwC,MAAM,CAAC,QAA/C,kEAAhC,mBAAkJ,gCAAG,IAAI,CAAC,4EAAR,CAAqF,MAAM,CAAC,QAA5F,mCAAlJ,GA1CA,GADF,CA+CD,CAED,QAASwE,MAAT,CAAe2C,CAAf,CAAiB,CACf,GAAGrT,KAAK,CAACqT,CAAD,CAAR,CAAY,CACV,MAAO,EAAP,CACD,CAFD,IAEO,CACL,MAAOA,EAAP,CACD,CACF,CAEcrH,mDAAf,E;;ACvpCA,GAAMsH,gBAAe,CAAG,QAAlBA,gBAAkB,CAAAC,WAAW,CAAI,CACrC,GAAIA,WAAW,EAAIA,WAAW,WAAYC,SAA1C,CAAoD,CAClD,kFAAqBhH,IAArB,CAA0B,cAAiD,IAA9CiH,OAA8C,MAA9CA,MAA8C,CAAtCC,MAAsC,MAAtCA,MAAsC,CAA9BC,MAA8B,MAA9BA,MAA8B,CAAtBC,MAAsB,MAAtBA,MAAsB,CAAdC,OAAc,MAAdA,OAAc,CACzEJ,MAAM,CAACF,WAAD,CAAN,CACAG,MAAM,CAACH,WAAD,CAAN,CACAI,MAAM,CAACJ,WAAD,CAAN,CACAK,MAAM,CAACL,WAAD,CAAN,CACAM,OAAO,CAACN,WAAD,CAAP,CACD,CAND,EAOD,CACF,CAVD,CAYeD,uEAAf,E;;ACNAQ,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,IADF,EADF,CAIEvZ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,EAOA;AACA;AACA;AACA6Y,mBAAe,G","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import * as d3 from \"d3\";\n\nfunction Update(svg,options,data) {\n\n\n}\n\nexport default Update;\n","// default options\n\n\nconst colors = {\n    hdi_category: {\n        'very-high': '#D8EF8B', \n        'high': '#FDE08B', \n        'medium': '#FB8D59', \n        'low': '#D63127'\n    },\n    inform_severity: {\n        'very-high': '#D63127', \n        'high': '#FB8D59', \n        'medium': '#FDE08B', \n        'low': '#D8EF8B', \n        'no-score': '#DAE0EA', \n    },\n    blue: '#1F558C',\n    lightblue: '#62D7F7',\n    lightnavy: '#799EAD',\n    // red: '#E02225',\n    red: '#EE3224',\n    green: '#D8EF8B',\n    ifrcgreen: '#87C400',\n    black: '#595454',\n    lightgrey: '#e8e8e8',\n    darkgrey: '#c1c1c1',\n    white: '#fff',\n    olive: '#87C400',\n    purple: '#771966',\n    orange: '#FF3500',\n    pink: '#FB0080'\n}\n\n// option 1\nvar c = ['#00ADED','#003A5A','#62D7F7','#799EAD','#BCCED6']\n// option 2\nvar c = ['#00ADED','#003A5A','#62D7F7','#799EAD','#FFDD00']\nvar c = ['#00ADED','#62D7F7','#003A5A','#799EAD','#FFDD00']\n// option 3\n// var c = ['#BD8FB3','#75AACD','#006C73','#70B7B9','#F9D27D']\n\ncolors.regions = {\n        'AP': colors.orange, \n        'AM': colors.lightblue, \n        'EU': colors.ifrcgreen, \n        'ME': '#0A3248', \n        'AF': '#FCD204', \n    }\n\n\n    colors.regions = {\n        'AP': c[1], \n        'AM': c[0], \n        'EU': c[2], \n        'ME': c[3], \n        'AF': c[4], \n    }\n\n\n\n\n\nexport default colors;\n","export function addCommas(nStr){\n    nStr += '';\n    let x = nStr.split('.');\n    let x1 = x[0];\n    let x2 = x.length > 1 ? '.' + x[1] : '';\n    var rgx = /(\\d+)(\\d{3})/;\n    while (rgx.test(x1)) {\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n    return x1 + x2;\n}\n\nexport function nFormatter(num, digits = 1) {\n    const lookup = [\n      { value: 1, symbol: \"\" },\n      { value: 1e3, symbol: \"k\" },\n      { value: 1e6, symbol: \"M\" },\n      { value: 1e9, symbol: \"B\" },\n      { value: 1e12, symbol: \"T\" },\n      { value: 1e15, symbol: \"P\" },\n      { value: 1e18, symbol: \"E\" }\n    ];\n    const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n    var item = lookup.slice().reverse().find(function(item) {\n      return num >= item.value;\n    });\n    return item ? (num / item.value).toFixed(digits).replace(rx, \"$1\") + item.symbol : \"0\";\n\n\n  }\n  \n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {nFormatter} from './HelperFunctions';\nimport { selection, textwrap } from 'd3-textwrap';\nimport clone from 'just-clone';\n\nlet yScaleCases;\nlet yScaleDeaths;\nlet yScaleVaccines;\nlet yAxisCases;\nlet yAxisDeaths;\nlet yAxisVaccines;\nlet yScaleCasesAxis;\nlet yScaleDeathsAxis;\nlet yScaleVaccinesAxis;\nlet xScale;\nlet xAxis; \nlet xScaleAxis;\nlet xScaleEvents;\nlet maxDate; \nlet minDate;\nlet md; \n\nconst regions = ['AF', 'ME', 'AP', 'EU', 'AM', 'OTH'];\n\nexport function drawTimechart(data, options) {\n\n    minDate = options.minDate;\n    maxDate = options.maxDate;\n\n    const groupedData = [];\n\n    data.who_data.forEach(function(d,i){\n        if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']] = {};\n        if(options.timeline_frequency==='day') groupedData[d[options.timeline_frequency+'Total']].date = d.date;\n        if(options.timeline_frequency==='week') groupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n        if(options.timeline_frequency==='month') groupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n        if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases += d.new_cases;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths += d.new_deaths;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases = 0;\n    });\n\n    // totals by date\n    groupedData.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if(!d.hasOwnProperty(dd)){\n               d[dd] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n            }\n            // if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n            if(i>0){\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases + groupedData[i-1][dd].cumulative_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths + groupedData[i-1][dd].cumulative_deaths;\n            } else {\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths;\n            }\n        })\n\n        d.total_new_cases = d.AF.new_cases + d.AP.new_cases + d.AM.new_cases + d.EU.new_cases + d.ME.new_cases + d.OTH.new_cases; \n        d.total_cumulative_cases = d.AF.cumulative_cases + d.AP.cumulative_cases + d.AM.cumulative_cases + d.EU.cumulative_cases + d.ME.cumulative_cases + d.OTH.cumulative_cases; \n        d.total_new_deaths = d.AF.new_deaths + d.AP.new_deaths + d.AM.new_deaths + d.EU.new_deaths + d.ME.new_deaths + d.OTH.new_deaths; \n        d.total_cumulative_deaths = d.AF.cumulative_deaths + d.AP.cumulative_deaths + d.AM.cumulative_deaths + d.EU.cumulative_deaths + d.ME.cumulative_deaths + d.OTH.cumulative_deaths; \n        d.region = [];\n\n        regions.forEach(function(dd,ii){\n            d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n        })\n\n    });\n\n    let vgroupedData = [];\n\n    if(options.timeline_type!='cumulative'){ // cumulative and stacked\n        data.vaccines_data = data.vaccines_data_daily;\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines += d.daily_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {new_vaccines: 0, cumulative_vaccines: 0}\n                }\n            });\n            d.total_new_vaccines = d.AF.new_vaccines + d.AP.new_vaccines + d.AM.new_vaccines + d.EU.new_vaccines + d.ME.new_vaccines + d.OTH.new_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'new_vaccines': d[dd].new_vaccines});\n            })\n        });\n\n    } else{ // cumulative only\n        data.vaccines_data = [];\n        if(options.timeline_frequency==='day') {\n            data.vaccines_data = clone(data.vaccines_data_cumulative);\n        }\n        if(options.timeline_frequency==='week') {\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfWeekDate = moment(d.date).endOf('isoWeek').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfWeekDate)||(date==moment(options.maxVDate).startOf('day').unix())){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n        if(options.timeline_frequency==='month') {\n            var maxDateUnix = moment(options.maxVDate).startOf('day').unix();\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfMonthDate = moment(d.date).endOf('month').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfMonthDate)||((moment(options.maxVDate).startOf('day').unix()!=endOfMonthDate)&&(date==maxDateUnix))){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {cumulative_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines += d.total_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {cumulative_vaccines: 0}\n                }\n            });\n            d.total_cumulative_vaccines = d.AF.cumulative_vaccines + d.AP.cumulative_vaccines + d.AM.cumulative_vaccines + d.EU.cumulative_vaccines + d.ME.cumulative_vaccines + d.OTH.cumulative_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'cumulative_vaccines': d[dd].cumulative_vaccines});\n            })\n        });\n    }\n\n    vgroupedData = vgroupedData.filter(function(el) { return el; });\n\n    const numIntervals = d3.max(data.who_data, function(d,i){\n        return d[options.timeline_frequency+'Total'];\n    });\n\n    const maxCases = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_cases;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_cases;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxDeaths = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_deaths;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_deaths;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxVaccines = d3.max(vgroupedData, function(d,i){\n        if(d){\n            if(options.timeline_type==='non-cumulative') return d.total_new_vaccines;\n            if(options.timeline_type==='cumulative') return d.total_cumulative_vaccines;\n            if(options.timeline_type==='stacked') return 100;\n        }\n    })\n\n    // define date range\n    // const minDate = groupedData[0].date;\n    // const maxDate = groupedData[numIntervals].date;\n    // const minDate = groupedData[0].date;\n\n\n    // if(options.timeline_frequency==='month') md = md.add(1, 'months');\n    // if(options.timeline_frequency==='week') md = md.add(1, 'weeks');\n    if(options.timeline_frequency==='month') minDate = moment(minDate).startOf('month').startOf('day').toDate();\n    if(options.timeline_frequency==='month') maxDate = moment(maxDate).endOf('month').startOf('day').toDate();\n    if(options.timeline_frequency==='week') maxDate = moment(maxDate).endOf('isoWeek').startOf('day').toDate();\n\n    md = moment(maxDate);\n    if(options.timeline_frequency==='day') md = new Date(moment(maxDate).add(1, 'days').toDate());\n\n    const svg = d3.select('#timechart_svg');\n    svg.selectAll('g').remove();\n    d3.selectAll('#layout .yAxis').remove();\n    d3.selectAll('#yAxis').remove();\n    d3.selectAll('#layout .xAxis').remove();\n\n    //bg\n    svg.append('g').append('rect')\n    .attr('width', 2000)\n    .attr('height', '100%')\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr('fill', '#FFF')\n    .attr('opacity', 0);\n\n    const width = 2000;\n    const barWidth = width/numIntervals;\n\n    let barSpacing = 0.04; \n    if(options.timeline_frequency==='month') barSpacing = 0.03;\n    if(options.timeline_frequency==='day') barSpacing = 0;\n\n    // define scales\n\n    xScale = d3.scaleTime()\n    .range([0,width])\n    .domain([minDate,md]);\n\n    xScaleAxis = d3.scaleTime()\n    .range([0,596])\n    .domain([minDate,md]);\n\n    yScaleCases = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxCases]);\n\n    yScaleCasesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxCases]);\n\n    yScaleDeaths = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxDeaths]);\n\n    yScaleDeathsAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxDeaths]);\n\n    yScaleVaccines = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxVaccines]);\n\n    yScaleVaccinesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxVaccines]);\n\n    // define axi\n    \n    xAxis = d3.axisBottom()\n    .scale(xScaleAxis)\n    .tickSize(2)\n    .tickPadding(3);\n\n    // if(options.timeline_frequency=='month')\n    // xAxis.ticks(d3.timeMonth.every(3)).tickFormat(d3.timeFormat(\"%b %Y\"));\n\n    // if(options.timeline_frequency=='week')\n    // xAxis.ticks(d3.timeWeek.every(10)).tickFormat(d3.timeFormat(\"%d %b %Y\"));\n\n    yAxisCases = d3.axisRight()\n    .scale(yScaleCasesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisDeaths = d3.axisRight()\n    .scale(yScaleDeathsAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisVaccines = d3.axisRight()\n    .scale(yScaleVaccinesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    // y-axis cases\n    var yAxisGroup = d3.select('#layout').append(\"g\").attr('id', 'yAxis').attr('clip-path', 'url(#mask)');\n\n    var yAxisCasesText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"casesAxis\")\n    .attr('transform', 'translate(620,363)')\n    .call(yAxisCases);\n\n    // y-axis deaths\n    var yAxisDeathsText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"deathsAxis\")\n    .attr('transform', 'translate(620,534)')\n    .call(yAxisDeaths);\n\n    // y-axis vaccines\n    var yAxisVaccinesText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"VaccinesAxis\")\n    .attr('transform', 'translate(620,707.5)')\n    .call(yAxisVaccines);\n\n    // x-axis cases\n    var xAxisCases = yAxisGroup.append('g')\n    .attr(\"id\", \"casesXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,504)')\n    .call(xAxis);\n\n    var xAxisDeaths = yAxisGroup.append('g')\n    .attr(\"id\", \"deathsXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,674)')\n    .call(xAxis);\n\n    var xAxisVaccines = yAxisGroup.append('g')\n    .attr(\"id\", \"vaccinesXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,848)')\n    .call(xAxis);\n\n    var xAxisTimeline = yAxisGroup.append('g')\n    .attr(\"id\", \"timelineXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,908)')\n    .call(xAxis);\n\n    // CASES\n    // loop through groupedData and draw bars\n    const barGroups = svg.selectAll('.bar_group')\n    .data(groupedData)\n    .enter()\n    .append('g')\n    .attr('class', 'bar_group')\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+')'\n    })\n\n    // CASES\n    barGroups.selectAll('.cases_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', function(d,i) { return 'timeBar cases_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_cases;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleCases(d.cumulative_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleCases(d.new_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_cases/totalNewCases))-((140*(dp/totalNewCases))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleCases(d.cumulative_cases);\n        if(options.timeline_type==='non-cumulative') y = yScaleCases(d.new_cases);\n        if(options.timeline_type==='stacked') y = (140*(d.new_cases/totalNewCases));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    })\n\n    // DEATHS\n    barGroups.selectAll('.deaths_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', function(d,i) { return 'timeBar deaths_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_deaths;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleDeaths(d.cumulative_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleDeaths(d.new_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_deaths/totalNewDeaths))-((140*(dp/totalNewDeaths)))+170)\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleDeaths(d.cumulative_deaths);\n        if(options.timeline_type==='non-cumulative') y = yScaleDeaths(d.new_deaths);\n        if(options.timeline_type==='stacked') y = (140*(d.new_deaths/totalNewDeaths));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    });\n\n    // bar size tweak for spacing\n    if(options.timeline_frequency==='month'){\n        barGroups.selectAll(\".timeBar\")\n        .attr(\"width\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(1-barSpacing);\n            })\n        .attr(\"x\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(barSpacing/2);\n            })\n        }\n\n    // VACCINES\n\n    const vbarGroups = svg.selectAll('.vbar_group')\n    .data(vgroupedData)\n    .enter()\n    .append('g')\n    .attr('class', 'vbar_group')\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+', 344)'\n    })\n   \n    vbarGroups.selectAll('.vaccines_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', 'timeBar vaccines_bar')\n    .attr('class', function(d,i) { return 'timeBar vaccines_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_vaccines;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleVaccines(d.cumulative_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleVaccines(d.new_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_vaccines/totalNewVaccines))-((140*(dp/totalNewVaccines))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleVaccines(d.cumulative_vaccines);\n        if(options.timeline_type==='non-cumulative') y = yScaleVaccines(d.new_vaccines);\n        if(options.timeline_type==='stacked') y = (140*(d.new_vaccines/totalNewVaccines));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    });\n\n    if(options.timeline_frequency==='month'){\n    vbarGroups.selectAll(\".timeBar\")\n    .attr(\"width\", function(d) {\n        var date = d3.select(this.parentNode).datum().date;\n        var next = d3.timeMonth.offset(date, 1);\n        return (xScale(next)- xScale(date))*(1-barSpacing);\n        })\n    .attr(\"x\", function(d) {\n        var date = d3.select(this.parentNode).datum().date;\n        var next = d3.timeMonth.offset(date, 1);\n        return (xScale(next)- xScale(date))*(barSpacing/2);\n        })\n    }\n\n    // bar size tweak for spacing\n    if(options.timeline_frequency==='month'){\n        barGroups.selectAll(\".timeBar\")\n        .attr(\"width\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(1-barSpacing);\n          })\n        .attr(\"x\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(barSpacing/2);\n          })\n        }\n\n    data.vgroupedData = vgroupedData;\n    data.groupedData = groupedData;\n\n        // tooltips\n\n        // events calendar timeline\n        var tData = data.timeline_data;\n\n        xScaleEvents = d3.scaleTime()\n        .range([25,619])\n        .domain([minDate,md]);\n        \n        // bring to front\n       document.getElementById(\"svg\").appendChild(d3.select('#timeline_tooltip').node());\n       document.getElementById(\"svg\").appendChild(d3.select('#event_tooltip').node());\n       var timelineTooltip = d3.select('#timeline_tooltip').attr('opacity', 0);\n       var eventTooltip = d3.select('#event_tooltip').attr('opacity', 0);\n\n        // hover bar\n        var hoverBar = svg.append('rect')\n        .attr('id','timechart_hover')\n        .attr('width', barWidth)\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('opacity', 0)\n        .attr('height', '100%')\n        .attr('fill', 'rgb(221 221 221 / 40%)')\n\n        d3.select('#timechart_svg').on('mouseover',  (event) => {\n\n            var coords = d3.pointer( event );\n            hoverBar.attr('opacity', 1)\n\n            var xDate = xScale.invert(coords[0]);\n\n            if(options.timeline_frequency=='week') {\n                xDate = moment(xDate).startOf('isoWeek');\n            }\n            if(options.timeline_frequency=='day') {\n                xDate = moment(xDate).startOf('day');\n            }\n            if(options.timeline_frequency=='month') {\n                xDate = moment(xDate).startOf('month');\n            }\n\n            if(coords[1]<470){\n                timelineTooltip.attr('opacity', 1).attr('display', 'inline');\n                hoverBar.attr('height', '100%');\n            } else if(coords[1]>510){\n                eventTooltip.attr('opacity', 1);\n                hoverBar.attr('height', '90%');\n            } else {\n                eventTooltip.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n                hoverBar.attr('height', '100%');\n            }\n\n            if((xDate.toDate().getTime()<minDate.getTime())){\n                hoverBar.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n            }\n\n            d3.select('#svg_container').style('z-index', 10);\n\n        }).on('mouseout',  (event) => {\n            hoverBar.attr('opacity', 0)\n            timelineTooltip.attr('opacity', 0).attr('display', 'none');\n            // timelineTooltip.attr('opacity', 0).attr('transform', 'translate(0,0)');\n            d3.select('#svg_container').style('z-index', 1);\n            eventTooltip.attr('opacity', 0).attr('transform', 'translate(0,0)');\n            d3.selectAll('.event_marker circle').style('stroke', colors.black);\n        })\n        .on('mousemove', (event) => {\n            var coords = d3.pointer( event );\n\n            var xDate = xScale.invert(coords[0]);\n\n            var tooltipStr = '';\n            if(options.timeline_frequency=='week') {\n                xDate = moment(xDate).startOf('isoWeek');\n                tooltipStr = xDate.format('ll');\n                d3.select('#timeline_tooltip_date tspan').text(tooltipStr);\n            }\n            if(options.timeline_frequency=='day') {\n                xDate = moment(xDate).startOf('day');\n                tooltipStr = xDate.format('ll');\n                d3.select('#timeline_tooltip_date tspan').text(tooltipStr);\n            }\n            if(options.timeline_frequency=='month') {\n                xDate = moment(xDate).startOf('month');\n                tooltipStr = xDate.format('MMMM YYYY');\n                d3.select('#timeline_tooltip_date tspan').text(tooltipStr);\n            }\n            hoverBar.attr('x', xScale(xDate.toDate()));\n\n            var groupedDataFiltered = data.groupedData.filter(function(d,i){\n                return moment(d.date).startOf('day').unix() == xDate.startOf('day').unix();\n            });\n            var vgroupedDataFiltered = data.vgroupedData.filter(function(d,i){\n                return moment(d.date).startOf('day').unix() == xDate.startOf('day').unix();\n            });\n\n            var deaths = '-';\n            var cases = '-';\n            var vaccines = '-';\n            if(options.timeline_type=='cumulative'){ \n                // cumulative\n                if(groupedDataFiltered[0]) cases = nFormatter(groupedDataFiltered[0].total_cumulative_cases, 2);\n                if(groupedDataFiltered[0]) deaths = nFormatter(groupedDataFiltered[0].total_cumulative_deaths, 2);\n                if(vgroupedDataFiltered[0]) vaccines = nFormatter(vgroupedDataFiltered[0].total_cumulative_vaccines, 2);\n            } else {\n                // non-cumulative/stacked\n                if(groupedDataFiltered[0]) cases = nFormatter(groupedDataFiltered[0].total_new_cases, 2);\n                if(groupedDataFiltered[0]) deaths = nFormatter(groupedDataFiltered[0].total_new_deaths, 2);\n                if(vgroupedDataFiltered[0]) vaccines = nFormatter(vgroupedDataFiltered[0].total_new_vaccines, 2);\n            }\n\n            d3.select('#tooltip_cases tspan').text((cases)).attr(\"text-anchor\", \"end\").attr('dx', 32)\n            d3.select('#tooltip_deaths tspan').text((deaths)).attr(\"text-anchor\", \"end\").attr('dx', 32)\n            d3.select('#tooltip_vaccines tspan').text((vaccines)).attr(\"text-anchor\", \"end\").attr('dx', 32)\n\n            // if((xDate.toDate().getTime()>options.maxDate.getTime())){\n            //     hoverBar.attr('opacity', 0);\n            // // } else \n            if(((xDate.toDate().getTime()<minDate.getTime()))&&(options.timeline_frequency=='day')){\n                hoverBar.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n            }\n\n            if(options.timeline_frequency=='month'){\n                hoverBar.attr('width', function(){\n                   return xScale(moment(xDate).endOf('month')) - xScale(moment(xDate).startOf('month'));\n                })\n            }\n            timelineTooltip.attr('transform', function(){\n                var bw = barWidth;\n                var ratio = (options.brushR - options.brushL)/600;\n                var offset = 0;\n                if(ratio<0.5) offset = 3;\n                if(ratio<0.3) offset = 12;\n                if(ratio<0.2) offset = 20;\n                if(ratio<0.15) offset = 21;\n                if(options.timeline_frequency=='month') { \n                    if(ratio<0.6) offset = 20;\n                    if(ratio<0.5) offset = 30;\n                    if(ratio<0.3) offset = 50;\n                    if(ratio<0.2) offset = 60;\n                    if(ratio<0.1) offset = 70;\n                    return 'translate('+(((xScaleEvents(xDate.toDate()))+(barWidth/3))+offset)+','+(coords[1]+353)+')';\n                }\n                return 'translate('+((xScaleEvents(xDate.toDate())+(18))+offset)+','+(coords[1]+353)+')';\n            })\n\n            if(coords[1]<470){\n                timelineTooltip.attr('opacity', 1);\n                hoverBar.attr('opacity', 1);\n                hoverBar.attr('height', '100%');\n            } else if(coords[1]>510){\n                eventTooltip.attr('opacity', 1);\n                hoverBar.attr('height', '90%');\n                var x = moment(xScale.invert(coords[0])).startOf('day');\n                var xx = (xScale.invert(coords[0]))\n                eventTooltip.attr('transform', function(){\n                    return 'translate('+(xScaleEvents(x.toDate())+(-3))+','+(817)+')';\n                });\n\n                var events = tData.filter(function(d,i){\n                    return moment(d.date).startOf('day').unix() == x.unix()\n                });\n\n                // select nearest neighbor for ux purposes \n                if(events.length==0){\n                    events = tData.filter(function(d,i){\n                        return ((moment(d.date).startOf('day').unix() <= moment(x).add(1, 'days').unix())&&(moment(d.date).startOf('day').unix() >= moment(x).subtract(1, 'days').unix()))\n                    });\n                }\n                \n                if(events.length>0){\n\n                    d3.select('#event-'+moment(events[0].date).startOf('day').unix()).select('path').style('stroke', '#000').attr('opacity', 1);\n                    tooltipStr = moment(events[0].date).startOf('day').format('ll');\n                    d3.select('#event_tooltip_date tspan').text(tooltipStr);\n\n                    var wrap = textwrap().bounds({height: 200, width: 230}).method('tspans');\n                    var event = d3.select('#event_tooltip_text').text(events[0].description)\n                    .attr('y', 18)\n                    .attr('x', 6)\n                    d3.select('#event_tooltip_text').call(wrap);\n\n                    d3.selectAll('#event_tooltip_text tspan').attr('dy', '1.3em');\n                    var bbox = d3.select('#event_tooltip_text').node().getBBox();\n                    d3.select('#event_tooltip_rect').attr('width', bbox.width+17)\n                    .attr('height', bbox.height +26 );\n\n                    var h = d3.select('#event_tooltip_rect').attr('height');\n                    var ys = 0;\n\n                    if(bbox.height<20){\n                        ys = 19;\n                    } else if(bbox.height<30){\n                        ys = 9;\n                    } else if(bbox.height<40){\n                        ys = 0;\n                    } else if(bbox.height<50){\n                        ys = -20;\n                    } else if(bbox.height<60){\n                        ys = -20;\n                    }\n\n                    var y = d3.select('#event_tooltip_rect').attr('y');\n\n                    d3.select('#event_tooltip_rect').attr('y', ys);\n                    \n                    d3.selectAll('#event_tooltip_text').attr('y', function(d,i){\n                        return parseInt(d3.select(this).attr('y')) + ys;\n                    });\n\n                    d3.selectAll('#event_tooltip_date tspan').attr('dy', function(d,i){\n                        return ys;\n                    });\n\n                    eventTooltip.attr('opacity', 1);\n\n                } else {\n                    d3.selectAll('.event_marker circle').style('stroke', colors.black)\n                    eventTooltip.attr('opacity', 0);\n                }\n            } else {\n                eventTooltip.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n                hoverBar.attr('opacity', 0);\n                hoverBar.attr('height', '100%');\n            }\n\n            if((options.timeline_frequency=='day')&&((xDate.toDate().getTime()<minDate.getTime()))){\n                hoverBar.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n                return false;\n            }\n        });\n\n        tData = tData.filter(d => d.date.length > 0);\n\n        // event lin\n\n        yAxisGroup.append('line')\n        .attr('id', 'event-line')\n        .attr('x1', 0)\n        .attr('x2', 620)\n        .attr('y1', 893)\n        .attr('y2', 893)\n        .attr('stroke-width', 2.5)\n        .attr('stroke', colors.black);\n\n        var circles = yAxisGroup.append('g').selectAll('.event_marker')\n        .data(tData)\n        .enter()\n        .append('g')\n        .attr('class', 'event_marker')\n        .attr('id', function(d,i){\n            return 'event-'+moment(d.date).startOf('day').unix();\n        })\n        .attr('transform', function(d){\n            var x = xScaleEvents(new Date(d.date));\n            return 'translate('+(x)+', 893)';\n        })\n        .style('cursor', 'pointer');\n        // .append('path')\n        // .attr('d', \"M0,-6L4,0 0,6 -4,0Z\")\n        \n        circles.append(\"circle\")\n        .style('stroke', colors.black)\n        .attr('opacity', 1)\n        .attr('r', 6.5)\n        .attr('cx', 0)\n        .attr('cy', 0)\n        .style('stroke-width',2.2)\n        .style('fill', 'white');\n        circles\n        .append(\"circle\")\n        .attr('r', 2)\n        .attr('cx', 0)\n        .attr('cy', 0)\n        .attr('fill', colors.black)\n        .style('stroke', colors.black);\n\n\n        // create brush zoom\n        // reset\n        // options.brushL = 0;\n        // options.brushR = 600;\n        const brush = d3.brushX()\n        .extent([[0,0],[600,20]])\n        .on(\"start brush end\", brushed);\n\n        d3.select('.brush').remove();\n;\n        var gBrush = d3.select('#zoombar').append(\"g\")\n        .attr(\"class\", \"brush\")\n        .attr('opacity', 0.1)\n        .call(brush);\n\n\t\td3.selectAll('.handle rect').attr('fill-opacity', '1').style('visibility', 'visible').attr('width', 2).attr('fill', '#000').style('stroke-opacity', 0);\n\n        var brushScale = d3.scaleLinear()\n        .domain([-3, 597])\n        .range([0,2000]);\n\n        gBrush.call(brush.move, [options.brushL,options.brushR]);\n\n        function brushed(){\n            var x = parseFloat(d3.select('.handle--w').attr('x'));\n            var x2 = parseFloat(d3.select('.handle--e').attr('x'));\n            if((x2-x)<40) return false;\n            var w = d3.select('.selection').attr('width');\n            d3.select('#zoomL').attr('transform', 'translate('+x+',0)');\n            d3.select('#zoomR').attr('transform', 'translate('+(x2)+',0)');\n            d3.select('#zoomOverlay').attr('width', (x2-x));\n            d3.select('#zoomOverlay').attr('x', (x));\n            d3.select('#zoomOverlay').attr('transform', 'translate(3,0)');\n            var viewBoxW = Math.round(brushScale(x2)-brushScale(x));\n            var viewBoxX = Math.round(brushScale(x));\n            options.brushL = x+3;\n            options.brushR = x2+3;\n\n            xScaleAxis = d3.scaleTime()\n            .range([0,596])\n            .domain([new Date(xScale.invert(brushScale(x))),new Date(xScale.invert(brushScale(x2)))]);\n\n            xScaleEvents = d3.scaleTime()\n            .range([25,619])\n            // .domain([minDate,md]);\n            .domain([new Date(xScale.invert(brushScale(x))),new Date(xScale.invert(brushScale(x2)))]);\n\n            d3.selectAll('.event_marker')\n            .attr('transform', function(d){\n                var x = xScaleEvents(new Date(d.date));\n                return 'translate('+(x)+', 893)';\n            });\n\n            xAxis = d3.axisBottom()\n            .ticks(5)\n            .scale(xScaleAxis);\n\n            xAxisCases.call(xAxis);\n            xAxisDeaths.call(xAxis);\n            xAxisVaccines.call(xAxis);\n            xAxisTimeline.call(xAxis);\n            \n            d3.select('#timechart_svg').attr('viewBox', viewBoxX + ' 0 '+ viewBoxW + ' 553')\n        }\n\n}\n\nexport function updateTimechart(data, options) {\n\n    const groupedData = [];\n\n    data.who_data.forEach(function(d,i){\n        if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']] = {};\n        if(options.timeline_frequency==='day') groupedData[d[options.timeline_frequency+'Total']].date = d.date;\n        if(options.timeline_frequency==='week') groupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n        if(options.timeline_frequency==='month') groupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n        if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases += d.new_cases;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths += d.new_deaths;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases = 0;\n    });\n\n    // totals by date\n    groupedData.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if(!d.hasOwnProperty(dd)){\n               d[dd] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n            }\n            // if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n            if(i>0){\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases + groupedData[i-1][dd].cumulative_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths + groupedData[i-1][dd].cumulative_deaths;\n            } else {\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths;\n            }\n        })\n\n        d.total_new_cases = d.AF.new_cases + d.AP.new_cases + d.AM.new_cases + d.EU.new_cases + d.ME.new_cases + d.OTH.new_cases; \n        d.total_cumulative_cases = d.AF.cumulative_cases + d.AP.cumulative_cases + d.AM.cumulative_cases + d.EU.cumulative_cases + d.ME.cumulative_cases + d.OTH.cumulative_cases; \n        d.total_new_deaths = d.AF.new_deaths + d.AP.new_deaths + d.AM.new_deaths + d.EU.new_deaths + d.ME.new_deaths + d.OTH.new_deaths; \n        d.total_cumulative_deaths = d.AF.cumulative_deaths + d.AP.cumulative_deaths + d.AM.cumulative_deaths + d.EU.cumulative_deaths + d.ME.cumulative_deaths + d.OTH.cumulative_deaths; \n        d.region = [];\n\n        regions.forEach(function(dd,ii){\n            d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n        })\n    });\n\n    let vgroupedData = [];\n\n    if(options.timeline_type!='cumulative'){ // cumulative and stacked\n        data.vaccines_data = data.vaccines_data_daily;\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('isoWeek').toDate();\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('month').toDate();\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines += d.daily_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {new_vaccines: 0, cumulative_vaccines: 0}\n                }\n            });\n            d.total_new_vaccines = d.AF.new_vaccines + d.AP.new_vaccines + d.AM.new_vaccines + d.EU.new_vaccines + d.ME.new_vaccines + d.OTH.new_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'new_vaccines': d[dd].new_vaccines});\n            })\n        });\n\n    } else{ // cumulative only\n        data.vaccines_data = [];\n        if(options.timeline_frequency==='day') {\n            data.vaccines_data = clone(data.vaccines_data_cumulative);\n        }\n        if(options.timeline_frequency==='week') {\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfWeekDate = moment(d.date).endOf('isoWeek').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfWeekDate)||(date==moment(options.maxVDate).startOf('day').unix())){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n        if(options.timeline_frequency==='month') {\n            var maxDateUnix = moment(options.maxVDate).startOf('day').unix();\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfMonthDate = moment(d.date).endOf('month').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfMonthDate)||((moment(options.maxVDate).startOf('day').unix()!=endOfMonthDate)&&(date==maxDateUnix))){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('isoWeek').toDate();\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('month').toDate();\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {cumulative_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines += d.total_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {cumulative_vaccines: 0}\n                }\n            });\n            d.total_cumulative_vaccines = d.AF.cumulative_vaccines + d.AP.cumulative_vaccines + d.AM.cumulative_vaccines + d.EU.cumulative_vaccines + d.ME.cumulative_vaccines + d.OTH.cumulative_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'cumulative_vaccines': d[dd].cumulative_vaccines});\n            })\n        });\n    }\n\n    vgroupedData = vgroupedData.filter(function(el) { return el; });\n\n    const numIntervals = d3.max(data.who_data, function(d,i){\n        return d[options.timeline_frequency+'Total'];\n    });\n\n    const maxCases = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_cases;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_cases;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxDeaths = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_deaths;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_deaths;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxVaccines = d3.max(vgroupedData, function(d,i){\n        if(d){\n            if(options.timeline_type==='non-cumulative') return d.total_new_vaccines;\n            if(options.timeline_type==='cumulative') return d.total_cumulative_vaccines;\n            if(options.timeline_type==='stacked') return 100;\n        }\n    })\n\n    const svg = d3.select('#timechart_svg');\n\n    const width = 2000;\n    const barWidth = width/numIntervals;\n\n    let barSpacing = 0.04; \n    if(options.timeline_frequency==='month') barSpacing = 0.03;\n    if(options.timeline_frequency==='day') barSpacing = 0;\n\n    // define scales\n\n    // xScale = d3.scaleTime()\n    // .range([0,width])\n    // .domain([minDate,md]);\n\n    // xScaleAxis = d3.scaleTime()\n    // .range([23,596])\n    // .domain([minDate,md]);\n\n    yScaleCases = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxCases]);\n\n    yScaleCasesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxCases]);\n\n    yScaleDeaths = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxDeaths]);\n\n    yScaleDeathsAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxDeaths]);\n\n    yScaleVaccines = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxVaccines]);\n\n    yScaleVaccinesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxVaccines]);\n\n    // define axi\n    yAxisCases = d3.axisRight()\n    .scale(yScaleCasesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisDeaths = d3.axisRight()\n    .scale(yScaleDeathsAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisVaccines = d3.axisRight()\n    .scale(yScaleVaccinesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    // y-axis cases\n    var yAxisCasesText = d3.select('#casesAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisCases);\n\n    // y-axis deaths\n    var yAxisDeathsText = d3.select('#deathsAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisDeaths);\n\n    // y-axis vaccines\n    var yAxisVaccinesText = d3.select('#VaccinesAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisVaccines);\n\n    // CASES\n    // loop through groupedData and draw bars\n    const barGroups = svg.selectAll('.bar_group')\n    .data(groupedData)\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+')'\n    })\n\n    // CASES\n    barGroups.selectAll('.cases_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_cases;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleCases(d.cumulative_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleCases(d.new_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_cases/totalNewCases))-((140*(dp/totalNewCases))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleCases(d.cumulative_cases);\n        if(options.timeline_type==='non-cumulative') y = yScaleCases(d.new_cases);\n        if(options.timeline_type==='stacked') y = (140*(d.new_cases/totalNewCases));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n        return 'blue'\n    })\n\n    // // DEATHS\n    barGroups.selectAll('.deaths_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_deaths;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleDeaths(d.cumulative_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleDeaths(d.new_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_deaths/totalNewDeaths))-((140*(dp/totalNewDeaths)))+170)\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleDeaths(d.cumulative_deaths);\n        if(options.timeline_type==='non-cumulative') y = yScaleDeaths(d.new_deaths);\n        if(options.timeline_type==='stacked') y = (140*(d.new_deaths/totalNewDeaths));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n\n    if(groupedData.length==0){\n        d3.selectAll('.cases_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140)\n        .attr('height', 0)\n\n        d3.selectAll('.deaths_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140+170)\n        .attr('height', 0)\n        \n    }\n    // // VACCINES\n\n    const vbarGroups = svg.selectAll('.vbar_group')\n    .data(vgroupedData)\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+', 344)'\n    })\n\n    vbarGroups.selectAll('.vaccines_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_vaccines;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleVaccines(d.cumulative_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleVaccines(d.new_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_vaccines/totalNewVaccines))-((140*(dp/totalNewVaccines))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleVaccines(d.cumulative_vaccines);\n        if(options.timeline_type==='non-cumulative') y = yScaleVaccines(d.new_vaccines);\n        if(options.timeline_type==='stacked') y = (140*(d.new_vaccines/totalNewVaccines));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    });\n\n    if(vgroupedData.length==0){\n        d3.selectAll('.vaccines_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140)\n        .attr('height', 0)\n    }\n   \n    // // bar size tweak for spacing\n    // if(options.timeline_frequency==='month'){\n    //     barGroups.selectAll(\".timeBar\")\n    //     .attr(\"width\", function(d) {\n    //         var date = d3.select(this.parentNode).datum().date;\n    //         var next = d3.timeMonth.offset(date, 1);\n    //         return (xScale(next)- xScale(date))*(1-barSpacing);\n    //       })\n    //     .attr(\"x\", function(d) {\n    //         var date = d3.select(this.parentNode).datum().date;\n    //         var next = d3.timeMonth.offset(date, 1);\n    //         return (xScale(next)- xScale(date))*(barSpacing/2);\n    //       })\n    //     }\n    data.vgroupedData = vgroupedData;\n    data.groupedData = groupedData;\n\n}\n\nexport default drawTimechart;\n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {addCommas} from './HelperFunctions';\nimport {filter} from './App';\n\nlet maxCases;\nlet maxDeaths;\nlet maxVaccinations;\nlet xScaleCases; \nlet xScaleDeaths;\nlet xScaleVaccines;\nlet labelWidth; \nconst regions = ['AF', 'ME', 'AP', 'EU', 'AM', 'OTH'];\nconst margin = { left: 20, top: 0, right: 58 };\nlet rcSize; \nlet groupedData = [];\n\nexport function drawRegionchart(data, options, filter) {\n\n    groupedData = [];\n\n    const barSpacing = 0.1;\n\n    regions.forEach(function(d,i){\n        // if(d!='OTH') // remove OTH\n        groupedData.push({ region: d, cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0});\n    })\n\n    data.who_data.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if((dd==d.ifrc_region)){ // remove OTH\n                groupedData[ii].cumulative_cases += d.new_cases;\n                groupedData[ii].cumulative_deaths += d.new_deaths;\n            }\n        })\n    });\n\n    maxCases = d3.max(groupedData, function(d,i){\n        return d.cumulative_cases;\n    })\n\n    maxDeaths = d3.max(groupedData, function(d,i){\n        return d.cumulative_deaths;\n    })\n\n    // vaccinations max date records\n    var vGroup = d3.flatGroup(data.vaccines_data_cumulative, d => d.date);\n\n    var vacGrouped = vGroup[vGroup.length-1];\n\n    var vData = [];\n    vacGrouped[1].forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if((dd==d.ifrc_region)&&(dd!='OTH')){ // remove OTH\n                groupedData[ii].cumulative_vaccines += d.total_vaccinations;\n            }\n        })\n    });\n\n    groupedData.sort(function(a,b){\n        if(options.region_chart_toggle == 'cases') return (b.cumulative_cases) - (a.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return (b.cumulative_deaths) - (a.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return (b.cumulative_vaccines) - (a.cumulative_vaccines); \n    });\n\n    maxVaccinations = d3.max(groupedData, function(d,i){\n        return d.cumulative_vaccines;\n    })\n\n    // append region chart containerg\n    const regionChartContainer = d3.select('#layout #region_chart_container').attr('opacity', 0);\n    rcSize = {\n        x: regionChartContainer.attr('x'), y: regionChartContainer.attr('y'), width: regionChartContainer.attr('width'), height: regionChartContainer.attr('height')\n    }\n\n    const svg = d3.select('#layout').append('g').attr('transform', 'translate('+rcSize.x+', '+rcSize.y+')')\n    .attr('id', 'region_chart');\n\n\tvar rowHeight = rcSize.height/(groupedData.length-1); // remove OTH\n\n    var rows = svg.selectAll('.bar-row')\n\t.data(groupedData.filter(d=>d.region!=='OTH'))\n\t.enter()\n\t.append('g')\n\t.attr('class', 'bar-row')\n\t.attr('transform', function(d,i){\n\t\treturn 'translate(0,' + ((i*rowHeight) + margin.top) + ')';\n\t});\n\n    data.cumulative_totals = groupedData;\n    \n    var label = rows.append('text')\n\t.attr('y', rowHeight/2 )\n    .attr('x', margin.left-5)\n\t.attr('class', function(d,i){ return 'bar-labels bar-label-'+d.region })\n\t.style('alignment-baseline', 'middle')\n\t.style('font-size', '11px')\n    .attr('opacity', 1)\n\t.attr('fill', '#000')\n\t.text(function(d,i){\n\t\tif(d.region==='AM') return 'Americas';\n\t\tif(d.region==='EU') return 'Europe';\n\t\tif(d.region==='AF') return 'Africa';\n\t\tif(d.region==='ME') return 'Middle East and North Africa';\n\t\tif(d.region==='AP') return 'Asia-Pacific';\n\t}).style('text-anchor', 'end');\n\n    labelWidth = rows.node().getBBox().width + margin.left;\n\tlabel.attr('x', labelWidth+89);\n\tlabelWidth = labelWidth + 94;\n    d3.selectAll('.timeBar').attr('opacity',1);\n    \n    var rowBg = rows.append('rect')\n\t.attr('y', 0)\n\t.attr('x', 0)\n\t.attr('width', labelWidth)\n\t.attr('height', rowHeight-2)\n\t.style('opacity', 0)\n    .attr('fill', 'grey')\n\t.style('cursor', 'pointer')\n\t.attr('class', function(d,i){ return 'bar-bg-'+d.region })\n\t.attr('data-id', function(d,i){ return d.region })\n\t.on('mouseover', function(d){\n\t\td3.select(this).style('opacity', 0.1);\n        // var dat = d3.select(this.parentNode).datum();\n        // d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n        // d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n\t})\n\t.on('mouseout', function(){\n\t\td3.select(this).style('opacity', 0);\n        // d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n\t})\n\t.on('click', function(d,i){\n        var t = d3.select(this).attr('data-id');\n        filter([t],'regionchart');\n    });\n\n    xScaleCases = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxCases]);// severity/reliability x xcale\n\n    xScaleDeaths = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxDeaths]);// severity/reliability x xcale\n\n    xScaleVaccines = d3.scaleLinear()\n\t.range([labelWidth, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxVaccinations]);// severity/reliability x xcale\n\n    var bars = rows.append('rect')\n    .attr('id', function(d,i){\n        return 'bar-'+d.region;\n    })\n\t.attr('data-id', function(d,i){ return d.region })\n    .attr('class', 'region-bar')\n    .attr('width', function(d,i){\n        if(options.region_chart_toggle == 'cases') return xScaleCases(d.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return xScaleDeaths(d.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return xScaleDeaths(d.cumulative_vaccines);\n    })\n    .attr('x', labelWidth)\n    .style('outline', 'none')\n    .style('cursor', 'pointer')\n    .attr('y', rowHeight*barSpacing - 1)\n    .attr('height', rowHeight-((rowHeight*barSpacing)*2))\n    .style('fill', function(d){\n        return colors.regions[d.region]\n    })\n    .attr('opacity',1)\n    .on('click', function(d,i){\n        var t = d3.select(this).attr('data-id');\n        filter([t],'regionchart');\n    })\n    .on('mouseover', function(d){\n        var dat = d3.select(this.parentNode).datum();\n        // d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n        // d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n\t})\n\t.on('mouseout', function(){\n        // d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n\t})\n\n    var dataLabel = rows.append('text')\n\t.text(function(d){\n        if(options.region_chart_toggle == 'cases') return addCommas(d.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return addCommas(d.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return addCommas(d.cumulative_vaccines);\n    })\n\t.attr('id', function(d,i){\n\t\treturn 'data-label'+d.region;\n\t})\n    .attr('data-id', function(d,i){ return d.region })\n\t.attr('class', 'data-label')\n\t.attr('y', rowHeight/2)\n\t.style('alignment-baseline', 'middle')\n\t.style('text-anchor', 'start')\n\t.attr('x', function(d,i){\n        if(options.region_chart_toggle == 'cases') return xScaleCases(d.cumulative_cases)+labelWidth+5;\n        if(options.region_chart_toggle == 'deaths') return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;\n        if(options.region_chart_toggle == 'vaccines') return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;\n    })\n    .attr('opacity', function(d,i){\n        var val = 0;\n        if(options.region_chart_toggle == 'cases') val = (d.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') val = (d.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') val = (d.cumulative_vaccines);\n        if(val>0){ return 1 } else { return 0}\n    })\n\t.style('fill', '#696969')\n\t.style('font-weight', 'normal')\n\t.style('font-size', '10px');\n\n}\n\nexport function updateRegionchart(options,data) {\n    \n    groupedData = [];\n\n    regions.forEach(function(d,i){\n        groupedData.push({ region: d, cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0});\n    })\n    \n    data.who_data.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if((dd==d.ifrc_region)){ // remove OTH\n                groupedData[ii].cumulative_cases += d.new_cases;\n                groupedData[ii].cumulative_deaths += d.new_deaths;\n                groupedData[ii].cumulative_vaccines = 0;\n            }\n        })\n    });\n\n    maxCases = d3.max(groupedData, function(d,i){\n        return d.cumulative_cases;\n    })\n\n    maxDeaths = d3.max(groupedData, function(d,i){\n        return d.cumulative_deaths;\n    })\n\n    // vaccinations max date records\n    var vGroup = d3.flatGroup(data.vaccines_data_cumulative, d => d.date);\n\n    var vacGrouped = vGroup[vGroup.length-1];\n\n    var vData = [];\n    if(vacGrouped){\n        vacGrouped[1].forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if((dd==d.ifrc_region)){ // remove OTH\n                    groupedData[ii].cumulative_vaccines += d.total_vaccinations;\n                }\n            })\n        });\n    }\n\n    groupedData.sort(function(a,b){\n        if(options.region_chart_toggle == 'cases') return (b.cumulative_cases) - (a.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return (b.cumulative_deaths) - (a.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return (b.cumulative_vaccines) - (a.cumulative_vaccines); \n    });\n\n    data.cumulative_totals = groupedData;\n\n    maxVaccinations = d3.max(groupedData, function(d,i){\n        return d.cumulative_vaccines;\n    })\n\n    xScaleCases = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxCases]);// severity/reliability x xcale\n\n    xScaleDeaths = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxDeaths]);// severity/reliability x xcale\n\n    xScaleVaccines = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxVaccinations]);// severity/reliability x xcale\n\n    if((maxVaccinations==0)&&(maxCases==0)&&(maxDeaths==0)){\n        d3.selectAll('.region-bar')\n        .transition().duration(500)\n        .attr('width', 0);\n\n        d3.selectAll('.data-label')\n        .transition()\n          .duration(500) \n          .attr('x', labelWidth)\n          .attr('opacity', 0);\n    } else {\n        d3.selectAll('.region-bar')\n        .transition().duration(500)\n        .attr('width', function(d,i){\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            var val = 0;\n            if(options.region_chart_toggle == 'cases') val = xScaleCases(d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') val = xScaleDeaths(d.cumulative_deaths);\n            if(options.region_chart_toggle == 'vaccines') val = xScaleVaccines(d.cumulative_vaccines);\n            if(!isNaN(val)) { return parseFloat(val) } else { return 0}\n        })   \n        d3.selectAll('.data-label')\n        .transition()\n          .duration(500)\n          .tween(\"text\", function(d,i) {\n            var end = 0;\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            if(options.region_chart_toggle == 'cases') end = (d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') end = (d.cumulative_deaths);  \n            if(options.region_chart_toggle == 'vaccines') end = (d.cumulative_vaccines);  \n            var i = d3.interpolate(Math.floor((Math.random() * 112346) + 92345), end);\n            return function(t) {\n              d3.select(this).text(addCommas(Math.round(i(t))));\n            };\n          })\n        .attr('x', function(d,i){\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            if(options.region_chart_toggle == 'cases') return xScaleCases(d.cumulative_cases)+labelWidth+5;\n            if(options.region_chart_toggle == 'deaths') return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;\n            if(options.region_chart_toggle == 'vaccines') return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;\n        })\n        .attr('opacity', function(d,i){\n            var d;\n            var id = d3.select(this).attr('data-id');\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            var val = 0;\n            if(options.region_chart_toggle == 'cases') val = (d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') val = (d.cumulative_deaths);\n            if(options.region_chart_toggle == 'vaccines') val = (d.cumulative_vaccines);\n            if(val>0){ return 1 } else { return 0}\n        })\n\n    }\n\n   \n\n}\n\nexport default drawRegionchart;\n","import * as d3 from \"d3\";\nimport Update from './Update.js';\nimport {drawTimechart, updateTimechart} from './Timechart';\nimport {updateRegionchart} from './Regionchart';\nimport colors from './colors';\nimport tippy from 'tippy.js';\nimport 'tippy.js/dist/svg-arrow.css';\nimport 'tippy.js/themes/light.css';\n\nconst selectedToggle = '#595454';\nconst unselectedToggle = '#EAEAEA';\nconst unselectedToggleText = '#000';\nconst selectedToggleText = '#FFF';\n\nfunction Layout(svg, options, data, filter, updateTable, updateMap) {\n\n  // vaccine info\n  d3.select('#vaccine_tooltip').attr('opacity', 0).style('display', 'none');\n  d3.select('#vaccine_info path').attr('fill', colors.black);\n\n  svg.select('#vaccine_info').style('cursor', 'pointer')\n  .on('mouseover', function(event, bd){\n    d3.select('#svg_container').style('z-index', 10);\n    d3.select('#vaccine_tooltip').style('display', 'inline').transition().duration(500).attr('opacity', 1);\n    d3.select('#vaccine_info path').transition().duration(200).attr('fill', colors.blue);\n  }).on('mouseout', function(event, d){\n    d3.select('#svg_container').style('z-index', 1);\n    d3.select('#vaccine_tooltip').style('display', 'none').attr('opacity', 0);\n    d3.select('#vaccine_info path').transition().duration(500).attr('fill', colors.black);\n  })\n\n  // region chart toggle\n  svg.select('#region_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n    options.region_filter = []; \n    filter('clear-region');\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-cases').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'cases') return false;\n    options.region_chart_toggle = 'cases';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-cases rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-cases text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-deaths').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'deaths') return false;\n    options.region_chart_toggle = 'deaths';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-deaths rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-deaths text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-vaccines').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'vaccines') return false;\n    options.region_chart_toggle = 'vaccines';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-vaccines rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-vaccines text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  // map toggle\n  svg.select('#map-toggle #map-toggle-bi-weekly-change').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'bi-weekly-change') return false;\n    options.map_toggle = 'bi-weekly-change';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-bi-weekly-change rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-bi-weekly-change text').attr('fill', selectedToggleText);\n    // update map legend\n\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-cases').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'cases') return false;\n    options.map_toggle = 'cases';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-cases rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-cases text').attr('fill', selectedToggleText);\n    // update map legend\n\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-deaths').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'deaths') return false;\n    options.map_toggle = 'deaths';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-deaths rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-deaths text').attr('fill', selectedToggleText);\n    // update map legend\n\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-percent-fully-vaccinated').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'percent-fully-vaccinated') return false;\n    options.map_toggle = 'percent-fully-vaccinated';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-percent-fully-vaccinated rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-percent-fully-vaccinated text').attr('fill', selectedToggleText);\n    // update map legend\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-percent-vaccine-acceptance').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'percent-vaccine-acceptance') return false;\n    options.map_toggle = 'percent-vaccine-acceptance';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-percent-vaccine-acceptance rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-percent-vaccine-acceptance text').attr('fill', selectedToggleText);\n    // update map legend\n    updateMap(data, options, 700);\n  });\n\n    // time chart type \n    svg.select('#timechart-type-toggle #timechart-type-toggle-cumulative').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'cumulative') return false;\n      options.timeline_type = 'cumulative';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-cumulative rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-cumulative polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggle);\n      updateTimechart(data, options);\n    });\n  \n    tippy('#timechart-type-toggle-cumulative', {\n      content: 'Cumulative',\n      duration: 0,\n      placement: 'bottom',\n      theme: 'light',\n      arrow: true,\n      delay: [500, 200],\n    });\n\n    svg.select('#timechart-type-toggle #timechart-type-toggle-non-cumulative').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'non-cumulative') return false;\n      options.timeline_type = 'non-cumulative';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-non-cumulative rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-non-cumulative polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggle);\n      updateTimechart(data, options);\n    });\n\n    tippy('#timechart-type-toggle-non-cumulative', {\n      content: 'Non-cumulative',\n      duration: 0,\n      placement: 'bottom',\n      theme: 'light',\n      arrow: true,\n      delay: [500, 200],\n    });\n\n    svg.select('#timechart-type-toggle #timechart-type-toggle-stacked').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'stacked') return false;\n      options.timeline_type = 'stacked';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-stacked rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-stacked polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggleText);\n      updateTimechart(data, options);\n    });\n\n    tippy('#timechart-type-toggle-stacked', {\n      content: 'Stacked 100%',\n      duration: 0,\n      placement: 'bottom',\n      theme: 'light',\n      arrow: true,\n      delay: [500, 200],\n    });\n\n  // time chart frequency toggle\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-day').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'day') return false;\n    options.timeline_frequency = 'day';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-day rect').attr('fill', selectedToggle);\n    svg.select('#timechart-frequency-toggle-day text').attr('fill', selectedToggleText);\n    svg.select('#tooltip_frequency tspan').attr('text-anchor', 'end').attr('dx', 20).text('DAY');\n    drawTimechart(data, options);\n  });\n\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-week').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'week') return false;\n    options.timeline_frequency = 'week';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-week rect').attr('fill', selectedToggle);\n    svg.select('#tooltip_frequency tspan').attr('text-anchor', 'end').attr('dx', 20).text('WEEK');\n    svg.select('#timechart-frequency-toggle-week text').attr('fill', selectedToggleText);\n    drawTimechart(data, options);\n  });\n\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-month').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'month') return false;\n    options.timeline_frequency = 'month';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-month rect').attr('fill', selectedToggle);\n    svg.select('#tooltip_frequency tspan').attr('text-anchor', 'end').attr('dx', 20).text('MONTH');\n    svg.select('#timechart-frequency-toggle-month text').attr('fill', selectedToggleText);\n    drawTimechart(data, options);\n  });\n\n    // HDI toggle\n\n    svg.select('#hdi_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n      d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);\n      filter('clear-hdi');\n    });\n\n    svg.select('#hdi-toggle #hdi-toggle-very-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'very-high');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n\n    svg.select('#hdi-toggle #hdi-toggle-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'high');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n    svg.select('#hdi-toggle #hdi-toggle-medium').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'medium');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n    svg.select('#hdi-toggle #hdi-toggle-low').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'low');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n\n    // inform severity toggle\n\n    svg.select('#inform_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n      d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);\n      filter('clear-inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-no-score').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'no-score');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-low').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'low');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-medium').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'medium');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'high');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-very-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'very-high');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n  \n  // tabs\n\n  d3.select('#additional-indicators-tab').attr('opacity', 0).select('#additional-indicators-tab-content').attr('display', 'none');\n  d3.select('#vac-tab').attr('opacity', 1).select('#vac-tab-content').attr('display', 'inline');\n  d3.select('#bubblechart-tab').attr('opacity', 0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display', 'none');\n  d3.select('#bubbleSelectContainer').style('display', 'none');\n\n  svg.select('#tabs #vaccination-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'vaccination-data') return false;\n    options.tab_toggle = 'vaccination-data';\n    d3.select('#additional-indicators-tab').attr('opacity', 0).select('#additional-indicators-tab-content').attr('display', 'none');\n    d3.select('#vac-tab').attr('opacity', 1).select('#vac-tab-content').attr('display', 'inline');\n    d3.select('#bubblechart-tab').attr('opacity', 0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display', 'none');\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#vaccination-tab rect').attr('fill', selectedToggle);\n    svg.select('#vaccination-tab text').attr('fill', selectedToggleText);\n    d3.select('#bubbleSelectContainer').style('display', 'none');\n\n    Update(svg,options,data);\n  });\n\n  svg.select('#tabs #indicators-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'indicators') return false;\n    options.tab_toggle = 'indicators';\n    d3.select('#additional-indicators-tab').attr('opacity', 1).select('#additional-indicators-tab-content').attr('display', 'inline');\n    d3.select('#vac-tab').attr('opacity', 0).select('#vac-tab-content').attr('display', 'none');\n    d3.select('#bubblechart-tab').attr('opacity', 0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display', 'none');\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#indicators-tab rect').attr('fill', selectedToggle);\n    svg.select('#indicators-tab text').attr('fill', selectedToggleText);\n    d3.select('#bubbleSelectContainer').style('display', 'none');\n\n    Update(svg,options,data);\n  });\n\n  svg.select('#tabs #bubble-chart-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'bubble-chartt') return false;\n    options.tab_toggle = 'bubble-chart';\n    d3.select('#additional-indicators-tab').attr('opacity', 0).select('#additional-indicators-tab-content').attr('display', 'none');\n    d3.select('#vac-tab').attr('opacity', 0).select('#vac-tab-content').attr('display', 'none');\n    d3.select('#bubblechart-tab').attr('opacity', 1).selectAll('#bubblechart, #bubblechart-tab-content').attr('display', 'inline');\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#bubble-chart-tab rect').attr('fill', selectedToggle);\n    svg.select('#bubble-chart-tab text').attr('fill', selectedToggleText);\n    d3.select('#bubbleSelectContainer').style('display', 'inline-block');\n\n    Update(svg,options,data);\n  });\n\n  // time chart mask\n    d3.select('#svg defs').append('clipPath').attr('id', 'mask')\n    .append('rect')\n    .attr('y', 340)\n    .attr('height', 590)\n    .attr('width', 660)\n    .attr('x', 22);\n\n  \n  // append timechart svg\n  const timechartContainer = svg.select('#timechart_container').attr('opacity', 0);\n  const tcSize = {\n    x: timechartContainer.attr('x'), y: timechartContainer.attr('y'), width: timechartContainer.attr('width'), height: timechartContainer.attr('height')\n  }\n\n  const timechartSvg = svg.append('svg').attr('id', 'timechart_svg').attr('viewBox', '0 0 '+2000 +' '+ tcSize.height)\n  .attr('preserveAspectRatio', \"none\")\n  .attr('x', tcSize.x)\n  .attr('y', tcSize.y)\n  .attr('width', tcSize.width)\n  .attr('height', tcSize.height)\n\n  const layer1 = timechartSvg\n  .append('g')\n  .attr('id', 'layer1')\n\n  const timechartBg = timechartSvg.append('g').attr('id', 'layer0');\n\n  layer1.append('rect')\n  .attr('x', 0)\n  .attr('y', 0)\n  .attr('width', '100%')\n  .attr('height', '100%')\n  .attr('opacity', 0)\n  .style('fill', 'transparent');\n  \n  // table bars\n\n  for(let i = 0; i < 10; i++){\n\n    // col 1 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col1bg colbg')\n    .attr('id','col1bg'+i)\n    .attr('x', 120)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', colors.lightgrey)\n\n    // col 1 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col1bar')\n    .attr('id','col1bar'+i)\n    .attr('x', 120)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    // col 2 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col2bg colbg')\n    .attr('id','col2bg'+i)\n    .attr('x', 230)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', colors.lightgrey)\n\n    // col 2 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col2bar')\n    .attr('id','col2bar'+i)\n    .attr('x', 230)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    // col 3 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col3bg colbg')\n    .attr('id','col3bg'+i)\n    .attr('x', 340)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', colors.lightgrey)\n\n    // col 3 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col3bar')\n    .attr('id','col3bar'+i)\n    .attr('x', 340)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    // col 4 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col4bg colbg')\n    .attr('id','col4bg'+i)\n    .attr('x', 454)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', colors.lightgrey)\n\n    // col 3 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col4bar')\n    .attr('id','col4bar'+i)\n    .attr('x', 454)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    for(var x = 0; x<6; x++){\n      d3.select('#col'+x+'_sort_desc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort_asc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort').style('cursor', 'pointer')\n      .on('click', function(){\n        var thisId = d3.select(this).attr('id');\n        if(options.table_sort==thisId){\n          if(options.table_sort_direction=='desc'){\n            options.table_sort_direction = 'asc';\n          } else {\n            options.table_sort_direction = 'desc';\n          }\n        } else {\n          options.table_sort = thisId;\n          options.table_sort_direction = 'desc';\n        }\n        options.page = 1;\n        updateTable(data, options);\n    })\n    // d3.select('#col1_sort_desc').attr('opacity', 1);\n    }\n  }\n\n  d3.select('#reset_locations').attr('display', 'none');\n\n\n\n}\n\nexport default Layout;\n\nfunction toggle(collection, item) {\n  var idx = collection.indexOf(item);\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  } else {\n    collection.push(item);\n  }\n}\n\n/*\n\n#timechart-type-toggle #timechart-type-toggle-stacked\n#timechart-type-toggle #timechart-type-toggle-non-cumulative\n#timechart-type-toggle #timechart-type-toggle-cumulative\n\n#timechart-frequency-toggle #timechart-frequency-toggle-day\n#timechart-frequency-toggle #timechart-frequency-toggle-week\n#timechart-frequency-toggle #timechart-frequency-toggle-month\n\n#map-toggle #map-toggle-bi-weekly-change\n#map-toggle #map-toggle-deaths\n#map-toggle #map-toggle-percent-fully-vaccinated\n#map-toggle #map-toggle-percent-vaccine-acceptance\n#map-toggle #map-toggle-cases\n\n#tabs #bubble-chart-tab\n#tabs #indicators-tab\n#tabs #vaccination-tab\n\n#hdi-toggle #hdi-toggle-very-high\n#hdi-toggle #hdi-toggle-high\n#hdi-toggle #hdi-toggle-medium\n#hdi-toggle #hdi-toggle-low\n\n\n#inform-toggle #inform-toggle-no-score\n#inform-toggle #inform-toggle-low\n#inform-toggle #inform-toggle-medium\n#inform-toggle #inform-toggle-high\n#inform-toggle #inform-toggle-very-high\n\n*/","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {addCommas, nFormatter} from './HelperFunctions';\nimport {filter} from './App';\n\nlet maxX =1000;\nlet maxY = 100;\nlet maxZ = 1000000;\nlet xScale; \nlet yScale; \nlet zScale; \nlet groupedData = [];\nlet width = 600;\nlet height = 233;\nlet x = 35;\nlet y = 58;\nlet bubbles;\n\nexport function drawBubblechart(data, options, filter) {\n\n    maxX = d3.max(data.equity_data, function(d,i){\n        return parseFloat(d.gni_2017);\n    })\n\n    maxY = d3.max(data.equity_data, function(d,i){\n        // if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return parseFloat(d.people_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return 100;\n        // if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return parseFloat(d.people_fully_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return 100;\n        if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return 100;\n    });\n\n    maxZ = d3.max(data.equity_data, function(d,i){\n        return parseFloat(d.population);\n    });\n\n    xScale = d3.scaleLinear()\n\t.range([0, width])\n\t.domain([0, maxX]).nice();\n\n    yScale = d3.scaleLinear()\n\t.range([height, 0])\n\t.domain([0, maxY]);\n\n    zScale = d3.scaleSqrt()\n    .domain([0, maxZ])\n    .range([1, 20]);\n\n    const svg = d3.select('#bubblechart-tab').append('g').attr('transform', 'translate('+x+', '+y+')')\n    .attr('id', 'bubblechart');\n\n    // create y-axis\n    svg.append(\"g\")\n    .attr('id', 'bubbley')\n    .call(d3.axisLeft(yScale).ticks(3).tickSize(3));\n\n    // create x-axis\n    svg.append(\"g\")\n    .attr('id', 'bubblex')\n    .attr('class', 'xAxis')\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\n    .call(d3.axisBottom(xScale).ticks(4).tickSize(3));\n\n    // Add dots\n    bubbles = d3.select('#bubblechart').selectAll(\".bubble\")\n    .data(data.equity_data)\n    .join(function(enter){\n        enter.append(\"circle\")\n        .attr(\"class\", function(d) { return \"bubble\" })\n        .attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .style(\"stroke\", function (d) { \n            // if(options.bubble_chart_color_by == 'region') {\n            //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            // } \n            // if(options.bubble_chart_color_by == 'hdi') {\n            //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n            //  }\n            //  if(options.bubble_chart_color_by == 'inform-severity') {\n            //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n            //  }\n            // return  'transparent';\n            return '#FFF';\n        })\n        .style(\"stroke-width\", 1)\n        // .style(\"fill-opacity\", 0.8)\n        .attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        })\n        .attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n    }, function(update){\n        update.transition().duration(800).attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .style(\"stroke\", function (d) { \n            // if(options.bubble_chart_color_by == 'region') {\n            //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            // } \n            // if(options.bubble_chart_color_by == 'hdi') {\n            //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n            //  }\n            //  if(options.bubble_chart_color_by == 'inform-severity') {\n            //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n            //  }\n            // return  'transparent';\n            return '#FFF';\n        }).attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        })\n        .attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n    },function(exit){\n        exit.remove();\n    });\n\n    d3.select('#bubblechart').selectAll(\".bubble\").on('mousemove', function(event, d){\n        d3.select('#bubbleSelectContainer').style('z-index', 1);\n        d3.select('#bubblechart_tooltip_title tspan').text(d.country_name);\n        if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% fully vaccinated');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat((d.vaccine_acceptance_percent)).toFixed(2)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        d3.select('#bubblechart_tooltip_gni tspan').text('$'+addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n        d3.select('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n\n        var coords = d3.pointer( event, (d3.select('#svg').node()));\n        if(coords[0]<1110){\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]+20)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'none');\n        } else {\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]-220)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'none');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'inline');\n        }\n        d3.selectAll(\".bubble\").attr('opacity', 0.4);\n        d3.select(this).attr('opacity', 1).style('stroke-width', 2);\n    }).on('mouseout', function(event){\n        if(event.toElement=='tspan') return false;\n        d3.select('#bubbleSelectContainer').style('z-index', 2);\n\n        // mapTooltip.attr('display', 'none');\n        d3.select('#bubblechart_tooltip').attr('display', 'none');\n        d3.selectAll(\".bubble\").attr('opacity', 1).style('stroke-width', 1);\n    });\n\n    d3.select('#bubblechart_tooltip').attr('display', 'none');\n\n    d3.select('#bubble_y_axis_label').attr('text-anchor', 'middle').select('tspan').attr('dx', 50);\n    if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');\n    }\n    if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n        d3.select('#bubble_y_axis_label tspan').text('% fully vaccinated');\n    }\n    if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccine acceptance');\n    }\n\n\n}\n\nexport function updateBubblechart(data,options,filter) {\n    \n    data.vGroup.forEach(function(d,i){\n        data.equity_data.forEach(function(dd,ii){\n            if(d[0] == dd.country_iso3){\n                dd.people_fully_vaccinated_per_hundred = parseFloat(d[1][0].people_fully_vaccinated_per_hundred);\n                dd.people_vaccinated_per_hundred = parseFloat(d[1][0].people_vaccinated_per_hundred);\n                dd.total_vaccinations = parseFloat(d[1][0].total_vaccinations);\n                dd.total_vaccinations_per_hundred = parseFloat(d[1][0].total_vaccinations_per_hundred);\n\n            }\n        })\n    })\n\n    maxX = d3.max(data.equity_data, function(d,i){\n        return parseFloat(d.gni_2017);\n    })\n\n    maxY = d3.max(data.equity_data, function(d,i){\n        if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return parseFloat(d.people_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return parseFloat(d.people_fully_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return parseFloat(d.vaccine_acceptance_percent);\n    });\n\n    maxZ = d3.max(data.equity_data, function(d,i){\n        return parseFloat(d.population);\n    });\n\n    xScale = d3.scaleLinear()\n\t.range([0, width])\n\t.domain([0, maxX]);\n\n    yScale = d3.scaleLinear()\n\t.range([height, 0])\n\t.domain([0, maxY]);\n\n    zScale = d3.scaleSqrt()\n    .domain([0, maxZ])\n    .range([1, 20]);\n\n    const svg = d3.select('#bubblechart');\n\n    // create y-axis\n    svg.select('#bubbley')\n    .transition().duration(800)\n    .call(d3.axisLeft(yScale).ticks(3));\n\n    // create x-axis\n    svg.select('#bubblex')\n    .transition().duration(800)\n    .call(d3.axisBottom(xScale).ticks(3));\n\n    bubbles = d3.select('#bubblechart').selectAll(\".bubble\")\n    .data(data.equity_data)\n    .join(function(enter){\n        enter.append(\"circle\")\n        .attr(\"cx\", function (d) { return xScale(maxX)})\n        .attr(\"cy\", function (d) { return yScale(maxY)})\n        .attr(\"class\", function(d) { return \"bubble\" })\n        .transition().duration(800)\n        .attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .style(\"stroke\", function (d) { \n            // if(options.bubble_chart_color_by == 'region') {\n            //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            // } \n            // if(options.bubble_chart_color_by == 'hdi') {\n            //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n            //  }\n            //  if(options.bubble_chart_color_by == 'inform-severity') {\n            //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n            //  }\n            // return  'transparent';\n            return '#FFF';\n        })\n        .style(\"stroke-width\", 1)\n        // .style(\"fill-opacity\", 0.8)\n        .attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        })\n        .attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n    }, function(update){\n        update.transition().duration(800).attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .style(\"stroke\", function (d) { \n            // if(options.bubble_chart_color_by == 'region') {\n            //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            // } \n            // if(options.bubble_chart_color_by == 'hdi') {\n            //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n            //  }\n            //  if(options.bubble_chart_color_by == 'inform-severity') {\n            //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n            //  }\n            // return  'transparent';\n            return '#FFF';\n        })\n        .attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        }).attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n    },function(exit){\n        exit.remove();\n    });\n\n    d3.select('#bubblechart').selectAll(\".bubble\").on('mousemove', function(event, d){\n        d3.select('#bubbleSelectContainer').style('z-index', 1);\n        d3.select('#bubblechart_tooltip_title tspan').text(d.country_name);\n        if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% fully vaccinated');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat((d.vaccine_acceptance_percent)).toFixed(2)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        d3.select('#bubblechart_tooltip_gni tspan').text('$'+addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n        d3.select('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n        var coords = d3.pointer( event, (d3.select('#svg').node()));\n        if(coords[0]<1110){\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]+20)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'none');\n        } else {\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]-220)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'none');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'inline');\n        }\n        d3.selectAll(\".bubble\").attr('opacity', 0.4);\n        d3.select(this).attr('opacity', 1).style('stroke-width', 2);\n    }).on('mouseout', function(event){\n        if(event.toElement=='tspan') return false;\n        d3.select('#bubbleSelectContainer').style('z-index', 2);\n\n        // mapTooltip.attr('display', 'none');\n        d3.select('#bubblechart_tooltip').attr('display', 'none');\n        d3.selectAll(\".bubble\").attr('opacity', 1).style('stroke-width', 1);\n    });\n\n    if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');\n    }\n    if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n        d3.select('#bubble_y_axis_label tspan').text('% fully vaccinated');\n    }\n    if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccine acceptance');\n    }\n    \n    \n\n\n}\n\nexport default drawBubblechart;\n","// default options\nconst options = {\n    region_chart_toggle: 'cases', // cases, deaths, vaccines\n    region_filter: [],\n    country_filter: [],\n    hdi_filter: [], // very-high, high, medium, low\n    inform_filter: [], // no-score, low, medium, high, very-high\n    timeline_type: 'non-cumulative', // cumulative, non-cumulative, stacked \n    timeline_frequency: 'week', // day, week, month\n    map_toggle: 'cases', // bi-weekly-change, cases, deaths, percent-fully-vaccinated, percent-vaccine-acceptance\n    tab_toggle: 'vaccination-data', // vaccination-data, indicators, bubble-chart\n    table_sort: 'col1_sort',\n    table_sort_direction: 'desc',\n    bubble_chart_color_by: 'hdi', // hdi, inform-severity, region\n    bubble_chart_y_axis: 'percent-vaccinated-at-least-1-dose', // percent-vaccinated-at-least-1-dose, percent-fully-vaccinated, percent-vaccine-acceptance\n    maxDate: null,\n    maxVDate: null,\n    brushL: 0,\n    brushR: 600,\n    page: 1,\n    numPages: 1\n}\n\nexport default options;\n","// import * as d3 from \"d3\";\nimport {min,max,group,flatGroup} from \"d3\";\nimport moment from 'moment';\nimport clone from 'just-clone';\n\nexport function ParseData(data, options) {\n\n    data.equity_data.forEach(function(d,i){\n        d.vaccines_used = [];\n        d.number_vaccine_types_used = 0;\n        d.vaccines_per_100 = 0;\n        data.vaccines_who_data.forEach(function(dd,ii){\n            if(d.country_iso3==dd.ISO3){\n                d.data_updated = moment(dd.DATE_UPDATED).startOf('day').toDate();\n                d.number_vaccine_types_used = dd.NUMBER_VACCINES_TYPES_USED;\n                d.vaccines_per_100 = parseFloat(dd.TOTAL_VACCINATIONS_PER100);\n                if(isNaN(d.vaccines_per_100))d.vaccines_per_100 = 0;\n                d.vaccines_used = dd.VACCINES_USED.split(',').map(function(item) {\n                    return item.trim();\n                  });\n            }\n        })\n        d.ns_involvement = 0;\n        data.self_assessment.forEach(function(dd,ii){\n            if(d.country_iso3==dd.ISO3){\n                if(dd['Final involvement']=='Yes') d.ns_involvement = 1;\n            }\n        })\n\n        data.vaccine_acceptance.forEach(function(dd,ii){\n            if(d.country_iso3==dd.iso3){\n                // if(dd['Final involvement']=='Yes') d.ns_involvement = 1;\n                d.country_code = d.country_iso2;\n                d.vaccine_acceptance_percent = parseFloat(dd.indicator_value)*100;\n                d.vaccine_acceptance_population = parseInt(dd.population_size);\n            }\n        })\n\n        if((d.contract_tracing.toLowerCase()=='all')||(d.contract_tracing.toLowerCase()=='some')){\n            d.contract_tracing = 1;\n        } else {\n            d.contract_tracing = 0\n        }\n\n        d.avg_tests_per_1000 = parseFloat(d.avg_tests_per_1000)||0;\n\n    })\n    // max dates\n    let maxDate = moment(new Date(max(data.who_data, function(d){\n        return d.Date_reported;\n    })));\n\n    let minDate = moment(new Date(min(data.who_data, function(d){\n        return d.Date_reported;\n    })));\n\n    // override\n    minDate = moment('2019-12-31');\n\n    let minDateVaccines = (new Date(min(data.vaccines_data, function(d){\n        return d.date;\n    })));\n\n\n    let maxDateVaccines = (new Date(max(data.vaccines_data, function(d){\n        return d.date;\n    })));\n\n    options.maxDataDate = (maxDate).toDate();\n    options.maxVDataDate = maxDateVaccines;\n\n    if(maxDateVaccines>maxDate) {\n        maxDate = maxDateVaccines;\n    }\n\n    // if(maxDate<moment()){\n    //     maxDate = moment();\n    // }\n    // if(maxDateVaccines<moment()){\n    //     maxDateVaccines = moment();\n    // }\n\n    options.maxDate = moment(maxDate).toDate();\n    options.maxVDate = moment(maxDateVaccines).toDate();\n    options.minDate = moment(minDate).toDate();\n\n    // parse who data\n\n    let dayTotal = -1;\n    let dayCheck = 0;\n\n    let weekTotal = -1;\n    let weekCheck = -1;\n\n    let monthTotal = 0;\n    let monthCheck = 0;\n\n    // filter out negative new deaths\n    // data.who_data = data.who_data.filter(d=>d.New_deaths>0);\n    // data.who_data = data.who_data.filter(d=>d.New_cases>0);\n\n    data.who_data.sort(function(a,b){\n        return new Date(a.Date_reported) - new Date(b.Date_reported);\n    });\n\n    var countryCodes = [];\n    var ccArray = [];\n\n    data.who_data.forEach(function(d,i){\n        d.date = new Date(d.Date_reported);\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').toDate());\n\n        d.new_cases = parseInt(d.New_cases);\n        d.new_deaths = parseInt(d.New_deaths);\n\n        // negative values\n        if(d.new_deaths<0)d.new_deaths = 0;\n        if(d.new_cases<0)d.new_cases = 0;\n\n        d.cumulative_deaths = parseInt(d.Cumulative_deaths);\n        d.cumulative_cases = parseInt(d.Cumulative_cases);\n        d.country_code = d.Country_code;\n        d.country_name = null;\n        data.equity_data.forEach(function(dd,ii){\n            if(dd.country_iso2===d.Country_code){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n            }\n        })\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n        if(!countryCodes.includes(d.country_code)) {\n            if(d.ifrc_region=='OTH'){\n                ccArray.push([d.Country, d.country_code]);\n            }\n            countryCodes.push(d.country_code);\n        }\n\n        delete d.Date_reported;\n        delete d.Country;\n        delete d.New_cases;\n        delete d.New_deaths;\n        delete d.Country_code;\n        delete d.Cumulative_deaths;\n        delete d.Cumulative_cases;\n        // delete d.Country_code;\n        delete d.WHO_region;\n        // delete d.Country;\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n    })\n\n    // check for missing coutries\n    // ccArray.forEach(function(d,i){\n    //     console.log(d[1])\n    // })\n    // console.log(ccArray);\n\n    \n    // parse vaccine cumulative data\n    dayTotal = -1;\n    dayCheck = 0;\n\n    weekTotal = -1;\n    weekCheck = -1;\n    monthTotal = 0;\n    monthCheck = 0;\n\n    // filter out vaccine data on only include records with ISO3 country codes\n    data.vaccines_data_cumulative = data.vaccines_data.filter(function(d,i){\n        return d.iso_code.length===3 && d.total_vaccinations > 0;\n    })\n\n    // fill out missing vaccinations date records (extend cumulative)\n    var vGroup = flatGroup(data.vaccines_data_cumulative, d => d.iso_code);\n\n    var newDates = [];\n    var hasDays = [];\n    var initDate = 0;\n    var lastRecord = {};\n    var vDataFlat = [];\n    vGroup.forEach(function(d,i){\n\n        var minDt = new Date(minDateVaccines);\n        var maxDt = new Date(maxDateVaccines);\n        var hasDays = [];\n        var newDays = [];\n        var newDays = [];        \n        data.equity_data.forEach(function(dd,ii){\n            if(dd.country_iso3===vGroup[i][0]){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n                d.country_code = dd.country_iso2;\n                \n            }\n        })\n\n        vGroup[i].lastDate = new Date(max(vGroup[i][1], function(d,i){ return d.date }));\n\n        vGroup[i][1].forEach(function(dd,ii){\n            hasDays.push(new Date(dd.date).getTime());\n        })\n\n        // if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\n        vGroup[i][1].forEach(function(dd,ii){\n            dd.total_vaccinations = parseInt(dd.total_vaccinations);\n            for (var day = minDt;day <= maxDt; day.setDate(day.getDate() + 1)) {\n                var newDay = day.getTime();\n                if(!hasDays.includes(newDay)){\n                    newDays.push({date: new Date(day), total_vaccinations: null})\n                }\n            }\n            // dd.lastDate = dd.date;\n        });\n\n        vGroup[i][1].push(...newDays);\n\n        vGroup[i][1].sort(function(a,b){\n            return new Date(a.date) - new Date(b.date);\n        });\n\n        var totalVac = 0;\n        var totalVac100 = 0;\n        var people_vaccinated_per_hundred = 0;\n        var people_fully_vaccinated_per_hundred = 0;\n\n        vGroup[i][1].forEach(function(dd,ii){\n\n            if(dd.total_vaccinations){\n                totalVac = dd.total_vaccinations;\n            } else {\n                dd.total_vaccinations = totalVac;\n            }\n            if(dd.total_vaccinations_per_hundred){\n                totalVac100 = dd.total_vaccinations_per_hundred\n            } else {\n                dd.total_vaccinations_per_hundred = totalVac100;\n            }\n            if(dd.people_vaccinated_per_hundred){\n                people_vaccinated_per_hundred = dd.people_vaccinated_per_hundred;\n            } else {\n                dd.people_vaccinated_per_hundred = people_vaccinated_per_hundred;\n            }\n            if(dd.people_fully_vaccinated_per_hundred){\n                people_fully_vaccinated_per_hundred = dd.people_fully_vaccinated_per_hundred;\n            } else {\n                dd.people_fully_vaccinated_per_hundred = people_fully_vaccinated_per_hundred;\n            }\n\n            var countryName;\n            if(vGroup[i].country_name==null) { countryName = vGroup[i][0];\n            } else {\n                countryName = vGroup[i].country_name\n            }\n\n            vDataFlat.push({\n                date: new Date(dd.date),\n                lastDate: (vGroup[i].lastDate),\n                total_vaccinations_per_hundred: parseFloat(totalVac100),\n                people_vaccinated_per_hundred: people_vaccinated_per_hundred,\n                people_fully_vaccinated_per_hundred: people_fully_vaccinated_per_hundred,\n                iso_code: vGroup[i][0], \n                ifrc_region: vGroup[i].ifrc_region,\n                country_name: countryName,\n                country_code: vGroup[i].country_code, \n                total_vaccinations: totalVac \n            })\n        })\n    });\n\n    data.vaccines_data_cumulative = vDataFlat;\n\n    data.vaccines_data_cumulative.sort(function(a,b){\n        return new Date(a.date) - new Date(b.date);\n    });\n\n    data.vaccines_data_cumulative.forEach(function(d,i){\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').toDate());\n    })\n\n    // parse vaccine daily data\n\n    dayTotal = -1;\n    dayCheck = 0;\n\n    weekTotal = -1;\n    weekCheck = -1;\n    monthTotal = 0;\n    monthCheck = 0;\n\n    // filter out vaccine data on only include records with ISO3 country codes\n    data.vaccines_data_daily = data.vaccines_data.filter(function(d,i){\n        return d.iso_code.length===3 && d.daily_vaccinations > 0;\n    })\n\n    // fill out missing vaccinations date records (extend cumulative)\n    var vGroup = flatGroup(data.vaccines_data_daily, d => d.iso_code);\n\n    var newDates = [];\n    var hasDays = [];\n    var initDate = 0;\n    var lastRecord = {};\n    var vDataFlat = [];\n    vGroup.forEach(function(d,i){\n\n        var minDt = new Date(minDateVaccines);\n        var maxDt = new Date(maxDateVaccines);\n        var hasDays = [];\n        var newDays = [];\n        var newDays = [];\n\n        data.equity_data.forEach(function(dd,ii){\n            if(dd.country_iso3===vGroup[i][0]){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n                d.country_code = dd.country_iso2;\n            }\n        })\n\n        vGroup[i][1].forEach(function(dd,ii){\n            hasDays.push(new Date(dd.date).getTime());\n        })\n\n        // if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\n        vGroup[i][1].forEach(function(dd,ii){\n            dd.daily_vaccinations = parseInt(dd.daily_vaccinations);\n            for (var day = minDt;day <= maxDt; day.setDate(day.getDate() + 1)) {\n                var newDay = day.getTime();\n                if(!hasDays.includes(newDay)){\n                    newDays.push({date: new Date(day), daily_vaccinations: null})\n                }\n            }\n        });\n\n        vGroup[i][1].push(...newDays);\n\n        vGroup[i][1].sort(function(a,b){\n            return new Date(a.date) - new Date(b.date);\n        });\n\n        var daily_vaccinations = 0;\n\n        vGroup[i][1].forEach(function(dd,ii){\n            if(dd.daily_vaccinations){\n                daily_vaccinations = dd.daily_vaccinations;\n            } else {\n                dd.daily_vaccinations = daily_vaccinations;\n            }\n            var countryName;\n            if(vGroup[i].country_name==null) { countryName = vGroup[i][0];\n            } else {\n                countryName = vGroup[i].country_name\n            }\n            vDataFlat.push({\n                date: new Date(dd.date),\n                iso_code: vGroup[i][0], \n                ifrc_region: vGroup[i].ifrc_region,\n                country_name: countryName,\n                country_code: vGroup[i].country_code, \n                daily_vaccinations: daily_vaccinations \n            })\n        })\n    });\n\n    data.vaccines_data_daily = vDataFlat;\n\n    data.vaccines_data_daily.sort(function(a,b){\n        return new Date(a.date) - new Date(b.date);\n    });\n\n    data.vaccines_data_daily.forEach(function(d,i){\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').toDate());\n    });\n\n\n    // parse equity data inform/hdi indexes\n    data.equity_data.forEach(function(d,i){\n        if(d.hdi_category.match(/very high/i)){\n            d.hdi_category = 'very-high'\n        }\n        else if(d.hdi_category.match(/high/i)){\n            d.hdi_category = 'high'\n        }\n        else if(d.hdi_category.match(/medium/i)){\n            d.hdi_category = 'medium'\n        }\n        else if(d.hdi_category.match(/low/i)){\n            d.hdi_category = 'low'\n        }\n        if(d.inform_severity.match(/very high/i)){\n            d.inform_severity = 'very-high'\n        }\n        else if(d.inform_severity.match(/high/i)){\n            d.inform_severity = 'high'\n        }\n        else if(d.inform_severity.match(/medium/i)){\n            d.inform_severity = 'medium'\n        }\n        else if(d.inform_severity.match(/low/i)){\n            d.inform_severity = 'low'\n        }\n        else if(d.inform_severity.match(/no/i)){\n            d.inform_severity = 'no-score'\n        }\n    })\n\n    data.equity_data = data.equity_data.filter(function(d,i){\n       return countryCodes.includes(d.country_iso2)\n    })\n    data.original = clone(data);\n    // console.log(data);\n}\n\nexport default ParseData;\n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {filter} from './App';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport {addCommas} from './HelperFunctions';\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiZ28taWZyYyIsImEiOiJjams3b2ZhZWswMGFvM3hxeHp2ZHFhOTRrIn0._pqO9OQ2iNeDGrpopJNjpg';\n\nlet map;\nlet dots; \nlet maxSize = 15; \nlet mapTooltip;\n\nexport function createMap(data, options, filter) {\n\n    d3.select('#map-refresh').attr('display', 'none').style('cursor', 'pointer')\n    .on('click', function(d,i){\n        map.setCenter([8, 22]);\n        map.setZoom(0);\n        d3.select('#map-refresh').attr('display', 'none');\n    })\n    \n    map = new mapboxgl.Map({\n        container: 'map_div', // container ID\n        // style: 'mapbox://styles/go-ifrc/ck9tz6f150ub11ip8j97wrsww', // style URL\n        style: 'mapbox://styles/go-ifrc/ckqrsg27f1cwu17pex8w2de2e', // style URL\n        center: [8, 22], // starting position [lng, lat]\n        zoom: 0 // starting zoom\n    });\n\n    map.setRenderWorldCopies(false);\n    map.addControl(new mapboxgl.NavigationControl());\n    \n    map.on('zoom', function() {\n        d3.select('#map-refresh').attr('display', 'inline');\n    });\n\n    map.on('touchmove', function() {\n        d3.select('#map-refresh').attr('display', 'inline');\n    });\n\n    map.on('wheel', function() {\n        d3.select('#map-refresh').attr('display', 'inline');\n    });\n\n    map.on('drag', function() {\n        d3.select('#map-refresh').attr('display', 'inline');\n    });\n\n    var container = map.getCanvasContainer();\n\n    var svg = d3\n    .select(container)\n    .append(\"svg\")\n    .attr('id', 'mapoverlay')\n    .attr(\"width\", \"100%\")\n    .attr(\"height\", \"24vw\")\n    .style(\"position\", \"absolute\")\n    .style(\"z-index\", 2);\n\n    mapTooltip = d3.select('#map_tooltip').attr('opacity', 1).attr('transform', 'translate(0,0)').attr('display', 'inline');\n\n    // dots = svg\n    // .selectAll(\".country-map\")\n    // .data(data.world)\n    // .enter()\n    // .append(\"circle\")\n    // .attr('class', 'country-map')\n    // .attr('id', function(d,i){ return 'country-map-'+d.iso2 })\n    // .attr(\"r\", 0)\n    \n\n    // var maxValue = d3.max(data.country, function(d,i){\n    //     return d[1].cumulative_cases;\n    // })\n\n    // var rScale = d3.scalePow().exponent(0.5)\n    //   .domain([0, maxValue])\n    //   .range([0, 15]);\n\n    // data.country.forEach(function(d,i){\n    //     d3.select('#country-'+d[0]).attr('r', rScale(d[1].cumulative_cases))\n    //     .attr('data-name', d[1].country)\n    // })\n    \n    document.getElementById(\"mapoverlay\").appendChild(d3.select('#map_tooltip').node());\n    mapTooltip.attr('display', 'none')  \n\n    map.on('load', function (e) {\n\n        map.setPaintProperty('countries', 'fill-opacity-transition', {duration: 0, delay: 0});\n\n        updateMap(data, options) ;\n\n    });\n\n}\n\nexport function updateMap(data, options) {\n   \n    var duration = 800;\n    var delay = 10;\n\n    map.setLayoutProperty(\n        'countries',\n        'visibility',\n        'none'\n    );\n\n    if(options.map_toggle == 'bi-weekly-change'){\n        \n        var maxIncrease = d3.max(data.country, function(d,i){\n            return d[1].percent_change;\n        })\n\n        var maxDecrease = d3.min(data.country, function(d,i){\n            return d[1].percent_change;\n        })\n\n        // var rScale = d3.scalePow().exponent(0.5)\n        // .domain([-1, 0, 1])\n        // .range([maxSize, 0, maxSize])\n        // .clamp(true);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.country.forEach(function(d,i){\n        //     d3.select('#country-map-'+d[0])\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(d[1].percent_change))\n        //     .style('stroke', function(){\n        //         // if(d[1].percent_change>1){ return '#E02225'} else { return '#1F558C'}\n        //         return '#FFF'\n        //     }).style('fill', function(){\n        //         if(d[1].percent_change>0){ return colors.red } else { return colors.blue}\n        //     })\n        // })\n\n        var colorScale = d3.scaleLinear()\n        // .domain([-1, 0, 1])\n        .domain([-.3, 0, .3])\n        .range([colors.blue, colors.lightgrey, colors.red])\n        // .clamp(true);\n\n        var fillColorArray = ['case']\n        data.country.forEach(function(d,i){\n            fillColorArray.push(['==', ['get', \"iso\"], d[0]]);\n            fillColorArray.push(colorScale(d[1].percent_change));\n        });\n\n        if(fillColorArray.length>1){\n            fillColorArray.push(colors.darkgrey)\n            map.setPaintProperty(\n                'countries', \n                'fill-color', fillColorArray\n            );\n        }\n        \n    }\n\n    if(options.map_toggle == 'cases'){\n        var maxValue = d3.max(data.country, function(d,i){\n            return d[1].cumulative_cases;\n        })\n\n        // var rScale = d3.scalePow().exponent(0.5)\n        // .domain([0, maxValue])\n        // .range([0, maxSize]);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.country.forEach(function(d,i){\n        //     d3.select('#country-map-'+d[0])\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(d[1].cumulative_cases))\n        //     .style('fill', colors.red)\n        //     .style('stroke', '#FFF');\n        // })\n\n        var colorScale = d3.scaleLinear()\n        .domain([0, maxValue])\n        .range([colors.lightgrey, colors.red]);\n\n        var fillColorArray = ['case']\n        data.country.forEach(function(d,i){\n            fillColorArray.push(['==', ['get', \"iso\"], d[0]]);\n            fillColorArray.push(colorScale(d[1].cumulative_cases));\n        });\n\n        if(fillColorArray.length>1){\n            fillColorArray.push(colors.darkgrey)\n            map.setPaintProperty(\n                'countries', \n                'fill-color', fillColorArray\n            );\n        }\n\n    }\n    \n    if(options.map_toggle == 'deaths'){\n        var maxValue = d3.max(data.country, function(d,i){\n            return d[1].cumulative_deaths;\n        })\n\n        // var rScale = d3.scalePow().exponent(0.5)\n        // .domain([0, maxValue])\n        // .range([0, maxSize]);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.country.forEach(function(d,i){\n        //     d3.select('#country-map-'+d[0])\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(d[1].cumulative_deaths))\n        //     .style('fill', colors.red)\n        //     .style('stroke', '#FFF');\n        // })\n\n        var colorScale = d3.scaleLinear()\n        .domain([0, maxValue])\n        .range([colors.lightgrey, colors.red]);\n\n        var fillColorArray = ['case']\n        data.country.forEach(function(d,i){\n            fillColorArray.push(['==', ['get', \"iso\"], d[0]]);\n            fillColorArray.push(colorScale(d[1].cumulative_deaths));\n        });\n\n        if(fillColorArray.length>1){\n            fillColorArray.push(colors.darkgrey)\n            map.setPaintProperty(\n                'countries', \n                'fill-color', fillColorArray\n            );\n        }\n    }\n\n    if(options.map_toggle == 'percent-fully-vaccinated'){\n        var maxValue = d3.max(data.vGroup, function(d,i){\n            return parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;\n        })\n\n        // var rScale = d3.scalePow().exponent(0.55)\n        // .domain([0, 1])\n        // .range([1, maxSize])\n        // .clamp(true);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.vGroup.forEach(function(d,i){\n        //     var peoplevaccinated = parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;\n        //     if(isNaN(peoplevaccinated)) peoplevaccinated = 0;\n        //     d3.select('#country-map-'+d[1][0].country_code)\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(peoplevaccinated))\n        //     .style('stroke', '#FFF')\n        //     .style('fill', function(){\n        //         return colors.blue;\n        //     })\n        // })\n\n        var colorScale = d3.scaleLinear()\n        .domain([0, maxValue])\n        .range([colors.lightgrey, colors.blue]);\n\n        var fillColorArray = ['case']\n        data.vGroup.forEach(function(d,i){\n            var peoplevaccinated = parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;\n            if(isNaN(peoplevaccinated)) peoplevaccinated = 0;\n            if(peoplevaccinated>0){\n                if(d[1][0].country_code) fillColorArray.push(['==', ['get', \"iso\"], d[1][0].country_code]);\n                if(d[1][0].country_code) fillColorArray.push(colorScale(peoplevaccinated));\n            }\n        });\n\n        if(fillColorArray.length>1){\n            fillColorArray.push(colors.darkgrey)\n            map.setPaintProperty(\n                'countries', \n                'fill-color', fillColorArray\n            );\n        } else {\n            map.setPaintProperty(\n                'countries', \n                'fill-color',\n                colors.darkgrey\n            );\n        }\n        \n    }\n\n    if(options.map_toggle == 'percent-vaccine-acceptance'){\n        var maxValue = d3.max(data.vGroup, function(d,i){\n            return parseFloat(d[1][0].vaccine_acceptance_percent)/100;\n        })\n\n        \n        // var rScale = d3.scalePow().exponent(1)\n        // .domain([0, 1])\n        // .range([1, maxSize*.7])\n        // // .clamp(true);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.vGroup.forEach(function(d,i){\n        //     var vaccine_acceptance_percent = parseFloat(d[1][0].vaccine_acceptance_percent/100);\n            \n        //     if(isNaN(vaccine_acceptance_percent)) vaccine_acceptance_percent = 0;\n\n        //     d3.select('#country-map-'+d[1][0].country_code)\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(vaccine_acceptance_percent))\n        //     .style('stroke', '#FFF')\n        //     .style('fill', function(){\n        //         return colors.blue;\n        //     })\n        // })\n\n        var colorScale = d3.scaleLinear()\n        .domain([0, maxValue])\n        .range([colors.lightgrey, colors.blue]);\n\n        var fillColorArray = ['case']\n        data.vGroup.forEach(function(d,i){\n            var vaccine_acceptance_percent = parseFloat(d[1][0].vaccine_acceptance_percent)/100;\n            if(isNaN(vaccine_acceptance_percent)) vaccine_acceptance_percent = 0;\n            if(vaccine_acceptance_percent>0){\n                if(d[1][0].country_code) fillColorArray.push(['==', ['get', \"iso\"], d[1][0].country_code]);\n                if(d[1][0].country_code) fillColorArray.push(colorScale(vaccine_acceptance_percent));\n            }\n        });\n\n        if(fillColorArray.length>1){\n            fillColorArray.push(colors.darkgrey)\n            map.setPaintProperty(\n                'countries', \n                'fill-color', fillColorArray\n            );\n        } else {\n            map.setPaintProperty(\n                'countries', \n                'fill-color',\n                colors.darkgrey\n            );\n        }\n\n\n    }\n\n    mapTooltip.attr('display', 'none')  \n\n    map.on('mousemove', function (e) {\n        var features = map.queryRenderedFeatures(e.point);\n         \n        var displayProperties = [\n        'type',\n        'properties',\n        'id',\n        'layer',\n        'source',\n        'sourceLayer',\n        'state'\n        ];\n         \n        if((features.length==1)&&(features[0].layer.id=='countries')){\n\n            var id = features[0].properties.iso;\n            var countryfiltered = data.equity_data.filter(d=>d.country_iso2 == id);\n            var countryName;\n            if(countryfiltered[0]) countryName = countryfiltered[0].country_name;\n    \n            mapTooltip.select('#map_tooltip_name tspan').text(countryName);\n  \n            if(mapTooltip.select('#map_tooltip_name tspan').text().length==0){\n                mapTooltip\n                .attr('display', 'none');\n            };\n            \n            if(options.map_toggle=='cases'){\n                var country = data.country.filter(d=>d[1].country_code == id)[0];\n                if((!country)||(country.length==0)) return false;\n                mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_cases)+' cases');\n            }\n    \n            if(options.map_toggle=='deaths'){\n                var country = data.country.filter(d=>d[1].country_code == id)[0];\n                if((!country)||(country.length==0)) return false;\n                mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_deaths)+' deaths');\n            }\n    \n            if(options.map_toggle=='bi-weekly-change'){\n                var country = data.country.filter(d=>d[1].country_code == id)[0];\n                if((!country)||(country.length==0)) return false;\n                var val = ((country[1].percent_change)*100).toFixed(1);\n                var str = '';\n                if(val>=0){\n                    str = '% increase';\n                } else {\n                    str = '% decrease';\n                }\n                mapTooltip.select('#map_tooltip_val tspan').text(Math.abs(val)+str);\n            }\n    \n            if(options.map_toggle=='percent-fully-vaccinated'){\n                var country = data.vGroup.filter(d=>d[1][0].country_code == id);\n                if((!country)||(country.length==0)) return false;\n                if((!country[0][1])) return false;\n                country = country[0][1];\n                var val = parseFloat(country[0].people_fully_vaccinated_per_hundred).toFixed(1)\n                if(isNaN(val)){ val = '-' } else { val = val + '% fully vaccinated'}\n                mapTooltip.select('#map_tooltip_val tspan').text(val);\n            }\n    \n            if(options.map_toggle=='percent-vaccine-acceptance'){\n                var country = data.vGroup.filter(d=>d[1][0].country_code == id);\n                if((!country)||(country.length==0)) return false;\n                if((!country[0][1])) return false;\n                country = country[0][1];\n                var val = parseFloat(country[0].vaccine_acceptance_percent).toFixed(1)\n                if(isNaN(val)){ val = '-' } else { val = val + '% vaccine acceptance'}\n                mapTooltip.select('#map_tooltip_val tspan').text(val);\n            }\n    \n            var str = mapTooltip.select('#map_tooltip_val tspan').text();\n            if(str.includes('NaN')) mapTooltip.attr('display', 'none')\n\n            d3.select('#map_tooltip_bg').attr('width', 20)\n            var bbox = d3.select('#map_tooltip_text').node().getBBox();\n            d3.select('#map_tooltip_bg').attr('width', (parseFloat(bbox.width)+15))\n            var scale = window.innerWidth/1329;\n            mapTooltip\n            .attr('display', 'inline')\n            .attr('transform', 'translate('+(e.point.x+20)+','+e.point.y+')scale('+scale+')');\n            var heightOffset = mapTooltip.node().getBBox();\n\n            if(mapTooltip.select('#map_tooltip_name tspan').text().length==0){\n                mapTooltip\n                .attr('display', 'none');\n            };\n\n            // mapTooltip.attr('transform', 'translate('+(project(([d.lng, d.lat])).x+3)+','+(project(([d.lng, d.lat])).y+2-heightOffset.height/2)+')scale('+scale+')');\n        } else {\n            mapTooltip.attr('display', 'none')\n        }\n    })\n\n\n    // function render() {\n    //     dots\n    //       .attr(\"cx\", function(d) {\n    //         return project(([d.lng, d.lat])).x;\n    //       })\n    //       .attr(\"cy\", function(d) {\n    //         return project(([d.lng, d.lat])).y;\n    //       });\n    //   }\n\n    // map.on(\"viewreset\", render);\n    // map.on(\"move\", render);\n    // map.on(\"moveend\", render);\n    // render(); // Call once to render\n\n    // tooltips\n\n    // var mapTooltip = d3.select('#map_tooltip').attr('opacity', 1).attr('transform', 'translate(0,0)').attr('display', 'none');\n\n    // d3.selectAll('.country-map').on('mousemove', function(event, d){\n\n    //     var id = d3.select(this).attr('id').substr(12,2);\n    //     var countryfiltered = data.equity_data.filter(d=>d.country_iso2 == id);\n    //     var countryName;\n    //     if(countryfiltered[0]) countryName = countryfiltered[0].country_name;\n\n    //     mapTooltip.select('#map_tooltip_name tspan').text(countryName);\n\n    //     if(options.map_toggle=='cases'){\n    //         var country = data.country.filter(d=>d[1].country_code == id)[0];\n    //         if((!country)||(country.length==0)) return false;\n    //         mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_cases)+' cases');\n    //     }\n\n    //     if(options.map_toggle=='deaths'){\n    //         var country = data.country.filter(d=>d[1].country_code == id)[0];\n    //         if((!country)||(country.length==0)) return false;\n    //         mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_deaths)+' deaths');\n    //     }\n\n    //     if(options.map_toggle=='bi-weekly-change'){\n    //         var country = data.country.filter(d=>d[1].country_code == id)[0];\n    //         if((!country)||(country.length==0)) return false;\n    //         var val = ((country[1].percent_change)*100).toFixed(1);\n    //         var str = '';\n    //         if(val>=0){\n    //             str = '% increase';\n    //         } else {\n    //             str = '% decrease';\n    //         }\n    //         mapTooltip.select('#map_tooltip_val tspan').text(Math.abs(val)+str);\n    //     }\n\n    //     if(options.map_toggle=='percent-fully-vaccinated'){\n    //         var country = data.vGroup.filter(d=>d[1][0].country_code == id)[0][1];\n    //         if((!country)||(country.length==0)) return false;\n    //         mapTooltip.select('#map_tooltip_val tspan').text(parseFloat(country[0].people_fully_vaccinated_per_hundred).toFixed(1)+'% fully vaccinated');\n    //     }\n\n    //     if(options.map_toggle=='percent-vaccine-acceptance'){\n    //         var country = data.vGroup.filter(d=>d[1][0].country_code == id)[0][1];\n    //         if((!country)||(country.length==0)) return false;\n    //         mapTooltip.select('#map_tooltip_val tspan').text(parseFloat(country[0].vaccine_acceptance_percent).toFixed(1)+'% vaccine acceptance');\n    //     }\n\n\n    //     d3.select('#map_tooltip_bg').attr('width', 0)\n\n    //     var bbox = mapTooltip.node().getBBox();\n    //     d3.select('#map_tooltip_bg').attr('width', (parseFloat(bbox.width)+2))\n    //     var scale = window.innerWidth/1329;\n    //     mapTooltip\n    //     .attr('display', 'inline')\n    //     .attr('transform', 'translate('+project(([d.lng, d.lat])).x+','+project(([d.lng, d.lat])).y+')scale('+scale+')');\n\n    //     var heightOffset = mapTooltip.node().getBBox();\n    //     mapTooltip.attr('transform', 'translate('+(project(([d.lng, d.lat])).x+3)+','+(project(([d.lng, d.lat])).y+2-heightOffset.height/2)+')scale('+scale+')');\n\n    // }).on('mouseout', function(event){\n    //     if(event.toElement=='tspan') return false;\n    //     mapTooltip.attr('display', 'none');\n    // })\n\n    map.setLayoutProperty(\n        'countries',\n        'visibility',\n        'visible'\n    );\n\n}\n\n// function project(d) {\n//     return map.project(new mapboxgl.LngLat(d[0], d[1]));\n// }\n\nexport default createMap;\n","import React, { useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport Layout from './Layout';\nimport {drawTimechart, updateTimechart} from './Timechart';\nimport {drawRegionchart, updateRegionchart} from './Regionchart';\nimport {drawBubblechart, updateBubblechart} from './Bubblechart';\nimport options from './Options';\nimport ParseData from './ParseData';\nimport './App.css'\nimport $ from \"jquery\";\nimport select2 from 'select2';\nimport 'select2/dist/css/select2.min.css'\nimport {addCommas, nFormatter} from './HelperFunctions';\nimport { createMap, updateMap } from './Map';\nimport moment from 'moment';\n\n\n  /* \"homepage\": \"https://matthewsmawfield.github.io/ifrc-covid-dataviz\", */\n\nconst equityDataUrl = './data/equity_data.csv';\nconst layoutUrl = \"./images/layout.svg\";\nconst whoDataUrl = \"./data/who_global_cases.csv\";\n// https://covid19.who.int/WHO-COVID-19-global-data.csv\nconst worldUrl = \"./data/world-wb5.geojson\";\n// const worldUrl = \"./data/world_points.csv\";\nconst vaccinesDataUrl = \"./data/owid_vaccinations.csv\";\n// https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.csv\nconst vaccinesWhoDataUrl = \"./data/who_vaccination_data.csv\";\n// https://covid19.who.int/who-data/vaccination-data.csv\nconst timelineDataUrl = \"./data/timeline.csv\";\nconst keyFiguresDataUrl = \"./data/key_figures.csv\";\nconst selfAssessmentDataUrl = \"./data/self_assessment.csv\";\nconst vaccineAcceptanceDataUrl = \"./data/vaccine_acceptance.csv\";\n\nconst data = {};\n\nconst regionOptions = [\n  { id: 'AM', text: 'Americas' },\n  { id: 'EU', text: 'Europe' },\n  { id: 'AP', text: 'Asia-Pacific' },\n  { id: 'ME', text: 'Middle East and North Africa'},\n  { id: 'AF', text: 'Africa' }\n]\n\nconst countryOptions = [];\n\nfunction App() {\n\n  const [progress, setProgress] = useState(0);\n  const [loaderText, setLoaderText] = useState('Loading SVG layout...');\n\n  async function init(){\n\n    // data source 1: layout.svg\n    const layout = d3.xml(layoutUrl);\n    layout.then(function(d){\n      d3.select('#svg_container').node().append(d3.select(d.documentElement).attr('width', '100%').attr('height', 'auto').node());\n      const svg = d3.select('#svg_container svg');\n      svg.select('title').remove();\n      svg.attr('id', 'svg');\n      Layout(svg, options, data, filter, updateTable, updateMap);\n      setProgress(0.1);\n      setLoaderText('Loading equity data CSV...');\n      // data source 2: equity_data.csv\n      const equityData = d3.csv(equityDataUrl);\n      equityData.then(function(d){\n        data.equity_data = d;\n        d.forEach(function(d,i){\n          countryOptions.push({'text': d.country_name, 'id': 'Country-'+d.country_iso2 })\n        })\n        createSelects();\n        setProgress(0.1);\n        setLoaderText('Loading WHO data CSV...');\n        // data source 1: owid_vaccines.csv\n        const vaccinesData = d3.csv(vaccinesDataUrl);\n          vaccinesData.then(function(d){\n            data.vaccines_data = d;\n            setProgress(0.07);\n            setLoaderText('Loading OWID vaccines data...');\n             // data source 2: vaccinesWhoData.csv\n             const vaccinesWhoData = d3.csv(vaccinesWhoDataUrl);\n             vaccinesWhoData.then(function(d){\n               data.vaccines_who_data = d;\n               setProgress(0.15);\n               setLoaderText('Loading OWID vaccines data...');\n                // data source 3: self_assessment.csv\n                const selfAssessmentData = d3.csv(selfAssessmentDataUrl);\n                selfAssessmentData.then(function(d){\n                  data.self_assessment = d;\n                  setProgress(0.22);\n                  setLoaderText('Loading self assessment...');\n                  // data source 4: vaccine_acceptance.csv\n                  const vaccineAcceptanceData = d3.csv(vaccineAcceptanceDataUrl);\n                  vaccineAcceptanceData.then(function(d){\n                    data.vaccine_acceptance = d;\n                    setProgress(0.3);\n                      setLoaderText('Loading vaccine acceptance data...');\n                      // data source 3: timeline.csv\n                      const timelineData = d3.csv(timelineDataUrl);\n                      timelineData.then(function(d){\n                        data.timeline_data = d;\n                        setProgress(0.4);\n                        setLoaderText('Loading timeline events...');\n                        // data source 4: key_figures.csv\n                        const keyFiguresData = d3.csv(keyFiguresDataUrl);\n                        keyFiguresData.then(function(d){\n                          data.key_figures = d;\n                          setProgress(0.45);\n                          setLoaderText('Loading key figures data...');\n                          // data source 5: who_global_cases.csv\n                          const whoData = d3.csv(whoDataUrl);\n                          whoData.then(function(d){\n                            data.who_data = d;\n                            setProgress(0.8);\n                            setLoaderText('Loading World Map...');\n                            // data source 6: world-wb5.geojson\n                            // const world = d3.csv(worldUrl);\n                            const world = d3.json(worldUrl);\n                            world.then(function(d){\n                              data.world = d;\n                              setLoaderText('Loading complete.');\n                              setProgress(1);\n                              ParseData(data, options);\n                              createCharts();\n                              d3.select('#loaderDiv').transition().duration(1000).style('opacity', 0).on(\"end\", () => d3.select('#loaderDiv').remove());\n                            });\n                      });\n                    });\n                  });\n                });\n              });\n            });\n          });\n      });\n    })\n  }\n  \n  function createCharts(){\n\n    d3.select('#who_data_date tspan').text(moment(options.maxDataDate).format('ll'));\n    d3.select('#owid_data_date tspan').text(moment(options.maxVDataDate).format('ll'));\n\n    drawTimechart(data, options);\n    drawRegionchart(data, options, filter);\n    updateTable(data, options);\n    updateTotals(data, options);\n    createMap(data, options, filter);\n    drawBubblechart(data, options, filter);\n\n  }\n\n  function filter(id,e){\n    options.page = 1;\n    if(id=='clear'){\n      options.region_filter = [];\n      options.country_filter = [];\n      d3.select('#reset_locations').attr('display', 'none');\n    } \n    if(id=='clear-region'){\n      options.region_filter = [];\n    } \n\n    if(id=='clear-hdi'){\n      options.hdi_filter = [];\n    } \n\n    if(id=='clear-inform'){\n      options.inform_filter = [];\n    } \n\n    if((id.length==1)&&(id[0].length==2)&&(id!='filter')){\n      if(options.region_filter.includes(id[0])){\n        options.region_filter = options.region_filter.filter(d=>d!==id[0])\n      } else {\n        options.region_filter.push(id[0]);\n      }\n    }\n\n    if(options.region_filter.length==5) options.region_filter = [];\n\n    if(options.region_filter.length>0){\n      d3.select('#region_remove_filter').attr('opacity', 1);\n\n      d3.selectAll('.bar-labels').attr('opacity', 0.5);\n      options.region_filter.forEach(function(d,i){\n        d3.select('.bar-label-'+d).attr('opacity', 1);\n      })\n    } else {\n        d3.select('#region_remove_filter').attr('opacity', 0);\n        d3.selectAll('.bar-labels').attr('opacity', 1);\n    }\n\n    data.equity_data = data.original.equity_data;\n\n    var hdi_countries = [];\n    if(options.hdi_filter.length>0){\n      d3.select('#hdi_remove_filter').attr('opacity', 1);\n      data.equity_data.forEach(function(d,i){\n        if(options.hdi_filter.includes(d.hdi_category)){\n          hdi_countries.push(d.country_iso2);\n        }\n      })\n    } else {\n      d3.select('#hdi_remove_filter').attr('opacity', 0);\n    }\n\n    var inform_countries = [];\n    if(options.inform_filter.length>0){\n      d3.select('#inform_remove_filter').attr('opacity', 1);\n      data.equity_data.forEach(function(d,i){\n        if(options.inform_filter.includes(d.inform_severity)){\n          inform_countries.push(d.country_iso2);\n        }\n      })\n    } else {\n      d3.select('#inform_remove_filter').attr('opacity', 0);\n    }\n\n    if((id.length==1)&&(id[0].length>2)){\n      var code = id[0].substring(8);\n      if(options.country_filter.includes(code)){\n        options.country_filter = options.country_filter.filter(d=>d!==code)\n      } else {\n        options.country_filter.push(code);\n      }\n    }\n\n    if((options.region_filter.length==0)&&(options.country_filter.length==0)){\n      d3.select('#reset_locations').attr('display', 'none');\n    }\n\n    var countryIds = [];\n    options.country_filter.forEach(function(d,i){\n      countryIds.push('Country-'+d);\n    })\n\n    if((options.region_filter.length>0)||(options.country_filter.length>0)) {\n        d3.select('#reset_locations').attr('display', 'inline')\n      } else {\n        d3.select('#reset_locations').attr('display', 'none')\n      }\n\n    var mergeFilter = options.region_filter.concat(countryIds);\n    $('#regionSelect').val(mergeFilter)\n    $('#regionSelect').trigger('change');\n\n    // update data\n    data.who_data = data.original.who_data;\n\n    if(inform_countries.length>0){\n      data.who_data = data.who_data.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    \n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.who_data = data.who_data.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }\n    data.vaccines_data_cumulative = data.original.vaccines_data_cumulative;\n\n    if(inform_countries.length>0){\n      data.vaccines_data_cumulative = data.vaccines_data_cumulative.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.vaccines_data_cumulative = data.vaccines_data_cumulative.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }\n    data.vaccines_data_daily = data.original.vaccines_data_daily;\n    if(inform_countries.length>0){\n      data.vaccines_data_daily = data.vaccines_data_daily.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.vaccines_data_daily = data.vaccines_data_daily.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }    \n    if(inform_countries.length>0){\n      data.equity_data = data.equity_data.filter(function(d,i){\n        return inform_countries.includes(d.country_iso2)\n      })\n    } \n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.equity_data = data.equity_data.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_iso2)))&&(hdi_countries.includes(d.country_iso2))\n          } else {\n            return (hdi_countries.includes(d.country_iso2))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_iso2))\n        }\n      })\n    }\n\n    handleSelectLength();\n    updateCharts();\n\n  }\n  function updateCharts(){\n    updateRegionchart(options,data);\n    updateTable(data, options);\n    updateTotals(data, options);\n    updateTimechart(data, options);\n    updateMap(data,options);\n    updateBubblechart(data, options, filter);\n  }\n\n  function updateTotals(data,options){\n    var totalCases = d3.sum(data.cumulative_totals, d=>d.cumulative_cases);\n    var totalDeaths = d3.sum(data.cumulative_totals, d=>d.cumulative_deaths);\n    var numCountriesFiltered = d3.flatGroup(data.who_data, d => d.country_code).length;\n    var countries = d3.flatGroup(data.who_data, d => d.country_code);\n    // var totalVaccines = d3.sum(data.cumulative_totals, d=>d.cumulative_vaccines));\n    var totalVaccines = d3.sum(data.equity_data, d=>d.total_vaccinations);\n\n    data.country = [];\n    countries.forEach(function(d,i){\n      var cases4weeksAgo = d[1][d[1].length-28].cumulative_cases;\n      var cases2WeeksAgo = d[1][d[1].length-14].cumulative_cases;\n      var cases1WeeksAgo = d[1][d[1].length-7].cumulative_cases;\n      var casesLatest = d[1][d[1].length-1];\n      var percentChange = parseFloat(((casesLatest.cumulative_cases - cases2WeeksAgo)-(cases2WeeksAgo-cases4weeksAgo))/cases4weeksAgo);\n      if(isFinite(percentChange)) { casesLatest.percent_change = percentChange; } else { casesLatest.percent_change = 0 }\n      data.country.push([ d[0], casesLatest, cases2WeeksAgo, cases4weeksAgo, cases1WeeksAgo])\n    });\n    \n    // update hdi numbers\n    var hdiData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiDataPopulation = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiDataVaccines = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiContactTracing = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiTotalCasesData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiTestingData = {'very-high':[], 'high': [], 'medium': [], 'low': []};\n    var informData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informDataPopulation = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informDataVaccines = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informContactTracing = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informTotalCasesData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informTestingData = {'very-high':[], 'high': [], 'medium': [], 'low': [], 'no-score': []};\n    var totalRecordedPopulation = 0;\n\n    data.vaccine_types = [];\n    var vaccinesper100 = [];\n    var vaccineper100byPop = {'total_population': 0, 'vaccine_population': 0};\n\n    var numNsInvolvedCountres = 0;\n    var vaccineAcceptance = {'total_population': 0, 'accept_population': 0};\n    if(totalCases>0){\n      data.equity_data.forEach(function(dd,ii){\n          dd.vaccines_used.forEach(function(ddd){\n            if(!data.vaccine_types.includes(ddd)) data.vaccine_types.push(ddd);\n          })\n          if(isNaN(dd.total_vaccinations))dd.total_vaccinations = 0;\n\n          hdiData[dd.hdi_category] += 1;\n          hdiDataPopulation[dd.hdi_category] += parseInt(dd.population);\n          hdiDataVaccines[dd.hdi_category] += parseInt(dd.total_vaccinations)||0;\n          numNsInvolvedCountres += dd.ns_involvement;\n          informData[dd.inform_severity] += 1;\n          \n          informContactTracing[dd.inform_severity] += dd.contract_tracing;\n          hdiContactTracing[dd.hdi_category] += dd.contract_tracing;\n          if((dd.hdi_category=='very-high')||(dd.hdi_category=='high')||(dd.hdi_category=='medium')||(dd.hdi_category=='low'))\n          hdiTestingData[dd.hdi_category].push(dd.avg_tests_per_1000);\n          if((dd.inform_severity=='very-high')||(dd.inform_severity=='high')||(dd.inform_severity=='medium')||(dd.inform_severity=='low')||(dd.inform_severity=='no-score'))\n          informTestingData[dd.inform_severity].push(dd.avg_tests_per_1000);\n\n          informDataPopulation[dd.inform_severity] += parseInt(dd.population);\n          informDataVaccines[dd.inform_severity] += parseInt(dd.total_vaccinations)||0;\n          var dat = countries.filter((d)=>d[0]==dd.country_iso2);\n          if((dat[0][1].length>0)&&(dat[0])){\n            var lastRecord = dat[0][1][dat[0][1].length-1];\n            // hdi index\n            hdiTotalCasesData[dd.hdi_category] += lastRecord.cumulative_cases;\n            informTotalCasesData[dd.inform_severity] += lastRecord.cumulative_cases;\n          }\n        // vaccine per 100 by country average\n        if(dd.vaccines_per_100>0) vaccinesper100.push([dd.vaccines_per_100,dd.population]);\n        // vaccine per 100 by population\n        var population = 0;\n        if(dd.vaccine_acceptance_population){\n          population = dd.vaccine_acceptance_population;\n        } else if (dd.population){\n          population = dd.population;\n        }\n        if((dd.vaccines_per_100>0)&&(population>0)) vaccineper100byPop.total_population += parseInt(population);\n        if((dd.vaccines_per_100>0)&&(population>0)) vaccineper100byPop.vaccine_population += (population * (dd.vaccines_per_100/100));\n        // vaccine acceptance\n          if(dd.vaccine_acceptance_population>0) vaccineAcceptance.total_population += dd.vaccine_acceptance_population;\n          if(dd.vaccine_acceptance_population>0) vaccineAcceptance.accept_population += (dd.vaccine_acceptance_population * dd.vaccine_acceptance_percent);\n      });\n    }\n\n    // vaccine acceptance percent\n    var vaccineAcceptancePercent = ((vaccineAcceptance.accept_population / vaccineAcceptance.total_population)).toFixed(1);\n\n    // vaccine doses per 100\n    var vaccinePer100ByPopulation = ((vaccineper100byPop.vaccine_population / vaccineper100byPop.total_population)*100).toFixed(1);\n    var vaccinePer100ByCountry = d3.mean(data.vGroup, d=>d[1][0].total_vaccinations_per_hundred);\n\n    d3.selectAll('.vaccine_type').remove();\n    d3.select('#vaccine_tooltip_bg').attr('height', 1);\n    data.vaccine_types.forEach(function(d,i){\n      d3.select(\"#vaccine_tooltip\").append('text')\n      .attr('font-size', 9)\n      .attr('fill', '#000')\n      .attr('class', 'vaccine_type')\n      .append('tspan').text(d)\n      .attr('dx', 6)\n      .attr('dy',((i*1.3)+1.8)+'em')\n    });\n\n    var vtooltipbbox = d3.select('#vaccine_tooltip').node().getBBox();\n    d3.select('#vaccine_tooltip_bg').attr('height', vtooltipbbox.height+6);\n\n    // new cases\n    var newCases = d3.sum(data.country, d => d[4])\n\n    \n    // hide bars \n    if(totalCases==0){\n      d3.selectAll('.bar_group').attr('opacity',0);\n    } else {\n      d3.selectAll('.bar_group').attr('opacity',1);\n    }\n\n    var totalHdiPop = hdiDataPopulation['very-high']+hdiDataPopulation['high']+hdiDataPopulation['medium']+hdiDataPopulation['low'];\n    var totalInformPop = informDataPopulation['very-high']+informDataPopulation['high']+informDataPopulation['medium']+informDataPopulation['low']+informDataPopulation['no-score'];\n\n    // update additional indicators\n    // row 0 percent of vaccinations by hdi\n    d3.select('#hdi-percent-val-very-high tspan').text(parse((hdiTotalCasesData['very-high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-very-high').transition().duration(500).attr('width', (parse(hdiTotalCasesData['very-high']/totalCases)*70));\n    d3.select('#hdi-percent-val-high tspan').text(parse((hdiTotalCasesData['high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-high').transition().duration(500).attr('width', (parse(hdiTotalCasesData['high']/totalCases)*70));\n    d3.select('#hdi-percent-val-medium tspan').text(parse((hdiTotalCasesData['medium']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-medium').transition().duration(500).attr('width', (parse(hdiTotalCasesData['medium']/totalCases)*70));\n    d3.select('#hdi-percent-val-low tspan').text(parse((hdiTotalCasesData['low']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-low').transition().duration(500).attr('width', (parse(hdiTotalCasesData['low']/totalCases)*70));\n\n    d3.select('#inform-percent-val-very-high tspan').text(parse((informTotalCasesData['very-high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-very-high').transition().duration(500).attr('width', (parse(informTotalCasesData['very-high']/totalCases)*64));\n    d3.select('#inform-percent-val-high tspan').text(parse((informTotalCasesData['high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-high').transition().duration(500).attr('width', (parse(informTotalCasesData['high']/totalCases)*64));\n    d3.select('#inform-percent-val-medium tspan').text(parse((informTotalCasesData['medium']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-medium').transition().duration(500).attr('width', (parse(informTotalCasesData['medium']/totalCases)*64));\n    d3.select('#inform-percent-val-low tspan').text(parse((informTotalCasesData['low']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-low').transition().duration(500).attr('width', (parse(informTotalCasesData['low']/totalCases)*64));\n    d3.select('#inform-percent-val-no-score tspan').text(parse((informTotalCasesData['no-score']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-no-score').transition().duration(500).attr('width', (parse(informTotalCasesData['no-score']/totalCases)*64));\n\n    d3.select('#hdi-toggle-very-high-val tspan').text(hdiData['very-high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-high-val tspan').text(hdiData['high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-medium-val tspan').text(hdiData['medium']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-low-val tspan').text(hdiData['low']).style('text-anchor', 'end').attr('dx', '10');\n\n    d3.select('#inform-toggle-very-high-val tspan').text(informData['very-high']).style('text-anchor', 'end').attr('dx', '6');\n    d3.select('#inform-toggle-high-val tspan').text(informData['high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#inform-toggle-medium-val tspan').text(informData['medium']).style('text-anchor', 'end').attr('dx', '9');\n    d3.select('#inform-toggle-low-val tspan').text(informData['low']).style('text-anchor', 'end').attr('dx', '7');\n    d3.select('#inform-toggle-no-score-val tspan').text(informData['no-score']).style('text-anchor', 'end').attr('dx', '13');\n\n    // row 1 percnet of vaccinations by hdi\n\n    d3.select('#hdi1val-very-high tspan').text(parse((hdiDataPopulation['very-high']/totalHdiPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi1bar-very-high').transition().duration(500).attr('width', (parse(hdiDataPopulation['very-high']/totalHdiPop)*70));\n    d3.select('#hdi1val-high tspan').text(parse((hdiDataPopulation['high']/totalHdiPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi1bar-high').transition().duration(500).attr('width', (parse(hdiDataPopulation['high']/totalHdiPop)*70));\n    d3.select('#hdi1val-medium tspan').text(parse((hdiDataPopulation['medium']/totalHdiPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi1bar-medium').transition().duration(500).attr('width', (parse(hdiDataPopulation['medium']/totalHdiPop)*70));\n    d3.select('#hdi1val-low tspan').text(parse((hdiDataPopulation['low']/totalHdiPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi1bar-low').transition().duration(500).attr('width', (parse(hdiDataPopulation['low']/totalHdiPop)*70));\n\n    d3.select('#inform1val-very-high tspan').text(parse((informDataPopulation['very-high']/totalInformPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform1bar-very-high').transition().duration(500).attr('width', (parse(informDataPopulation['very-high']/totalInformPop)*64));\n    d3.select('#inform1val-high tspan').text(parse((informDataPopulation['high']/totalInformPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform1bar-high').transition().duration(500).attr('width', (parse(informDataPopulation['high']/totalInformPop)*64));\n    d3.select('#inform1val-medium tspan').text(parse((informDataPopulation['medium']/totalInformPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform1bar-medium').transition().duration(500).attr('width', (parse(informDataPopulation['medium']/totalInformPop)*64));\n    d3.select('#inform1val-low tspan').text(parse((informDataPopulation['low']/totalInformPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform1bar-low').transition().duration(500).attr('width', (parse(informDataPopulation['low']/totalInformPop)*64));\n    d3.select('#inform1val-no-score tspan').text(parse((informDataPopulation['no-score']/totalInformPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform1bar-no-score').transition().duration(500).attr('width', (parse(informDataPopulation['no-score']/totalInformPop)*64));\n\n    // row 2 percent of total vaccinations\n    d3.select('#hdi2val-very-high tspan').text(parse((hdiDataVaccines['very-high']/totalVaccines)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi2bar-very-high').transition().duration(500).attr('width', (parse(hdiDataVaccines['very-high']/totalVaccines)*70));\n    d3.select('#hdi2val-high tspan').text(parse((hdiDataVaccines['high']/totalVaccines)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi2bar-high').transition().duration(500).attr('width', (parse(hdiDataVaccines['high']/totalVaccines)*70));\n    d3.select('#hdi2val-medium tspan').text(parse((hdiDataVaccines['medium']/totalVaccines)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi2bar-medium').transition().duration(500).attr('width', (parse(hdiDataVaccines['medium']/totalVaccines)*70));\n    d3.select('#hdi2val-low tspan').text(parse((hdiDataVaccines['low']/totalVaccines)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi2bar-low').transition().duration(500).attr('width', (parse(hdiDataVaccines['low']/totalVaccines)*70));\n\n    d3.select('#inform2val-very-high tspan').text(parse((informDataVaccines['very-high']/totalVaccines)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform2bar-very-high').transition().duration(500).attr('width', (parse(informDataVaccines['very-high']/totalVaccines)*64));\n    d3.select('#inform2val-high tspan').text(parse((informDataVaccines['high']/totalVaccines)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform2bar-high').transition().duration(500).attr('width', (parse(informDataVaccines['high']/totalVaccines)*64));\n    d3.select('#inform2val-medium tspan').text(parse((informDataVaccines['medium']/totalVaccines)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform2bar-medium').transition().duration(500).attr('width', (parse(informDataVaccines['medium']/totalVaccines)*64));\n    d3.select('#inform2val-low tspan').text(parse((informDataVaccines['low']/totalVaccines)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform2bar-low').transition().duration(500).attr('width', (parse(informDataVaccines['low']/totalVaccines)*64));\n    d3.select('#inform2val-no-score tspan').text(parse((informDataVaccines['no-score']/totalVaccines)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform2bar-no-score').transition().duration(500).attr('width', (parse(informDataVaccines['no-score']/totalVaccines)*64));\n\n    // row 3 total doses by hdi/inform\n    var maxhdivac = d3.max([ hdiDataVaccines['low'],hdiDataVaccines['medium'],hdiDataVaccines['high'],hdiDataVaccines['very-high'] ]);\n    var maxinformvac = d3.max([ informDataVaccines['low'],informDataVaccines['medium'],informDataVaccines['high'],informDataVaccines['very-high'],informDataVaccines['no-score'] ]);\n\n    d3.select('#hdi3val-very-high tspan').text(nFormatter(hdiDataVaccines['very-high'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi3bar-very-high').transition().duration(500).attr('width', (parse(hdiDataVaccines['very-high']/maxhdivac)*70));\n    d3.select('#hdi3val-high tspan').text(nFormatter(hdiDataVaccines['high'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi3bar-high').transition().duration(500).attr('width', (parse(hdiDataVaccines['high']/maxhdivac)*70));\n    d3.select('#hdi3val-medium tspan').text(nFormatter(hdiDataVaccines['medium'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi3bar-medium').transition().duration(500).attr('width', (parse(hdiDataVaccines['medium']/maxhdivac)*70));\n    d3.select('#hdi3val-low tspan').text(nFormatter(hdiDataVaccines['low'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi3bar-low').transition().duration(500).attr('width', (parse(hdiDataVaccines['low']/maxhdivac)*70));\n\n    d3.select('#inform3val-very-high tspan').text(nFormatter(informDataVaccines['very-high'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform3bar-very-high').transition().duration(500).attr('width', (parse(informDataVaccines['very-high']/maxinformvac)*64));\n    d3.select('#inform3val-high tspan').text(nFormatter(informDataVaccines['high'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform3bar-high').transition().duration(500).attr('width', (parse(informDataVaccines['high']/maxinformvac)*64));\n    d3.select('#inform3val-medium tspan').text(nFormatter(informDataVaccines['medium'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform3bar-medium').transition().duration(500).attr('width', (parse(informDataVaccines['medium']/maxinformvac)*64));\n    d3.select('#inform3val-low tspan').text(nFormatter(informDataVaccines['low'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform3bar-low').transition().duration(500).attr('width', (parse(informDataVaccines['low']/maxinformvac)*64));\n    d3.select('#inform3val-no-score tspan').text(nFormatter(informDataVaccines['no-score'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform3bar-no-score').transition().duration(500).attr('width', (parse(informDataVaccines['no-score']/maxinformvac)*64));\n\n    // row 4 total vaccinations\n    d3.select('#hdi4val-very-high tspan').text(parse((hdiContactTracing['very-high']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi4bar-very-high').transition().duration(500).attr('width', (parse(hdiContactTracing['very-high']/numCountriesFiltered)*70));\n    d3.select('#hdi4val-high tspan').text(parse((hdiContactTracing['high']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi4bar-high').transition().duration(500).attr('width', (parse(hdiContactTracing['high']/numCountriesFiltered)*70));\n    d3.select('#hdi4val-medium tspan').text(parse((hdiContactTracing['medium']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi4bar-medium').transition().duration(500).attr('width', (parse(hdiContactTracing['medium']/numCountriesFiltered)*70));\n    d3.select('#hdi4val-low tspan').text(parse((hdiContactTracing['low']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi4bar-low').transition().duration(500).attr('width', (parse(hdiContactTracing['low']/numCountriesFiltered)*70));\n\n    d3.select('#inform4val-very-high tspan').text(parse((informContactTracing['very-high']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform4bar-very-high').transition().duration(500).attr('width', (parse(informContactTracing['very-high']/numCountriesFiltered)*64));\n    d3.select('#inform4val-high tspan').text(parse((informContactTracing['high']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform4bar-high').transition().duration(500).attr('width', (parse(informContactTracing['high']/numCountriesFiltered)*64));\n    d3.select('#inform4val-medium tspan').text(parse((informContactTracing['medium']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform4bar-medium').transition().duration(500).attr('width', (parse(informContactTracing['medium']/numCountriesFiltered)*64));\n    d3.select('#inform4val-low tspan').text(parse((informContactTracing['low']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform4bar-low').transition().duration(500).attr('width', (parse(informContactTracing['low']/numCountriesFiltered)*64));\n    d3.select('#inform4val-no-score tspan').text(parse((informContactTracing['no-score']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform4bar-no-score').transition().duration(500).attr('width', (parse(informContactTracing['no-score']/numCountriesFiltered)*64));\n\n    // row 5 average testing\n    hdiTestingData['low'] = Math.round(d3.mean(hdiTestingData['low']))||0;\n    hdiTestingData['medium'] = Math.round(d3.mean(hdiTestingData['medium']))||0;\n    hdiTestingData['high'] = Math.round(d3.mean(hdiTestingData['high']))||0;\n    hdiTestingData['very-high'] = Math.round(d3.mean(hdiTestingData['very-high']))||0;\n    informTestingData['no-score'] = Math.round(d3.mean(informTestingData['no-score']))||0;\n    informTestingData['low'] = Math.round(d3.mean(informTestingData['low']))||0;\n    informTestingData['medium'] = Math.round(d3.mean(informTestingData['medium']))||0;\n    informTestingData['high'] = Math.round(d3.mean(informTestingData['high']))||0;\n    informTestingData['very-high'] = Math.round(d3.mean(informTestingData['very-high']))||0;\n\n    var maxhditest = d3.max([ hdiTestingData['low'],hdiTestingData['medium'],hdiTestingData['high'],hdiTestingData['very-high'] ]);\n    var maxinformtest = d3.max([ informTestingData['low'],informTestingData['medium'],informTestingData['high'],informTestingData['very-high'],informTestingData['no-score'] ]);\n\n    d3.select('#hdi5val-very-high tspan').text(addCommas(hdiTestingData['very-high'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi5bar-very-high').transition().duration(500).attr('width', (parse(hdiTestingData['very-high']/maxhditest)*70));\n    d3.select('#hdi5val-high tspan').text(addCommas(hdiTestingData['high'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi5bar-high').transition().duration(500).attr('width', (parse(hdiTestingData['high']/maxhditest)*70));\n    d3.select('#hdi5val-medium tspan').text(addCommas(hdiTestingData['medium'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi5bar-medium').transition().duration(500).attr('width', (parse(hdiTestingData['medium']/maxhditest)*70));\n    d3.select('#hdi5val-low tspan').text(addCommas(hdiTestingData['low'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi5bar-low').transition().duration(500).attr('width', (parse(hdiTestingData['low']/maxhditest)*70));\n\n    d3.select('#inform5val-very-high tspan').text(addCommas(informTestingData['very-high'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform5bar-very-high').transition().duration(500).attr('width', (parse(informTestingData['very-high']/maxinformtest)*64));\n    d3.select('#inform5val-high tspan').text(addCommas(informTestingData['high'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform5bar-high').transition().duration(500).attr('width', (parse(informTestingData['high']/maxinformtest)*64));\n    d3.select('#inform5val-medium tspan').text(addCommas(informTestingData['medium'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform5bar-medium').transition().duration(500).attr('width', (parse(informTestingData['medium']/maxinformtest)*64));\n    d3.select('#inform5val-low tspan').text(addCommas(informTestingData['low'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform5bar-low').transition().duration(500).attr('width', (parse(informTestingData['low']/maxinformtest)*64));\n    d3.select('#inform5val-no-score tspan').text(addCommas(informTestingData['no-score'])).style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform5bar-no-score').transition().duration(500).attr('width', (parse(informTestingData['no-score']/maxinformtest)*64));\n\n    // num countries filtered (table)\n    d3.select('#countries_filtered tspan').text(numCountriesFiltered+' countries filtered').style('text-anchor', 'end').attr('dx', '105');\n\n    d3.select('#total_new_cases tspan').text('-');\n    d3.select('#total_vac_100 tspan').text('-');\n    d3.select('#percent_acceptance tspan').text('-');\n  \n    d3.select('#total_cases tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalCases)(t))\n      };\n    })\n\n    d3.select('#total_new_cases tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalCases-newCases)(t))\n      };\n    })\n\n    d3.select('#total_deaths tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalDeaths)(t))\n      };\n    })\n\n    d3.select('#total_vaccines tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalVaccines)(t))\n      };\n    })\n\n    d3.select('#total_ns_countries tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return Math.round(d3.interpolate(0, numNsInvolvedCountres)(t))\n      };\n    })\n\n    d3.select('#num_vaccines tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return Math.round(d3.interpolate(0, data.vaccine_types.length)(t))\n      };\n    })\n\n    if(vaccinePer100ByCountry){\n      d3.select('#total_vac_100 tspan').transition().duration(500)\n      .textTween(function() {\n        return function(t) {\n          return (d3.interpolate(0, vaccinePer100ByCountry)(t).toFixed(1))\n        };\n      })\n    }\n\n\n    d3.select('#percent_acceptance tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return Math.round(d3.interpolate(0, vaccineAcceptancePercent)(t))+'%';\n      };\n    })\n\n\n  }\n\n  d3.select('#prev').style('cursor', 'pointer')\n  .attr('opacity', 0.5)\n  .on('click',function(){\n    if(options.page==1) return false;\n    options.page = options.page-1;\n    updateTable(data, options);\n  })\n\n\n  d3.select('#next').style('cursor', 'pointer').on('click',function(){\n    if(options.page==options.numPages) return false;\n    options.page = options.page+1;\n    updateTable(data, options);\n  })\n\n  async function updateTable(data, options){\n\n    var lastRecord = data.vaccines_data_cumulative.filter(d=>d.date.getTime()==options.maxVDate.getTime());\n    var vGroup = d3.flatGroup(lastRecord, d => d.iso_code);\n\n    data.equity_data.forEach(function(d,i){\n      var vaccine_acceptance_percent = (d.vaccine_acceptance_percent) || 0\n      if(!vGroup.some(item => item[0] === d.country_iso3)){\n        vGroup.push([d.country_iso3, [{\n          country_name: d.country_name,\n          country_code: d.country_iso2,\n          vaccine_acceptance_percent: vaccine_acceptance_percent\n        }]])\n      }\n      vGroup.forEach(function(dd,ii){\n        if(dd[0]==d.country_iso3){\n          dd[1][0].vaccine_acceptance_percent = vaccine_acceptance_percent;\n          dd[1][0].country_name = d.country_name;\n          dd[1][0].country_code = d.country_iso2;\n        }\n      })\n    })\n\n    var sortKey;\n    if(options.table_sort=='col0_sort') sortKey = 'country_name';\n    if(options.table_sort=='col1_sort') sortKey = 'total_vaccinations_per_hundred';\n    if(options.table_sort=='col2_sort') sortKey = 'people_vaccinated_per_hundred';\n    if(options.table_sort=='col3_sort') sortKey = 'people_fully_vaccinated_per_hundred';\n    if(options.table_sort=='col4_sort') sortKey = 'vaccine_acceptance_percent';\n    if(options.table_sort=='col5_sort') sortKey = 'total_vaccinations';\n\n    for(var x = 0; x<6; x++){\n      d3.select('#col'+x+'_sort_desc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort_asc').attr('opacity', 0);\n    }\n\n    d3.select('#'+options.table_sort+'_'+options.table_sort_direction)\n    .attr('opacity', 1);\n\n    if(sortKey=='country_name'){\n      if(options.table_sort_direction=='asc') {\n        vGroup.sort(function(b, a){\n          return a[1][0].country_name.localeCompare(b[1][0].country_name);\n        })\n      } else {\n        vGroup.sort(function(a, b){\n          return a[1][0].country_name.localeCompare(b[1][0].country_name);\n        })    \n      }\n\n    } else {\n      if(options.table_sort_direction=='desc') {\n        vGroup.sort(function(a,b){\n            return b[1][0][sortKey] - a[1][0][sortKey];\n        });\n      } else {\n        vGroup.sort(function(b,a){\n          return b[1][0][sortKey] - a[1][0][sortKey];\n        });\n      }\n    }\n\n    data.vGroup = vGroup;\n\n    data.vGroup.forEach(function(d,i){\n      data.equity_data.forEach(function(dd,ii){\n          if(d[0] == dd.country_iso3){\n              dd.people_fully_vaccinated_per_hundred = parseFloat(d[1][0].people_fully_vaccinated_per_hundred);\n              dd.people_vaccinated_per_hundred = parseFloat(d[1][0].people_vaccinated_per_hundred);\n              dd.total_vaccinations = parseFloat(d[1][0].total_vaccinations);\n              dd.total_vaccinations_per_hundred = parseFloat(d[1][0].total_vaccinations_per_hundred);\n          }\n      })\n  })\n\n\n    d3.selectAll('.tablerow').remove();\n    d3.selectAll('.col1bar').attr('opacity', 0);\n    d3.selectAll('.col2bar').attr('opacity', 0);\n    d3.selectAll('.col3bar').attr('opacity', 0);\n    d3.selectAll('.col4bar').attr('opacity', 0);\n    d3.selectAll('.colbg').attr('opacity', 0);\n    d3.selectAll('.table_country_name tspan').text('');\n\n    options.numPages = Math.ceil(vGroup.length/10);\n\n    d3.select('#next').attr('opacity', function(){\n      if(options.page==options.numPages) return 0.5;\n      return 1;\n    })\n\n    d3.select('#prev')\n    .attr('opacity', function(){\n      if(options.page==1) return 0.5;\n      return 1;\n    })\n\n    d3.select('#pagination_text').attr('text-anchor', 'end');\n    d3.select('#pagination_text tspan').attr('x', 40);\n    d3.select('#pagination_text tspan').text('Page '+options.page + ' of '+options.numPages)\n\n    var i = 0;\n    var delay = 10;\n    const timer = ms => new Promise(res => setTimeout(res, ms));\n\n    for(let k = ((options.page-1)*10); k < ((options.page)*10); k++){\n\n      var d = vGroup[k];\n      if(!vGroup[k]) {\n        d3.select('#col1bar'+i)\n        .attr('width', 0);\n        d3.select('#col2bar'+i)\n        .attr('width', 0)\n        d3.select('#col3bar'+i)\n        .attr('width', 0)\n        d3.select('#col4bar'+i)\n        .attr('width', 0)\n        continue;\n      }\n\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow table_country_name')\n      .text(function(){\n        var name;\n        if(d[1][0].country_name) { name = d[1][0].country_name; } else {\n          name = d[1][0].iso_code;\n        }\n        name = name.substring(0,17);\n        if(name.length==17)name=name+'.';\n        return name;\n      })\n      .attr('x', 0)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 1 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow table_country_name')\n      .text(function(){\n        var val = parseFloat(d[1][0].total_vaccinations_per_hundred).toFixed(1);\n        if((isNaN(val))||(val==0)){ return ''} else { return val }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 112)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 1 bar\n      d3.select('#col1bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(200)\n      .attr('width', function(){\n        var val = d[1][0].total_vaccinations_per_hundred;\n        if(d[1][0].total_vaccinations_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n\n      d3.select('#col1bg'+i)\n      .attr('opacity', 1);\n\n      // col 2 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = parseFloat(d[1][0].people_vaccinated_per_hundred).toFixed(1);\n        if((isNaN(val))||(val==0)){ return ''} else { return val+'%' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 223)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 2 bar\n      d3.select('#col2bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(200)\n      .attr('width', function(){\n        var val = d[1][0].people_vaccinated_per_hundred;\n        if(d[1][0].people_vaccinated_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n\n      d3.select('#col2bg'+i)\n      .attr('opacity', 1);\n\n      // col 3 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = parseFloat(d[1][0].people_fully_vaccinated_per_hundred).toFixed(1);\n        if((isNaN(val))||(val==0)){ return ''} else { return val+'%' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 335)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 3 bar\n      d3.select('#col3bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(200)\n      .attr('width', function(){\n        var val = d[1][0].people_fully_vaccinated_per_hundred;\n        if(d[1][0].people_fully_vaccinated_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n      \n      d3.select('#col3bg'+i)\n      .attr('opacity', 1);\n\n      // col 4 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = parseFloat(d[1][0].vaccine_acceptance_percent).toFixed(1);\n        if((isNaN(val))||(val==0)){ return ''} else { return val+'%' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 450)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 4 bar\n      d3.select('#col4bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(200)\n      .attr('width', function(){\n        var val = d[1][0].vaccine_acceptance_percent;\n        if(d[1][0].vaccine_acceptance_percent>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n      \n      d3.select('#col4bg'+i)\n      .attr('opacity', 1);\n\n\n      var dayFormat = d3.timeFormat(\"%b %d\");\n      // col 5 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = (d[1][0].total_vaccinations);\n        if((isNaN(val))||(val==0)){ return ''} else { return nFormatter(val) }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 572)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n      \n      // col 6 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = (d[1][0].lastDate);\n        if((val)){ return dayFormat(val)} else { return '' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 620)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n      \n      i++;\n      \n      await timer(15);\n    }\n\n  }\n\n  function createSelects(){\n     // region select\n      $('#regionSelect').select2({\n        data: [{\n          id: 'regions',\n          text: 'IFRC Regions',\n          children: regionOptions\n        },{\n          id: 'countries',\n          text: 'Countries',\n          children: countryOptions\n        }],\n        placeholder: '',\n        scrollAfterSelect: true,\n        renderTemplate: item => item.text || '\\u200B',\n        dropdownParent: $('#regionDrop'),\n        shouldFocusInput: function() {\n        return false;\n      },\n        templateResult: function(data) {\n        var $state = $('<span>' + data.text + '<span>');\n        return $state;\n      }\n      }).on('select2:unselecting', function() {\n          $(this).data('unselecting', true);\n      }).on('select2:opening', function(e) {\n          if ($(this).data('unselecting')) {\n              $(this).removeData('unselecting');\n              e.preventDefault();\n          }\n      });\n\n      $('#regionSelect').on('select2:select', function (e) {\n          var data = e.params.data;\n          filter([data.id]);\n      });\n\n      $('#regionSelect').on('select2:unselect', function (e) {\n        var data = e.params.data;\n        filter([data.id]);\n    });\n\n      // reset locations\n      d3.select('#reset_locations').style('cursor', 'pointer')\n      .on('click', function(){\n        filter('clear');\n      }); \n\n      // bubble map select color by\n      $('#colorSelect').select2({\n        scrollAfterSelect: true,\n        minimumResultsForSearch: -1,\n        renderTemplate: item => item.text || '\\u200B',\n        dropdownParent: $('#regionDrop'),\n        shouldFocusInput: function() {\n        return false;\n      },\n        templateResult: function(data) {\n        var $state = $('<span>' + data.text + '<span>');\n        return $state;\n      }\n      }).on('select2:select', function(e) {\n        var d = e.params.data;\n        options.bubble_chart_color_by = d.id;\n        updateBubblechart(data, options, filter);\n      });\n\n      // bubble map select y-axis\n      $('#ySelect').select2({\n        scrollAfterSelect: true,\n        minimumResultsForSearch: -1,\n        renderTemplate: item => item.text || '\\u200B',\n        dropdownParent: $('#regionDrop'),\n        shouldFocusInput: function() {\n        return false;\n      },\n        templateResult: function(data) {\n        var $state = $('<span>' + data.text + '<span>');\n        return $state;\n      }\n      }).on('select2:select', function(e) {\n        var d = e.params.data;\n        options.bubble_chart_y_axis = d.id;\n        updateBubblechart(data, options, filter);\n      });\n\n  }\n\n  function handleSelectLength(){\n    var values = $('#regionSelect').select2('data');\n    // handle height for many selections\n    var select2HeightRatio = $('#regionSelectContainer').width()/$('#regionSelectContainer').height();\n    if(select2HeightRatio<10){\n      $('.select2-selection__choice').hide();\n      $('.select2-search__field').attr('placeholder', values.length+' LOCATIONS SELECTED' ).css('width', '100%')\n    } else {\n      $('.select2-search__field').attr('placeholder', '' );\n      $('.select2-selection__choice').show();\n    }\n  }\n\n  useEffect(() => {\n    init();\n  }, [])\n\n\n  const selectStyle = {\n    control: (base, state) => ({\n      ...base,\n      border: '1px solid #D8D8D8',\n      boxShadow: 'none',\n      '&:hover': {\n          border: '1px solid #D8D8D8',\n      }\n  })\n  };\n\n  return (\n    <div>\n      <div id=\"loaderDiv\">\n        <div id=\"loaderText\">{loaderText}</div>\n        <div id=\"loaderBar\">\n          <div id=\"loaderProgress\" style={{width: progress*100+'%'}}></div>\n        </div>\n      </div>\n\n      <div id=\"regionSelectContainer\">\n        <select id=\"regionSelect\" className=\"js-example-responsive\" name=\"region[]\" multiple=\"multiple\"></select>\n        <div id=\"regionDrop\"></div>\n      </div>\n\n      <div id=\"bubbleSelectContainer\">\n        <div id=\"colorSelectContainer\">Color by&nbsp;&nbsp;\n        <select id=\"colorSelect\" className=\"js-example-responsive\" name=\"colorby[]\" defaultValue=\"hdi\">\n          <option value=\"region\">IFRC region</option>\n          <option value=\"hdi\">Human Development Index (HDI)</option>\n          <option value=\"inform-severity\">INFORM Severity Index</option>\n        </select>\n        <div id=\"colorDrop\"></div>\n        </div>\n        <div id=\"ySelectContainer\">\n          y-Axis&nbsp;&nbsp;\n        <select id=\"ySelect\" className=\"js-example-responsive\" name=\"yaxis[]\">\n          <option value=\"percent-vaccinated-at-least-1-dose\">% vaccinated at least 1 dose</option>\n          <option value=\"percent-fully-vaccinated\">% fully vaccinated</option>\n          <option value=\"percent-vaccine-acceptance\">% vaccine acceptance</option>\n        </select>\n        <div id=\"yDrop\"></div>\n        </div>\n      </div>\n\n\n    <div id=\"svg_container\" className=\"App\">\n\n    </div>\n    <div id=\"map_div_outer\">\n      <div id=\"map_div\">\n      </div>\n    </div>\n    \n    <div id=\"footer\">Data Sources - <a href=\"https://covid19.who.int/info/\" target=\"_blank\">WHO Daily cases and deaths by date, vaccination data</a>, <a href=\"https://github.com/owid/covid-19-data/tree/master/public/data/vaccinations\" target=\"_blank\">OWID vaccinations csv</a></div>\n\n    </div>\n  );\n}\n\nfunction parse(p){\n  if(isNaN(p)){\n    return 0\n  } else {\n    return p;\n  }\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}