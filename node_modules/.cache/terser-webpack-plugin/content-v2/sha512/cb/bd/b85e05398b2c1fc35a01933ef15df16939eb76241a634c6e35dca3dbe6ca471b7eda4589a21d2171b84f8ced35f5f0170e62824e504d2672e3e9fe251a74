{"code":"(this[\"webpackJsonpifrc-covid-dataviz\"]=this[\"webpackJsonpifrc-covid-dataviz\"]||[]).push([[0],{117:function(t,e,a){},120:function(t,e,a){},126:function(t,e,a){\"use strict\";a.r(e);var n=a(6),i=a.n(n),r=a(33),c=a.n(r),o=(a(117),a(5)),l=a.n(o),s=(a(21),a(34)),u=a(4),d=a(0);var _=function(t,e,a){},m=a(1),g=a.n(m),f={regions:{AP:\"#E02225\",AM:\"#C9C4C1\",EU:\"#771A13\",ME:\"#0A3248\",AF:\"#FCD204\"},blue:\"#1F558C\",red:\"#E02225\",green:\"#D8EF8B\",black:\"#595454\"};function h(t){for(var e=(t+=\"\").split(\".\"),a=e[0],n=e.length>1?\".\"+e[1]:\"\",i=/(\\d+)(\\d{3})/;i.test(a);)a=a.replace(i,\"$1,$2\");return a+n}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[{value:1,symbol:\"\"},{value:1e3,symbol:\"k\"},{value:1e6,symbol:\"M\"},{value:1e9,symbol:\"B\"},{value:1e12,symbol:\"T\"},{value:1e15,symbol:\"P\"},{value:1e18,symbol:\"E\"}],n=/\\.0+$|(\\.[0-9]*[1-9])0+$/,i=a.slice().reverse().find((function(e){return t>=e.value}));return i?(t/i.value).toFixed(e).replace(n,\"$1\")+i.symbol:\"0\"}var v,p,w,x,b,k,q,A,E,O,T,D,N,F,j,M,C=a(35),H=a(12),P=a.n(H),S=[\"AF\",\"ME\",\"AP\",\"EU\",\"AM\",\"OTH\"];function B(t,e){j=e.minDate,F=e.maxDate;var a=[];t.who_data.forEach((function(t,n){a[t[e.timeline_frequency+\"Total\"]]||(a[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.month_start),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_cases+=t.new_cases,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_deaths+=t.new_deaths,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_cases=0})),a.forEach((function(t,e){S.forEach((function(n,i){t.hasOwnProperty(n)||(t[n]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),e>0?(t[n].cumulative_cases=a[e][n].new_cases+a[e-1][n].cumulative_cases,t[n].cumulative_deaths=a[e][n].new_deaths+a[e-1][n].cumulative_deaths):(t[n].cumulative_cases=a[e][n].new_cases,t[n].cumulative_deaths=a[e][n].new_deaths)})),t.total_new_cases=t.AF.new_cases+t.AP.new_cases+t.AM.new_cases+t.EU.new_cases+t.ME.new_cases+t.OTH.new_cases,t.total_cumulative_cases=t.AF.cumulative_cases+t.AP.cumulative_cases+t.AM.cumulative_cases+t.EU.cumulative_cases+t.ME.cumulative_cases+t.OTH.cumulative_cases,t.total_new_deaths=t.AF.new_deaths+t.AP.new_deaths+t.AM.new_deaths+t.EU.new_deaths+t.ME.new_deaths+t.OTH.new_deaths,t.total_cumulative_deaths=t.AF.cumulative_deaths+t.AP.cumulative_deaths+t.AM.cumulative_deaths+t.EU.cumulative_deaths+t.ME.cumulative_deaths+t.OTH.cumulative_deaths,t.region=[],S.forEach((function(e,a){t.region.push({region:e,new_cases:t[e].new_cases,new_deaths:t[e].new_deaths,cumulative_cases:t[e].cumulative_cases,cumulative_deaths:t[e].cumulative_deaths})}))}));var n=[];if(\"cumulative\"!=e.timeline_type)t.vaccines_data=t.vaccines_data_daily,t.vaccines_data.forEach((function(t,a){n[t[e.timeline_frequency+\"Total\"]]||(n[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.month_start),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_vaccines:0}),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_vaccines+=t.daily_vaccinations})),n.forEach((function(t,e){S.forEach((function(e,a){t[e]||(t[e]={new_vaccines:0,cumulative_vaccines:0})})),t.total_new_vaccines=t.AF.new_vaccines+t.AP.new_vaccines+t.AM.new_vaccines+t.EU.new_vaccines+t.ME.new_vaccines+t.OTH.new_vaccines,t.region=[],S.forEach((function(e,a){t.region.push({region:e,new_vaccines:t[e].new_vaccines})}))}));else{if(t.vaccines_data=[],\"day\"===e.timeline_frequency&&(t.vaccines_data=P()(t.vaccines_data_cumulative)),\"week\"===e.timeline_frequency&&t.vaccines_data_cumulative.forEach((function(a,n){var i=g()(a.date).endOf(\"isoWeek\").startOf(\"day\").unix(),r=g()(a.date).startOf(\"day\").unix();r!=i&&r!=g()(e.maxVDate).startOf(\"day\").unix()||t.vaccines_data.push(a)})),\"month\"===e.timeline_frequency){var i=g()(e.maxVDate).startOf(\"day\").unix();t.vaccines_data_cumulative.forEach((function(a,n){var r=g()(a.date).endOf(\"month\").startOf(\"day\").unix(),c=g()(a.date).startOf(\"day\").unix();(c==r||g()(e.maxVDate).startOf(\"day\").unix()!=r&&c==i)&&t.vaccines_data.push(a)}))}t.vaccines_data.forEach((function(t,a){n[t[e.timeline_frequency+\"Total\"]]||(n[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.month_start),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={cumulative_vaccines:0}),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_vaccines+=t.total_vaccinations})),n.forEach((function(t,e){S.forEach((function(e,a){t[e]||(t[e]={cumulative_vaccines:0})})),t.total_cumulative_vaccines=t.AF.cumulative_vaccines+t.AP.cumulative_vaccines+t.AM.cumulative_vaccines+t.EU.cumulative_vaccines+t.ME.cumulative_vaccines+t.OTH.cumulative_vaccines,t.region=[],S.forEach((function(e,a){t.region.push({region:e,cumulative_vaccines:t[e].cumulative_vaccines})}))}))}n=n.filter((function(t){return t}));var r=d.f(t.who_data,(function(t,a){return t[e.timeline_frequency+\"Total\"]})),c=d.f(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_cases:\"cumulative\"===e.timeline_type?t.total_cumulative_cases:\"stacked\"===e.timeline_type?100:void 0})),o=d.f(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_deaths:\"cumulative\"===e.timeline_type?t.total_cumulative_deaths:\"stacked\"===e.timeline_type?100:void 0})),l=d.f(n,(function(t,a){if(t){if(\"non-cumulative\"===e.timeline_type)return t.total_new_vaccines;if(\"cumulative\"===e.timeline_type)return t.total_cumulative_vaccines;if(\"stacked\"===e.timeline_type)return 100}}));\"month\"===e.timeline_frequency&&(j=g()(j).startOf(\"month\").startOf(\"day\").toDate()),\"month\"===e.timeline_frequency&&(F=g()(F).endOf(\"month\").startOf(\"day\").toDate()),\"week\"===e.timeline_frequency&&(F=g()(F).endOf(\"isoWeek\").startOf(\"day\").toDate()),M=g()(F);var s=d.m(\"#timechart_svg\");s.selectAll(\"g\").remove(),d.n(\"#layout .yAxis\").remove(),d.n(\"#yAxis\").remove(),d.n(\"#layout .xAxis\").remove(),s.append(\"g\").append(\"rect\").attr(\"width\",\"100%\").attr(\"height\",\"100%\").attr(\"x\",0).attr(\"y\",0).attr(\"fill\",\"#FFF\").attr(\"opacity\",0);var u=2e3/r,_=.04;\"month\"===e.timeline_frequency&&(_=.03),\"day\"===e.timeline_frequency&&(_=0),O=d.l().range([0,2e3]).domain([j,M]),D=d.l().range([0,596]).domain([j,M]),v=d.j().range([0,140]).domain([0,c]),q=d.j().range([140,0]).domain([0,c]),p=d.j().range([0,140]).domain([0,o]),A=d.j().range([140,0]).domain([0,o]),w=d.j().range([0,140]).domain([0,l]),E=d.j().range([140,0]).domain([0,l]),T=d.a().scale(D).tickSize(2).tickPadding(3),x=d.b().scale(q).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)})),b=d.b().scale(A).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)})),k=d.b().scale(E).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)}));var m=d.m(\"#layout\").append(\"g\").attr(\"id\",\"yAxis\").attr(\"clip-path\",\"url(#mask)\"),h=(m.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"casesAxis\").attr(\"transform\",\"translate(620,363)\").call(x),m.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"deathsAxis\").attr(\"transform\",\"translate(620,534)\").call(b),m.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"VaccinesAxis\").attr(\"transform\",\"translate(620,707.5)\").call(k),m.append(\"g\").attr(\"id\",\"casesXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,504)\").call(T),m.append(\"g\").attr(\"id\",\"deathsXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,674)\").call(T),m.append(\"g\").attr(\"id\",\"vaccinesXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,848)\").call(T),m.append(\"g\").attr(\"id\",\"timelineXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,908)\").call(T),s.selectAll(\".bar_group\").data(a).enter().append(\"g\").attr(\"class\",\"bar_group\").attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+O(t.date)+\")\"})));h.selectAll(\".cases_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",(function(t,e){return\"timeBar cases_bar time_\"+t.region})).attr(\"x\",u*_).attr(\"y\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_cases-d.m(this.parentNode).datum().OTH.new_cases,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].cumulative_cases),\"non-cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_cases),\"stacked\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_cases);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-v(t.cumulative_cases)-v(i)),\"non-cumulative\"===e.timeline_type&&(c=140-v(t.new_cases)-v(i)),\"stacked\"===e.timeline_type&&(c=140-t.new_cases/n*140-i/n*140),c&&c>0?c:0})).attr(\"width\",u-u*_*2).attr(\"height\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_cases-d.m(this.parentNode).datum().OTH.new_cases,i=0;return\"cumulative\"===e.timeline_type&&(i=v(t.cumulative_cases)),\"non-cumulative\"===e.timeline_type&&(i=v(t.new_cases)),\"stacked\"===e.timeline_type&&(i=t.new_cases/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return f.regions[t.region]})),h.selectAll(\".deaths_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",(function(t,e){return\"timeBar deaths_bar time_\"+t.region})).attr(\"x\",u*_).attr(\"y\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_deaths-d.m(this.parentNode).datum().OTH.new_deaths,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].cumulative_deaths),\"non-cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_deaths),\"stacked\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_deaths);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-p(t.cumulative_deaths)-p(i)+170),\"non-cumulative\"===e.timeline_type&&(c=140-p(t.new_deaths)-p(i)+170),\"stacked\"===e.timeline_type&&(c=140-t.new_deaths/n*140-i/n*140+170),c&&c>0?c:0})).attr(\"width\",u-u*_*2).attr(\"height\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_deaths-d.m(this.parentNode).datum().OTH.new_deaths,i=0;return\"cumulative\"===e.timeline_type&&(i=p(t.cumulative_deaths)),\"non-cumulative\"===e.timeline_type&&(i=p(t.new_deaths)),\"stacked\"===e.timeline_type&&(i=t.new_deaths/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return f.regions[t.region]})),\"month\"===e.timeline_frequency&&h.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=d.m(this.parentNode).datum().date,a=d.q.offset(e,1);return(O(a)-O(e))*(1-_)})).attr(\"x\",(function(t){var e=d.m(this.parentNode).datum().date,a=d.q.offset(e,1);return(O(a)-O(e))*(_/2)}));var H=s.selectAll(\".vbar_group\").data(n).enter().append(\"g\").attr(\"class\",\"vbar_group\").attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+O(t.date)+\", 344)\"}));H.selectAll(\".vaccines_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",\"timeBar vaccines_bar\").attr(\"class\",(function(t,e){return\"timeBar vaccines_bar time_\"+t.region})).attr(\"x\",u*_).attr(\"y\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_vaccines-d.m(this.parentNode).datum().OTH.new_vaccines,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].cumulative_vaccines),\"non-cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_vaccines),\"stacked\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_vaccines);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-w(t.cumulative_vaccines)-w(i)),\"non-cumulative\"===e.timeline_type&&(c=140-w(t.new_vaccines)-w(i)),\"stacked\"===e.timeline_type&&(c=140-t.new_vaccines/n*140-i/n*140),c&&c>0?c:0})).attr(\"width\",u-u*_*2).attr(\"height\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_vaccines-d.m(this.parentNode).datum().OTH.new_vaccines,i=0;return\"cumulative\"===e.timeline_type&&(i=w(t.cumulative_vaccines)),\"non-cumulative\"===e.timeline_type&&(i=w(t.new_vaccines)),\"stacked\"===e.timeline_type&&(i=t.new_vaccines/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return f.regions[t.region]})),\"month\"===e.timeline_frequency&&H.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=d.m(this.parentNode).datum().date,a=d.q.offset(e,1);return(O(a)-O(e))*(1-_)})).attr(\"x\",(function(t){var e=d.m(this.parentNode).datum().date,a=d.q.offset(e,1);return(O(a)-O(e))*(_/2)})),\"month\"===e.timeline_frequency&&h.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=d.m(this.parentNode).datum().date,a=d.q.offset(e,1);return(O(a)-O(e))*(1-_)})).attr(\"x\",(function(t){var e=d.m(this.parentNode).datum().date,a=d.q.offset(e,1);return(O(a)-O(e))*(_/2)})),t.vgroupedData=n,t.groupedData=a;var B=t.timeline_data;N=d.l().range([25,619]).domain([j,M]),document.getElementById(\"svg\").appendChild(d.m(\"#timeline_tooltip\").node()),document.getElementById(\"svg\").appendChild(d.m(\"#event_tooltip\").node());var I=d.m(\"#timeline_tooltip\").attr(\"opacity\",0),z=d.m(\"#event_tooltip\").attr(\"opacity\",0),W=s.append(\"rect\").attr(\"id\",\"timechart_hover\").attr(\"width\",u).attr(\"x\",0).attr(\"y\",0).attr(\"opacity\",0).attr(\"height\",\"100%\").attr(\"fill\",\"rgb(221 221 221 / 40%)\");d.m(\"#timechart_svg\").on(\"mouseover\",(function(t){var a=d.i(t);W.attr(\"opacity\",1);var n=O.invert(a[0]);\"week\"==e.timeline_frequency&&(n=g()(n).startOf(\"isoWeek\")),\"day\"==e.timeline_frequency&&(n=g()(n).startOf(\"day\")),\"month\"==e.timeline_frequency&&(n=g()(n).startOf(\"month\")),a[1]<470?(I.attr(\"opacity\",1).attr(\"display\",\"inline\"),W.attr(\"height\",\"100%\")):a[1]>510?(z.attr(\"opacity\",1),W.attr(\"height\",\"90%\")):(z.attr(\"opacity\",0),I.attr(\"opacity\",0),W.attr(\"height\",\"100%\")),n.toDate().getTime()<j.getTime()&&(W.attr(\"opacity\",0),I.attr(\"opacity\",0)),d.m(\"#svg_container\").style(\"z-index\",10)})).on(\"mouseout\",(function(t){W.attr(\"opacity\",0),I.attr(\"opacity\",0).attr(\"display\",\"none\"),d.m(\"#svg_container\").style(\"z-index\",1),z.attr(\"opacity\",0).attr(\"transform\",\"translate(0,0)\"),d.n(\".event_marker path\").style(\"stroke\",\"grey\").attr(\"opacity\",.8)})).on(\"mousemove\",(function(a){var n=d.i(a),i=O.invert(n[0]),r=\"\";\"week\"==e.timeline_frequency&&(r=(i=g()(i).startOf(\"isoWeek\")).format(\"ll\"),d.m(\"#timeline_tooltip_date tspan\").text(r)),\"day\"==e.timeline_frequency&&(r=(i=g()(i).startOf(\"day\")).format(\"ll\"),d.m(\"#timeline_tooltip_date tspan\").text(r)),\"month\"==e.timeline_frequency&&(r=(i=g()(i).startOf(\"month\")).format(\"MMMM YYYY\"),d.m(\"#timeline_tooltip_date tspan\").text(r)),W.attr(\"x\",O(i.toDate()));var c=t.groupedData.filter((function(t,e){return g()(t.date).startOf(\"day\").unix()==i.startOf(\"day\").unix()})),o=t.vgroupedData.filter((function(t,e){return g()(t.date).startOf(\"day\").unix()==i.startOf(\"day\").unix()})),l=\"-\",s=\"-\",_=\"-\";if(\"cumulative\"==e.timeline_type?(c[0]&&(s=y(c[0].total_cumulative_cases,2)),c[0]&&(l=y(c[0].total_cumulative_deaths,2)),o[0]&&(_=y(o[0].total_cumulative_vaccines,2))):(c[0]&&(s=y(c[0].total_new_cases,2)),c[0]&&(l=y(c[0].total_new_deaths,2)),o[0]&&(_=y(o[0].total_new_vaccines,2))),d.m(\"#tooltip_cases tspan\").text(s).attr(\"text-anchor\",\"end\").attr(\"dx\",32),d.m(\"#tooltip_deaths tspan\").text(l).attr(\"text-anchor\",\"end\").attr(\"dx\",32),d.m(\"#tooltip_vaccines tspan\").text(_).attr(\"text-anchor\",\"end\").attr(\"dx\",32),i.toDate().getTime()<j.getTime()&&\"day\"==e.timeline_frequency&&(W.attr(\"opacity\",0),I.attr(\"opacity\",0)),\"month\"==e.timeline_frequency&&W.attr(\"width\",(function(){return O(g()(i).endOf(\"month\"))-O(g()(i).startOf(\"month\"))})),I.attr(\"transform\",(function(){return\"month\"==e.timeline_frequency?\"translate(\"+(N(i.toDate())+u/3.5)+\",\"+(n[1]+343)+\")\":\"translate(\"+(N(i.toDate())+18)+\",\"+(n[1]+343)+\")\"})),n[1]<470)I.attr(\"opacity\",1),W.attr(\"opacity\",1),W.attr(\"height\",\"100%\");else if(n[1]>510){z.attr(\"opacity\",1),W.attr(\"height\",\"90%\");var m=g()(O.invert(n[0])).startOf(\"day\");O.invert(n[0]);z.attr(\"transform\",(function(){return\"translate(\"+(N(m.toDate())+-3)+\",817)\"}));var f=B.filter((function(t,e){return g()(t.date).startOf(\"day\").unix()==m.unix()}));if(0==f.length&&(f=B.filter((function(t,e){return g()(t.date).startOf(\"day\").unix()<=g()(m).add(1,\"days\").unix()&&g()(t.date).startOf(\"day\").unix()>=g()(m).subtract(1,\"days\").unix()}))),f.length>0){d.m(\"#event-\"+g()(f[0].date).startOf(\"day\").unix()).select(\"path\").style(\"stroke\",\"#000\").attr(\"opacity\",1),r=g()(f[0].date).startOf(\"day\").format(\"ll\"),d.m(\"#event_tooltip_date tspan\").text(r);var h=Object(C.textwrap)().bounds({height:200,width:230}).method(\"tspans\");a=d.m(\"#event_tooltip_text\").text(f[0].description).attr(\"y\",18).attr(\"x\",6);d.m(\"#event_tooltip_text\").call(h),d.n(\"#event_tooltip_text tspan\").attr(\"dy\",\"1.3em\");var v=d.m(\"#event_tooltip_text\").node().getBBox();d.m(\"#event_tooltip_rect\").attr(\"width\",v.width+17).attr(\"height\",v.height+26);d.m(\"#event_tooltip_rect\").attr(\"height\");var p=0;v.height<20?p=19:v.height<30?p=9:v.height<40?p=0:(v.height<50||v.height<60)&&(p=-20);d.m(\"#event_tooltip_rect\").attr(\"y\");d.m(\"#event_tooltip_rect\").attr(\"y\",p),d.n(\"#event_tooltip_text\").attr(\"y\",(function(t,e){return parseInt(d.m(this).attr(\"y\"))+p})),d.n(\"#event_tooltip_date tspan\").attr(\"dy\",(function(t,e){return p})),z.attr(\"opacity\",1)}else d.n(\".event_marker path\").style(\"stroke\",\"grey\").attr(\"opacity\",.8),z.attr(\"opacity\",0)}else z.attr(\"opacity\",0),I.attr(\"opacity\",0),W.attr(\"opacity\",0),W.attr(\"height\",\"100%\");if(\"day\"==e.timeline_frequency&&i.toDate().getTime()<j.getTime())return W.attr(\"opacity\",0),I.attr(\"opacity\",0),!1})),B=B.filter((function(t){return t.date.length>0})),m.append(\"g\").selectAll(\".event_marker\").data(B).enter().append(\"g\").attr(\"class\",\"event_marker\").attr(\"id\",(function(t,e){return\"event-\"+g()(t.date).startOf(\"day\").unix()})).attr(\"transform\",(function(t){return\"translate(\"+N(new Date(t.date))+\", 893)\"})).append(\"path\").attr(\"d\",\"M0,-6L4,0 0,6 -4,0Z\").style(\"stroke\",\"grey\").attr(\"opacity\",.8).style(\"stroke-width\",3.5).style(\"fill\",\"white\")}function I(t,e){var a=[];t.who_data.forEach((function(t,n){a[t[e.timeline_frequency+\"Total\"]]||(a[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.month_start),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_cases+=t.new_cases,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_deaths+=t.new_deaths,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_cases=0})),a.forEach((function(t,e){S.forEach((function(n,i){t.hasOwnProperty(n)||(t[n]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),e>0?(t[n].cumulative_cases=a[e][n].new_cases+a[e-1][n].cumulative_cases,t[n].cumulative_deaths=a[e][n].new_deaths+a[e-1][n].cumulative_deaths):(t[n].cumulative_cases=a[e][n].new_cases,t[n].cumulative_deaths=a[e][n].new_deaths)})),t.total_new_cases=t.AF.new_cases+t.AP.new_cases+t.AM.new_cases+t.EU.new_cases+t.ME.new_cases+t.OTH.new_cases,t.total_cumulative_cases=t.AF.cumulative_cases+t.AP.cumulative_cases+t.AM.cumulative_cases+t.EU.cumulative_cases+t.ME.cumulative_cases+t.OTH.cumulative_cases,t.total_new_deaths=t.AF.new_deaths+t.AP.new_deaths+t.AM.new_deaths+t.EU.new_deaths+t.ME.new_deaths+t.OTH.new_deaths,t.total_cumulative_deaths=t.AF.cumulative_deaths+t.AP.cumulative_deaths+t.AM.cumulative_deaths+t.EU.cumulative_deaths+t.ME.cumulative_deaths+t.OTH.cumulative_deaths,t.region=[],S.forEach((function(e,a){t.region.push({region:e,new_cases:t[e].new_cases,new_deaths:t[e].new_deaths,cumulative_cases:t[e].cumulative_cases,cumulative_deaths:t[e].cumulative_deaths})}))}));var n=[];if(\"cumulative\"!=e.timeline_type)t.vaccines_data=t.vaccines_data_daily,t.vaccines_data.forEach((function(t,a){n[t[e.timeline_frequency+\"Total\"]]||(n[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=g()(t.date).startOf(\"isoWeek\").toDate()),\"month\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=g()(t.date).startOf(\"month\").toDate()),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_vaccines:0}),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_vaccines+=t.daily_vaccinations})),n.forEach((function(t,e){S.forEach((function(e,a){t[e]||(t[e]={new_vaccines:0,cumulative_vaccines:0})})),t.total_new_vaccines=t.AF.new_vaccines+t.AP.new_vaccines+t.AM.new_vaccines+t.EU.new_vaccines+t.ME.new_vaccines+t.OTH.new_vaccines,t.region=[],S.forEach((function(e,a){t.region.push({region:e,new_vaccines:t[e].new_vaccines})}))}));else{if(t.vaccines_data=[],\"day\"===e.timeline_frequency&&(t.vaccines_data=P()(t.vaccines_data_cumulative)),\"week\"===e.timeline_frequency&&t.vaccines_data_cumulative.forEach((function(a,n){var i=g()(a.date).endOf(\"isoWeek\").startOf(\"day\").unix(),r=g()(a.date).startOf(\"day\").unix();r!=i&&r!=g()(e.maxVDate).startOf(\"day\").unix()||t.vaccines_data.push(a)})),\"month\"===e.timeline_frequency){var i=g()(e.maxVDate).startOf(\"day\").unix();t.vaccines_data_cumulative.forEach((function(a,n){var r=g()(a.date).endOf(\"month\").startOf(\"day\").unix(),c=g()(a.date).startOf(\"day\").unix();(c==r||g()(e.maxVDate).startOf(\"day\").unix()!=r&&c==i)&&t.vaccines_data.push(a)}))}t.vaccines_data.forEach((function(t,a){n[t[e.timeline_frequency+\"Total\"]]||(n[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=g()(t.date).startOf(\"isoWeek\").toDate()),\"month\"===e.timeline_frequency&&(n[t[e.timeline_frequency+\"Total\"]].date=g()(t.date).startOf(\"month\").toDate()),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={cumulative_vaccines:0}),n[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_vaccines+=t.total_vaccinations})),n.forEach((function(t,e){S.forEach((function(e,a){t[e]||(t[e]={cumulative_vaccines:0})})),t.total_cumulative_vaccines=t.AF.cumulative_vaccines+t.AP.cumulative_vaccines+t.AM.cumulative_vaccines+t.EU.cumulative_vaccines+t.ME.cumulative_vaccines+t.OTH.cumulative_vaccines,t.region=[],S.forEach((function(e,a){t.region.push({region:e,cumulative_vaccines:t[e].cumulative_vaccines})}))}))}n=n.filter((function(t){return t}));d.f(t.who_data,(function(t,a){return t[e.timeline_frequency+\"Total\"]}));var r=d.f(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_cases:\"cumulative\"===e.timeline_type?t.total_cumulative_cases:\"stacked\"===e.timeline_type?100:void 0})),c=d.f(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_deaths:\"cumulative\"===e.timeline_type?t.total_cumulative_deaths:\"stacked\"===e.timeline_type?100:void 0})),o=d.f(n,(function(t,a){if(t){if(\"non-cumulative\"===e.timeline_type)return t.total_new_vaccines;if(\"cumulative\"===e.timeline_type)return t.total_cumulative_vaccines;if(\"stacked\"===e.timeline_type)return 100}})),l=d.m(\"#timechart_svg\");e.timeline_frequency,e.timeline_frequency,O=d.l().range([0,2e3]).domain([j,M]),D=d.l().range([23,596]).domain([j,M]),v=d.j().range([0,140]).domain([0,r]),q=d.j().range([140,0]).domain([0,r]),p=d.j().range([0,140]).domain([0,c]),A=d.j().range([140,0]).domain([0,c]),w=d.j().range([0,140]).domain([0,o]),E=d.j().range([140,0]).domain([0,o]),x=d.b().scale(q).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)})),b=d.b().scale(A).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)})),k=d.b().scale(E).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)}));d.m(\"#casesAxis\").transition().duration(500).call(x),d.m(\"#deathsAxis\").transition().duration(500).call(b),d.m(\"#VaccinesAxis\").transition().duration(500).call(k);var s=l.selectAll(\".bar_group\").data(a).attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+O(t.date)+\")\"}));s.selectAll(\".cases_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_cases-d.m(this.parentNode).datum().OTH.new_cases,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].cumulative_cases),\"non-cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_cases),\"stacked\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_cases);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-v(t.cumulative_cases)-v(i)),\"non-cumulative\"===e.timeline_type&&(c=140-v(t.new_cases)-v(i)),\"stacked\"===e.timeline_type&&(c=140-t.new_cases/n*140-i/n*140),c&&c>0?c:0})).attr(\"height\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_cases-d.m(this.parentNode).datum().OTH.new_cases,i=0;return\"cumulative\"===e.timeline_type&&(i=v(t.cumulative_cases)),\"non-cumulative\"===e.timeline_type&&(i=v(t.new_cases)),\"stacked\"===e.timeline_type&&(i=t.new_cases/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return f.regions[t.region]})),s.selectAll(\".deaths_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_deaths-d.m(this.parentNode).datum().OTH.new_deaths,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].cumulative_deaths),\"non-cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_deaths),\"stacked\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_deaths);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-p(t.cumulative_deaths)-p(i)+170),\"non-cumulative\"===e.timeline_type&&(c=140-p(t.new_deaths)-p(i)+170),\"stacked\"===e.timeline_type&&(c=140-t.new_deaths/n*140-i/n*140+170),c&&c>0?c:0})).attr(\"height\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_deaths-d.m(this.parentNode).datum().OTH.new_deaths,i=0;return\"cumulative\"===e.timeline_type&&(i=p(t.cumulative_deaths)),\"non-cumulative\"===e.timeline_type&&(i=p(t.new_deaths)),\"stacked\"===e.timeline_type&&(i=t.new_deaths/n*140),i&&i>0?i:0})),0==a.length&&(d.n(\".cases_bar\").transition().duration(500).attr(\"y\",140).attr(\"height\",0),d.n(\".deaths_bar\").transition().duration(500).attr(\"y\",310).attr(\"height\",0)),l.selectAll(\".vbar_group\").data(n).attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+O(t.date)+\", 344)\"})).selectAll(\".vaccines_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_vaccines-d.m(this.parentNode).datum().OTH.new_vaccines,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].cumulative_vaccines),\"non-cumulative\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_vaccines),\"stacked\"===e.timeline_type&&(i+=d.m(this.parentNode).datum().region[r-1].new_vaccines);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-w(t.cumulative_vaccines)-w(i)),\"non-cumulative\"===e.timeline_type&&(c=140-w(t.new_vaccines)-w(i)),\"stacked\"===e.timeline_type&&(c=140-t.new_vaccines/n*140-i/n*140),c&&c>0?c:0})).attr(\"height\",(function(t,a){var n=d.m(this.parentNode).datum().total_new_vaccines-d.m(this.parentNode).datum().OTH.new_vaccines,i=0;return\"cumulative\"===e.timeline_type&&(i=w(t.cumulative_vaccines)),\"non-cumulative\"===e.timeline_type&&(i=w(t.new_vaccines)),\"stacked\"===e.timeline_type&&(i=t.new_vaccines/n*140),i&&i>0?i:0})),0==n.length&&d.n(\".vaccines_bar\").transition().duration(500).attr(\"y\",140).attr(\"height\",0),t.vgroupedData=n,t.groupedData=a}var z,W,Y,U,V,L,G,R,Z=[\"AF\",\"ME\",\"AP\",\"EU\",\"AM\",\"OTH\"],J=20,$=0,X=58,K=[];function Q(t,e,a){K=[];Z.forEach((function(t,e){K.push({region:t,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0})})),t.who_data.forEach((function(t,e){Z.forEach((function(e,a){e==t.ifrc_region&&(K[a].cumulative_cases+=t.new_cases,K[a].cumulative_deaths+=t.new_deaths)}))})),z=d.f(K,(function(t,e){return t.cumulative_cases})),W=d.f(K,(function(t,e){return t.cumulative_deaths}));var n=d.d(t.vaccines_data_cumulative,(function(t){return t.date}));n[n.length-1][1].forEach((function(t,e){Z.forEach((function(e,a){e==t.ifrc_region&&\"OTH\"!=e&&(K[a].cumulative_vaccines+=t.total_vaccinations)}))})),K.sort((function(t,a){return\"cases\"==e.region_chart_toggle?a.cumulative_cases-t.cumulative_cases:\"deaths\"==e.region_chart_toggle?a.cumulative_deaths-t.cumulative_deaths:\"vaccines\"==e.region_chart_toggle?a.cumulative_vaccines-t.cumulative_vaccines:void 0})),Y=d.f(K,(function(t,e){return t.cumulative_vaccines}));var i=d.m(\"#layout #region_chart_container\").attr(\"opacity\",0);R={x:i.attr(\"x\"),y:i.attr(\"y\"),width:i.attr(\"width\"),height:i.attr(\"height\")};var r=d.m(\"#layout\").append(\"g\").attr(\"transform\",\"translate(\"+R.x+\", \"+R.y+\")\").attr(\"id\",\"region_chart\"),c=R.height/(K.length-1),o=r.selectAll(\".bar-row\").data(K.filter((function(t){return\"OTH\"!==t.region}))).enter().append(\"g\").attr(\"class\",\"bar-row\").attr(\"transform\",(function(t,e){return\"translate(0,\"+(e*c+$)+\")\"}));e.cumulative_totals=K;var l=o.append(\"text\").attr(\"y\",c/2).attr(\"x\",J-5).attr(\"class\",(function(t,e){return\"bar-labels bar-label-\"+t.region})).style(\"alignment-baseline\",\"middle\").style(\"font-size\",\"11px\").attr(\"opacity\",1).attr(\"fill\",\"#000\").text((function(t,e){return\"AM\"===t.region?\"Americas\":\"EU\"===t.region?\"Europe\":\"AF\"===t.region?\"Africa\":\"ME\"===t.region?\"Middle East and North Africa\":\"AP\"===t.region?\"Asia-Pacific\":void 0})).style(\"text-anchor\",\"end\");G=o.node().getBBox().width+J,l.attr(\"x\",G+89),G+=94,d.n(\".timeBar\").attr(\"opacity\",1);o.append(\"rect\").attr(\"y\",0).attr(\"x\",0).attr(\"width\",G).attr(\"height\",c-2).style(\"opacity\",0).attr(\"fill\",\"grey\").style(\"cursor\",\"pointer\").attr(\"class\",(function(t,e){return\"bar-bg-\"+t.region})).attr(\"data-id\",(function(t,e){return t.region})).on(\"mouseover\",(function(t){d.m(this).style(\"opacity\",.1)})).on(\"mouseout\",(function(){d.m(this).style(\"opacity\",0)})).on(\"click\",(function(t,e){var n=d.m(this).attr(\"data-id\");a([n],\"regionchart\")}));U=d.j().range([0,R.width-X-G]).domain([0,z]),V=d.j().range([0,R.width-X-G]).domain([0,W]),L=d.j().range([G,R.width-X-G]).domain([0,Y]);o.append(\"rect\").attr(\"id\",(function(t,e){return\"bar-\"+t.region})).attr(\"data-id\",(function(t,e){return t.region})).attr(\"class\",\"region-bar\").attr(\"width\",(function(t,a){return\"cases\"==e.region_chart_toggle?U(t.cumulative_cases):\"deaths\"==e.region_chart_toggle?V(t.cumulative_deaths):\"vaccines\"==e.region_chart_toggle?V(t.cumulative_vaccines):void 0})).attr(\"x\",G).style(\"outline\",\"none\").style(\"cursor\",\"pointer\").attr(\"y\",.1*c-1).attr(\"height\",c-.1*c*2).style(\"fill\",(function(t){return f.regions[t.region]})).attr(\"opacity\",1).on(\"click\",(function(t,e){var n=d.m(this).attr(\"data-id\");a([n],\"regionchart\")})).on(\"mouseover\",(function(t){d.m(this.parentNode).datum()})).on(\"mouseout\",(function(){})),o.append(\"text\").text((function(t){return\"cases\"==e.region_chart_toggle?h(t.cumulative_cases):\"deaths\"==e.region_chart_toggle?h(t.cumulative_deaths):\"vaccines\"==e.region_chart_toggle?h(t.cumulative_vaccines):void 0})).attr(\"id\",(function(t,e){return\"data-label\"+t.region})).attr(\"data-id\",(function(t,e){return t.region})).attr(\"class\",\"data-label\").attr(\"y\",c/2).style(\"alignment-baseline\",\"middle\").style(\"text-anchor\",\"start\").attr(\"x\",(function(t,a){return\"cases\"==e.region_chart_toggle?U(t.cumulative_cases)+G+5:\"deaths\"==e.region_chart_toggle?V(t.cumulative_deaths)+G+5:\"vaccines\"==e.region_chart_toggle?L(t.cumulative_vaccines)+G+5:void 0})).attr(\"opacity\",(function(t,a){var n=0;return\"cases\"==e.region_chart_toggle&&(n=t.cumulative_cases),\"deaths\"==e.region_chart_toggle&&(n=t.cumulative_deaths),\"vaccines\"==e.region_chart_toggle&&(n=t.cumulative_vaccines),n>0?1:0})).style(\"fill\",\"#696969\").style(\"font-weight\",\"normal\").style(\"font-size\",\"10px\")}function tt(t,e){K=[],Z.forEach((function(t,e){K.push({region:t,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0})})),e.who_data.forEach((function(t,e){Z.forEach((function(e,a){e==t.ifrc_region&&(K[a].cumulative_cases+=t.new_cases,K[a].cumulative_deaths+=t.new_deaths,K[a].cumulative_vaccines=0)}))})),z=d.f(K,(function(t,e){return t.cumulative_cases})),W=d.f(K,(function(t,e){return t.cumulative_deaths}));var a=d.d(e.vaccines_data_cumulative,(function(t){return t.date})),n=a[a.length-1];n&&n[1].forEach((function(t,e){Z.forEach((function(e,a){e==t.ifrc_region&&(K[a].cumulative_vaccines+=t.total_vaccinations)}))})),K.sort((function(e,a){return\"cases\"==t.region_chart_toggle?a.cumulative_cases-e.cumulative_cases:\"deaths\"==t.region_chart_toggle?a.cumulative_deaths-e.cumulative_deaths:\"vaccines\"==t.region_chart_toggle?a.cumulative_vaccines-e.cumulative_vaccines:void 0})),t.cumulative_totals=K,Y=d.f(K,(function(t,e){return t.cumulative_vaccines})),U=d.j().range([0,R.width-X-G]).domain([0,z]),V=d.j().range([0,R.width-X-G]).domain([0,W]),L=d.j().range([0,R.width-X-G]).domain([0,Y]),0==Y&&0==z&&0==W?(d.n(\".region-bar\").transition().duration(500).attr(\"width\",0),d.n(\".data-label\").transition().duration(500).attr(\"x\",G).attr(\"opacity\",0)):(d.n(\".region-bar\").transition().duration(500).attr(\"width\",(function(e,a){var n=d.m(this).attr(\"data-id\");K.forEach((function(t,a){t.region==n&&(e=t)}));var i=0;return\"cases\"==t.region_chart_toggle&&(i=U(e.cumulative_cases)),\"deaths\"==t.region_chart_toggle&&(i=V(e.cumulative_deaths)),\"vaccines\"==t.region_chart_toggle&&(i=L(e.cumulative_vaccines)),isNaN(i)?0:parseFloat(i)})),d.n(\".data-label\").transition().duration(500).tween(\"text\",(function(e,a){var n=0,i=d.m(this).attr(\"data-id\");K.forEach((function(t,a){t.region==i&&(e=t)})),\"cases\"==t.region_chart_toggle&&(n=e.cumulative_cases),\"deaths\"==t.region_chart_toggle&&(n=e.cumulative_deaths),\"vaccines\"==t.region_chart_toggle&&(n=e.cumulative_vaccines);a=d.e(Math.floor(112346*Math.random()+92345),n);return function(t){d.m(this).text(h(Math.round(a(t))))}})).attr(\"x\",(function(e,a){var n=d.m(this).attr(\"data-id\");return K.forEach((function(t,a){t.region==n&&(e=t)})),\"cases\"==t.region_chart_toggle?U(e.cumulative_cases)+G+5:\"deaths\"==t.region_chart_toggle?V(e.cumulative_deaths)+G+5:\"vaccines\"==t.region_chart_toggle?L(e.cumulative_vaccines)+G+5:void 0})).attr(\"opacity\",(function(e,a){var n=d.m(this).attr(\"data-id\");K.forEach((function(t,a){t.region==n&&(e=t)}));var i=0;return\"cases\"==t.region_chart_toggle&&(i=e.cumulative_cases),\"deaths\"==t.region_chart_toggle&&(i=e.cumulative_deaths),\"vaccines\"==t.region_chart_toggle&&(i=e.cumulative_vaccines),i>0?1:0})))}var et=\"#595454\",at=\"#EAEAEA\",nt=\"#000\",it=\"#FFF\";var rt=function(t,e,a,n,i,r){d.m(\"#vaccine_tooltip\").attr(\"opacity\",0).style(\"display\",\"none\"),d.m(\"#vaccine_info path\").attr(\"fill\",f.black),t.select(\"#vaccine_info\").style(\"cursor\",\"pointer\").on(\"mouseover\",(function(t,e){d.m(\"#svg_container\").style(\"z-index\",10),d.m(\"#vaccine_tooltip\").style(\"display\",\"inline\").transition().duration(500).attr(\"opacity\",1),d.m(\"#vaccine_info path\").transition().duration(200).attr(\"fill\",f.blue)})).on(\"mouseout\",(function(t,e){d.m(\"#svg_container\").style(\"z-index\",1),d.m(\"#vaccine_tooltip\").style(\"display\",\"none\").attr(\"opacity\",0),d.m(\"#vaccine_info path\").transition().duration(500).attr(\"fill\",f.black)})),t.select(\"#region_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,a){e.region_filter=[],n(\"clear-region\")})),t.select(\"#region-chart-toggle #region-chart-toggle-cases\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"cases\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"cases\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",at),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",nt),t.select(\"#region-chart-toggle-cases rect\").attr(\"fill\",et),t.select(\"#region-chart-toggle-cases text\").attr(\"fill\",it),tt(e,a)})),t.select(\"#region-chart-toggle #region-chart-toggle-deaths\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"deaths\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"deaths\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",at),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",nt),t.select(\"#region-chart-toggle-deaths rect\").attr(\"fill\",et),t.select(\"#region-chart-toggle-deaths text\").attr(\"fill\",it),tt(e,a)})),t.select(\"#region-chart-toggle #region-chart-toggle-vaccines\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"vaccines\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"vaccines\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",at),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",nt),t.select(\"#region-chart-toggle-vaccines rect\").attr(\"fill\",et),t.select(\"#region-chart-toggle-vaccines text\").attr(\"fill\",it),tt(e,a)})),t.select(\"#map-toggle #map-toggle-bi-weekly-change\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"bi-weekly-change\"===e.map_toggle)return!1;e.map_toggle=\"bi-weekly-change\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",at),t.selectAll(\"#map-toggle text\").attr(\"fill\",nt),t.select(\"#map-toggle-bi-weekly-change rect\").attr(\"fill\",et),t.select(\"#map-toggle-bi-weekly-change text\").attr(\"fill\",it),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-cases\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"cases\"===e.map_toggle)return!1;e.map_toggle=\"cases\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",at),t.selectAll(\"#map-toggle text\").attr(\"fill\",nt),t.select(\"#map-toggle-cases rect\").attr(\"fill\",et),t.select(\"#map-toggle-cases text\").attr(\"fill\",it),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-deaths\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"deaths\"===e.map_toggle)return!1;e.map_toggle=\"deaths\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",at),t.selectAll(\"#map-toggle text\").attr(\"fill\",nt),t.select(\"#map-toggle-deaths rect\").attr(\"fill\",et),t.select(\"#map-toggle-deaths text\").attr(\"fill\",it),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-percent-fully-vaccinated\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"percent-fully-vaccinated\"===e.map_toggle)return!1;e.map_toggle=\"percent-fully-vaccinated\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",at),t.selectAll(\"#map-toggle text\").attr(\"fill\",nt),t.select(\"#map-toggle-percent-fully-vaccinated rect\").attr(\"fill\",et),t.select(\"#map-toggle-percent-fully-vaccinated text\").attr(\"fill\",it),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-percent-vaccine-acceptance\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"percent-vaccine-acceptance\"===e.map_toggle)return!1;e.map_toggle=\"percent-vaccine-acceptance\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",at),t.selectAll(\"#map-toggle text\").attr(\"fill\",nt),t.select(\"#map-toggle-percent-vaccine-acceptance rect\").attr(\"fill\",et),t.select(\"#map-toggle-percent-vaccine-acceptance text\").attr(\"fill\",it),r(a,e,700)})),t.select(\"#timechart-type-toggle #timechart-type-toggle-cumulative\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"cumulative\"===e.timeline_type)return!1;e.timeline_type=\"cumulative\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",at),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",nt),t.select(\"#timechart-type-toggle-cumulative rect\").attr(\"fill\",et),t.select(\"#timechart-type-toggle-cumulative polyline\").attr(\"stroke\",it),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",et),I(a,e)})),t.select(\"#timechart-type-toggle #timechart-type-toggle-non-cumulative\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"non-cumulative\"===e.timeline_type)return!1;e.timeline_type=\"non-cumulative\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",at),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",nt),t.select(\"#timechart-type-toggle-non-cumulative rect\").attr(\"fill\",et),t.select(\"#timechart-type-toggle-non-cumulative polyline\").attr(\"stroke\",it),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",et),I(a,e)})),t.select(\"#timechart-type-toggle #timechart-type-toggle-stacked\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"stacked\"===e.timeline_type)return!1;e.timeline_type=\"stacked\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",at),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",nt),t.select(\"#timechart-type-toggle-stacked rect\").attr(\"fill\",et),t.select(\"#timechart-type-toggle-stacked polyline\").attr(\"stroke\",it),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",it),I(a,e)})),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-day\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"day\"===e.timeline_frequency)return!1;e.timeline_frequency=\"day\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",at),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",nt),t.select(\"#timechart-frequency-toggle-day rect\").attr(\"fill\",et),t.select(\"#timechart-frequency-toggle-day text\").attr(\"fill\",it),t.select(\"#tooltip_frequency tspan\").attr(\"text-anchor\",\"end\").attr(\"dx\",20).text(\"DAY\"),B(a,e)})),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-week\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"week\"===e.timeline_frequency)return!1;e.timeline_frequency=\"week\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",at),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",nt),t.select(\"#timechart-frequency-toggle-week rect\").attr(\"fill\",et),t.select(\"#tooltip_frequency tspan\").attr(\"text-anchor\",\"end\").attr(\"dx\",20).text(\"WEEK\"),t.select(\"#timechart-frequency-toggle-week text\").attr(\"fill\",it),B(a,e)})),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-month\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"month\"===e.timeline_frequency)return!1;e.timeline_frequency=\"month\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",at),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",nt),t.select(\"#timechart-frequency-toggle-month rect\").attr(\"fill\",et),t.select(\"#tooltip_frequency tspan\").attr(\"text-anchor\",\"end\").attr(\"dx\",20).text(\"MONTH\"),t.select(\"#timechart-frequency-toggle-month text\").attr(\"fill\",it),B(a,e)})),t.select(\"#hdi_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,e){d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1),n(\"clear-hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-very-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){ct(e.hdi_filter,\"very-high\"),4===e.hdi_filter.length?(e.hdi_filter=[],d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){d.m(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){ct(e.hdi_filter,\"high\"),4===e.hdi_filter.length?(e.hdi_filter=[],d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){d.m(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-medium\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){ct(e.hdi_filter,\"medium\"),4===e.hdi_filter.length?(e.hdi_filter=[],d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){d.m(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-low\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){ct(e.hdi_filter,\"low\"),4===e.hdi_filter.length?(e.hdi_filter=[],d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&d.n(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){d.m(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#inform_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,e){d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1),n(\"clear-inform\")})),t.select(\"#inform-toggle #inform-toggle-no-score\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){ct(e.inform_filter,\"no-score\"),5===e.inform_filter.length?(e.inform_filter=[],d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){d.m(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-low\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){ct(e.inform_filter,\"low\"),5===e.inform_filter.length?(e.inform_filter=[],d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){d.m(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-medium\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){ct(e.inform_filter,\"medium\"),5===e.inform_filter.length?(e.inform_filter=[],d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){d.m(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){ct(e.inform_filter,\"high\"),5===e.inform_filter.length?(e.inform_filter=[],d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){d.m(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-very-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){ct(e.inform_filter,\"very-high\"),5===e.inform_filter.length?(e.inform_filter=[],d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&d.n(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){d.m(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),d.m(\"#additional-indicators-tab\").attr(\"opacity\",0),d.m(\"#vac-tab\").attr(\"opacity\",1),d.m(\"#bubblechart-tab\").attr(\"opacity\",0),t.select(\"#tabs #vaccination-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"vaccination-data\"===e.tab_toggle)return!1;e.tab_toggle=\"vaccination-data\",d.m(\"#additional-indicators-tab\").attr(\"opacity\",0),d.m(\"#vac-tab\").attr(\"opacity\",1),d.m(\"#bubblechart-tab\").attr(\"opacity\",0),t.selectAll(\"#tabs rect\").attr(\"fill\",at),t.selectAll(\"#tabs text\").attr(\"fill\",nt),t.select(\"#vaccination-tab rect\").attr(\"fill\",et),t.select(\"#vaccination-tab text\").attr(\"fill\",it),_(t,e,a)})),t.select(\"#tabs #indicators-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"indicators\"===e.tab_toggle)return!1;e.tab_toggle=\"indicators\",d.m(\"#additional-indicators-tab\").attr(\"opacity\",1),d.m(\"#vac-tab\").attr(\"opacity\",0),d.m(\"#bubblechart-tab\").attr(\"opacity\",0),t.selectAll(\"#tabs rect\").attr(\"fill\",at),t.selectAll(\"#tabs text\").attr(\"fill\",nt),t.select(\"#indicators-tab rect\").attr(\"fill\",et),t.select(\"#indicators-tab text\").attr(\"fill\",it),_(t,e,a)})),t.select(\"#tabs #bubble-chart-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"bubble-chartt\"===e.tab_toggle)return!1;e.tab_toggle=\"bubble-chart\",d.m(\"#additional-indicators-tab\").attr(\"opacity\",0),d.m(\"#vac-tab\").attr(\"opacity\",0),d.m(\"#bubblechart-tab\").attr(\"opacity\",1),t.selectAll(\"#tabs rect\").attr(\"fill\",at),t.selectAll(\"#tabs text\").attr(\"fill\",nt),t.select(\"#bubble-chart-tab rect\").attr(\"fill\",et),t.select(\"#bubble-chart-tab text\").attr(\"fill\",it),_(t,e,a)})),d.m(\"#svg defs\").append(\"clipPath\").attr(\"id\",\"mask\").append(\"rect\").attr(\"y\",340).attr(\"height\",590).attr(\"width\",660).attr(\"x\",3);var c=t.select(\"#timechart_container\").attr(\"opacity\",0),o={x:c.attr(\"x\"),y:c.attr(\"y\"),width:c.attr(\"width\"),height:c.attr(\"height\")},l=t.append(\"svg\").attr(\"id\",\"timechart_svg\").attr(\"viewBox\",\"0 0 2000 \"+o.height).attr(\"preserveAspectRatio\",\"none\").attr(\"x\",o.x).attr(\"y\",o.y).attr(\"width\",o.width).attr(\"height\",o.height),s=l.append(\"g\").attr(\"id\",\"layer1\");l.append(\"g\").attr(\"id\",\"layer0\"),s.append(\"rect\").attr(\"x\",0).attr(\"y\",0).attr(\"width\",\"100%\").attr(\"height\",\"100%\").attr(\"opacity\",0).style(\"fill\",\"transparent\");for(var u=function(t){for(d.m(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col1bg colbg\").attr(\"id\",\"col1bg\"+t).attr(\"x\",120).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",\"#D8D8D8\"),d.m(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col1bar\").attr(\"id\",\"col1bar\"+t).attr(\"x\",120).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",f.blue),d.m(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col2bg colbg\").attr(\"id\",\"col2bg\"+t).attr(\"x\",230).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",\"#D8D8D8\"),d.m(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col2bar\").attr(\"id\",\"col2bar\"+t).attr(\"x\",230).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",f.blue),d.m(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col3bg colbg\").attr(\"id\",\"col3bg\"+t).attr(\"x\",340).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",\"#D8D8D8\"),d.m(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col3bar\").attr(\"id\",\"col3bar\"+t).attr(\"x\",340).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",f.blue),d.m(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col4bg colbg\").attr(\"id\",\"col4bg\"+t).attr(\"x\",454).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",\"#D8D8D8\"),d.m(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col4bar\").attr(\"id\",\"col4bar\"+t).attr(\"x\",454).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",f.blue),g=0;g<6;g++)d.m(\"#col\"+g+\"_sort_desc\").attr(\"opacity\",0),d.m(\"#col\"+g+\"_sort_asc\").attr(\"opacity\",0),d.m(\"#col\"+g+\"_sort\").style(\"cursor\",\"pointer\").on(\"click\",(function(){var t=d.m(this).attr(\"id\");e.table_sort==t?\"desc\"==e.table_sort_direction?e.table_sort_direction=\"asc\":e.table_sort_direction=\"desc\":(e.table_sort=t,e.table_sort_direction=\"desc\"),i(a,e)}))},m=0;m<10;m++){var g;u(m)}};function ct(t,e){var a=t.indexOf(e);-1!==a?t.splice(a,1):t.push(e)}var ot={region_chart_toggle:\"cases\",region_filter:[],country_filter:[],hdi_filter:[],inform_filter:[],timeline_type:\"non-cumulative\",timeline_frequency:\"week\",map_toggle:\"cases\",tab_toggle:\"vaccination-data\",table_sort:\"col1_sort\",table_sort_direction:\"desc\",bubble_chart_color_by:\"hdi\",bubble_chart_y_axis:\"percent-vaccinated-at-least-1-dose\",maxDate:null,maxVDate:null},lt=a(13);var st,ut,dt=function(t,e){t.equity_data.forEach((function(e,a){e.vaccines_used=[],e.number_vaccine_types_used=0,e.vaccines_per_100=0,t.vaccines_who_data.forEach((function(t,a){e.country_iso3==t.ISO3&&(e.data_updated=g()(t.DATE_UPDATED).startOf(\"day\").toDate(),e.number_vaccine_types_used=t.NUMBER_VACCINES_TYPES_USED,e.vaccines_per_100=t.TOTAL_VACCINATIONS_PER100,e.vaccines_used=t.VACCINES_USED.split(\",\").map((function(t){return t.trim()})))}))}));var a=g()(new Date(Object(d.f)(t.who_data,(function(t){return t.Date_reported})))),n=g()(new Date(Object(d.h)(t.who_data,(function(t){return t.Date_reported}))));n=g()(\"2019-12-31\");var i=new Date(Object(d.h)(t.vaccines_data,(function(t){return t.date}))),r=new Date(Object(d.f)(t.vaccines_data,(function(t){return t.date})));r>a&&(a=r),e.maxDataDate=a,e.maxVDataDate=r,e.maxDate=g()(a).toDate(),e.maxVDate=g()(r).toDate(),e.minDate=g()(n).toDate();var c=-1,o=0,l=-1,s=-1,u=0,_=0;t.who_data.sort((function(t,e){return new Date(t.Date_reported)-new Date(e.Date_reported)}));var m=[],f=[];t.who_data.forEach((function(e,a){e.date=new Date(e.Date_reported),e.dayOfYear=g()(e.date).dayOfYear(),e.dayOfYear!==o&&c++,e.dayTotal=c,e.week=g()(e.date).isoWeek(),e.week!==s&&l++,e.weekTotal=l,e.month=e.date.getMonth(),e.month!==_&&u++,e.monthTotal=u,e.year=e.date.getFullYear(),e.week_start=new Date(g()(e.date).startOf(\"isoWeek\").toDate()),e.month_start=new Date(g()(e.date).startOf(\"month\").toDate()),e.new_cases=parseInt(e.New_cases),e.new_deaths=parseInt(e.New_deaths),e.cumulative_deaths=parseInt(e.Cumulative_deaths),e.cumulative_cases=parseInt(e.Cumulative_cases),e.country_code=e.Country_code,e.country_name=null,t.equity_data.forEach((function(t,a){t.country_iso2===e.Country_code&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name)})),void 0==e.ifrc_region&&(e.ifrc_region=\"OTH\"),m.includes(e.country_code)||(\"OTH\"==e.ifrc_region&&f.push([e.Country,e.country_code]),m.push(e.country_code)),delete e.Date_reported,delete e.Country,delete e.New_cases,delete e.New_deaths,delete e.Country_code,delete e.Cumulative_deaths,delete e.Cumulative_cases,delete e.WHO_region,o=e.dayOfYear,s=e.week,_=e.month})),c=-1,o=0,l=-1,s=-1,u=0,_=0,t.vaccines_data_cumulative=t.vaccines_data.filter((function(t,e){return 3===t.iso_code.length&&t.total_vaccinations>0}));var h=Object(d.d)(t.vaccines_data_cumulative,(function(t){return t.iso_code})),y=[];h.forEach((function(e,a){var n,c=new Date(i),o=new Date(r),l=[],s=[];s=[];t.equity_data.forEach((function(t,n){t.country_iso3===h[a][0]&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name,e.country_code=t.country_iso2)})),h[a].lastDate=new Date(Object(d.f)(h[a][1],(function(t,e){return t.date}))),h[a][1].forEach((function(t,e){l.push(new Date(t.date).getTime())})),h[a][1].forEach((function(t,e){t.total_vaccinations=parseInt(t.total_vaccinations);for(var a=c;a<=o;a.setDate(a.getDate()+1)){var n=a.getTime();l.includes(n)||s.push({date:new Date(a),total_vaccinations:null})}})),(n=h[a][1]).push.apply(n,Object(lt.a)(s)),h[a][1].sort((function(t,e){return new Date(t.date)-new Date(e.date)}));var u=0,_=0,m=0,g=0;h[a][1].forEach((function(t,e){var n;t.total_vaccinations?u=t.total_vaccinations:t.total_vaccinations=u,t.total_vaccinations_per_hundred?_=t.total_vaccinations_per_hundred:t.total_vaccinations_per_hundred=_,t.people_vaccinated_per_hundred?m=t.people_vaccinated_per_hundred:t.people_vaccinated_per_hundred=m,t.people_fully_vaccinated_per_hundred?g=t.people_fully_vaccinated_per_hundred:t.people_fully_vaccinated_per_hundred=g,n=null==h[a].country_name?h[a][0]:h[a].country_name,y.push({date:new Date(t.date),lastDate:h[a].lastDate,total_vaccinations_per_hundred:parseFloat(_),people_vaccinated_per_hundred:m,people_fully_vaccinated_per_hundred:g,iso_code:h[a][0],ifrc_region:h[a].ifrc_region,country_name:n,country_code:h[a].country_code,total_vaccinations:u})}))})),t.vaccines_data_cumulative=y,t.vaccines_data_cumulative.sort((function(t,e){return new Date(t.date)-new Date(e.date)})),t.vaccines_data_cumulative.forEach((function(t,e){void 0==t.ifrc_region&&(t.ifrc_region=\"OTH\"),t.dayOfYear=g()(t.date).dayOfYear(),t.dayOfYear!==o&&c++,t.dayTotal=c,t.week=g()(t.date).isoWeek(),t.week!==s&&l++,t.weekTotal=l,t.month=t.date.getMonth(),t.month!==_&&u++,t.monthTotal=u,t.year=t.date.getFullYear(),o=t.dayOfYear,s=t.week,_=t.month,t.week_start=new Date(g()(t.date).startOf(\"isoWeek\").toDate()),t.month_start=new Date(g()(t.date).startOf(\"month\").toDate())})),c=-1,o=0,l=-1,s=-1,u=0,_=0,t.vaccines_data_daily=t.vaccines_data.filter((function(t,e){return 3===t.iso_code.length&&t.daily_vaccinations>0})),h=Object(d.d)(t.vaccines_data_daily,(function(t){return t.iso_code})),y=[],h.forEach((function(e,a){var n,c=new Date(i),o=new Date(r),l=[],s=[];s=[];t.equity_data.forEach((function(t,n){t.country_iso3===h[a][0]&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name,e.country_code=t.country_iso2)})),h[a][1].forEach((function(t,e){l.push(new Date(t.date).getTime())})),h[a][1].forEach((function(t,e){t.daily_vaccinations=parseInt(t.daily_vaccinations);for(var a=c;a<=o;a.setDate(a.getDate()+1)){var n=a.getTime();l.includes(n)||s.push({date:new Date(a),daily_vaccinations:null})}})),(n=h[a][1]).push.apply(n,Object(lt.a)(s)),h[a][1].sort((function(t,e){return new Date(t.date)-new Date(e.date)}));var u=0;h[a][1].forEach((function(t,e){var n;t.daily_vaccinations?u=t.daily_vaccinations:t.daily_vaccinations=u,n=null==h[a].country_name?h[a][0]:h[a].country_name,y.push({date:new Date(t.date),iso_code:h[a][0],ifrc_region:h[a].ifrc_region,country_name:n,country_code:h[a].country_code,daily_vaccinations:u})}))})),t.vaccines_data_daily=y,t.vaccines_data_daily.sort((function(t,e){return new Date(t.date)-new Date(e.date)})),t.vaccines_data_daily.forEach((function(t,e){void 0==t.ifrc_region&&(t.ifrc_region=\"OTH\"),t.dayOfYear=g()(t.date).dayOfYear(),t.dayOfYear!==o&&c++,t.dayTotal=c,t.week=g()(t.date).isoWeek(),t.week!==s&&l++,t.weekTotal=l,t.month=t.date.getMonth(),t.month!==_&&u++,t.monthTotal=u,t.year=t.date.getFullYear(),o=t.dayOfYear,s=t.week,_=t.month,t.week_start=new Date(g()(t.date).startOf(\"isoWeek\").toDate()),t.month_start=new Date(g()(t.date).startOf(\"month\").toDate())})),t.equity_data.forEach((function(t,e){t.hdi_category.match(/very high/i)?t.hdi_category=\"very-high\":t.hdi_category.match(/high/i)?t.hdi_category=\"high\":t.hdi_category.match(/medium/i)?t.hdi_category=\"medium\":t.hdi_category.match(/low/i)&&(t.hdi_category=\"low\"),t.inform_severity.match(/very high/i)?t.inform_severity=\"very-high\":t.inform_severity.match(/high/i)?t.inform_severity=\"high\":t.inform_severity.match(/medium/i)?t.inform_severity=\"medium\":t.inform_severity.match(/low/i)?t.inform_severity=\"low\":t.inform_severity.match(/no/i)&&(t.inform_severity=\"no-score\")})),t.equity_data=t.equity_data.filter((function(t,e){return m.includes(t.country_iso2)})),t.original=P()(t)},_t=(a(120),a(2)),mt=a.n(_t),gt=(a(121),a(122),a(14)),ft=a.n(gt);a(123);ft.a.accessToken=\"pk.eyJ1IjoiZ28taWZyYyIsImEiOiJjams3b2ZhZWswMGFvM3hxeHp2ZHFhOTRrIn0._pqO9OQ2iNeDGrpopJNjpg\";function ht(t,e,a){(st=new ft.a.Map({container:\"map_div\",style:\"mapbox://styles/go-ifrc/ck9tz6f150ub11ip8j97wrsww\",center:[8,22],zoom:-.01})).setRenderWorldCopies(!1),st.addControl(new ft.a.NavigationControl);var n=st.getCanvasContainer(),i=d.m(n).append(\"svg\").attr(\"id\",\"mapoverlay\").attr(\"width\",\"100%\").attr(\"height\",\"24vw\").style(\"position\",\"absolute\").style(\"z-index\",2);ut=i.selectAll(\".country-map\").data(t.world).enter().append(\"circle\").attr(\"class\",\"country-map\").attr(\"id\",(function(t,e){return\"country-map-\"+t.iso2})).attr(\"r\",0);var r=d.f(t.country,(function(t,e){return t[1].cumulative_cases})),c=d.k().exponent(.5).domain([0,r]).range([0,15]);function o(){ut.attr(\"cx\",(function(t){return vt([t.lng,t.lat]).x})).attr(\"cy\",(function(t){return vt([t.lng,t.lat]).y}))}t.country.forEach((function(t,e){d.m(\"#country-\"+t[0]).attr(\"r\",c(t[1].cumulative_cases)).attr(\"data-name\",t[1].country)})),document.getElementById(\"mapoverlay\").appendChild(d.m(\"#map_tooltip\").node()),st.on(\"viewreset\",o),st.on(\"move\",o),st.on(\"moveend\",o),o(),yt(t,e)}function yt(t,e){var a=800;if(\"bi-weekly-change\"==e.map_toggle){var n=d.f(t.country,(function(t,e){return t[1].percent_change})),i=d.k().exponent(.5).domain([-1,0,1]).range([15,0,15]).clamp(!0);d.n(\".country-map\").transition(\"c\").duration(a/1.7).attr(\"r\",0),t.country.forEach((function(t,e){d.m(\"#country-map-\"+t[0]).transition(\"c\").duration(a).delay(10).attr(\"r\",i(t[1].percent_change)).style(\"stroke\",(function(){return\"#FFF\"})).style(\"fill\",(function(){return t[1].percent_change>0?f.red:f.blue}))}))}if(\"cases\"==e.map_toggle){n=d.f(t.country,(function(t,e){return t[1].cumulative_cases})),i=d.k().exponent(.5).domain([0,n]).range([0,15]);d.n(\".country-map\").transition(\"c\").duration(a/1.7).attr(\"r\",0),t.country.forEach((function(t,e){d.m(\"#country-map-\"+t[0]).transition(\"c\").duration(a).delay(10).attr(\"r\",i(t[1].cumulative_cases)).style(\"fill\",f.red).style(\"stroke\",\"#FFF\")}))}if(\"deaths\"==e.map_toggle){n=d.f(t.country,(function(t,e){return t[1].cumulative_deaths})),i=d.k().exponent(.5).domain([0,n]).range([0,15]);d.n(\".country-map\").transition(\"c\").duration(a/1.7).attr(\"r\",0),t.country.forEach((function(t,e){d.m(\"#country-map-\"+t[0]).transition(\"c\").duration(a).delay(10).attr(\"r\",i(t[1].cumulative_deaths)).style(\"fill\",f.red).style(\"stroke\",\"#FFF\")}))}if(\"percent-fully-vaccinated\"==e.map_toggle){n=d.f(t.vGroup,(function(t,e){return parseFloat(t[1][0].people_fully_vaccinated_per_hundred)/100})),i=d.k().exponent(.55).domain([0,1]).range([1,15]).clamp(!0);d.n(\".country-map\").transition(\"c\").duration(a/1.7).attr(\"r\",0),t.vGroup.forEach((function(t,e){var n=parseFloat(t[1][0].people_fully_vaccinated_per_hundred)/100;isNaN(n)&&(n=0),d.m(\"#country-map-\"+t[1][0].country_code).transition(\"c\").duration(a).delay(10).attr(\"r\",i(n)).style(\"stroke\",\"#FFF\").style(\"fill\",(function(){return f.blue}))}))}function r(){ut.attr(\"cx\",(function(t){return vt([t.lng,t.lat]).x})).attr(\"cy\",(function(t){return vt([t.lng,t.lat]).y}))}e.map_toggle,st.on(\"viewreset\",r),st.on(\"move\",r),st.on(\"moveend\",r),r();var c=d.m(\"#map_tooltip\").attr(\"opacity\",1).attr(\"transform\",\"translate(0,0)\").attr(\"display\",\"none\");d.n(\".country-map\").on(\"mousemove\",(function(a,n){var i,r=d.m(this).attr(\"id\").substr(12,2),o=t.equity_data.filter((function(t){return t.country_iso2==r}));if(o[0]&&(i=o[0].country_name),c.select(\"#map_tooltip_name tspan\").text(i),\"cases\"==e.map_toggle){if(0==(u=t.country.filter((function(t){return t[1].country_code==r}))[0]).length)return!1;c.select(\"#map_tooltip_val tspan\").text(h(u[1].cumulative_cases)+\" cases\")}if(\"deaths\"==e.map_toggle){if(0==(u=t.country.filter((function(t){return t[1].country_code==r}))[0]).length)return!1;c.select(\"#map_tooltip_val tspan\").text(h(u[1].cumulative_deaths)+\" deaths\")}if(\"bi-weekly-change\"==e.map_toggle){if(0==(u=t.country.filter((function(t){return t[1].country_code==r}))[0]).length)return!1;var l=(100*u[1].percent_change).toFixed(1),s=\"\";s=l>=0?\"% increase\":\"% decrease\",c.select(\"#map_tooltip_val tspan\").text(Math.abs(l)+s)}if(\"percent-fully-vaccinated\"==e.map_toggle){var u;if(!(u=t.vGroup.filter((function(t){return t[1][0].country_code==r}))[0][1])||0==u.length)return!1;c.select(\"#map_tooltip_val tspan\").text(parseFloat(u[0].people_fully_vaccinated_per_hundred).toFixed(1)+\"% fully vaccinated\")}d.m(\"#map_tooltip_bg\").attr(\"width\",0);var _=c.node().getBBox();d.m(\"#map_tooltip_bg\").attr(\"width\",parseFloat(_.width)+2);var m=window.innerWidth/1329;c.attr(\"display\",\"inline\").attr(\"transform\",\"translate(\"+vt([n.lng,n.lat]).x+\",\"+vt([n.lng,n.lat]).y+\")scale(\"+m+\")\");var g=c.node().getBBox();c.attr(\"transform\",\"translate(\"+(vt([n.lng,n.lat]).x+3)+\",\"+(vt([n.lng,n.lat]).y+2-g.height/2)+\")scale(\"+m+\")\")})).on(\"mouseout\",(function(t){if(\"tspan\"==t.toElement)return!1;c.attr(\"display\",\"none\")}))}function vt(t){return st.project(new ft.a.LngLat(t[0],t[1]))}var pt=a(3),wt=\"./data/equity_data.csv\",xt=\"./images/layout.svg\",bt=\"./data/who_global_cases.csv\",kt=\"./data/world_points.csv\",qt=\"./data/owid_vaccinations.csv\",At=\"./data/who-vaccination-data.csv\",Et=\"./data/timeline.csv\",Ot=\"./data/key_figures.csv\",Tt={},Dt=[{id:\"AM\",text:\"Americas\"},{id:\"EU\",text:\"Europe\"},{id:\"AP\",text:\"Asia-Pacific\"},{id:\"ME\",text:\"Middle East and North Africa\"},{id:\"AF\",text:\"Africa\"}],Nt=[];function Ft(t){return isNaN(t)?0:t}var jt=function(){var t=Object(n.useState)(0),e=Object(u.a)(t,2),a=e[0],i=e[1],r=Object(n.useState)(\"Loading SVG layout...\"),c=Object(u.a)(r,2),o=c[0],_=c[1];function m(){return(m=Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.r(xt).then((function(t){d.m(\"#svg_container\").node().append(d.m(t.documentElement).attr(\"width\",\"100%\").attr(\"height\",\"auto\").node());var e=d.m(\"#svg_container svg\");e.select(\"title\").remove(),e.attr(\"id\",\"svg\"),rt(e,ot,Tt,f,v,yt),i(.1),_(\"Loading equity data CSV...\"),d.c(wt).then((function(t){Tt.equity_data=t,t.forEach((function(t,e){Nt.push({text:t.country_name,id:\"Country-\"+t.country_iso2})})),p(),i(.1),_(\"Loading WHO data CSV...\"),d.c(qt).then((function(t){Tt.vaccines_data=t,i(.15),_(\"Loading OWID vaccines data...\"),d.c(At).then((function(t){Tt.vaccines_who_data=t,i(.3),_(\"Loading OWID vaccines data...\"),d.c(Et).then((function(t){Tt.timeline_data=t,i(.4),_(\"Loading Timeline data...\"),d.c(Ot).then((function(t){Tt.key_figures=t,i(.45),_(\"Loading key figures data...\"),d.c(bt).then((function(t){Tt.who_data=t,i(.8),_(\"Loading World Map...\"),d.c(kt).then((function(t){Tt.world=t,_(\"Loading complete.\"),i(1),dt(Tt,ot),g(),d.m(\"#loaderDiv\").transition().duration(1e3).style(\"opacity\",0).on(\"end\",(function(){return d.m(\"#loaderDiv\").remove()}))}))}))}))}))}))}))}))}));case 2:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function g(){B(Tt,ot),Q(Tt,ot,f),v(Tt,ot),h(Tt,ot),ht(Tt,ot)}function f(t,e){\"clear\"==t&&(ot.region_filter=[],ot.country_filter=[],d.m(\"#reset_locations\").attr(\"opacity\",0)),\"clear-region\"==t&&(ot.region_filter=[]),\"clear-hdi\"==t&&(ot.hdi_filter=[]),\"clear-inform\"==t&&(ot.inform_filter=[]),1==t.length&&2==t[0].length&&\"filter\"!=t&&(ot.region_filter.includes(t[0])?ot.region_filter=ot.region_filter.filter((function(e){return e!==t[0]})):ot.region_filter.push(t[0])),5==ot.region_filter.length&&(ot.region_filter=[]),ot.region_filter.length>0?(d.m(\"#region_remove_filter\").attr(\"opacity\",1),d.n(\".bar-labels\").attr(\"opacity\",.5),ot.region_filter.forEach((function(t,e){d.m(\".bar-label-\"+t).attr(\"opacity\",1)}))):(d.m(\"#region_remove_filter\").attr(\"opacity\",0),d.n(\".bar-labels\").attr(\"opacity\",1)),Tt.equity_data=Tt.original.equity_data;var a=[];ot.hdi_filter.length>0?(d.m(\"#hdi_remove_filter\").attr(\"opacity\",1),Tt.equity_data.forEach((function(t,e){ot.hdi_filter.includes(t.hdi_category)&&a.push(t.country_iso2)}))):d.m(\"#hdi_remove_filter\").attr(\"opacity\",0);var n=[];if(ot.inform_filter.length>0?(d.m(\"#inform_remove_filter\").attr(\"opacity\",1),Tt.equity_data.forEach((function(t,e){ot.inform_filter.includes(t.inform_severity)&&n.push(t.country_iso2)}))):d.m(\"#inform_remove_filter\").attr(\"opacity\",0),1==t.length&&t[0].length>2){var i=t[0].substring(8);ot.country_filter.includes(i)?ot.country_filter=ot.country_filter.filter((function(t){return t!==i})):ot.country_filter.push(i)}0==ot.region_filter.length&&0==ot.country_filter.length&&d.m(\"#reset_locations\").attr(\"opacity\",0);var r=[];ot.country_filter.forEach((function(t,e){r.push(\"Country-\"+t)})),ot.region_filter.length>0||ot.country_filter.length>0?d.m(\"#reset_locations\").attr(\"opacity\",1):d.m(\"#reset_locations\").attr(\"opacity\",0);var c=ot.region_filter.concat(r);mt()(\"#regionSelect\").val(c),mt()(\"#regionSelect\").trigger(\"change\"),Tt.who_data=Tt.original.who_data,n.length>0&&(Tt.who_data=Tt.who_data.filter((function(t,e){return n.includes(t.country_code)}))),(ot.region_filter.length>0||ot.country_filter.length>0||a.length>0)&&(Tt.who_data=Tt.who_data.filter((function(t,e){return a.length>0?ot.region_filter.length>0||ot.country_filter.length>0?(ot.region_filter.includes(t.ifrc_region)||ot.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):ot.region_filter.includes(t.ifrc_region)||ot.country_filter.includes(t.country_code)}))),Tt.vaccines_data_cumulative=Tt.original.vaccines_data_cumulative,n.length>0&&(Tt.vaccines_data_cumulative=Tt.vaccines_data_cumulative.filter((function(t,e){return n.includes(t.country_code)}))),(ot.region_filter.length>0||ot.country_filter.length>0||a.length>0)&&(Tt.vaccines_data_cumulative=Tt.vaccines_data_cumulative.filter((function(t,e){return a.length>0?ot.region_filter.length>0||ot.country_filter.length>0?(ot.region_filter.includes(t.ifrc_region)||ot.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):ot.region_filter.includes(t.ifrc_region)||ot.country_filter.includes(t.country_code)}))),Tt.vaccines_data_daily=Tt.original.vaccines_data_daily,n.length>0&&(Tt.vaccines_data_daily=Tt.vaccines_data_daily.filter((function(t,e){return n.includes(t.country_code)}))),(ot.region_filter.length>0||ot.country_filter.length>0||a.length>0)&&(Tt.vaccines_data_daily=Tt.vaccines_data_daily.filter((function(t,e){return a.length>0?ot.region_filter.length>0||ot.country_filter.length>0?(ot.region_filter.includes(t.ifrc_region)||ot.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):ot.region_filter.includes(t.ifrc_region)||ot.country_filter.includes(t.country_code)}))),n.length>0&&(Tt.equity_data=Tt.equity_data.filter((function(t,e){return n.includes(t.country_iso2)}))),(ot.region_filter.length>0||ot.country_filter.length>0||a.length>0)&&(Tt.equity_data=Tt.equity_data.filter((function(t,e){return a.length>0?ot.region_filter.length>0||ot.country_filter.length>0?(ot.region_filter.includes(t.ifrc_region)||ot.country_filter.includes(t.country_iso2))&&a.includes(t.country_iso2):a.includes(t.country_iso2):ot.region_filter.includes(t.ifrc_region)||ot.country_filter.includes(t.country_iso2)}))),function(){var t=mt()(\"#regionSelect\").select2(\"data\");mt()(\"#regionSelectContainer\").width()/mt()(\"#regionSelectContainer\").height()<10?(mt()(\".select2-selection__choice\").hide(),mt()(\".select2-search__field\").attr(\"placeholder\",t.length+\" LOCATIONS SELECTED\").css(\"width\",\"100%\")):(mt()(\".select2-search__field\").attr(\"placeholder\",\"\"),mt()(\".select2-selection__choice\").show())}(),tt(ot,Tt),v(Tt,ot),h(Tt,ot),I(Tt,ot),yt(Tt,ot)}function h(t,e){var a=d.o(e.cumulative_totals,(function(t){return t.cumulative_cases})),n=d.o(e.cumulative_totals,(function(t){return t.cumulative_deaths})),i=d.d(t.who_data,(function(t){return t.country_code})).length,r=d.d(t.who_data,(function(t){return t.country_code}));t.country=[],r.forEach((function(e,a){var n=e[1][e[1].length-28].cumulative_cases,i=e[1][e[1].length-14].cumulative_cases,r=e[1][e[1].length-7].cumulative_cases,c=e[1][e[1].length-1],o=parseFloat((c.cumulative_cases-i-(i-n))/n);isFinite(o)?c.percent_change=o:c.percent_change=0,t.country.push([e[0],c,i,n,r])}));var c={\"very-high\":0,high:0,medium:0,low:0},o={\"very-high\":0,high:0,medium:0,low:0},l={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},s={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0};t.vaccine_types=[];var u=[];a>0&&t.equity_data.forEach((function(e,a){e.vaccines_used.forEach((function(e){t.vaccine_types.includes(e)||t.vaccine_types.push(e)})),c[e.hdi_category]+=1,l[e.inform_severity]+=1,e.vaccines_per_100>0&&u.push([e.vaccines_per_100,e.population]);var n=r.filter((function(t){return t[0]==e.country_iso2}));if(n[0][1].length>0&&n[0]){var i=n[0][1][n[0][1].length-1];o[e.hdi_category]+=i.cumulative_cases,s[e.inform_severity]+=i.cumulative_cases}})),d.n(\".vaccine_type\").remove(),d.m(\"#vaccine_tooltip_bg\").attr(\"height\",1),t.vaccine_types.forEach((function(t,e){d.m(\"#vaccine_tooltip\").append(\"text\").attr(\"font-size\",9).attr(\"fill\",\"#000\").attr(\"class\",\"vaccine_type\").append(\"tspan\").text(t).attr(\"dx\",6).attr(\"dy\",1.3*e+1.8+\"em\")}));var _=d.m(\"#vaccine_tooltip\").node().getBBox();d.m(\"#vaccine_tooltip_bg\").attr(\"height\",_.height+6);var m=d.g(t.vGroup,(function(t){return t[1][0].total_vaccinations_per_hundred})),g=d.o(t.country,(function(t){return t[4]}));d.m(\"#hdi-percent-val-very-high tspan\").text(Ft(o[\"very-high\"]/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.m(\"#hdi-percent-bar-very-high\").transition().duration(500).attr(\"width\",70*Ft(o[\"very-high\"]/a)),d.m(\"#hdi-percent-val-high tspan\").text(Ft(o.high/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.m(\"#hdi-percent-bar-high\").transition().duration(500).attr(\"width\",70*Ft(o.high/a)),d.m(\"#hdi-percent-val-medium tspan\").text(Ft(o.medium/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.m(\"#hdi-percent-bar-medium\").transition().duration(500).attr(\"width\",70*Ft(o.medium/a)),d.m(\"#hdi-percent-val-low tspan\").text(Ft(o.low/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.m(\"#hdi-percent-bar-low\").transition().duration(500).attr(\"width\",70*Ft(o.low/a)),d.m(\"#inform-percent-val-very-high tspan\").text(Ft(s[\"very-high\"]/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.m(\"#inform-percent-bar-very-high\").transition().duration(500).attr(\"width\",64*Ft(s[\"very-high\"]/a)),d.m(\"#inform-percent-val-high tspan\").text(Ft(s.high/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.m(\"#inform-percent-bar-high\").transition().duration(500).attr(\"width\",64*Ft(s.high/a)),d.m(\"#inform-percent-val-medium tspan\").text(Ft(s.medium/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.m(\"#inform-percent-bar-medium\").transition().duration(500).attr(\"width\",64*Ft(s.medium/a)),d.m(\"#inform-percent-val-low tspan\").text(Ft(s.low/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.m(\"#inform-percent-bar-low\").transition().duration(500).attr(\"width\",64*Ft(s.low/a)),d.m(\"#inform-percent-val-no-score tspan\").text(Ft(s[\"no-score\"]/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),d.m(\"#inform-percent-bar-no-score\").transition().duration(500).attr(\"width\",64*Ft(s[\"no-score\"]/a)),d.m(\"#hdi-toggle-very-high-val tspan\").text(c[\"very-high\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),d.m(\"#hdi-toggle-high-val tspan\").text(c.high).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),d.m(\"#hdi-toggle-medium-val tspan\").text(c.medium).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),d.m(\"#hdi-toggle-low-val tspan\").text(c.low).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),d.m(\"#inform-toggle-very-high-val tspan\").text(l[\"very-high\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"6\"),d.m(\"#inform-toggle-high-val tspan\").text(l.high).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),d.m(\"#inform-toggle-medium-val tspan\").text(l.medium).style(\"text-anchor\",\"end\").attr(\"dx\",\"9\"),d.m(\"#inform-toggle-low-val tspan\").text(l.low).style(\"text-anchor\",\"end\").attr(\"dx\",\"7\"),d.m(\"#inform-toggle-no-score-val tspan\").text(l[\"no-score\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"13\"),d.m(\"#countries_filtered tspan\").text(i+\" countries filtered\").style(\"text-anchor\",\"end\").attr(\"dx\",\"105\"),d.m(\"#total_new_cases tspan\").text(\"-\"),d.m(\"#total_vac_100 tspan\").text(\"-\"),d.m(\"#percent_acceptance tspan\").text(\"-\"),d.m(\"#total_cases tspan\").transition().duration(500).textTween((function(){return function(t){return y(d.e(0,a)(t))}})),d.m(\"#total_new_cases tspan\").transition().duration(500).textTween((function(){return function(t){return y(d.e(0,a-g)(t))}})),d.m(\"#total_deaths tspan\").transition().duration(500).textTween((function(){return function(t){return y(d.e(0,n)(t))}})),d.m(\"#total_vaccines tspan\").transition().duration(500).textTween((function(){return function(t){return y(d.e(0,d.o(e.cumulative_totals,(function(t){return t.cumulative_vaccines})))(t))}})),d.m(\"#num_vaccines tspan\").transition().duration(500).textTween((function(){return function(e){return Math.round(d.e(0,t.vaccine_types.length)(e))}})),d.m(\"#total_vac_100 tspan\").transition().duration(500).textTween((function(){return function(t){return d.e(0,m)(t).toFixed(2)}}))}function v(t,e){var a,n=t.vaccines_data_cumulative.filter((function(t){return t.date.getTime()==e.maxVDate.getTime()})),i=d.d(n,(function(t){return t.iso_code}));t.equity_data.forEach((function(t,e){i.some((function(e){return e[0]===t.country_iso3}))||i.push([t.country_iso3,[{country_name:t.country_name}]])})),\"col0_sort\"==e.table_sort&&(a=\"country_name\"),\"col1_sort\"==e.table_sort&&(a=\"total_vaccinations_per_hundred\"),\"col2_sort\"==e.table_sort&&(a=\"people_vaccinated_per_hundred\"),\"col3_sort\"==e.table_sort&&(a=\"people_fully_vaccinated_per_hundred\"),\"col5_sort\"==e.table_sort&&(a=\"total_vaccinations\");for(var r=0;r<6;r++)d.m(\"#col\"+r+\"_sort_desc\").attr(\"opacity\",0),d.m(\"#col\"+r+\"_sort_asc\").attr(\"opacity\",0);d.m(\"#\"+e.table_sort+\"_\"+e.table_sort_direction).attr(\"opacity\",1),\"country_name\"==a?\"asc\"==e.table_sort_direction?i.sort((function(t,e){return e[1][0].country_name.localeCompare(t[1][0].country_name)})):i.sort((function(t,e){return t[1][0].country_name.localeCompare(e[1][0].country_name)})):\"desc\"==e.table_sort_direction?i.sort((function(t,e){return e[1][0][a]-t[1][0][a]})):i.sort((function(t,e){return t[1][0][a]-e[1][0][a]})),t.vGroup=i,d.n(\".tablerow\").remove(),d.n(\".col1bar\").attr(\"opacity\",0),d.n(\".col2bar\").attr(\"opacity\",0),d.n(\".col3bar\").attr(\"opacity\",0),d.n(\".colbg\").attr(\"opacity\",0);for(var c=function(t){if(l=i[t],!i[t])return d.m(\"#col1bar\"+t).attr(\"width\",0),d.m(\"#col2bar\"+t).attr(\"width\",0),d.m(\"#col3bar\"+t).attr(\"width\",0),\"continue\";d.m(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow table_country_name\").text((function(){var t;return 17==(t=(t=l[1][0].country_name?l[1][0].country_name:l[1][0].iso_code).substring(0,17)).length&&(t+=\".\"),t})).attr(\"x\",0).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.m(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow table_country_name\").text((function(){var t=parseFloat(l[1][0].total_vaccinations_per_hundred).toFixed(1);return isNaN(t)?\"\":t})).style(\"text-anchor\",\"end\").attr(\"x\",112).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.m(\"#col1bar\"+t).attr(\"opacity\",1).transition().duration(500).attr(\"width\",(function(){var t=l[1][0].total_vaccinations_per_hundred;return l[1][0].total_vaccinations_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),d.m(\"#col1bg\"+t).attr(\"opacity\",1),d.m(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=parseFloat(l[1][0].people_vaccinated_per_hundred).toFixed(1);return isNaN(t)?\"\":t+\"%\"})).style(\"text-anchor\",\"end\").attr(\"x\",223).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.m(\"#col2bar\"+t).attr(\"opacity\",1).transition().duration(500).attr(\"width\",(function(){var t=l[1][0].people_vaccinated_per_hundred;return l[1][0].people_vaccinated_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),d.m(\"#col2bg\"+t).attr(\"opacity\",1),d.m(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=parseFloat(l[1][0].people_fully_vaccinated_per_hundred).toFixed(1);return isNaN(t)?\"\":t+\"%\"})).style(\"text-anchor\",\"end\").attr(\"x\",335).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.m(\"#col3bar\"+t).attr(\"opacity\",1).transition().duration(500).attr(\"width\",(function(){var t=l[1][0].people_fully_vaccinated_per_hundred;return l[1][0].people_fully_vaccinated_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),d.m(\"#col3bg\"+t).attr(\"opacity\",1),d.m(\"#col4bar\"+t).attr(\"opacity\",1),d.m(\"#col4bg\"+t).attr(\"opacity\",1),s=d.p(\"%b %d\"),d.m(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=l[1][0].total_vaccinations;return isNaN(t)?\"\":y(t)})).style(\"text-anchor\",\"end\").attr(\"x\",572).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),d.m(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=l[1][0].lastDate;return t?s(t):\"\"})).style(\"text-anchor\",\"end\").attr(\"x\",620).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\")},o=0;o<10;o++){var l,s;c(o)}}function p(){mt()(\"#regionSelect\").select2({data:[{id:\"regions\",text:\"IFRC Regions\",children:Dt},{id:\"countries\",text:\"Countries\",children:Nt}],placeholder:\"\",scrollAfterSelect:!0,renderTemplate:function(t){return t.text||\"\\u200b\"},dropdownParent:mt()(\"#regionDrop\"),shouldFocusInput:function(){return!1},templateResult:function(t){return mt()(\"<span>\"+t.text+\"<span>\")}}).on(\"select2:unselecting\",(function(){mt()(this).data(\"unselecting\",!0)})).on(\"select2:opening\",(function(t){mt()(this).data(\"unselecting\")&&(mt()(this).removeData(\"unselecting\"),t.preventDefault())})),mt()(\"#regionSelect\").on(\"select2:select\",(function(t){f([t.params.data.id])})),mt()(\"#regionSelect\").on(\"select2:unselect\",(function(t){f([t.params.data.id])})),d.m(\"#reset_locations\").style(\"cursor\",\"pointer\").attr(\"opacity\",1).on(\"click\",(function(){f(\"clear\")}))}return Object(n.useEffect)((function(){!function(){m.apply(this,arguments)}()}),[]),Object(pt.jsxs)(\"div\",{children:[Object(pt.jsxs)(\"div\",{id:\"loaderDiv\",children:[Object(pt.jsx)(\"div\",{id:\"loaderText\",children:o}),Object(pt.jsx)(\"div\",{id:\"loaderBar\",children:Object(pt.jsx)(\"div\",{id:\"loaderProgress\",style:{width:100*a+\"%\"}})})]}),Object(pt.jsxs)(\"div\",{id:\"regionSelectContainer\",children:[Object(pt.jsx)(\"select\",{id:\"regionSelect\",className:\"js-example-responsive\",name:\"states[]\",multiple:\"multiple\"}),Object(pt.jsx)(\"div\",{id:\"regionDrop\"})]}),Object(pt.jsx)(\"div\",{id:\"svg_container\",className:\"App\"}),Object(pt.jsx)(\"div\",{id:\"map_div\"})]})},Mt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,127)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,c=e.getTTFB;a(t),n(t),i(t),r(t),c(t)}))};c.a.render(Object(pt.jsx)(i.a.StrictMode,{children:Object(pt.jsx)(jt,{})}),document.getElementById(\"root\")),Mt()}},[[126,1,2]]]);","name":"static/js/main.e1540b43.chunk.js","map":{"version":3,"sources":["static/js/main.e1540b43.chunk.js"],"names":["this","push","117","module","exports","__webpack_require__","120","126","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","d3_src","src_Update","svg","options","data","moment","moment_default","src_colors","regions","AP","AM","EU","ME","AF","blue","red","green","black","addCommas","nStr","x","split","x1","x2","length","rgx","test","replace","nFormatter","num","digits","arguments","undefined","lookup","value","symbol","rx","item","slice","reverse","find","toFixed","yScaleCases","yScaleDeaths","yScaleVaccines","yAxisCases","yAxisDeaths","yAxisVaccines","yScaleCasesAxis","yScaleDeathsAxis","yScaleVaccinesAxis","xScale","xAxis","xScaleAxis","xScaleEvents","Timechart_maxDate","Timechart_minDate","md","d3_textwrap","just_clone","just_clone_default","drawTimechart","minDate","maxDate","groupedData","who_data","forEach","d","i","timeline_frequency","date","week_start","month_start","ifrc_region","new_cases","new_deaths","cumulative_cases","cumulative_deaths","dd","ii","hasOwnProperty","total_new_cases","OTH","total_cumulative_cases","total_new_deaths","total_cumulative_deaths","region","vgroupedData","timeline_type","vaccines_data","vaccines_data_daily","new_vaccines","daily_vaccinations","cumulative_vaccines","total_new_vaccines","vaccines_data_cumulative","endOfWeekDate","endOf","startOf","unix","maxVDate","maxDateUnix","endOfMonthDate","total_vaccinations","total_cumulative_vaccines","filter","el","numIntervals","maxCases","maxDeaths","maxVaccines","toDate","selectAll","remove","append","attr","barWidth","barSpacing","range","domain","scale","tickSize","tickPadding","ticks","tickFormat","yAxisGroup","barGroups","call","enter","totalNewCases","parentNode","datum","dp","y","totalNewDeaths","next","offset","vbarGroups","totalNewVaccines","tData","timeline_data","document","getElementById","appendChild","node","timelineTooltip","eventTooltip","hoverBar","on","event","coords","xDate","invert","getTime","style","tooltipStr","format","text","groupedDataFiltered","vgroupedDataFiltered","deaths","cases","vaccines","events","add","subtract","select","wrap","Object","bounds","height","width","method","description","bbox","getBBox","ys","parseInt","Date","updateTimechart","transition","duration","Regionchart_maxCases","Regionchart_maxDeaths","maxVaccinations","xScaleCases","xScaleDeaths","xScaleVaccines","labelWidth","rcSize","Regionchart_regions","margin","Regionchart_groupedData","drawRegionchart","vGroup","sort","a","b","region_chart_toggle","regionChartContainer","rowHeight","rows","cumulative_totals","label","t","val","updateRegionchart","vacGrouped","id","isNaN","parseFloat","tween","end","Math","floor","random","round","selectedToggle","unselectedToggle","unselectedToggleText","selectedToggleText","src_Layout","updateTable","updateMap","bd","region_filter","map_toggle","toggle","hdi_filter","inform_filter","tab_toggle","timechartContainer","tcSize","timechartSvg","layer1","_loop","thisId","table_sort","table_sort_direction","collection","idx","indexOf","splice","Options","country_filter","bubble_chart_color_by","bubble_chart_y_axis","toConsumableArray","map","dots","src_ParseData","equity_data","vaccines_used","number_vaccine_types_used","vaccines_per_100","vaccines_who_data","country_iso3","ISO3","data_updated","DATE_UPDATED","NUMBER_VACCINES_TYPES_USED","TOTAL_VACCINATIONS_PER100","VACCINES_USED","trim","Date_reported","minDateVaccines","maxDateVaccines","maxDataDate","maxVDataDate","dayTotal","dayCheck","weekTotal","weekCheck","monthTotal","monthCheck","countryCodes","ccArray","dayOfYear","week","isoWeek","month","getMonth","year","getFullYear","New_cases","New_deaths","Cumulative_deaths","Cumulative_cases","country_code","Country_code","country_name","country_iso2","includes","Country","WHO_region","iso_code","vDataFlat","_vGroup$i$","minDt","maxDt","hasDays","newDays","lastDate","day","setDate","getDate","newDay","apply","totalVac","totalVac100","people_vaccinated_per_hundred","people_fully_vaccinated_per_hundred","countryName","total_vaccinations_per_hundred","_vGroup$i$2","hdi_category","match","inform_severity","original","jquery","jquery_default","mapbox_gl","mapbox_gl_default","accessToken","createMap","Map","container","center","zoom","setRenderWorldCopies","addControl","NavigationControl","getCanvasContainer","world","iso2","maxValue","country","rScale","exponent","render","project","lng","lat","Map_updateMap","percent_change","clamp","delay","peoplevaccinated","mapTooltip","substr","countryfiltered","str","abs","window","innerWidth","heightOffset","toElement","LngLat","jsx_runtime","equityDataUrl","layoutUrl","whoDataUrl","worldUrl","vaccinesDataUrl","vaccinesWhoDataUrl","timelineDataUrl","keyFiguresDataUrl","App_data","regionOptions","countryOptions","parse","p","src_App","_useState","_useState2","progress","setProgress","_useState3","_useState4","loaderText","setLoaderText","_init","mark","_callee","_context","prev","then","documentElement","createSelects","key_figures","createCharts","stop","updateTotals","e","hdi_countries","inform_countries","code","substring","countryIds","mergeFilter","concat","trigger","values","select2","hide","css","show","handleSelectLength","totalCases","totalDeaths","numCountriesFiltered","countries","cases4weeksAgo","cases2WeeksAgo","cases1WeeksAgo","casesLatest","percentChange","isFinite","hdiData","very-high","high","medium","low","hdiTotalCasesData","informData","no-score","informTotalCasesData","vaccine_types","vaccinesper100","ddd","population","dat","lastRecord","vtooltipbbox","avgVacPer100ByCountry","newCases","textTween","sortKey","some","localeCompare","name","dayFormat","children","placeholder","scrollAfterSelect","renderTemplate","dropdownParent","shouldFocusInput","templateResult","removeData","preventDefault","params","init","className","multiple","src_reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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"},"input":"(this[\"webpackJsonpifrc-covid-dataviz\"] = this[\"webpackJsonpifrc-covid-dataviz\"] || []).push([[0],{\n\n/***/ 117:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(33);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(117);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(5);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/d3/src/index.js + 200 modules\nvar d3_src = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/Update.js\nfunction Update(svg,options,data){}/* harmony default export */ var src_Update = (Update);\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(1);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ./src/colors.js\n// default options\nvar colors={regions:{'AP':'#E02225','AM':'#C9C4C1','EU':'#771A13','ME':'#0A3248','AF':'#FCD204'},blue:'#1F558C',red:'#E02225',green:'#D8EF8B',black:'#595454'};/* harmony default export */ var src_colors = (colors);\n// CONCATENATED MODULE: ./src/HelperFunctions.js\nfunction addCommas(nStr){nStr+='';var x=nStr.split('.');var x1=x[0];var x2=x.length>1?'.'+x[1]:'';var rgx=/(\\d+)(\\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1'+','+'$2');}return x1+x2;}function nFormatter(num){var digits=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var lookup=[{value:1,symbol:\"\"},{value:1e3,symbol:\"k\"},{value:1e6,symbol:\"M\"},{value:1e9,symbol:\"B\"},{value:1e12,symbol:\"T\"},{value:1e15,symbol:\"P\"},{value:1e18,symbol:\"E\"}];var rx=/\\.0+$|(\\.[0-9]*[1-9])0+$/;var item=lookup.slice().reverse().find(function(item){return num>=item.value;});return item?(num/item.value).toFixed(digits).replace(rx,\"$1\")+item.symbol:\"0\";}\n// EXTERNAL MODULE: ./node_modules/d3-textwrap/build/d3-textwrap.js\nvar d3_textwrap = __webpack_require__(35);\n\n// EXTERNAL MODULE: ./node_modules/just-clone/index.js\nvar just_clone = __webpack_require__(12);\nvar just_clone_default = /*#__PURE__*/__webpack_require__.n(just_clone);\n\n// CONCATENATED MODULE: ./src/Timechart.js\nvar yScaleCases;var yScaleDeaths;var yScaleVaccines;var yAxisCases;var yAxisDeaths;var yAxisVaccines;var yScaleCasesAxis;var yScaleDeathsAxis;var yScaleVaccinesAxis;var xScale;var xAxis;var xScaleAxis;var xScaleEvents;var Timechart_maxDate;var Timechart_minDate;var md;var regions=['AF','ME','AP','EU','AM','OTH'];function drawTimechart(data,options){Timechart_minDate=options.minDate;Timechart_maxDate=options.maxDate;var groupedData=[];data.who_data.forEach(function(d,i){if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')groupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')groupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')groupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases+=d.new_cases;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths+=d.new_deaths;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases=0;});// totals by date\ngroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d.hasOwnProperty(dd)){d[dd]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};}// if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\nif(i>0){d[dd].cumulative_cases=groupedData[i][dd].new_cases+groupedData[i-1][dd].cumulative_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths+groupedData[i-1][dd].cumulative_deaths;}else{d[dd].cumulative_cases=groupedData[i][dd].new_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths;}});d.total_new_cases=d.AF.new_cases+d.AP.new_cases+d.AM.new_cases+d.EU.new_cases+d.ME.new_cases+d.OTH.new_cases;d.total_cumulative_cases=d.AF.cumulative_cases+d.AP.cumulative_cases+d.AM.cumulative_cases+d.EU.cumulative_cases+d.ME.cumulative_cases+d.OTH.cumulative_cases;d.total_new_deaths=d.AF.new_deaths+d.AP.new_deaths+d.AM.new_deaths+d.EU.new_deaths+d.ME.new_deaths+d.OTH.new_deaths;d.total_cumulative_deaths=d.AF.cumulative_deaths+d.AP.cumulative_deaths+d.AM.cumulative_deaths+d.EU.cumulative_deaths+d.ME.cumulative_deaths+d.OTH.cumulative_deaths;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_cases':d[dd].new_cases,'new_deaths':d[dd].new_deaths,'cumulative_cases':d[dd].cumulative_cases,'cumulative_deaths':d[dd].cumulative_deaths});});});var vgroupedData=[];if(options.timeline_type!='cumulative'){// cumulative and stacked\ndata.vaccines_data=data.vaccines_data_daily;data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines+=d.daily_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={new_vaccines:0,cumulative_vaccines:0};}});d.total_new_vaccines=d.AF.new_vaccines+d.AP.new_vaccines+d.AM.new_vaccines+d.EU.new_vaccines+d.ME.new_vaccines+d.OTH.new_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_vaccines':d[dd].new_vaccines});});});}else{// cumulative only\ndata.vaccines_data=[];if(options.timeline_frequency==='day'){data.vaccines_data=just_clone_default()(data.vaccines_data_cumulative);}if(options.timeline_frequency==='week'){data.vaccines_data_cumulative.forEach(function(d,i){var endOfWeekDate=moment_default()(d.date).endOf('isoWeek').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfWeekDate||date==moment_default()(options.maxVDate).startOf('day').unix()){data.vaccines_data.push(d);}});}if(options.timeline_frequency==='month'){var maxDateUnix=moment_default()(options.maxVDate).startOf('day').unix();data.vaccines_data_cumulative.forEach(function(d,i){var endOfMonthDate=moment_default()(d.date).endOf('month').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfMonthDate||moment_default()(options.maxVDate).startOf('day').unix()!=endOfMonthDate&&date==maxDateUnix){data.vaccines_data.push(d);}});}data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={cumulative_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines+=d.total_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={cumulative_vaccines:0};}});d.total_cumulative_vaccines=d.AF.cumulative_vaccines+d.AP.cumulative_vaccines+d.AM.cumulative_vaccines+d.EU.cumulative_vaccines+d.ME.cumulative_vaccines+d.OTH.cumulative_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'cumulative_vaccines':d[dd].cumulative_vaccines});});});}vgroupedData=vgroupedData.filter(function(el){return el;});var numIntervals=d3_src[\"f\" /* max */](data.who_data,function(d,i){return d[options.timeline_frequency+'Total'];});var maxCases=d3_src[\"f\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_cases;if(options.timeline_type==='cumulative')return d.total_cumulative_cases;if(options.timeline_type==='stacked')return 100;});var maxDeaths=d3_src[\"f\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_deaths;if(options.timeline_type==='cumulative')return d.total_cumulative_deaths;if(options.timeline_type==='stacked')return 100;});var maxVaccines=d3_src[\"f\" /* max */](vgroupedData,function(d,i){if(d){if(options.timeline_type==='non-cumulative')return d.total_new_vaccines;if(options.timeline_type==='cumulative')return d.total_cumulative_vaccines;if(options.timeline_type==='stacked')return 100;}});// define date range\n// const minDate = groupedData[0].date;\n// const maxDate = groupedData[numIntervals].date;\n// const minDate = groupedData[0].date;\n// if(options.timeline_frequency==='month') md = md.add(1, 'months');\n// if(options.timeline_frequency==='week') md = md.add(1, 'weeks');\nif(options.timeline_frequency==='month')Timechart_minDate=moment_default()(Timechart_minDate).startOf('month').startOf('day').toDate();if(options.timeline_frequency==='month')Timechart_maxDate=moment_default()(Timechart_maxDate).endOf('month').startOf('day').toDate();if(options.timeline_frequency==='week')Timechart_maxDate=moment_default()(Timechart_maxDate).endOf('isoWeek').startOf('day').toDate();md=moment_default()(Timechart_maxDate);// if(options.timeline_frequency==='day') md = moment(md).add(1, 'days').toDate();\nvar svg=d3_src[\"m\" /* select */]('#timechart_svg');svg.selectAll('g').remove();d3_src[\"n\" /* selectAll */]('#layout .yAxis').remove();d3_src[\"n\" /* selectAll */]('#yAxis').remove();d3_src[\"n\" /* selectAll */]('#layout .xAxis').remove();//bg\nsvg.append('g').append('rect').attr('width','100%').attr('height','100%').attr('x',0).attr('y',0).attr('fill','#FFF').attr('opacity',0);var width=2000;var barWidth=width/numIntervals;var barSpacing=0.04;if(options.timeline_frequency==='month')barSpacing=0.03;if(options.timeline_frequency==='day')barSpacing=0;// define scales\nxScale=d3_src[\"l\" /* scaleTime */]().range([0,width]).domain([Timechart_minDate,md]);xScaleAxis=d3_src[\"l\" /* scaleTime */]().range([0,596]).domain([Timechart_minDate,md]);yScaleCases=d3_src[\"j\" /* scaleLinear */]().range([0,140]).domain([0,maxCases]);yScaleCasesAxis=d3_src[\"j\" /* scaleLinear */]().range([140,0]).domain([0,maxCases]);yScaleDeaths=d3_src[\"j\" /* scaleLinear */]().range([0,140]).domain([0,maxDeaths]);yScaleDeathsAxis=d3_src[\"j\" /* scaleLinear */]().range([140,0]).domain([0,maxDeaths]);yScaleVaccines=d3_src[\"j\" /* scaleLinear */]().range([0,140]).domain([0,maxVaccines]);yScaleVaccinesAxis=d3_src[\"j\" /* scaleLinear */]().range([140,0]).domain([0,maxVaccines]);// define axi\nxAxis=d3_src[\"a\" /* axisBottom */]().scale(xScaleAxis).tickSize(2).tickPadding(3);// if(options.timeline_frequency=='month')\n// xAxis.ticks(d3.timeMonth.every(3)).tickFormat(d3.timeFormat(\"%b %Y\"));\n// if(options.timeline_frequency=='week')\n// xAxis.ticks(d3.timeWeek.every(10)).tickFormat(d3.timeFormat(\"%d %b %Y\"));\nyAxisCases=d3_src[\"b\" /* axisRight */]().scale(yScaleCasesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisDeaths=d3_src[\"b\" /* axisRight */]().scale(yScaleDeathsAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisVaccines=d3_src[\"b\" /* axisRight */]().scale(yScaleVaccinesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});// y-axis cases\nvar yAxisGroup=d3_src[\"m\" /* select */]('#layout').append(\"g\").attr('id','yAxis').attr('clip-path','url(#mask)');var yAxisCasesText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"casesAxis\").attr('transform','translate(620,363)').call(yAxisCases);// y-axis deaths\nvar yAxisDeathsText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"deathsAxis\").attr('transform','translate(620,534)').call(yAxisDeaths);// y-axis vaccines\nvar yAxisVaccinesText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"VaccinesAxis\").attr('transform','translate(620,707.5)').call(yAxisVaccines);// x-axis cases\nvar xAxisCases=yAxisGroup.append('g').attr(\"id\",\"casesXAxis\").attr('class','xAxis').attr('transform','translate(24,504)').call(xAxis);var xAxisDeaths=yAxisGroup.append('g').attr(\"id\",\"deathsXAxis\").attr('class','xAxis').attr('transform','translate(24,674)').call(xAxis);var xAxisVaccines=yAxisGroup.append('g').attr(\"id\",\"vaccinesXAxis\").attr('class','xAxis').attr('transform','translate(24,848)').call(xAxis);var xAxisTimeline=yAxisGroup.append('g').attr(\"id\",\"timelineXAxis\").attr('class','xAxis').attr('transform','translate(24,908)').call(xAxis);// CASES\n// loop through groupedData and draw bars\nvar barGroups=svg.selectAll('.bar_group').data(groupedData).enter().append('g').attr('class','bar_group').attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+')';});// CASES\nbarGroups.selectAll('.cases_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class',function(d,i){return'timeBar cases_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewCases=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_cases;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].cumulative_cases;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_cases;if(options.timeline_type==='stacked')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_cases;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleCases(d.cumulative_cases)-yScaleCases(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleCases(d.new_cases)-yScaleCases(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_cases/totalNewCases)-140*(dp/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewCases=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_cases;var y=0;if(options.timeline_type==='cumulative')y=yScaleCases(d.cumulative_cases);if(options.timeline_type==='non-cumulative')y=yScaleCases(d.new_cases);if(options.timeline_type==='stacked')y=140*(d.new_cases/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});// DEATHS\nbarGroups.selectAll('.deaths_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class',function(d,i){return'timeBar deaths_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewDeaths=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_deaths;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].cumulative_deaths;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;if(options.timeline_type==='stacked')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleDeaths(d.cumulative_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='non-cumulative')y=140-yScaleDeaths(d.new_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='stacked')y=140-140*(d.new_deaths/totalNewDeaths)-140*(dp/totalNewDeaths)+170;if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewDeaths=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_deaths;var y=0;if(options.timeline_type==='cumulative')y=yScaleDeaths(d.cumulative_deaths);if(options.timeline_type==='non-cumulative')y=yScaleDeaths(d.new_deaths);if(options.timeline_type==='stacked')y=140*(d.new_deaths/totalNewDeaths);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});// bar size tweak for spacing\nif(options.timeline_frequency==='month'){barGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=d3_src[\"m\" /* select */](this.parentNode).datum().date;var next=d3_src[\"q\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=d3_src[\"m\" /* select */](this.parentNode).datum().date;var next=d3_src[\"q\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}// VACCINES\nvar vbarGroups=svg.selectAll('.vbar_group').data(vgroupedData).enter().append('g').attr('class','vbar_group').attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+', 344)';});vbarGroups.selectAll('.vaccines_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class','timeBar vaccines_bar').attr('class',function(d,i){return'timeBar vaccines_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewVaccines=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_vaccines;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].cumulative_vaccines;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;if(options.timeline_type==='stacked')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleVaccines(d.cumulative_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleVaccines(d.new_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_vaccines/totalNewVaccines)-140*(dp/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewVaccines=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_vaccines;var y=0;if(options.timeline_type==='cumulative')y=yScaleVaccines(d.cumulative_vaccines);if(options.timeline_type==='non-cumulative')y=yScaleVaccines(d.new_vaccines);if(options.timeline_type==='stacked')y=140*(d.new_vaccines/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});if(options.timeline_frequency==='month'){vbarGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=d3_src[\"m\" /* select */](this.parentNode).datum().date;var next=d3_src[\"q\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=d3_src[\"m\" /* select */](this.parentNode).datum().date;var next=d3_src[\"q\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}// bar size tweak for spacing\nif(options.timeline_frequency==='month'){barGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=d3_src[\"m\" /* select */](this.parentNode).datum().date;var next=d3_src[\"q\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=d3_src[\"m\" /* select */](this.parentNode).datum().date;var next=d3_src[\"q\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}data.vgroupedData=vgroupedData;data.groupedData=groupedData;// tooltips\n// events calendar timeline\nvar tData=data.timeline_data;xScaleEvents=d3_src[\"l\" /* scaleTime */]().range([25,619]).domain([Timechart_minDate,md]);// bring to front\ndocument.getElementById(\"svg\").appendChild(d3_src[\"m\" /* select */]('#timeline_tooltip').node());document.getElementById(\"svg\").appendChild(d3_src[\"m\" /* select */]('#event_tooltip').node());var timelineTooltip=d3_src[\"m\" /* select */]('#timeline_tooltip').attr('opacity',0);var eventTooltip=d3_src[\"m\" /* select */]('#event_tooltip').attr('opacity',0);// hover bar\nvar hoverBar=svg.append('rect').attr('id','timechart_hover').attr('width',barWidth).attr('x',0).attr('y',0).attr('opacity',0).attr('height','100%').attr('fill','rgb(221 221 221 / 40%)');d3_src[\"m\" /* select */]('#timechart_svg').on('mouseover',function(event){var coords=d3_src[\"i\" /* pointer */](event);hoverBar.attr('opacity',1);var xDate=xScale.invert(coords[0]);if(options.timeline_frequency=='week'){xDate=moment_default()(xDate).startOf('isoWeek');}if(options.timeline_frequency=='day'){xDate=moment_default()(xDate).startOf('day');}if(options.timeline_frequency=='month'){xDate=moment_default()(xDate).startOf('month');}if(coords[1]<470){timelineTooltip.attr('opacity',1).attr('display','inline');hoverBar.attr('height','100%');}else if(coords[1]>510){eventTooltip.attr('opacity',1);hoverBar.attr('height','90%');}else{eventTooltip.attr('opacity',0);timelineTooltip.attr('opacity',0);hoverBar.attr('height','100%');}if(xDate.toDate().getTime()<Timechart_minDate.getTime()){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0);}d3_src[\"m\" /* select */]('#svg_container').style('z-index',10);}).on('mouseout',function(event){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0).attr('display','none');// timelineTooltip.attr('opacity', 0).attr('transform', 'translate(0,0)');\nd3_src[\"m\" /* select */]('#svg_container').style('z-index',1);eventTooltip.attr('opacity',0).attr('transform','translate(0,0)');d3_src[\"n\" /* selectAll */]('.event_marker path').style('stroke','grey').attr('opacity',0.8);}).on('mousemove',function(event){var coords=d3_src[\"i\" /* pointer */](event);var xDate=xScale.invert(coords[0]);var tooltipStr='';if(options.timeline_frequency=='week'){xDate=moment_default()(xDate).startOf('isoWeek');tooltipStr=xDate.format('ll');d3_src[\"m\" /* select */]('#timeline_tooltip_date tspan').text(tooltipStr);}if(options.timeline_frequency=='day'){xDate=moment_default()(xDate).startOf('day');tooltipStr=xDate.format('ll');d3_src[\"m\" /* select */]('#timeline_tooltip_date tspan').text(tooltipStr);}if(options.timeline_frequency=='month'){xDate=moment_default()(xDate).startOf('month');tooltipStr=xDate.format('MMMM YYYY');d3_src[\"m\" /* select */]('#timeline_tooltip_date tspan').text(tooltipStr);}hoverBar.attr('x',xScale(xDate.toDate()));var groupedDataFiltered=data.groupedData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()==xDate.startOf('day').unix();});var vgroupedDataFiltered=data.vgroupedData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()==xDate.startOf('day').unix();});var deaths='-';var cases='-';var vaccines='-';if(options.timeline_type=='cumulative'){// cumulative\nif(groupedDataFiltered[0])cases=nFormatter(groupedDataFiltered[0].total_cumulative_cases,2);if(groupedDataFiltered[0])deaths=nFormatter(groupedDataFiltered[0].total_cumulative_deaths,2);if(vgroupedDataFiltered[0])vaccines=nFormatter(vgroupedDataFiltered[0].total_cumulative_vaccines,2);}else{// non-cumulative/stacked\nif(groupedDataFiltered[0])cases=nFormatter(groupedDataFiltered[0].total_new_cases,2);if(groupedDataFiltered[0])deaths=nFormatter(groupedDataFiltered[0].total_new_deaths,2);if(vgroupedDataFiltered[0])vaccines=nFormatter(vgroupedDataFiltered[0].total_new_vaccines,2);}d3_src[\"m\" /* select */]('#tooltip_cases tspan').text(cases).attr(\"text-anchor\",\"end\").attr('dx',32);d3_src[\"m\" /* select */]('#tooltip_deaths tspan').text(deaths).attr(\"text-anchor\",\"end\").attr('dx',32);d3_src[\"m\" /* select */]('#tooltip_vaccines tspan').text(vaccines).attr(\"text-anchor\",\"end\").attr('dx',32);// if((xDate.toDate().getTime()>options.maxDate.getTime())){\n//     hoverBar.attr('opacity', 0);\n// // } else \nif(xDate.toDate().getTime()<Timechart_minDate.getTime()&&options.timeline_frequency=='day'){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0);}if(options.timeline_frequency=='month'){hoverBar.attr('width',function(){return xScale(moment_default()(xDate).endOf('month'))-xScale(moment_default()(xDate).startOf('month'));});}timelineTooltip.attr('transform',function(){if(options.timeline_frequency=='month'){return'translate('+(xScaleEvents(xDate.toDate())+barWidth/3.5)+','+(coords[1]+343)+')';}return'translate('+(xScaleEvents(xDate.toDate())+18)+','+(coords[1]+343)+')';});if(coords[1]<470){timelineTooltip.attr('opacity',1);hoverBar.attr('opacity',1);hoverBar.attr('height','100%');}else if(coords[1]>510){eventTooltip.attr('opacity',1);hoverBar.attr('height','90%');var x=moment_default()(xScale.invert(coords[0])).startOf('day');var xx=xScale.invert(coords[0]);eventTooltip.attr('transform',function(){return'translate('+(xScaleEvents(x.toDate())+-3)+','+817+')';});var events=tData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()==x.unix();});// select nearest neighbor for ux purposes \nif(events.length==0){events=tData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()<=moment_default()(x).add(1,'days').unix()&&moment_default()(d.date).startOf('day').unix()>=moment_default()(x).subtract(1,'days').unix();});}if(events.length>0){d3_src[\"m\" /* select */]('#event-'+moment_default()(events[0].date).startOf('day').unix()).select('path').style('stroke','#000').attr('opacity',1);tooltipStr=moment_default()(events[0].date).startOf('day').format('ll');d3_src[\"m\" /* select */]('#event_tooltip_date tspan').text(tooltipStr);var wrap=Object(d3_textwrap[\"textwrap\"])().bounds({height:200,width:230}).method('tspans');var event=d3_src[\"m\" /* select */]('#event_tooltip_text').text(events[0].description).attr('y',18).attr('x',6);d3_src[\"m\" /* select */]('#event_tooltip_text').call(wrap);d3_src[\"n\" /* selectAll */]('#event_tooltip_text tspan').attr('dy','1.3em');var bbox=d3_src[\"m\" /* select */]('#event_tooltip_text').node().getBBox();d3_src[\"m\" /* select */]('#event_tooltip_rect').attr('width',bbox.width+17).attr('height',bbox.height+26);var h=d3_src[\"m\" /* select */]('#event_tooltip_rect').attr('height');var ys=0;if(bbox.height<20){ys=19;}else if(bbox.height<30){ys=9;}else if(bbox.height<40){ys=0;}else if(bbox.height<50){ys=-20;}else if(bbox.height<60){ys=-20;}var y=d3_src[\"m\" /* select */]('#event_tooltip_rect').attr('y');d3_src[\"m\" /* select */]('#event_tooltip_rect').attr('y',ys);d3_src[\"n\" /* selectAll */]('#event_tooltip_text').attr('y',function(d,i){return parseInt(d3_src[\"m\" /* select */](this).attr('y'))+ys;});d3_src[\"n\" /* selectAll */]('#event_tooltip_date tspan').attr('dy',function(d,i){return ys;});eventTooltip.attr('opacity',1);}else{d3_src[\"n\" /* selectAll */]('.event_marker path').style('stroke','grey').attr('opacity',0.8);eventTooltip.attr('opacity',0);}}else{eventTooltip.attr('opacity',0);timelineTooltip.attr('opacity',0);hoverBar.attr('opacity',0);hoverBar.attr('height','100%');}if(options.timeline_frequency=='day'&&xDate.toDate().getTime()<Timechart_minDate.getTime()){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0);return false;}});tData=tData.filter(function(d){return d.date.length>0;});yAxisGroup.append('g').selectAll('.event_marker').data(tData).enter().append('g').attr('class','event_marker').attr('id',function(d,i){return'event-'+moment_default()(d.date).startOf('day').unix();}).attr('transform',function(d){var x=xScaleEvents(new Date(d.date));return'translate('+x+', 893)';}).append('path').attr('d',\"M0,-6L4,0 0,6 -4,0Z\").style('stroke','grey').attr('opacity',0.8).style('stroke-width',3.5).style('fill','white');}function updateTimechart(data,options){var groupedData=[];data.who_data.forEach(function(d,i){if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')groupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')groupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')groupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases+=d.new_cases;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths+=d.new_deaths;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases=0;});// totals by date\ngroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d.hasOwnProperty(dd)){d[dd]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};}// if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\nif(i>0){d[dd].cumulative_cases=groupedData[i][dd].new_cases+groupedData[i-1][dd].cumulative_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths+groupedData[i-1][dd].cumulative_deaths;}else{d[dd].cumulative_cases=groupedData[i][dd].new_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths;}});d.total_new_cases=d.AF.new_cases+d.AP.new_cases+d.AM.new_cases+d.EU.new_cases+d.ME.new_cases+d.OTH.new_cases;d.total_cumulative_cases=d.AF.cumulative_cases+d.AP.cumulative_cases+d.AM.cumulative_cases+d.EU.cumulative_cases+d.ME.cumulative_cases+d.OTH.cumulative_cases;d.total_new_deaths=d.AF.new_deaths+d.AP.new_deaths+d.AM.new_deaths+d.EU.new_deaths+d.ME.new_deaths+d.OTH.new_deaths;d.total_cumulative_deaths=d.AF.cumulative_deaths+d.AP.cumulative_deaths+d.AM.cumulative_deaths+d.EU.cumulative_deaths+d.ME.cumulative_deaths+d.OTH.cumulative_deaths;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_cases':d[dd].new_cases,'new_deaths':d[dd].new_deaths,'cumulative_cases':d[dd].cumulative_cases,'cumulative_deaths':d[dd].cumulative_deaths});});});var vgroupedData=[];if(options.timeline_type!='cumulative'){// cumulative and stacked\ndata.vaccines_data=data.vaccines_data_daily;data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('isoWeek').toDate();if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('month').toDate();if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines+=d.daily_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={new_vaccines:0,cumulative_vaccines:0};}});d.total_new_vaccines=d.AF.new_vaccines+d.AP.new_vaccines+d.AM.new_vaccines+d.EU.new_vaccines+d.ME.new_vaccines+d.OTH.new_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_vaccines':d[dd].new_vaccines});});});}else{// cumulative only\ndata.vaccines_data=[];if(options.timeline_frequency==='day'){data.vaccines_data=just_clone_default()(data.vaccines_data_cumulative);}if(options.timeline_frequency==='week'){data.vaccines_data_cumulative.forEach(function(d,i){var endOfWeekDate=moment_default()(d.date).endOf('isoWeek').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfWeekDate||date==moment_default()(options.maxVDate).startOf('day').unix()){data.vaccines_data.push(d);}});}if(options.timeline_frequency==='month'){var maxDateUnix=moment_default()(options.maxVDate).startOf('day').unix();data.vaccines_data_cumulative.forEach(function(d,i){var endOfMonthDate=moment_default()(d.date).endOf('month').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfMonthDate||moment_default()(options.maxVDate).startOf('day').unix()!=endOfMonthDate&&date==maxDateUnix){data.vaccines_data.push(d);}});}data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('isoWeek').toDate();if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('month').toDate();if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={cumulative_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines+=d.total_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={cumulative_vaccines:0};}});d.total_cumulative_vaccines=d.AF.cumulative_vaccines+d.AP.cumulative_vaccines+d.AM.cumulative_vaccines+d.EU.cumulative_vaccines+d.ME.cumulative_vaccines+d.OTH.cumulative_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'cumulative_vaccines':d[dd].cumulative_vaccines});});});}vgroupedData=vgroupedData.filter(function(el){return el;});var numIntervals=d3_src[\"f\" /* max */](data.who_data,function(d,i){return d[options.timeline_frequency+'Total'];});var maxCases=d3_src[\"f\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_cases;if(options.timeline_type==='cumulative')return d.total_cumulative_cases;if(options.timeline_type==='stacked')return 100;});var maxDeaths=d3_src[\"f\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_deaths;if(options.timeline_type==='cumulative')return d.total_cumulative_deaths;if(options.timeline_type==='stacked')return 100;});var maxVaccines=d3_src[\"f\" /* max */](vgroupedData,function(d,i){if(d){if(options.timeline_type==='non-cumulative')return d.total_new_vaccines;if(options.timeline_type==='cumulative')return d.total_cumulative_vaccines;if(options.timeline_type==='stacked')return 100;}});var svg=d3_src[\"m\" /* select */]('#timechart_svg');var width=2000;var barWidth=width/numIntervals;var barSpacing=0.04;if(options.timeline_frequency==='month')barSpacing=0.03;if(options.timeline_frequency==='day')barSpacing=0;// define scales\nxScale=d3_src[\"l\" /* scaleTime */]().range([0,width]).domain([Timechart_minDate,md]);xScaleAxis=d3_src[\"l\" /* scaleTime */]().range([23,596]).domain([Timechart_minDate,md]);yScaleCases=d3_src[\"j\" /* scaleLinear */]().range([0,140]).domain([0,maxCases]);yScaleCasesAxis=d3_src[\"j\" /* scaleLinear */]().range([140,0]).domain([0,maxCases]);yScaleDeaths=d3_src[\"j\" /* scaleLinear */]().range([0,140]).domain([0,maxDeaths]);yScaleDeathsAxis=d3_src[\"j\" /* scaleLinear */]().range([140,0]).domain([0,maxDeaths]);yScaleVaccines=d3_src[\"j\" /* scaleLinear */]().range([0,140]).domain([0,maxVaccines]);yScaleVaccinesAxis=d3_src[\"j\" /* scaleLinear */]().range([140,0]).domain([0,maxVaccines]);// define axi\nyAxisCases=d3_src[\"b\" /* axisRight */]().scale(yScaleCasesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisDeaths=d3_src[\"b\" /* axisRight */]().scale(yScaleDeathsAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisVaccines=d3_src[\"b\" /* axisRight */]().scale(yScaleVaccinesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});// y-axis cases\nvar yAxisCasesText=d3_src[\"m\" /* select */]('#casesAxis').transition().duration(500).call(yAxisCases);// y-axis deaths\nvar yAxisDeathsText=d3_src[\"m\" /* select */]('#deathsAxis').transition().duration(500).call(yAxisDeaths);// y-axis vaccines\nvar yAxisVaccinesText=d3_src[\"m\" /* select */]('#VaccinesAxis').transition().duration(500).call(yAxisVaccines);// CASES\n// loop through groupedData and draw bars\nvar barGroups=svg.selectAll('.bar_group').data(groupedData).attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+')';});// CASES\nbarGroups.selectAll('.cases_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewCases=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_cases;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].cumulative_cases;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_cases;if(options.timeline_type==='stacked')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_cases;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleCases(d.cumulative_cases)-yScaleCases(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleCases(d.new_cases)-yScaleCases(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_cases/totalNewCases)-140*(dp/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewCases=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_cases;var y=0;if(options.timeline_type==='cumulative')y=yScaleCases(d.cumulative_cases);if(options.timeline_type==='non-cumulative')y=yScaleCases(d.new_cases);if(options.timeline_type==='stacked')y=140*(d.new_cases/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];return'blue';});// // DEATHS\nbarGroups.selectAll('.deaths_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewDeaths=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_deaths;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].cumulative_deaths;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;if(options.timeline_type==='stacked')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleDeaths(d.cumulative_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='non-cumulative')y=140-yScaleDeaths(d.new_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='stacked')y=140-140*(d.new_deaths/totalNewDeaths)-140*(dp/totalNewDeaths)+170;if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewDeaths=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_deaths;var y=0;if(options.timeline_type==='cumulative')y=yScaleDeaths(d.cumulative_deaths);if(options.timeline_type==='non-cumulative')y=yScaleDeaths(d.new_deaths);if(options.timeline_type==='stacked')y=140*(d.new_deaths/totalNewDeaths);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};});if(groupedData.length==0){d3_src[\"n\" /* selectAll */]('.cases_bar').transition().duration(500).attr('y',140).attr('height',0);d3_src[\"n\" /* selectAll */]('.deaths_bar').transition().duration(500).attr('y',140+170).attr('height',0);}// // VACCINES\nvar vbarGroups=svg.selectAll('.vbar_group').data(vgroupedData).attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+', 344)';});vbarGroups.selectAll('.vaccines_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewVaccines=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_vaccines;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].cumulative_vaccines;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;if(options.timeline_type==='stacked')dp+=d3_src[\"m\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleVaccines(d.cumulative_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleVaccines(d.new_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_vaccines/totalNewVaccines)-140*(dp/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewVaccines=d3_src[\"m\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"m\" /* select */](this.parentNode).datum().OTH.new_vaccines;var y=0;if(options.timeline_type==='cumulative')y=yScaleVaccines(d.cumulative_vaccines);if(options.timeline_type==='non-cumulative')y=yScaleVaccines(d.new_vaccines);if(options.timeline_type==='stacked')y=140*(d.new_vaccines/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};});if(vgroupedData.length==0){d3_src[\"n\" /* selectAll */]('.vaccines_bar').transition().duration(500).attr('y',140).attr('height',0);}// // bar size tweak for spacing\n// if(options.timeline_frequency==='month'){\n//     barGroups.selectAll(\".timeBar\")\n//     .attr(\"width\", function(d) {\n//         var date = d3.select(this.parentNode).datum().date;\n//         var next = d3.timeMonth.offset(date, 1);\n//         return (xScale(next)- xScale(date))*(1-barSpacing);\n//       })\n//     .attr(\"x\", function(d) {\n//         var date = d3.select(this.parentNode).datum().date;\n//         var next = d3.timeMonth.offset(date, 1);\n//         return (xScale(next)- xScale(date))*(barSpacing/2);\n//       })\n//     }\ndata.vgroupedData=vgroupedData;data.groupedData=groupedData;}/* harmony default export */ var Timechart = (drawTimechart);\n// CONCATENATED MODULE: ./src/Regionchart.js\nvar Regionchart_maxCases;var Regionchart_maxDeaths;var maxVaccinations;var xScaleCases;var xScaleDeaths;var xScaleVaccines;var labelWidth;var Regionchart_regions=['AF','ME','AP','EU','AM','OTH'];var margin={left:20,top:0,right:58};var rcSize;var Regionchart_groupedData=[];function drawRegionchart(data,options,filter){Regionchart_groupedData=[];var barSpacing=0.1;Regionchart_regions.forEach(function(d,i){// if(d!='OTH') // remove OTH\nRegionchart_groupedData.push({region:d,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0});});data.who_data.forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region){// remove OTH\nRegionchart_groupedData[ii].cumulative_cases+=d.new_cases;Regionchart_groupedData[ii].cumulative_deaths+=d.new_deaths;}});});Regionchart_maxCases=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_cases;});Regionchart_maxDeaths=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_deaths;});// vaccinations max date records\nvar vGroup=d3_src[\"d\" /* flatGroup */](data.vaccines_data_cumulative,function(d){return d.date;});var vacGrouped=vGroup[vGroup.length-1];var vData=[];vacGrouped[1].forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region&&dd!='OTH'){// remove OTH\nRegionchart_groupedData[ii].cumulative_vaccines+=d.total_vaccinations;}});});Regionchart_groupedData.sort(function(a,b){if(options.region_chart_toggle=='cases')return b.cumulative_cases-a.cumulative_cases;if(options.region_chart_toggle=='deaths')return b.cumulative_deaths-a.cumulative_deaths;if(options.region_chart_toggle=='vaccines')return b.cumulative_vaccines-a.cumulative_vaccines;});maxVaccinations=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_vaccines;});// append region chart containerg\nvar regionChartContainer=d3_src[\"m\" /* select */]('#layout #region_chart_container').attr('opacity',0);rcSize={x:regionChartContainer.attr('x'),y:regionChartContainer.attr('y'),width:regionChartContainer.attr('width'),height:regionChartContainer.attr('height')};var svg=d3_src[\"m\" /* select */]('#layout').append('g').attr('transform','translate('+rcSize.x+', '+rcSize.y+')').attr('id','region_chart');var rowHeight=rcSize.height/(Regionchart_groupedData.length-1);// remove OTH\nvar rows=svg.selectAll('.bar-row').data(Regionchart_groupedData.filter(function(d){return d.region!=='OTH';})).enter().append('g').attr('class','bar-row').attr('transform',function(d,i){return'translate(0,'+(i*rowHeight+margin.top)+')';});options.cumulative_totals=Regionchart_groupedData;var label=rows.append('text').attr('y',rowHeight/2).attr('x',margin.left-5).attr('class',function(d,i){return'bar-labels bar-label-'+d.region;}).style('alignment-baseline','middle').style('font-size','11px').attr('opacity',1).attr('fill','#000').text(function(d,i){if(d.region==='AM')return'Americas';if(d.region==='EU')return'Europe';if(d.region==='AF')return'Africa';if(d.region==='ME')return'Middle East and North Africa';if(d.region==='AP')return'Asia-Pacific';}).style('text-anchor','end');labelWidth=rows.node().getBBox().width+margin.left;label.attr('x',labelWidth+89);labelWidth=labelWidth+94;d3_src[\"n\" /* selectAll */]('.timeBar').attr('opacity',1);var rowBg=rows.append('rect').attr('y',0).attr('x',0).attr('width',labelWidth).attr('height',rowHeight-2).style('opacity',0).attr('fill','grey').style('cursor','pointer').attr('class',function(d,i){return'bar-bg-'+d.region;}).attr('data-id',function(d,i){return d.region;}).on('mouseover',function(d){d3_src[\"m\" /* select */](this).style('opacity',0.1);// var dat = d3.select(this.parentNode).datum();\n// d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n// d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n}).on('mouseout',function(){d3_src[\"m\" /* select */](this).style('opacity',0);// d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n}).on('click',function(d,i){var t=d3_src[\"m\" /* select */](this).attr('data-id');filter([t],'regionchart');});xScaleCases=d3_src[\"j\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxCases]);// severity/reliability x xcale\nxScaleDeaths=d3_src[\"j\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxDeaths]);// severity/reliability x xcale\nxScaleVaccines=d3_src[\"j\" /* scaleLinear */]().range([labelWidth,rcSize.width-margin.right-labelWidth]).domain([0,maxVaccinations]);// severity/reliability x xcale\nvar bars=rows.append('rect').attr('id',function(d,i){return'bar-'+d.region;}).attr('data-id',function(d,i){return d.region;}).attr('class','region-bar').attr('width',function(d,i){if(options.region_chart_toggle=='cases')return xScaleCases(d.cumulative_cases);if(options.region_chart_toggle=='deaths')return xScaleDeaths(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')return xScaleDeaths(d.cumulative_vaccines);}).attr('x',labelWidth).style('outline','none').style('cursor','pointer').attr('y',rowHeight*barSpacing-1).attr('height',rowHeight-rowHeight*barSpacing*2).style('fill',function(d){return src_colors.regions[d.region];}).attr('opacity',1).on('click',function(d,i){var t=d3_src[\"m\" /* select */](this).attr('data-id');filter([t],'regionchart');}).on('mouseover',function(d){var dat=d3_src[\"m\" /* select */](this.parentNode).datum();// d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n// d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n}).on('mouseout',function(){// d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n});var dataLabel=rows.append('text').text(function(d){if(options.region_chart_toggle=='cases')return addCommas(d.cumulative_cases);if(options.region_chart_toggle=='deaths')return addCommas(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')return addCommas(d.cumulative_vaccines);}).attr('id',function(d,i){return'data-label'+d.region;}).attr('data-id',function(d,i){return d.region;}).attr('class','data-label').attr('y',rowHeight/2).style('alignment-baseline','middle').style('text-anchor','start').attr('x',function(d,i){if(options.region_chart_toggle=='cases')return xScaleCases(d.cumulative_cases)+labelWidth+5;if(options.region_chart_toggle=='deaths')return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;if(options.region_chart_toggle=='vaccines')return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;}).attr('opacity',function(d,i){var val=0;if(options.region_chart_toggle=='cases')val=d.cumulative_cases;if(options.region_chart_toggle=='deaths')val=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')val=d.cumulative_vaccines;if(val>0){return 1;}else{return 0;}}).style('fill','#696969').style('font-weight','normal').style('font-size','10px');}function updateRegionchart(options,data){Regionchart_groupedData=[];Regionchart_regions.forEach(function(d,i){Regionchart_groupedData.push({region:d,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0});});data.who_data.forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region){// remove OTH\nRegionchart_groupedData[ii].cumulative_cases+=d.new_cases;Regionchart_groupedData[ii].cumulative_deaths+=d.new_deaths;Regionchart_groupedData[ii].cumulative_vaccines=0;}});});Regionchart_maxCases=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_cases;});Regionchart_maxDeaths=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_deaths;});// vaccinations max date records\nvar vGroup=d3_src[\"d\" /* flatGroup */](data.vaccines_data_cumulative,function(d){return d.date;});var vacGrouped=vGroup[vGroup.length-1];var vData=[];if(vacGrouped){vacGrouped[1].forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region){// remove OTH\nRegionchart_groupedData[ii].cumulative_vaccines+=d.total_vaccinations;}});});}Regionchart_groupedData.sort(function(a,b){if(options.region_chart_toggle=='cases')return b.cumulative_cases-a.cumulative_cases;if(options.region_chart_toggle=='deaths')return b.cumulative_deaths-a.cumulative_deaths;if(options.region_chart_toggle=='vaccines')return b.cumulative_vaccines-a.cumulative_vaccines;});options.cumulative_totals=Regionchart_groupedData;maxVaccinations=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_vaccines;});xScaleCases=d3_src[\"j\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxCases]);// severity/reliability x xcale\nxScaleDeaths=d3_src[\"j\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxDeaths]);// severity/reliability x xcale\nxScaleVaccines=d3_src[\"j\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,maxVaccinations]);// severity/reliability x xcale\nif(maxVaccinations==0&&Regionchart_maxCases==0&&Regionchart_maxDeaths==0){d3_src[\"n\" /* selectAll */]('.region-bar').transition().duration(500).attr('width',0);d3_src[\"n\" /* selectAll */]('.data-label').transition().duration(500).attr('x',labelWidth).attr('opacity',0);}else{d3_src[\"n\" /* selectAll */]('.region-bar').transition().duration(500).attr('width',function(d,i){var id=d3_src[\"m\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});var val=0;if(options.region_chart_toggle=='cases')val=xScaleCases(d.cumulative_cases);if(options.region_chart_toggle=='deaths')val=xScaleDeaths(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')val=xScaleVaccines(d.cumulative_vaccines);if(!isNaN(val)){return parseFloat(val);}else{return 0;}});d3_src[\"n\" /* selectAll */]('.data-label').transition().duration(500).tween(\"text\",function(d,i){var end=0;var id=d3_src[\"m\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});if(options.region_chart_toggle=='cases')end=d.cumulative_cases;if(options.region_chart_toggle=='deaths')end=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')end=d.cumulative_vaccines;var i=d3_src[\"e\" /* interpolate */](Math.floor(Math.random()*112346+92345),end);return function(t){d3_src[\"m\" /* select */](this).text(addCommas(Math.round(i(t))));};}).attr('x',function(d,i){var id=d3_src[\"m\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});if(options.region_chart_toggle=='cases')return xScaleCases(d.cumulative_cases)+labelWidth+5;if(options.region_chart_toggle=='deaths')return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;if(options.region_chart_toggle=='vaccines')return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;}).attr('opacity',function(d,i){var d;var id=d3_src[\"m\" /* select */](this).attr('data-id');Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});var val=0;if(options.region_chart_toggle=='cases')val=d.cumulative_cases;if(options.region_chart_toggle=='deaths')val=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')val=d.cumulative_vaccines;if(val>0){return 1;}else{return 0;}});}}/* harmony default export */ var Regionchart = (drawRegionchart);\n// CONCATENATED MODULE: ./src/Layout.js\nvar selectedToggle='#595454';var unselectedToggle='#EAEAEA';var unselectedToggleText='#000';var selectedToggleText='#FFF';function Layout(svg,options,data,filter,updateTable,updateMap){// vaccine info\nd3_src[\"m\" /* select */]('#vaccine_tooltip').attr('opacity',0).style('display','none');d3_src[\"m\" /* select */]('#vaccine_info path').attr('fill',src_colors.black);svg.select('#vaccine_info').style('cursor','pointer').on('mouseover',function(event,bd){d3_src[\"m\" /* select */]('#svg_container').style('z-index',10);d3_src[\"m\" /* select */]('#vaccine_tooltip').style('display','inline').transition().duration(500).attr('opacity',1);d3_src[\"m\" /* select */]('#vaccine_info path').transition().duration(200).attr('fill',src_colors.blue);}).on('mouseout',function(event,d){d3_src[\"m\" /* select */]('#svg_container').style('z-index',1);d3_src[\"m\" /* select */]('#vaccine_tooltip').style('display','none').attr('opacity',0);d3_src[\"m\" /* select */]('#vaccine_info path').transition().duration(500).attr('fill',src_colors.black);});// region chart toggle\nsvg.select('#region_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){options.region_filter=[];filter('clear-region');});svg.select('#region-chart-toggle #region-chart-toggle-cases').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='cases')return false;options.region_chart_toggle='cases';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-cases rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-cases text').attr('fill',selectedToggleText);updateRegionchart(options,data);});svg.select('#region-chart-toggle #region-chart-toggle-deaths').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='deaths')return false;options.region_chart_toggle='deaths';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-deaths rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-deaths text').attr('fill',selectedToggleText);updateRegionchart(options,data);});svg.select('#region-chart-toggle #region-chart-toggle-vaccines').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='vaccines')return false;options.region_chart_toggle='vaccines';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-vaccines rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-vaccines text').attr('fill',selectedToggleText);updateRegionchart(options,data);});// map toggle\nsvg.select('#map-toggle #map-toggle-bi-weekly-change').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='bi-weekly-change')return false;options.map_toggle='bi-weekly-change';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-bi-weekly-change rect').attr('fill',selectedToggle);svg.select('#map-toggle-bi-weekly-change text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-cases').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='cases')return false;options.map_toggle='cases';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-cases rect').attr('fill',selectedToggle);svg.select('#map-toggle-cases text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-deaths').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='deaths')return false;options.map_toggle='deaths';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-deaths rect').attr('fill',selectedToggle);svg.select('#map-toggle-deaths text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-percent-fully-vaccinated').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='percent-fully-vaccinated')return false;options.map_toggle='percent-fully-vaccinated';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-percent-fully-vaccinated rect').attr('fill',selectedToggle);svg.select('#map-toggle-percent-fully-vaccinated text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-percent-vaccine-acceptance').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='percent-vaccine-acceptance')return false;options.map_toggle='percent-vaccine-acceptance';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-percent-vaccine-acceptance rect').attr('fill',selectedToggle);svg.select('#map-toggle-percent-vaccine-acceptance text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});// time chart type \nsvg.select('#timechart-type-toggle #timechart-type-toggle-cumulative').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='cumulative')return false;options.timeline_type='cumulative';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-cumulative rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-cumulative polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggle);updateTimechart(data,options);});svg.select('#timechart-type-toggle #timechart-type-toggle-non-cumulative').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='non-cumulative')return false;options.timeline_type='non-cumulative';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-non-cumulative rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-non-cumulative polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggle);updateTimechart(data,options);});svg.select('#timechart-type-toggle #timechart-type-toggle-stacked').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='stacked')return false;options.timeline_type='stacked';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-stacked rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-stacked polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggleText);updateTimechart(data,options);});// time chart frequency toggle\nsvg.select('#timechart-frequency-toggle #timechart-frequency-toggle-day').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='day')return false;options.timeline_frequency='day';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-day rect').attr('fill',selectedToggle);svg.select('#timechart-frequency-toggle-day text').attr('fill',selectedToggleText);svg.select('#tooltip_frequency tspan').attr('text-anchor','end').attr('dx',20).text('DAY');drawTimechart(data,options);});svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-week').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='week')return false;options.timeline_frequency='week';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-week rect').attr('fill',selectedToggle);svg.select('#tooltip_frequency tspan').attr('text-anchor','end').attr('dx',20).text('WEEK');svg.select('#timechart-frequency-toggle-week text').attr('fill',selectedToggleText);drawTimechart(data,options);});svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-month').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='month')return false;options.timeline_frequency='month';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-month rect').attr('fill',selectedToggle);svg.select('#tooltip_frequency tspan').attr('text-anchor','end').attr('dx',20).text('MONTH');svg.select('#timechart-frequency-toggle-month text').attr('fill',selectedToggleText);drawTimechart(data,options);});// HDI toggle\nsvg.select('#hdi_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);filter('clear-hdi');});svg.select('#hdi-toggle #hdi-toggle-very-high').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'very-high');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"m\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-high').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'high');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"m\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-medium').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'medium');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"m\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-low').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'low');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"n\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"m\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});// inform severity toggle\nsvg.select('#inform_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);filter('clear-inform');});svg.select('#inform-toggle #inform-toggle-no-score').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'no-score');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"m\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-low').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'low');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"m\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-medium').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'medium');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"m\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-high').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'high');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"m\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-very-high').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'very-high');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"n\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"m\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});// tabs\nd3_src[\"m\" /* select */]('#additional-indicators-tab').attr('opacity',0);d3_src[\"m\" /* select */]('#vac-tab').attr('opacity',1);d3_src[\"m\" /* select */]('#bubblechart-tab').attr('opacity',0);svg.select('#tabs #vaccination-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='vaccination-data')return false;options.tab_toggle='vaccination-data';d3_src[\"m\" /* select */]('#additional-indicators-tab').attr('opacity',0);d3_src[\"m\" /* select */]('#vac-tab').attr('opacity',1);d3_src[\"m\" /* select */]('#bubblechart-tab').attr('opacity',0);svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#vaccination-tab rect').attr('fill',selectedToggle);svg.select('#vaccination-tab text').attr('fill',selectedToggleText);src_Update(svg,options,data);});svg.select('#tabs #indicators-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='indicators')return false;options.tab_toggle='indicators';d3_src[\"m\" /* select */]('#additional-indicators-tab').attr('opacity',1);d3_src[\"m\" /* select */]('#vac-tab').attr('opacity',0);d3_src[\"m\" /* select */]('#bubblechart-tab').attr('opacity',0);svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#indicators-tab rect').attr('fill',selectedToggle);svg.select('#indicators-tab text').attr('fill',selectedToggleText);src_Update(svg,options,data);});svg.select('#tabs #bubble-chart-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='bubble-chartt')return false;options.tab_toggle='bubble-chart';d3_src[\"m\" /* select */]('#additional-indicators-tab').attr('opacity',0);d3_src[\"m\" /* select */]('#vac-tab').attr('opacity',0);d3_src[\"m\" /* select */]('#bubblechart-tab').attr('opacity',1);svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#bubble-chart-tab rect').attr('fill',selectedToggle);svg.select('#bubble-chart-tab text').attr('fill',selectedToggleText);src_Update(svg,options,data);});// time chart mask\nd3_src[\"m\" /* select */]('#svg defs').append('clipPath').attr('id','mask').append('rect').attr('y',340).attr('height',590).attr('width',660).attr('x',3);// append timechart svg\nvar timechartContainer=svg.select('#timechart_container').attr('opacity',0);var tcSize={x:timechartContainer.attr('x'),y:timechartContainer.attr('y'),width:timechartContainer.attr('width'),height:timechartContainer.attr('height')};var timechartSvg=svg.append('svg').attr('id','timechart_svg').attr('viewBox','0 0 '+2000+' '+tcSize.height).attr('preserveAspectRatio',\"none\").attr('x',tcSize.x).attr('y',tcSize.y).attr('width',tcSize.width).attr('height',tcSize.height);var layer1=timechartSvg.append('g').attr('id','layer1');var timechartBg=timechartSvg.append('g').attr('id','layer0');layer1.append('rect').attr('x',0).attr('y',0).attr('width','100%').attr('height','100%').attr('opacity',0).style('fill','transparent');// table bars\nvar _loop=function _loop(i){// col 1 bg\nd3_src[\"m\" /* select */]('#vac-tab').append('rect').attr('class','col1bg colbg').attr('id','col1bg'+i).attr('x',120).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill','#D8D8D8');// col 1 bar\nd3_src[\"m\" /* select */]('#vac-tab').append('rect').attr('class','col1bar').attr('id','col1bar'+i).attr('x',120).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill',src_colors.blue);// col 2 bg\nd3_src[\"m\" /* select */]('#vac-tab').append('rect').attr('class','col2bg colbg').attr('id','col2bg'+i).attr('x',230).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill','#D8D8D8');// col 2 bar\nd3_src[\"m\" /* select */]('#vac-tab').append('rect').attr('class','col2bar').attr('id','col2bar'+i).attr('x',230).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill',src_colors.blue);// col 3 bg\nd3_src[\"m\" /* select */]('#vac-tab').append('rect').attr('class','col3bg colbg').attr('id','col3bg'+i).attr('x',340).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill','#D8D8D8');// col 3 bar\nd3_src[\"m\" /* select */]('#vac-tab').append('rect').attr('class','col3bar').attr('id','col3bar'+i).attr('x',340).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill',src_colors.blue);// col 4 bg\nd3_src[\"m\" /* select */]('#vac-tab').append('rect').attr('class','col4bg colbg').attr('id','col4bg'+i).attr('x',454).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill','#D8D8D8');// col 3 bar\nd3_src[\"m\" /* select */]('#vac-tab').append('rect').attr('class','col4bar').attr('id','col4bar'+i).attr('x',454).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill',src_colors.blue);for(x=0;x<6;x++){d3_src[\"m\" /* select */]('#col'+x+'_sort_desc').attr('opacity',0);d3_src[\"m\" /* select */]('#col'+x+'_sort_asc').attr('opacity',0);d3_src[\"m\" /* select */]('#col'+x+'_sort').style('cursor','pointer').on('click',function(){var thisId=d3_src[\"m\" /* select */](this).attr('id');if(options.table_sort==thisId){if(options.table_sort_direction=='desc'){options.table_sort_direction='asc';}else{options.table_sort_direction='desc';}}else{options.table_sort=thisId;options.table_sort_direction='desc';}updateTable(data,options);});// d3.select('#col1_sort_desc').attr('opacity', 1);\n}};for(var i=0;i<10;i++){var x;_loop(i);}}/* harmony default export */ var src_Layout = (Layout);function toggle(collection,item){var idx=collection.indexOf(item);if(idx!==-1){collection.splice(idx,1);}else{collection.push(item);}}/*\n\n#timechart-type-toggle #timechart-type-toggle-stacked\n#timechart-type-toggle #timechart-type-toggle-non-cumulative\n#timechart-type-toggle #timechart-type-toggle-cumulative\n\n#timechart-frequency-toggle #timechart-frequency-toggle-day\n#timechart-frequency-toggle #timechart-frequency-toggle-week\n#timechart-frequency-toggle #timechart-frequency-toggle-month\n\n#map-toggle #map-toggle-bi-weekly-change\n#map-toggle #map-toggle-deaths\n#map-toggle #map-toggle-percent-fully-vaccinated\n#map-toggle #map-toggle-percent-vaccine-acceptance\n#map-toggle #map-toggle-cases\n\n#tabs #bubble-chart-tab\n#tabs #indicators-tab\n#tabs #vaccination-tab\n\n#hdi-toggle #hdi-toggle-very-high\n#hdi-toggle #hdi-toggle-high\n#hdi-toggle #hdi-toggle-medium\n#hdi-toggle #hdi-toggle-low\n\n\n#inform-toggle #inform-toggle-no-score\n#inform-toggle #inform-toggle-low\n#inform-toggle #inform-toggle-medium\n#inform-toggle #inform-toggle-high\n#inform-toggle #inform-toggle-very-high\n\n*/\n// CONCATENATED MODULE: ./src/Options.js\n// default options\nvar Options_options={region_chart_toggle:'cases',// cases, deaths, vaccines\nregion_filter:[],country_filter:[],hdi_filter:[],// very-high, high, medium, low\ninform_filter:[],// no-score, low, medium, high, very-high\ntimeline_type:'non-cumulative',// cumulative, non-cumulative, stacked \ntimeline_frequency:'week',// day, week, month\nmap_toggle:'cases',// bi-weekly-change, cases, deaths, percent-fully-vaccinated, percent-vaccine-acceptance\ntab_toggle:'vaccination-data',// vaccination-data, indicators, bubble-chart\ntable_sort:'col1_sort',table_sort_direction:'desc',bubble_chart_color_by:'hdi',// hdi, inform-severity, region\nbubble_chart_y_axis:'percent-vaccinated-at-least-1-dose',// percent-vaccinated-at-least-1-dose, percent-fully-vaccinated\nmaxDate:null,maxVDate:null};/* harmony default export */ var Options = (Options_options);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(13);\n\n// CONCATENATED MODULE: ./src/ParseData.js\n// import * as d3 from \"d3\";\nfunction ParseData(data,options){// console.log('ParseData');\n// console.log(options);\ndata.equity_data.forEach(function(d,i){d.vaccines_used=[];d.number_vaccine_types_used=0;d.vaccines_per_100=0;data.vaccines_who_data.forEach(function(dd,ii){if(d.country_iso3==dd.ISO3){d.data_updated=moment_default()(dd.DATE_UPDATED).startOf('day').toDate();d.number_vaccine_types_used=dd.NUMBER_VACCINES_TYPES_USED;d.vaccines_per_100=dd.TOTAL_VACCINATIONS_PER100;d.vaccines_used=dd.VACCINES_USED.split(',').map(function(item){return item.trim();});}});});// max dates\nvar maxDate=moment_default()(new Date(Object(d3_src[\"f\" /* max */])(data.who_data,function(d){return d.Date_reported;})));var minDate=moment_default()(new Date(Object(d3_src[\"h\" /* min */])(data.who_data,function(d){return d.Date_reported;})));// override\nminDate=moment_default()('2019-12-31');var minDateVaccines=new Date(Object(d3_src[\"h\" /* min */])(data.vaccines_data,function(d){return d.date;}));var maxDateVaccines=new Date(Object(d3_src[\"f\" /* max */])(data.vaccines_data,function(d){return d.date;}));if(maxDateVaccines>maxDate){maxDate=maxDateVaccines;}// if(maxDate<moment()){\n//     maxDate = moment();\n// }\n// if(maxDateVaccines<moment()){\n//     maxDateVaccines = moment();\n// }\noptions.maxDataDate=maxDate;options.maxVDataDate=maxDateVaccines;options.maxDate=moment_default()(maxDate).toDate();options.maxVDate=moment_default()(maxDateVaccines).toDate();options.minDate=moment_default()(minDate).toDate();// parse who data\nvar dayTotal=-1;var dayCheck=0;var weekTotal=-1;var weekCheck=-1;var monthTotal=0;var monthCheck=0;data.who_data.sort(function(a,b){return new Date(a.Date_reported)-new Date(b.Date_reported);});var countryCodes=[];var ccArray=[];data.who_data.forEach(function(d,i){d.date=new Date(d.Date_reported);d.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').toDate());d.new_cases=parseInt(d.New_cases);d.new_deaths=parseInt(d.New_deaths);d.cumulative_deaths=parseInt(d.Cumulative_deaths);d.cumulative_cases=parseInt(d.Cumulative_cases);d.country_code=d.Country_code;d.country_name=null;data.equity_data.forEach(function(dd,ii){if(dd.country_iso2===d.Country_code){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;}});if(d.ifrc_region==undefined)d.ifrc_region='OTH';if(!countryCodes.includes(d.country_code)){if(d.ifrc_region=='OTH'){ccArray.push([d.Country,d.country_code]);}countryCodes.push(d.country_code);}delete d.Date_reported;delete d.Country;delete d.New_cases;delete d.New_deaths;delete d.Country_code;delete d.Cumulative_deaths;delete d.Cumulative_cases;// delete d.Country_code;\ndelete d.WHO_region;// delete d.Country;\ndayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;});// check for missing coutries\n// ccArray.forEach(function(d,i){\n//     console.log(d[1])\n// })\n// console.log(ccArray);\n// parse vaccine cumulative data\ndayTotal=-1;dayCheck=0;weekTotal=-1;weekCheck=-1;monthTotal=0;monthCheck=0;// filter out vaccine data on only include records with ISO3 country codes\ndata.vaccines_data_cumulative=data.vaccines_data.filter(function(d,i){return d.iso_code.length===3&&d.total_vaccinations>0;});// fill out missing vaccinations date records (extend cumulative)\nvar vGroup=Object(d3_src[\"d\" /* flatGroup */])(data.vaccines_data_cumulative,function(d){return d.iso_code;});var newDates=[];var hasDays=[];var initDate=0;var lastRecord={};var vDataFlat=[];vGroup.forEach(function(d,i){var _vGroup$i$;var minDt=new Date(minDateVaccines);var maxDt=new Date(maxDateVaccines);var hasDays=[];var newDays=[];var newDays=[];data.equity_data.forEach(function(dd,ii){if(dd.country_iso3===vGroup[i][0]){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;d.country_code=dd.country_iso2;}});vGroup[i].lastDate=new Date(Object(d3_src[\"f\" /* max */])(vGroup[i][1],function(d,i){return d.date;}));vGroup[i][1].forEach(function(dd,ii){hasDays.push(new Date(dd.date).getTime());});// if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\nvGroup[i][1].forEach(function(dd,ii){dd.total_vaccinations=parseInt(dd.total_vaccinations);for(var day=minDt;day<=maxDt;day.setDate(day.getDate()+1)){var newDay=day.getTime();if(!hasDays.includes(newDay)){newDays.push({date:new Date(day),total_vaccinations:null});}}// dd.lastDate = dd.date;\n});(_vGroup$i$=vGroup[i][1]).push.apply(_vGroup$i$,Object(toConsumableArray[\"a\" /* default */])(newDays));vGroup[i][1].sort(function(a,b){return new Date(a.date)-new Date(b.date);});var totalVac=0;var totalVac100=0;var people_vaccinated_per_hundred=0;var people_fully_vaccinated_per_hundred=0;vGroup[i][1].forEach(function(dd,ii){if(dd.total_vaccinations){totalVac=dd.total_vaccinations;}else{dd.total_vaccinations=totalVac;}if(dd.total_vaccinations_per_hundred){totalVac100=dd.total_vaccinations_per_hundred;}else{dd.total_vaccinations_per_hundred=totalVac100;}if(dd.people_vaccinated_per_hundred){people_vaccinated_per_hundred=dd.people_vaccinated_per_hundred;}else{dd.people_vaccinated_per_hundred=people_vaccinated_per_hundred;}if(dd.people_fully_vaccinated_per_hundred){people_fully_vaccinated_per_hundred=dd.people_fully_vaccinated_per_hundred;}else{dd.people_fully_vaccinated_per_hundred=people_fully_vaccinated_per_hundred;}var countryName;if(vGroup[i].country_name==null){countryName=vGroup[i][0];}else{countryName=vGroup[i].country_name;}vDataFlat.push({date:new Date(dd.date),lastDate:vGroup[i].lastDate,total_vaccinations_per_hundred:parseFloat(totalVac100),people_vaccinated_per_hundred:people_vaccinated_per_hundred,people_fully_vaccinated_per_hundred:people_fully_vaccinated_per_hundred,iso_code:vGroup[i][0],ifrc_region:vGroup[i].ifrc_region,country_name:countryName,country_code:vGroup[i].country_code,total_vaccinations:totalVac});});});data.vaccines_data_cumulative=vDataFlat;data.vaccines_data_cumulative.sort(function(a,b){return new Date(a.date)-new Date(b.date);});data.vaccines_data_cumulative.forEach(function(d,i){if(d.ifrc_region==undefined)d.ifrc_region='OTH';d.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();dayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').toDate());});// parse vaccine daily data\ndayTotal=-1;dayCheck=0;weekTotal=-1;weekCheck=-1;monthTotal=0;monthCheck=0;// filter out vaccine data on only include records with ISO3 country codes\ndata.vaccines_data_daily=data.vaccines_data.filter(function(d,i){return d.iso_code.length===3&&d.daily_vaccinations>0;});// fill out missing vaccinations date records (extend cumulative)\nvar vGroup=Object(d3_src[\"d\" /* flatGroup */])(data.vaccines_data_daily,function(d){return d.iso_code;});var newDates=[];var hasDays=[];var initDate=0;var lastRecord={};var vDataFlat=[];vGroup.forEach(function(d,i){var _vGroup$i$2;var minDt=new Date(minDateVaccines);var maxDt=new Date(maxDateVaccines);var hasDays=[];var newDays=[];var newDays=[];data.equity_data.forEach(function(dd,ii){if(dd.country_iso3===vGroup[i][0]){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;d.country_code=dd.country_iso2;}});vGroup[i][1].forEach(function(dd,ii){hasDays.push(new Date(dd.date).getTime());});// if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\nvGroup[i][1].forEach(function(dd,ii){dd.daily_vaccinations=parseInt(dd.daily_vaccinations);for(var day=minDt;day<=maxDt;day.setDate(day.getDate()+1)){var newDay=day.getTime();if(!hasDays.includes(newDay)){newDays.push({date:new Date(day),daily_vaccinations:null});}}});(_vGroup$i$2=vGroup[i][1]).push.apply(_vGroup$i$2,Object(toConsumableArray[\"a\" /* default */])(newDays));vGroup[i][1].sort(function(a,b){return new Date(a.date)-new Date(b.date);});var daily_vaccinations=0;vGroup[i][1].forEach(function(dd,ii){if(dd.daily_vaccinations){daily_vaccinations=dd.daily_vaccinations;}else{dd.daily_vaccinations=daily_vaccinations;}var countryName;if(vGroup[i].country_name==null){countryName=vGroup[i][0];}else{countryName=vGroup[i].country_name;}vDataFlat.push({date:new Date(dd.date),iso_code:vGroup[i][0],ifrc_region:vGroup[i].ifrc_region,country_name:countryName,country_code:vGroup[i].country_code,daily_vaccinations:daily_vaccinations});});});data.vaccines_data_daily=vDataFlat;data.vaccines_data_daily.sort(function(a,b){return new Date(a.date)-new Date(b.date);});data.vaccines_data_daily.forEach(function(d,i){if(d.ifrc_region==undefined)d.ifrc_region='OTH';d.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();dayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').toDate());});// parse equity data inform/hdi indexes\ndata.equity_data.forEach(function(d,i){if(d.hdi_category.match(/very high/i)){d.hdi_category='very-high';}else if(d.hdi_category.match(/high/i)){d.hdi_category='high';}else if(d.hdi_category.match(/medium/i)){d.hdi_category='medium';}else if(d.hdi_category.match(/low/i)){d.hdi_category='low';}if(d.inform_severity.match(/very high/i)){d.inform_severity='very-high';}else if(d.inform_severity.match(/high/i)){d.inform_severity='high';}else if(d.inform_severity.match(/medium/i)){d.inform_severity='medium';}else if(d.inform_severity.match(/low/i)){d.inform_severity='low';}else if(d.inform_severity.match(/no/i)){d.inform_severity='no-score';}});data.equity_data=data.equity_data.filter(function(d,i){return countryCodes.includes(d.country_iso2);});data.original=just_clone_default()(data);// console.log(data);\n}/* harmony default export */ var src_ParseData = (ParseData);\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./node_modules/jquery/dist/jquery.js\nvar jquery = __webpack_require__(2);\nvar jquery_default = /*#__PURE__*/__webpack_require__.n(jquery);\n\n// EXTERNAL MODULE: ./node_modules/select2/dist/js/select2.js\nvar select2 = __webpack_require__(121);\n\n// EXTERNAL MODULE: ./node_modules/select2/dist/css/select2.min.css\nvar select2_min = __webpack_require__(122);\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.js\nvar mapbox_gl = __webpack_require__(14);\nvar mapbox_gl_default = /*#__PURE__*/__webpack_require__.n(mapbox_gl);\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.css\nvar dist_mapbox_gl = __webpack_require__(123);\n\n// CONCATENATED MODULE: ./src/Map.js\n// eslint-disable-line import/no-webpack-loader-syntax\nmapbox_gl_default.a.accessToken='pk.eyJ1IjoiZ28taWZyYyIsImEiOiJjams3b2ZhZWswMGFvM3hxeHp2ZHFhOTRrIn0._pqO9OQ2iNeDGrpopJNjpg';var map;var dots;var maxSize=15;function createMap(data,options,filter){map=new mapbox_gl_default.a.Map({container:'map_div',// container ID\nstyle:'mapbox://styles/go-ifrc/ck9tz6f150ub11ip8j97wrsww',// style URL\ncenter:[8,22],// starting position [lng, lat]\nzoom:-0.01// starting zoom\n});map.setRenderWorldCopies(false);map.addControl(new mapbox_gl_default.a.NavigationControl());var container=map.getCanvasContainer();var svg=d3_src[\"m\" /* select */](container).append(\"svg\").attr('id','mapoverlay').attr(\"width\",\"100%\").attr(\"height\",\"24vw\").style(\"position\",\"absolute\").style(\"z-index\",2);dots=svg.selectAll(\".country-map\").data(data.world).enter().append(\"circle\").attr('class','country-map').attr('id',function(d,i){return'country-map-'+d.iso2;}).attr(\"r\",0);var maxValue=d3_src[\"f\" /* max */](data.country,function(d,i){return d[1].cumulative_cases;});var rScale=d3_src[\"k\" /* scalePow */]().exponent(0.5).domain([0,maxValue]).range([0,15]);data.country.forEach(function(d,i){d3_src[\"m\" /* select */]('#country-'+d[0]).attr('r',rScale(d[1].cumulative_cases)).attr('data-name',d[1].country);});document.getElementById(\"mapoverlay\").appendChild(d3_src[\"m\" /* select */]('#map_tooltip').node());function render(){dots.attr(\"cx\",function(d){return project([d.lng,d.lat]).x;}).attr(\"cy\",function(d){return project([d.lng,d.lat]).y;});}map.on(\"viewreset\",render);map.on(\"move\",render);map.on(\"moveend\",render);render();// Call once to render\n// map.on('mousemove', function (e) {\n//     var features = map.queryRenderedFeatures(e.point);\n//     var displayProperties = [\n//     'type',\n//     'properties',\n//     'id',\n//     'layer',\n//     'source',\n//     'sourceLayer',\n//     'state'\n//     ];\n//     var displayFeatures = features.map(function (feat) {\n//     var displayFeat = {};\n//     displayProperties.forEach(function (prop) {\n//     displayFeat[prop] = feat[prop];\n//     });\n//     return displayFeat;\n//     });\n//     console.log(JSON.stringify(\n//     displayFeatures,\n//     null,\n//     2\n//     ))\n//     })\nMap_updateMap(data,options);}function Map_updateMap(data,options){var duration=800;var delay=10;if(options.map_toggle=='bi-weekly-change'){var maxValue=d3_src[\"f\" /* max */](data.country,function(d,i){return d[1].percent_change;});var rScale=d3_src[\"k\" /* scalePow */]().exponent(0.5).domain([-1,0,1]).range([maxSize,0,maxSize]).clamp(true);d3_src[\"n\" /* selectAll */]('.country-map').transition('c').duration(duration/1.7).attr('r',0);data.country.forEach(function(d,i){d3_src[\"m\" /* select */]('#country-map-'+d[0]).transition('c').duration(duration).delay(delay).attr('r',rScale(d[1].percent_change)).style('stroke',function(){// if(d[1].percent_change>1){ return '#E02225'} else { return '#1F558C'}\nreturn'#FFF';}).style('fill',function(){if(d[1].percent_change>0){return src_colors.red;}else{return src_colors.blue;}});});}if(options.map_toggle=='cases'){var maxValue=d3_src[\"f\" /* max */](data.country,function(d,i){return d[1].cumulative_cases;});var rScale=d3_src[\"k\" /* scalePow */]().exponent(0.5).domain([0,maxValue]).range([0,maxSize]);d3_src[\"n\" /* selectAll */]('.country-map').transition('c').duration(duration/1.7).attr('r',0);data.country.forEach(function(d,i){d3_src[\"m\" /* select */]('#country-map-'+d[0]).transition('c').duration(duration).delay(delay).attr('r',rScale(d[1].cumulative_cases)).style('fill',src_colors.red).style('stroke','#FFF');});}if(options.map_toggle=='deaths'){var maxValue=d3_src[\"f\" /* max */](data.country,function(d,i){return d[1].cumulative_deaths;});var rScale=d3_src[\"k\" /* scalePow */]().exponent(0.5).domain([0,maxValue]).range([0,maxSize]);d3_src[\"n\" /* selectAll */]('.country-map').transition('c').duration(duration/1.7).attr('r',0);data.country.forEach(function(d,i){d3_src[\"m\" /* select */]('#country-map-'+d[0]).transition('c').duration(duration).delay(delay).attr('r',rScale(d[1].cumulative_deaths)).style('fill',src_colors.red).style('stroke','#FFF');});}if(options.map_toggle=='percent-fully-vaccinated'){var maxValue=d3_src[\"f\" /* max */](data.vGroup,function(d,i){return parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;});var rScale=d3_src[\"k\" /* scalePow */]().exponent(0.55).domain([0,1]).range([1,maxSize]).clamp(true);d3_src[\"n\" /* selectAll */]('.country-map').transition('c').duration(duration/1.7).attr('r',0);data.vGroup.forEach(function(d,i){var peoplevaccinated=parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;if(isNaN(peoplevaccinated))peoplevaccinated=0;d3_src[\"m\" /* select */]('#country-map-'+d[1][0].country_code).transition('c').duration(duration).delay(delay).attr('r',rScale(peoplevaccinated)).style('stroke','#FFF').style('fill',function(){return src_colors.blue;});});}if(options.map_toggle=='percent-vaccine-acceptance'){// var maxValue = d3.max(data.country, function(d,i){\n//     return d[1].cumulative_deaths;\n// })\n// var rScale = d3.scalePow().exponent(0.5)\n// .domain([0, maxValue])\n// .range([0, maxSize]);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.country.forEach(function(d,i){\n//     d3.select('#country-map-'+d[0])\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(d[1].cumulative_deaths))\n//     .style('fill', '#E02225')\n//     .style('stroke', '#FFF');\n// })\n}function render(){dots.attr(\"cx\",function(d){return project([d.lng,d.lat]).x;}).attr(\"cy\",function(d){return project([d.lng,d.lat]).y;});}map.on(\"viewreset\",render);map.on(\"move\",render);map.on(\"moveend\",render);render();// Call once to render\n// tooltips\nvar mapTooltip=d3_src[\"m\" /* select */]('#map_tooltip').attr('opacity',1).attr('transform','translate(0,0)').attr('display','none');d3_src[\"n\" /* selectAll */]('.country-map').on('mousemove',function(event,d){var id=d3_src[\"m\" /* select */](this).attr('id').substr(12,2);var countryfiltered=data.equity_data.filter(function(d){return d.country_iso2==id;});var countryName;if(countryfiltered[0])countryName=countryfiltered[0].country_name;mapTooltip.select('#map_tooltip_name tspan').text(countryName);if(options.map_toggle=='cases'){var country=data.country.filter(function(d){return d[1].country_code==id;})[0];if(country.length==0)return false;mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_cases)+' cases');}if(options.map_toggle=='deaths'){var country=data.country.filter(function(d){return d[1].country_code==id;})[0];if(country.length==0)return false;mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_deaths)+' deaths');}if(options.map_toggle=='bi-weekly-change'){var country=data.country.filter(function(d){return d[1].country_code==id;})[0];if(country.length==0)return false;var val=(country[1].percent_change*100).toFixed(1);var str='';if(val>=0){str='% increase';}else{str='% decrease';}mapTooltip.select('#map_tooltip_val tspan').text(Math.abs(val)+str);}if(options.map_toggle=='percent-fully-vaccinated'){var country=data.vGroup.filter(function(d){return d[1][0].country_code==id;})[0][1];if(!country||country.length==0)return false;mapTooltip.select('#map_tooltip_val tspan').text(parseFloat(country[0].people_fully_vaccinated_per_hundred).toFixed(1)+'% fully vaccinated');}d3_src[\"m\" /* select */]('#map_tooltip_bg').attr('width',0);var bbox=mapTooltip.node().getBBox();d3_src[\"m\" /* select */]('#map_tooltip_bg').attr('width',parseFloat(bbox.width)+2);var scale=window.innerWidth/1329;mapTooltip.attr('display','inline').attr('transform','translate('+project([d.lng,d.lat]).x+','+project([d.lng,d.lat]).y+')scale('+scale+')');var heightOffset=mapTooltip.node().getBBox();mapTooltip.attr('transform','translate('+(project([d.lng,d.lat]).x+3)+','+(project([d.lng,d.lat]).y+2-heightOffset.height/2)+')scale('+scale+')');}).on('mouseout',function(event){if(event.toElement=='tspan')return false;mapTooltip.attr('display','none');});}function project(d){return map.project(new mapbox_gl_default.a.LngLat(d[0],d[1]));}/* harmony default export */ var Map = (createMap);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/App.js\n/* \"homepage\": \"https://matthewsmawfield.github.io/ifrc-covid-dataviz\", */var equityDataUrl='./data/equity_data.csv';var layoutUrl=\"./images/layout.svg\";var whoDataUrl=\"./data/who_global_cases.csv\";// const worldUrl = \"./data/world-wb5.geojson\";\nvar worldUrl=\"./data/world_points.csv\";var vaccinesDataUrl=\"./data/owid_vaccinations.csv\";var vaccinesWhoDataUrl=\"./data/who-vaccination-data.csv\";// https://covid19.who.int/who-data/vaccination-data.csv\nvar timelineDataUrl=\"./data/timeline.csv\";var keyFiguresDataUrl=\"./data/key_figures.csv\";var App_data={};var regionOptions=[{id:'AM',text:'Americas'},{id:'EU',text:'Europe'},{id:'AP',text:'Asia-Pacific'},{id:'ME',text:'Middle East and North Africa'},{id:'AF',text:'Africa'}];var countryOptions=[];function App_App(){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),progress=_useState2[0],setProgress=_useState2[1];var _useState3=Object(react[\"useState\"])('Loading SVG layout...'),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loaderText=_useState4[0],setLoaderText=_useState4[1];function init(){return _init.apply(this,arguments);}function _init(){_init=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var layout;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// data source 1: layout.svg\nlayout=d3_src[\"r\" /* xml */](layoutUrl);layout.then(function(d){d3_src[\"m\" /* select */]('#svg_container').node().append(d3_src[\"m\" /* select */](d.documentElement).attr('width','100%').attr('height','auto').node());var svg=d3_src[\"m\" /* select */]('#svg_container svg');svg.select('title').remove();svg.attr('id','svg');src_Layout(svg,Options,App_data,filter,updateTable,Map_updateMap);setProgress(0.1);setLoaderText('Loading equity data CSV...');// data source 2: equity_data.csv\nvar equityData=d3_src[\"c\" /* csv */](equityDataUrl);equityData.then(function(d){App_data.equity_data=d;d.forEach(function(d,i){countryOptions.push({'text':d.country_name,'id':'Country-'+d.country_iso2});});createSelects();setProgress(0.1);setLoaderText('Loading WHO data CSV...');// data source 1: owid_vaccines.csv\nvar vaccinesData=d3_src[\"c\" /* csv */](vaccinesDataUrl);vaccinesData.then(function(d){App_data.vaccines_data=d;setProgress(0.15);setLoaderText('Loading OWID vaccines data...');// data source 2: vaccinesWhoData.csv\nvar vaccinesWhoData=d3_src[\"c\" /* csv */](vaccinesWhoDataUrl);vaccinesWhoData.then(function(d){App_data.vaccines_who_data=d;setProgress(0.3);setLoaderText('Loading OWID vaccines data...');// data source 3: timeline.csv\nvar timelineData=d3_src[\"c\" /* csv */](timelineDataUrl);timelineData.then(function(d){App_data.timeline_data=d;setProgress(0.4);setLoaderText('Loading Timeline data...');// data source 4: key_figures.csv\nvar keyFiguresData=d3_src[\"c\" /* csv */](keyFiguresDataUrl);keyFiguresData.then(function(d){App_data.key_figures=d;setProgress(0.45);setLoaderText('Loading key figures data...');// data source 5: who_global_cases.csv\nvar whoData=d3_src[\"c\" /* csv */](whoDataUrl);whoData.then(function(d){App_data.who_data=d;setProgress(0.8);setLoaderText('Loading World Map...');// data source 6: world-wb5.geojson\nvar world=d3_src[\"c\" /* csv */](worldUrl);world.then(function(d){App_data.world=d;setLoaderText('Loading complete.');setProgress(1);src_ParseData(App_data,Options);createCharts();d3_src[\"m\" /* select */]('#loaderDiv').transition().duration(1000).style('opacity',0).on(\"end\",function(){return d3_src[\"m\" /* select */]('#loaderDiv').remove();});});});});});});});});});case 2:case\"end\":return _context.stop();}}},_callee);}));return _init.apply(this,arguments);}function createCharts(){drawTimechart(App_data,Options);drawRegionchart(App_data,Options,filter);updateTable(App_data,Options);updateTotals(App_data,Options);createMap(App_data,Options,filter);}function filter(id,e){if(id=='clear'){Options.region_filter=[];Options.country_filter=[];d3_src[\"m\" /* select */]('#reset_locations').attr('opacity',0);}if(id=='clear-region'){Options.region_filter=[];}if(id=='clear-hdi'){Options.hdi_filter=[];}if(id=='clear-inform'){Options.inform_filter=[];}if(id.length==1&&id[0].length==2&&id!='filter'){if(Options.region_filter.includes(id[0])){Options.region_filter=Options.region_filter.filter(function(d){return d!==id[0];});}else{Options.region_filter.push(id[0]);}}if(Options.region_filter.length==5)Options.region_filter=[];if(Options.region_filter.length>0){d3_src[\"m\" /* select */]('#region_remove_filter').attr('opacity',1);d3_src[\"n\" /* selectAll */]('.bar-labels').attr('opacity',0.5);Options.region_filter.forEach(function(d,i){d3_src[\"m\" /* select */]('.bar-label-'+d).attr('opacity',1);});}else{d3_src[\"m\" /* select */]('#region_remove_filter').attr('opacity',0);d3_src[\"n\" /* selectAll */]('.bar-labels').attr('opacity',1);}App_data.equity_data=App_data.original.equity_data;var hdi_countries=[];if(Options.hdi_filter.length>0){d3_src[\"m\" /* select */]('#hdi_remove_filter').attr('opacity',1);App_data.equity_data.forEach(function(d,i){if(Options.hdi_filter.includes(d.hdi_category)){hdi_countries.push(d.country_iso2);}});}else{d3_src[\"m\" /* select */]('#hdi_remove_filter').attr('opacity',0);}var inform_countries=[];if(Options.inform_filter.length>0){d3_src[\"m\" /* select */]('#inform_remove_filter').attr('opacity',1);App_data.equity_data.forEach(function(d,i){if(Options.inform_filter.includes(d.inform_severity)){inform_countries.push(d.country_iso2);}});}else{d3_src[\"m\" /* select */]('#inform_remove_filter').attr('opacity',0);}if(id.length==1&&id[0].length>2){var code=id[0].substring(8);if(Options.country_filter.includes(code)){Options.country_filter=Options.country_filter.filter(function(d){return d!==code;});}else{Options.country_filter.push(code);}}if(Options.region_filter.length==0&&Options.country_filter.length==0){d3_src[\"m\" /* select */]('#reset_locations').attr('opacity',0);}var countryIds=[];Options.country_filter.forEach(function(d,i){countryIds.push('Country-'+d);});if(Options.region_filter.length>0||Options.country_filter.length>0){d3_src[\"m\" /* select */]('#reset_locations').attr('opacity',1);}else{d3_src[\"m\" /* select */]('#reset_locations').attr('opacity',0);}var mergeFilter=Options.region_filter.concat(countryIds);jquery_default()('#regionSelect').val(mergeFilter);jquery_default()('#regionSelect').trigger('change');// update data\nApp_data.who_data=App_data.original.who_data;if(inform_countries.length>0){App_data.who_data=App_data.who_data.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.who_data=App_data.who_data.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}App_data.vaccines_data_cumulative=App_data.original.vaccines_data_cumulative;if(inform_countries.length>0){App_data.vaccines_data_cumulative=App_data.vaccines_data_cumulative.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.vaccines_data_cumulative=App_data.vaccines_data_cumulative.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}App_data.vaccines_data_daily=App_data.original.vaccines_data_daily;if(inform_countries.length>0){App_data.vaccines_data_daily=App_data.vaccines_data_daily.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.vaccines_data_daily=App_data.vaccines_data_daily.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}if(inform_countries.length>0){App_data.equity_data=App_data.equity_data.filter(function(d,i){return inform_countries.includes(d.country_iso2);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.equity_data=App_data.equity_data.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_iso2))&&hdi_countries.includes(d.country_iso2);}else{return hdi_countries.includes(d.country_iso2);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_iso2);}});}handleSelectLength();updateCharts();}function updateCharts(){updateRegionchart(Options,App_data);// drawTimechart(data, options);\nupdateTable(App_data,Options);updateTotals(App_data,Options);updateTimechart(App_data,Options);Map_updateMap(App_data,Options);}function updateTotals(data,options){var totalCases=d3_src[\"o\" /* sum */](options.cumulative_totals,function(d){return d.cumulative_cases;});var totalDeaths=d3_src[\"o\" /* sum */](options.cumulative_totals,function(d){return d.cumulative_deaths;});var numCountriesFiltered=d3_src[\"d\" /* flatGroup */](data.who_data,function(d){return d.country_code;}).length;var countries=d3_src[\"d\" /* flatGroup */](data.who_data,function(d){return d.country_code;});data.country=[];countries.forEach(function(d,i){var cases4weeksAgo=d[1][d[1].length-28].cumulative_cases;var cases2WeeksAgo=d[1][d[1].length-14].cumulative_cases;var cases1WeeksAgo=d[1][d[1].length-7].cumulative_cases;var casesLatest=d[1][d[1].length-1];var percentChange=parseFloat((casesLatest.cumulative_cases-cases2WeeksAgo-(cases2WeeksAgo-cases4weeksAgo))/cases4weeksAgo);if(isFinite(percentChange)){casesLatest.percent_change=percentChange;}else{casesLatest.percent_change=0;}data.country.push([d[0],casesLatest,cases2WeeksAgo,cases4weeksAgo,cases1WeeksAgo]);});// update hdi numbers\nvar hdiData={'very-high':0,'high':0,'medium':0,'low':0};var hdiTotalCasesData={'very-high':0,'high':0,'medium':0,'low':0};var informData={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informTotalCasesData={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};data.vaccine_types=[];var vaccinesper100=[];if(totalCases>0){data.equity_data.forEach(function(dd,ii){dd.vaccines_used.forEach(function(ddd){if(!data.vaccine_types.includes(ddd))data.vaccine_types.push(ddd);});hdiData[dd.hdi_category]+=1;informData[dd.inform_severity]+=1;if(dd.vaccines_per_100>0)vaccinesper100.push([dd.vaccines_per_100,dd.population]);var dat=countries.filter(function(d){return d[0]==dd.country_iso2;});if(dat[0][1].length>0&&dat[0]){var lastRecord=dat[0][1][dat[0][1].length-1];// hdi index\nhdiTotalCasesData[dd.hdi_category]+=lastRecord.cumulative_cases;informTotalCasesData[dd.inform_severity]+=lastRecord.cumulative_cases;}});}d3_src[\"n\" /* selectAll */]('.vaccine_type').remove();d3_src[\"m\" /* select */]('#vaccine_tooltip_bg').attr('height',1);data.vaccine_types.forEach(function(d,i){d3_src[\"m\" /* select */](\"#vaccine_tooltip\").append('text').attr('font-size',9).attr('fill','#000').attr('class','vaccine_type').append('tspan').text(d).attr('dx',6).attr('dy',i*1.3+1.8+'em');});var vtooltipbbox=d3_src[\"m\" /* select */]('#vaccine_tooltip').node().getBBox();d3_src[\"m\" /* select */]('#vaccine_tooltip_bg').attr('height',vtooltipbbox.height+6);var avgVacPer100ByCountry=d3_src[\"g\" /* mean */](data.vGroup,function(d){return d[1][0].total_vaccinations_per_hundred;});var newCases=d3_src[\"o\" /* sum */](data.country,function(d){return d[4];});d3_src[\"m\" /* select */]('#hdi-percent-val-very-high tspan').text(parse(hdiTotalCasesData['very-high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"m\" /* select */]('#hdi-percent-bar-very-high').transition().duration(500).attr('width',parse(hdiTotalCasesData['very-high']/totalCases)*70);d3_src[\"m\" /* select */]('#hdi-percent-val-high tspan').text(parse(hdiTotalCasesData['high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"m\" /* select */]('#hdi-percent-bar-high').transition().duration(500).attr('width',parse(hdiTotalCasesData['high']/totalCases)*70);d3_src[\"m\" /* select */]('#hdi-percent-val-medium tspan').text(parse(hdiTotalCasesData['medium']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"m\" /* select */]('#hdi-percent-bar-medium').transition().duration(500).attr('width',parse(hdiTotalCasesData['medium']/totalCases)*70);d3_src[\"m\" /* select */]('#hdi-percent-val-low tspan').text(parse(hdiTotalCasesData['low']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"m\" /* select */]('#hdi-percent-bar-low').transition().duration(500).attr('width',parse(hdiTotalCasesData['low']/totalCases)*70);d3_src[\"m\" /* select */]('#inform-percent-val-very-high tspan').text(parse(informTotalCasesData['very-high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"m\" /* select */]('#inform-percent-bar-very-high').transition().duration(500).attr('width',parse(informTotalCasesData['very-high']/totalCases)*64);d3_src[\"m\" /* select */]('#inform-percent-val-high tspan').text(parse(informTotalCasesData['high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"m\" /* select */]('#inform-percent-bar-high').transition().duration(500).attr('width',parse(informTotalCasesData['high']/totalCases)*64);d3_src[\"m\" /* select */]('#inform-percent-val-medium tspan').text(parse(informTotalCasesData['medium']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"m\" /* select */]('#inform-percent-bar-medium').transition().duration(500).attr('width',parse(informTotalCasesData['medium']/totalCases)*64);d3_src[\"m\" /* select */]('#inform-percent-val-low tspan').text(parse(informTotalCasesData['low']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"m\" /* select */]('#inform-percent-bar-low').transition().duration(500).attr('width',parse(informTotalCasesData['low']/totalCases)*64);d3_src[\"m\" /* select */]('#inform-percent-val-no-score tspan').text(parse(informTotalCasesData['no-score']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');d3_src[\"m\" /* select */]('#inform-percent-bar-no-score').transition().duration(500).attr('width',parse(informTotalCasesData['no-score']/totalCases)*64);d3_src[\"m\" /* select */]('#hdi-toggle-very-high-val tspan').text(hdiData['very-high']).style('text-anchor','end').attr('dx','10');d3_src[\"m\" /* select */]('#hdi-toggle-high-val tspan').text(hdiData['high']).style('text-anchor','end').attr('dx','10');d3_src[\"m\" /* select */]('#hdi-toggle-medium-val tspan').text(hdiData['medium']).style('text-anchor','end').attr('dx','10');d3_src[\"m\" /* select */]('#hdi-toggle-low-val tspan').text(hdiData['low']).style('text-anchor','end').attr('dx','10');d3_src[\"m\" /* select */]('#inform-toggle-very-high-val tspan').text(informData['very-high']).style('text-anchor','end').attr('dx','6');d3_src[\"m\" /* select */]('#inform-toggle-high-val tspan').text(informData['high']).style('text-anchor','end').attr('dx','10');d3_src[\"m\" /* select */]('#inform-toggle-medium-val tspan').text(informData['medium']).style('text-anchor','end').attr('dx','9');d3_src[\"m\" /* select */]('#inform-toggle-low-val tspan').text(informData['low']).style('text-anchor','end').attr('dx','7');d3_src[\"m\" /* select */]('#inform-toggle-no-score-val tspan').text(informData['no-score']).style('text-anchor','end').attr('dx','13');d3_src[\"m\" /* select */]('#countries_filtered tspan').text(numCountriesFiltered+' countries filtered').style('text-anchor','end').attr('dx','105');d3_src[\"m\" /* select */]('#total_new_cases tspan').text('-');d3_src[\"m\" /* select */]('#total_vac_100 tspan').text('-');d3_src[\"m\" /* select */]('#percent_acceptance tspan').text('-');d3_src[\"m\" /* select */]('#total_cases tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"e\" /* interpolate */](0,totalCases)(t));};});d3_src[\"m\" /* select */]('#total_new_cases tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"e\" /* interpolate */](0,totalCases-newCases)(t));};});d3_src[\"m\" /* select */]('#total_deaths tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"e\" /* interpolate */](0,totalDeaths)(t));};});d3_src[\"m\" /* select */]('#total_vaccines tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"e\" /* interpolate */](0,d3_src[\"o\" /* sum */](options.cumulative_totals,function(d){return d.cumulative_vaccines;}))(t));return d3_src[\"e\" /* interpolate */](0,d3_src[\"o\" /* sum */](options.cumulative_totals,function(d){return d.cumulative_vaccines;}))(t);};});d3_src[\"m\" /* select */]('#num_vaccines tspan').transition().duration(500).textTween(function(){return function(t){return Math.round(d3_src[\"e\" /* interpolate */](0,data.vaccine_types.length)(t));};});d3_src[\"m\" /* select */]('#total_vac_100 tspan').transition().duration(500).textTween(function(){return function(t){return d3_src[\"e\" /* interpolate */](0,avgVacPer100ByCountry)(t).toFixed(2);};});}function updateTable(data,options){var lastRecord=data.vaccines_data_cumulative.filter(function(d){return d.date.getTime()==options.maxVDate.getTime();});var vGroup=d3_src[\"d\" /* flatGroup */](lastRecord,function(d){return d.iso_code;});data.equity_data.forEach(function(d,i){if(!vGroup.some(function(item){return item[0]===d.country_iso3;})){vGroup.push([d.country_iso3,[{country_name:d.country_name}]]);}});var sortKey;if(options.table_sort=='col0_sort')sortKey='country_name';if(options.table_sort=='col1_sort')sortKey='total_vaccinations_per_hundred';if(options.table_sort=='col2_sort')sortKey='people_vaccinated_per_hundred';if(options.table_sort=='col3_sort')sortKey='people_fully_vaccinated_per_hundred';if(options.table_sort=='col5_sort')sortKey='total_vaccinations';for(var x=0;x<6;x++){d3_src[\"m\" /* select */]('#col'+x+'_sort_desc').attr('opacity',0);d3_src[\"m\" /* select */]('#col'+x+'_sort_asc').attr('opacity',0);}d3_src[\"m\" /* select */]('#'+options.table_sort+'_'+options.table_sort_direction).attr('opacity',1);if(sortKey=='country_name'){if(options.table_sort_direction=='asc'){vGroup.sort(function(b,a){return a[1][0].country_name.localeCompare(b[1][0].country_name);});}else{vGroup.sort(function(a,b){return a[1][0].country_name.localeCompare(b[1][0].country_name);});}}else{if(options.table_sort_direction=='desc'){vGroup.sort(function(a,b){return b[1][0][sortKey]-a[1][0][sortKey];});}else{vGroup.sort(function(b,a){return b[1][0][sortKey]-a[1][0][sortKey];});}}data.vGroup=vGroup;d3_src[\"n\" /* selectAll */]('.tablerow').remove();d3_src[\"n\" /* selectAll */]('.col1bar').attr('opacity',0);d3_src[\"n\" /* selectAll */]('.col2bar').attr('opacity',0);d3_src[\"n\" /* selectAll */]('.col3bar').attr('opacity',0);d3_src[\"n\" /* selectAll */]('.colbg').attr('opacity',0);var _loop=function _loop(i){d=vGroup[i];if(!vGroup[i]){d3_src[\"m\" /* select */]('#col1bar'+i).attr('width',0);d3_src[\"m\" /* select */]('#col2bar'+i).attr('width',0);d3_src[\"m\" /* select */]('#col3bar'+i).attr('width',0);return\"continue\";}d3_src[\"m\" /* select */]('#vac-tab').append('text').attr('class','tablerow table_country_name').text(function(){var name;if(d[1][0].country_name){name=d[1][0].country_name;}else{name=d[1][0].iso_code;}name=name.substring(0,17);if(name.length==17)name=name+'.';return name;}).attr('x',0).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 1 val\nd3_src[\"m\" /* select */]('#vac-tab').append('text').attr('class','tablerow table_country_name').text(function(){var val=parseFloat(d[1][0].total_vaccinations_per_hundred).toFixed(1);if(isNaN(val)){return'';}else{return val;}}).style('text-anchor','end').attr('x',112).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 1 bar\nd3_src[\"m\" /* select */]('#col1bar'+i).attr('opacity',1).transition().duration(500).attr('width',function(){var val=d[1][0].total_vaccinations_per_hundred;if(d[1][0].total_vaccinations_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});d3_src[\"m\" /* select */]('#col1bg'+i).attr('opacity',1);// col 2 val\nd3_src[\"m\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=parseFloat(d[1][0].people_vaccinated_per_hundred).toFixed(1);if(isNaN(val)){return'';}else{return val+'%';}}).style('text-anchor','end').attr('x',223).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 2 bar\nd3_src[\"m\" /* select */]('#col2bar'+i).attr('opacity',1).transition().duration(500).attr('width',function(){var val=d[1][0].people_vaccinated_per_hundred;if(d[1][0].people_vaccinated_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});d3_src[\"m\" /* select */]('#col2bg'+i).attr('opacity',1);// col 3 val\nd3_src[\"m\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=parseFloat(d[1][0].people_fully_vaccinated_per_hundred).toFixed(1);if(isNaN(val)){return'';}else{return val+'%';}}).style('text-anchor','end').attr('x',335).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 3 bar\nd3_src[\"m\" /* select */]('#col3bar'+i).attr('opacity',1).transition().duration(500).attr('width',function(){var val=d[1][0].people_fully_vaccinated_per_hundred;if(d[1][0].people_fully_vaccinated_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});d3_src[\"m\" /* select */]('#col3bg'+i).attr('opacity',1);// col 3 bar\nd3_src[\"m\" /* select */]('#col4bar'+i).attr('opacity',1);// .transition()\n// .duration(500)\n// .attr('width', function(){\n//   var val = d[1][0].people_fully_vaccinated_per_hundred;\n//   if(d[1][0].people_fully_vaccinated_per_hundred>100){\n//     val = 100\n//   } \n//   if(isNaN(val)){ return 0} else { return 68*(val/100) }\n// });\nd3_src[\"m\" /* select */]('#col4bg'+i).attr('opacity',1);dayFormat=d3_src[\"p\" /* timeFormat */](\"%b %d\");// col 5 val\nd3_src[\"m\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=d[1][0].total_vaccinations;if(isNaN(val)){return'';}else{return nFormatter(val);}}).style('text-anchor','end').attr('x',572).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 6 val\nd3_src[\"m\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=d[1][0].lastDate;if(val){return dayFormat(val);}else{return'';}}).style('text-anchor','end').attr('x',620).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');};for(var i=0;i<10;i++){var d;var dayFormat;var _ret=_loop(i);if(_ret===\"continue\")continue;}}function createSelects(){// region select\njquery_default()('#regionSelect').select2({data:[{id:'regions',text:'IFRC Regions',children:regionOptions},{id:'countries',text:'Countries',children:countryOptions}],placeholder:'',scrollAfterSelect:true,renderTemplate:function renderTemplate(item){return item.text||\"\\u200B\";},dropdownParent:jquery_default()('#regionDrop'),shouldFocusInput:function shouldFocusInput(){return false;},templateResult:function templateResult(data){var $state=jquery_default()('<span>'+data.text+'<span>');return $state;}}).on('select2:unselecting',function(){jquery_default()(this).data('unselecting',true);}).on('select2:opening',function(e){if(jquery_default()(this).data('unselecting')){jquery_default()(this).removeData('unselecting');e.preventDefault();}});jquery_default()('#regionSelect').on('select2:select',function(e){var data=e.params.data;filter([data.id]);});jquery_default()('#regionSelect').on('select2:unselect',function(e){var data=e.params.data;filter([data.id]);});// reset locations\nd3_src[\"m\" /* select */]('#reset_locations').style('cursor','pointer').attr('opacity',1).on('click',function(){filter('clear');});}function handleSelectLength(){var values=jquery_default()('#regionSelect').select2('data');// handle height for many selections\nvar select2HeightRatio=jquery_default()('#regionSelectContainer').width()/jquery_default()('#regionSelectContainer').height();if(select2HeightRatio<10){jquery_default()('.select2-selection__choice').hide();jquery_default()('.select2-search__field').attr('placeholder',values.length+' LOCATIONS SELECTED').css('width','100%');}else{jquery_default()('.select2-search__field').attr('placeholder','');jquery_default()('.select2-selection__choice').show();}}Object(react[\"useEffect\"])(function(){init();},[]);var selectStyle={control:function control(base,state){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},base),{},{border:'1px solid #D8D8D8',boxShadow:'none','&:hover':{border:'1px solid #D8D8D8'}});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"loaderDiv\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderText\",children:loaderText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderBar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderProgress\",style:{width:progress*100+'%'}})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"regionSelectContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{id:\"regionSelect\",className:\"js-example-responsive\",name:\"states[]\",multiple:\"multiple\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"regionDrop\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"svg_container\",className:\"App\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"map_div\"})]});}function parse(p){if(isNaN(p)){return 0;}else{return p;}}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 127)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[126,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/postcss-loader/src/index.js??postcss!/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/index.css","/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/postcss-loader/src/index.js??postcss!/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/App.css","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Update.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/colors.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/HelperFunctions.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Timechart.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Regionchart.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Layout.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Options.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/ParseData.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Map.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/App.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/reportWebVitals.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/index.js"],"names":["Update","svg","options","data","colors","regions","blue","red","green","black","addCommas","nStr","x","split","x1","x2","length","rgx","test","replace","nFormatter","num","digits","lookup","value","symbol","rx","item","slice","reverse","find","toFixed","yScaleCases","yScaleDeaths","yScaleVaccines","yAxisCases","yAxisDeaths","yAxisVaccines","yScaleCasesAxis","yScaleDeathsAxis","yScaleVaccinesAxis","xScale","xAxis","xScaleAxis","xScaleEvents","maxDate","minDate","md","drawTimechart","groupedData","who_data","forEach","d","i","timeline_frequency","date","week_start","month_start","ifrc_region","new_cases","new_deaths","cumulative_cases","cumulative_deaths","dd","ii","hasOwnProperty","total_new_cases","AF","AP","AM","EU","ME","OTH","total_cumulative_cases","total_new_deaths","total_cumulative_deaths","region","push","vgroupedData","timeline_type","vaccines_data","vaccines_data_daily","new_vaccines","daily_vaccinations","cumulative_vaccines","total_new_vaccines","clone","vaccines_data_cumulative","endOfWeekDate","moment","endOf","startOf","unix","maxVDate","maxDateUnix","endOfMonthDate","total_vaccinations","total_cumulative_vaccines","filter","el","numIntervals","d3","maxCases","maxDeaths","maxVaccines","toDate","selectAll","remove","append","attr","width","barWidth","barSpacing","range","domain","scale","tickSize","tickPadding","ticks","tickFormat","yAxisGroup","yAxisCasesText","call","yAxisDeathsText","yAxisVaccinesText","xAxisCases","xAxisDeaths","xAxisVaccines","xAxisTimeline","barGroups","enter","totalNewCases","parentNode","datum","dp","y","totalNewDeaths","next","offset","vbarGroups","totalNewVaccines","tData","timeline_data","document","getElementById","appendChild","node","timelineTooltip","eventTooltip","hoverBar","on","event","coords","xDate","invert","getTime","style","tooltipStr","format","text","groupedDataFiltered","vgroupedDataFiltered","deaths","cases","vaccines","xx","events","add","subtract","select","wrap","textwrap","bounds","height","method","description","bbox","getBBox","h","ys","parseInt","Date","updateTimechart","transition","duration","maxVaccinations","xScaleCases","xScaleDeaths","xScaleVaccines","labelWidth","margin","left","top","right","rcSize","drawRegionchart","vGroup","vacGrouped","vData","sort","a","b","region_chart_toggle","regionChartContainer","rowHeight","rows","cumulative_totals","label","rowBg","t","bars","dat","dataLabel","val","updateRegionchart","id","isNaN","parseFloat","tween","end","Math","floor","random","round","selectedToggle","unselectedToggle","unselectedToggleText","selectedToggleText","Layout","updateTable","updateMap","bd","region_filter","map_toggle","toggle","hdi_filter","inform_filter","tab_toggle","timechartContainer","tcSize","timechartSvg","layer1","timechartBg","thisId","table_sort","table_sort_direction","collection","idx","indexOf","splice","country_filter","bubble_chart_color_by","bubble_chart_y_axis","ParseData","equity_data","vaccines_used","number_vaccine_types_used","vaccines_per_100","vaccines_who_data","country_iso3","ISO3","data_updated","DATE_UPDATED","NUMBER_VACCINES_TYPES_USED","TOTAL_VACCINATIONS_PER100","VACCINES_USED","map","trim","max","Date_reported","min","minDateVaccines","maxDateVaccines","maxDataDate","maxVDataDate","dayTotal","dayCheck","weekTotal","weekCheck","monthTotal","monthCheck","countryCodes","ccArray","dayOfYear","week","isoWeek","month","getMonth","year","getFullYear","New_cases","New_deaths","Cumulative_deaths","Cumulative_cases","country_code","Country_code","country_name","country_iso2","undefined","includes","Country","WHO_region","iso_code","flatGroup","newDates","hasDays","initDate","lastRecord","vDataFlat","minDt","maxDt","newDays","lastDate","day","setDate","getDate","newDay","totalVac","totalVac100","people_vaccinated_per_hundred","people_fully_vaccinated_per_hundred","total_vaccinations_per_hundred","countryName","hdi_category","match","inform_severity","original","mapboxgl","accessToken","dots","maxSize","createMap","Map","container","center","zoom","setRenderWorldCopies","addControl","NavigationControl","getCanvasContainer","world","iso2","maxValue","country","rScale","exponent","render","project","lng","lat","delay","percent_change","clamp","peoplevaccinated","mapTooltip","substr","countryfiltered","str","abs","window","innerWidth","heightOffset","toElement","LngLat","equityDataUrl","layoutUrl","whoDataUrl","worldUrl","vaccinesDataUrl","vaccinesWhoDataUrl","timelineDataUrl","keyFiguresDataUrl","regionOptions","countryOptions","App","useState","progress","setProgress","loaderText","setLoaderText","init","layout","then","documentElement","equityData","createSelects","vaccinesData","vaccinesWhoData","timelineData","keyFiguresData","key_figures","whoData","createCharts","updateTotals","e","hdi_countries","inform_countries","code","substring","countryIds","mergeFilter","concat","$","trigger","handleSelectLength","updateCharts","totalCases","totalDeaths","numCountriesFiltered","countries","cases4weeksAgo","cases2WeeksAgo","cases1WeeksAgo","casesLatest","percentChange","isFinite","hdiData","hdiTotalCasesData","informData","informTotalCasesData","vaccine_types","vaccinesper100","ddd","population","vtooltipbbox","avgVacPer100ByCountry","newCases","parse","textTween","some","sortKey","localeCompare","name","dayFormat","select2","children","placeholder","scrollAfterSelect","renderTemplate","dropdownParent","shouldFocusInput","templateResult","$state","removeData","preventDefault","params","values","select2HeightRatio","hide","css","show","useEffect","selectStyle","control","base","state","border","boxShadow","p","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import * as d3 from \"d3\";\n\nfunction Update(svg,options,data) {\n\n\n}\n\nexport default Update;\n","// default options\nconst colors = {\n    regions: {\n        'AP': '#E02225', \n        'AM': '#C9C4C1', \n        'EU': '#771A13', \n        'ME': '#0A3248', \n        'AF': '#FCD204', \n    },\n    blue: '#1F558C',\n    red: '#E02225',\n    green: '#D8EF8B',\n    black: '#595454',\n}\n\nexport default colors;\n","export function addCommas(nStr){\n    nStr += '';\n    let x = nStr.split('.');\n    let x1 = x[0];\n    let x2 = x.length > 1 ? '.' + x[1] : '';\n    var rgx = /(\\d+)(\\d{3})/;\n    while (rgx.test(x1)) {\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n    return x1 + x2;\n}\n\nexport function nFormatter(num, digits = 1) {\n    const lookup = [\n      { value: 1, symbol: \"\" },\n      { value: 1e3, symbol: \"k\" },\n      { value: 1e6, symbol: \"M\" },\n      { value: 1e9, symbol: \"B\" },\n      { value: 1e12, symbol: \"T\" },\n      { value: 1e15, symbol: \"P\" },\n      { value: 1e18, symbol: \"E\" }\n    ];\n    const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n    var item = lookup.slice().reverse().find(function(item) {\n      return num >= item.value;\n    });\n    return item ? (num / item.value).toFixed(digits).replace(rx, \"$1\") + item.symbol : \"0\";\n\n\n  }\n  \n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {nFormatter} from './HelperFunctions';\nimport { textwrap } from 'd3-textwrap';\nimport clone from 'just-clone';\n\nlet yScaleCases;\nlet yScaleDeaths;\nlet yScaleVaccines;\nlet yAxisCases;\nlet yAxisDeaths;\nlet yAxisVaccines;\nlet yScaleCasesAxis;\nlet yScaleDeathsAxis;\nlet yScaleVaccinesAxis;\nlet xScale;\nlet xAxis; \nlet xScaleAxis;\nlet xScaleEvents;\nlet maxDate; \nlet minDate;\nlet md; \n\nconst regions = ['AF', 'ME', 'AP', 'EU', 'AM', 'OTH'];\n\nexport function drawTimechart(data, options) {\n\n    minDate = options.minDate;\n    maxDate = options.maxDate;\n\n    const groupedData = [];\n\n    data.who_data.forEach(function(d,i){\n        if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']] = {};\n        if(options.timeline_frequency==='day') groupedData[d[options.timeline_frequency+'Total']].date = d.date;\n        if(options.timeline_frequency==='week') groupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n        if(options.timeline_frequency==='month') groupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n        if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases += d.new_cases;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths += d.new_deaths;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases = 0;\n    });\n\n    // totals by date\n    groupedData.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if(!d.hasOwnProperty(dd)){\n               d[dd] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n            }\n            // if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n            if(i>0){\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases + groupedData[i-1][dd].cumulative_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths + groupedData[i-1][dd].cumulative_deaths;\n            } else {\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths;\n            }\n        })\n\n        d.total_new_cases = d.AF.new_cases + d.AP.new_cases + d.AM.new_cases + d.EU.new_cases + d.ME.new_cases + d.OTH.new_cases; \n        d.total_cumulative_cases = d.AF.cumulative_cases + d.AP.cumulative_cases + d.AM.cumulative_cases + d.EU.cumulative_cases + d.ME.cumulative_cases + d.OTH.cumulative_cases; \n        d.total_new_deaths = d.AF.new_deaths + d.AP.new_deaths + d.AM.new_deaths + d.EU.new_deaths + d.ME.new_deaths + d.OTH.new_deaths; \n        d.total_cumulative_deaths = d.AF.cumulative_deaths + d.AP.cumulative_deaths + d.AM.cumulative_deaths + d.EU.cumulative_deaths + d.ME.cumulative_deaths + d.OTH.cumulative_deaths; \n        d.region = [];\n\n        regions.forEach(function(dd,ii){\n            d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n        })\n\n    });\n\n    let vgroupedData = [];\n\n    if(options.timeline_type!='cumulative'){ // cumulative and stacked\n        data.vaccines_data = data.vaccines_data_daily;\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines += d.daily_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {new_vaccines: 0, cumulative_vaccines: 0}\n                }\n            });\n            d.total_new_vaccines = d.AF.new_vaccines + d.AP.new_vaccines + d.AM.new_vaccines + d.EU.new_vaccines + d.ME.new_vaccines + d.OTH.new_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'new_vaccines': d[dd].new_vaccines});\n            })\n        });\n\n    } else{ // cumulative only\n        data.vaccines_data = [];\n        if(options.timeline_frequency==='day') {\n            data.vaccines_data = clone(data.vaccines_data_cumulative);\n        }\n        if(options.timeline_frequency==='week') {\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfWeekDate = moment(d.date).endOf('isoWeek').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfWeekDate)||(date==moment(options.maxVDate).startOf('day').unix())){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n        if(options.timeline_frequency==='month') {\n            var maxDateUnix = moment(options.maxVDate).startOf('day').unix();\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfMonthDate = moment(d.date).endOf('month').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfMonthDate)||((moment(options.maxVDate).startOf('day').unix()!=endOfMonthDate)&&(date==maxDateUnix))){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {cumulative_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines += d.total_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {cumulative_vaccines: 0}\n                }\n            });\n            d.total_cumulative_vaccines = d.AF.cumulative_vaccines + d.AP.cumulative_vaccines + d.AM.cumulative_vaccines + d.EU.cumulative_vaccines + d.ME.cumulative_vaccines + d.OTH.cumulative_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'cumulative_vaccines': d[dd].cumulative_vaccines});\n            })\n        });\n    }\n\n    vgroupedData = vgroupedData.filter(function(el) { return el; });\n\n    const numIntervals = d3.max(data.who_data, function(d,i){\n        return d[options.timeline_frequency+'Total'];\n    });\n\n    const maxCases = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_cases;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_cases;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxDeaths = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_deaths;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_deaths;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxVaccines = d3.max(vgroupedData, function(d,i){\n        if(d){\n            if(options.timeline_type==='non-cumulative') return d.total_new_vaccines;\n            if(options.timeline_type==='cumulative') return d.total_cumulative_vaccines;\n            if(options.timeline_type==='stacked') return 100;\n        }\n    })\n\n    // define date range\n    // const minDate = groupedData[0].date;\n    // const maxDate = groupedData[numIntervals].date;\n    // const minDate = groupedData[0].date;\n\n\n    // if(options.timeline_frequency==='month') md = md.add(1, 'months');\n    // if(options.timeline_frequency==='week') md = md.add(1, 'weeks');\n    if(options.timeline_frequency==='month') minDate = moment(minDate).startOf('month').startOf('day').toDate();\n    if(options.timeline_frequency==='month') maxDate = moment(maxDate).endOf('month').startOf('day').toDate();\n    if(options.timeline_frequency==='week') maxDate = moment(maxDate).endOf('isoWeek').startOf('day').toDate();\n\n    md = moment(maxDate);\n    // if(options.timeline_frequency==='day') md = moment(md).add(1, 'days').toDate();\n\n    const svg = d3.select('#timechart_svg');\n    svg.selectAll('g').remove();\n    d3.selectAll('#layout .yAxis').remove();\n    d3.selectAll('#yAxis').remove();\n    d3.selectAll('#layout .xAxis').remove();\n\n    //bg\n    svg.append('g').append('rect')\n    .attr('width', '100%')\n    .attr('height', '100%')\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr('fill', '#FFF')\n    .attr('opacity', 0);\n\n    const width = 2000;\n    const barWidth = width/numIntervals;\n\n    let barSpacing = 0.04; \n    if(options.timeline_frequency==='month') barSpacing = 0.03;\n    if(options.timeline_frequency==='day') barSpacing = 0;\n\n    // define scales\n\n    xScale = d3.scaleTime()\n    .range([0,width])\n    .domain([minDate,md]);\n\n    xScaleAxis = d3.scaleTime()\n    .range([0,596])\n    .domain([minDate,md]);\n\n    yScaleCases = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxCases]);\n\n    yScaleCasesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxCases]);\n\n    yScaleDeaths = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxDeaths]);\n\n    yScaleDeathsAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxDeaths]);\n\n    yScaleVaccines = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxVaccines]);\n\n    yScaleVaccinesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxVaccines]);\n\n    // define axi\n    \n    xAxis = d3.axisBottom()\n    .scale(xScaleAxis)\n    .tickSize(2)\n    .tickPadding(3);\n\n    // if(options.timeline_frequency=='month')\n    // xAxis.ticks(d3.timeMonth.every(3)).tickFormat(d3.timeFormat(\"%b %Y\"));\n\n    // if(options.timeline_frequency=='week')\n    // xAxis.ticks(d3.timeWeek.every(10)).tickFormat(d3.timeFormat(\"%d %b %Y\"));\n\n    yAxisCases = d3.axisRight()\n    .scale(yScaleCasesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisDeaths = d3.axisRight()\n    .scale(yScaleDeathsAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisVaccines = d3.axisRight()\n    .scale(yScaleVaccinesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    // y-axis cases\n    var yAxisGroup = d3.select('#layout').append(\"g\").attr('id', 'yAxis').attr('clip-path', 'url(#mask)');\n\n    var yAxisCasesText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"casesAxis\")\n    .attr('transform', 'translate(620,363)')\n    .call(yAxisCases);\n\n    // y-axis deaths\n    var yAxisDeathsText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"deathsAxis\")\n    .attr('transform', 'translate(620,534)')\n    .call(yAxisDeaths);\n\n    // y-axis vaccines\n    var yAxisVaccinesText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"VaccinesAxis\")\n    .attr('transform', 'translate(620,707.5)')\n    .call(yAxisVaccines);\n\n    // x-axis cases\n    var xAxisCases = yAxisGroup.append('g')\n    .attr(\"id\", \"casesXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,504)')\n    .call(xAxis);\n\n    var xAxisDeaths = yAxisGroup.append('g')\n    .attr(\"id\", \"deathsXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,674)')\n    .call(xAxis);\n\n    var xAxisVaccines = yAxisGroup.append('g')\n    .attr(\"id\", \"vaccinesXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,848)')\n    .call(xAxis);\n\n    var xAxisTimeline = yAxisGroup.append('g')\n    .attr(\"id\", \"timelineXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,908)')\n    .call(xAxis);\n\n    // CASES\n    // loop through groupedData and draw bars\n    const barGroups = svg.selectAll('.bar_group')\n    .data(groupedData)\n    .enter()\n    .append('g')\n    .attr('class', 'bar_group')\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+')'\n    })\n\n    // CASES\n    barGroups.selectAll('.cases_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', function(d,i) { return 'timeBar cases_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_cases;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleCases(d.cumulative_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleCases(d.new_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_cases/totalNewCases))-((140*(dp/totalNewCases))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleCases(d.cumulative_cases);\n        if(options.timeline_type==='non-cumulative') y = yScaleCases(d.new_cases);\n        if(options.timeline_type==='stacked') y = (140*(d.new_cases/totalNewCases));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    })\n\n    // DEATHS\n    barGroups.selectAll('.deaths_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', function(d,i) { return 'timeBar deaths_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_deaths;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleDeaths(d.cumulative_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleDeaths(d.new_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_deaths/totalNewDeaths))-((140*(dp/totalNewDeaths)))+170)\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleDeaths(d.cumulative_deaths);\n        if(options.timeline_type==='non-cumulative') y = yScaleDeaths(d.new_deaths);\n        if(options.timeline_type==='stacked') y = (140*(d.new_deaths/totalNewDeaths));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    });\n\n    // bar size tweak for spacing\n    if(options.timeline_frequency==='month'){\n        barGroups.selectAll(\".timeBar\")\n        .attr(\"width\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(1-barSpacing);\n            })\n        .attr(\"x\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(barSpacing/2);\n            })\n        }\n\n    // VACCINES\n\n    const vbarGroups = svg.selectAll('.vbar_group')\n    .data(vgroupedData)\n    .enter()\n    .append('g')\n    .attr('class', 'vbar_group')\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+', 344)'\n    })\n   \n    vbarGroups.selectAll('.vaccines_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', 'timeBar vaccines_bar')\n    .attr('class', function(d,i) { return 'timeBar vaccines_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_vaccines;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleVaccines(d.cumulative_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleVaccines(d.new_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_vaccines/totalNewVaccines))-((140*(dp/totalNewVaccines))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleVaccines(d.cumulative_vaccines);\n        if(options.timeline_type==='non-cumulative') y = yScaleVaccines(d.new_vaccines);\n        if(options.timeline_type==='stacked') y = (140*(d.new_vaccines/totalNewVaccines));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    });\n\n    if(options.timeline_frequency==='month'){\n    vbarGroups.selectAll(\".timeBar\")\n    .attr(\"width\", function(d) {\n        var date = d3.select(this.parentNode).datum().date;\n        var next = d3.timeMonth.offset(date, 1);\n        return (xScale(next)- xScale(date))*(1-barSpacing);\n        })\n    .attr(\"x\", function(d) {\n        var date = d3.select(this.parentNode).datum().date;\n        var next = d3.timeMonth.offset(date, 1);\n        return (xScale(next)- xScale(date))*(barSpacing/2);\n        })\n    }\n\n    // bar size tweak for spacing\n    if(options.timeline_frequency==='month'){\n        barGroups.selectAll(\".timeBar\")\n        .attr(\"width\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(1-barSpacing);\n          })\n        .attr(\"x\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(barSpacing/2);\n          })\n        }\n\n    data.vgroupedData = vgroupedData;\n    data.groupedData = groupedData;\n\n        // tooltips\n\n        // events calendar timeline\n        var tData = data.timeline_data;\n\n        xScaleEvents = d3.scaleTime()\n        .range([25,619])\n        .domain([minDate,md]);\n        \n        // bring to front\n       document.getElementById(\"svg\").appendChild(d3.select('#timeline_tooltip').node());\n       document.getElementById(\"svg\").appendChild(d3.select('#event_tooltip').node());\n       var timelineTooltip = d3.select('#timeline_tooltip').attr('opacity', 0);\n       var eventTooltip = d3.select('#event_tooltip').attr('opacity', 0);\n\n        // hover bar\n        var hoverBar = svg.append('rect')\n        .attr('id','timechart_hover')\n        .attr('width', barWidth)\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('opacity', 0)\n        .attr('height', '100%')\n        .attr('fill', 'rgb(221 221 221 / 40%)')\n\n        d3.select('#timechart_svg').on('mouseover',  (event) => {\n\n            var coords = d3.pointer( event );\n            hoverBar.attr('opacity', 1)\n\n            var xDate = xScale.invert(coords[0]);\n\n            if(options.timeline_frequency=='week') {\n                xDate = moment(xDate).startOf('isoWeek');\n            }\n            if(options.timeline_frequency=='day') {\n                xDate = moment(xDate).startOf('day');\n            }\n            if(options.timeline_frequency=='month') {\n                xDate = moment(xDate).startOf('month');\n            }\n\n            if(coords[1]<470){\n                timelineTooltip.attr('opacity', 1).attr('display', 'inline');\n                hoverBar.attr('height', '100%');\n            } else if(coords[1]>510){\n                eventTooltip.attr('opacity', 1);\n                hoverBar.attr('height', '90%');\n            } else {\n                eventTooltip.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n                hoverBar.attr('height', '100%');\n            }\n\n            if((xDate.toDate().getTime()<minDate.getTime())){\n                hoverBar.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n            }\n\n            d3.select('#svg_container').style('z-index', 10);\n\n        }).on('mouseout',  (event) => {\n            hoverBar.attr('opacity', 0)\n            timelineTooltip.attr('opacity', 0).attr('display', 'none');\n            // timelineTooltip.attr('opacity', 0).attr('transform', 'translate(0,0)');\n            d3.select('#svg_container').style('z-index', 1);\n            eventTooltip.attr('opacity', 0).attr('transform', 'translate(0,0)');\n            d3.selectAll('.event_marker path').style('stroke', 'grey').attr('opacity', 0.8);\n        })\n        .on('mousemove', (event) => {\n            var coords = d3.pointer( event );\n            var xDate = xScale.invert(coords[0]);\n            var tooltipStr = '';\n            if(options.timeline_frequency=='week') {\n                xDate = moment(xDate).startOf('isoWeek');\n                tooltipStr = xDate.format('ll');\n                d3.select('#timeline_tooltip_date tspan').text(tooltipStr);\n            }\n            if(options.timeline_frequency=='day') {\n                xDate = moment(xDate).startOf('day');\n                tooltipStr = xDate.format('ll');\n                d3.select('#timeline_tooltip_date tspan').text(tooltipStr);\n            }\n            if(options.timeline_frequency=='month') {\n                xDate = moment(xDate).startOf('month');\n                tooltipStr = xDate.format('MMMM YYYY');\n                d3.select('#timeline_tooltip_date tspan').text(tooltipStr);\n            }\n            hoverBar.attr('x', xScale(xDate.toDate()));\n\n            var groupedDataFiltered = data.groupedData.filter(function(d,i){\n                return moment(d.date).startOf('day').unix() == xDate.startOf('day').unix();\n            });\n            var vgroupedDataFiltered = data.vgroupedData.filter(function(d,i){\n                return moment(d.date).startOf('day').unix() == xDate.startOf('day').unix();\n            });\n\n            var deaths = '-';\n            var cases = '-';\n            var vaccines = '-';\n            if(options.timeline_type=='cumulative'){ \n                // cumulative\n                if(groupedDataFiltered[0]) cases = nFormatter(groupedDataFiltered[0].total_cumulative_cases, 2);\n                if(groupedDataFiltered[0]) deaths = nFormatter(groupedDataFiltered[0].total_cumulative_deaths, 2);\n                if(vgroupedDataFiltered[0]) vaccines = nFormatter(vgroupedDataFiltered[0].total_cumulative_vaccines, 2);\n            } else {\n                // non-cumulative/stacked\n                if(groupedDataFiltered[0]) cases = nFormatter(groupedDataFiltered[0].total_new_cases, 2);\n                if(groupedDataFiltered[0]) deaths = nFormatter(groupedDataFiltered[0].total_new_deaths, 2);\n                if(vgroupedDataFiltered[0]) vaccines = nFormatter(vgroupedDataFiltered[0].total_new_vaccines, 2);\n            }\n\n            d3.select('#tooltip_cases tspan').text((cases)).attr(\"text-anchor\", \"end\").attr('dx', 32)\n            d3.select('#tooltip_deaths tspan').text((deaths)).attr(\"text-anchor\", \"end\").attr('dx', 32)\n            d3.select('#tooltip_vaccines tspan').text((vaccines)).attr(\"text-anchor\", \"end\").attr('dx', 32)\n\n            // if((xDate.toDate().getTime()>options.maxDate.getTime())){\n            //     hoverBar.attr('opacity', 0);\n            // // } else \n            if(((xDate.toDate().getTime()<minDate.getTime()))&&(options.timeline_frequency=='day')){\n                hoverBar.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n            }\n\n            if(options.timeline_frequency=='month'){\n                hoverBar.attr('width', function(){\n                   return xScale(moment(xDate).endOf('month')) - xScale(moment(xDate).startOf('month'));\n                })\n            }\n            timelineTooltip.attr('transform', function(){\n                if(options.timeline_frequency=='month') { \n                    return 'translate('+((xScaleEvents(xDate.toDate()))+(barWidth/3.5))+','+(coords[1]+343)+')';\n                }\n                return 'translate('+(xScaleEvents(xDate.toDate())+(18))+','+(coords[1]+343)+')';\n            })\n\n            if(coords[1]<470){\n                timelineTooltip.attr('opacity', 1);\n                hoverBar.attr('opacity', 1);\n                hoverBar.attr('height', '100%');\n            } else if(coords[1]>510){\n                eventTooltip.attr('opacity', 1);\n                hoverBar.attr('height', '90%');\n                var x = moment(xScale.invert(coords[0])).startOf('day');\n                var xx = (xScale.invert(coords[0]))\n                eventTooltip.attr('transform', function(){\n                    return 'translate('+(xScaleEvents(x.toDate())+(-3))+','+(817)+')';\n                });\n\n                var events = tData.filter(function(d,i){\n                    return moment(d.date).startOf('day').unix() == x.unix()\n                });\n\n                // select nearest neighbor for ux purposes \n                if(events.length==0){\n                    events = tData.filter(function(d,i){\n                        return ((moment(d.date).startOf('day').unix() <= moment(x).add(1, 'days').unix())&&(moment(d.date).startOf('day').unix() >= moment(x).subtract(1, 'days').unix()))\n                    });\n                }\n                \n                if(events.length>0){\n\n                    d3.select('#event-'+moment(events[0].date).startOf('day').unix()).select('path').style('stroke', '#000').attr('opacity', 1);\n                    tooltipStr = moment(events[0].date).startOf('day').format('ll');\n                    d3.select('#event_tooltip_date tspan').text(tooltipStr);\n\n                    var wrap = textwrap().bounds({height: 200, width: 230}).method('tspans');\n                    var event = d3.select('#event_tooltip_text').text(events[0].description)\n                    .attr('y', 18)\n                    .attr('x', 6)\n                    d3.select('#event_tooltip_text').call(wrap);\n\n                    d3.selectAll('#event_tooltip_text tspan').attr('dy', '1.3em');\n                    var bbox = d3.select('#event_tooltip_text').node().getBBox();\n                    d3.select('#event_tooltip_rect').attr('width', bbox.width+17)\n                    .attr('height', bbox.height +26 );\n\n                    var h = d3.select('#event_tooltip_rect').attr('height');\n                    var ys = 0;\n\n                    if(bbox.height<20){\n                        ys = 19;\n                    } else if(bbox.height<30){\n                        ys = 9;\n                    } else if(bbox.height<40){\n                        ys = 0;\n                    } else if(bbox.height<50){\n                        ys = -20;\n                    } else if(bbox.height<60){\n                        ys = -20;\n                    }\n\n                    var y = d3.select('#event_tooltip_rect').attr('y');\n\n                    d3.select('#event_tooltip_rect').attr('y', ys);\n                    \n                    d3.selectAll('#event_tooltip_text').attr('y', function(d,i){\n                        return parseInt(d3.select(this).attr('y')) + ys;\n                    });\n\n                    d3.selectAll('#event_tooltip_date tspan').attr('dy', function(d,i){\n                        return ys;\n                    });\n\n                    eventTooltip.attr('opacity', 1);\n\n                } else {\n                    d3.selectAll('.event_marker path').style('stroke', 'grey')\n                    .attr('opacity', 0.8);\n                    eventTooltip.attr('opacity', 0);\n                }\n            } else {\n                eventTooltip.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n                hoverBar.attr('opacity', 0);\n                hoverBar.attr('height', '100%');\n            }\n\n            if((options.timeline_frequency=='day')&&((xDate.toDate().getTime()<minDate.getTime()))){\n                hoverBar.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n                return false;\n            }\n        });\n\n        tData = tData.filter(d => d.date.length > 0);\n\n        yAxisGroup.append('g').selectAll('.event_marker')\n        .data(tData)\n        .enter()\n        .append('g')\n        .attr('class', 'event_marker')\n        .attr('id', function(d,i){\n            return 'event-'+moment(d.date).startOf('day').unix();\n        })\n        .attr('transform', function(d){\n            var x = xScaleEvents(new Date(d.date));\n            return 'translate('+(x)+', 893)';\n        })\n        .append('path')\n        .attr('d', \"M0,-6L4,0 0,6 -4,0Z\")\n        .style('stroke', 'grey')\n        .attr('opacity', 0.8)\n        .style('stroke-width',3.5)\n        .style('fill', 'white');\n\n}\n\nexport function updateTimechart(data, options) {\n\n    const groupedData = [];\n\n    data.who_data.forEach(function(d,i){\n        if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']] = {};\n        if(options.timeline_frequency==='day') groupedData[d[options.timeline_frequency+'Total']].date = d.date;\n        if(options.timeline_frequency==='week') groupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n        if(options.timeline_frequency==='month') groupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n        if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases += d.new_cases;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths += d.new_deaths;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases = 0;\n    });\n\n    // totals by date\n    groupedData.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if(!d.hasOwnProperty(dd)){\n               d[dd] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n            }\n            // if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n            if(i>0){\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases + groupedData[i-1][dd].cumulative_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths + groupedData[i-1][dd].cumulative_deaths;\n            } else {\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths;\n            }\n        })\n\n        d.total_new_cases = d.AF.new_cases + d.AP.new_cases + d.AM.new_cases + d.EU.new_cases + d.ME.new_cases + d.OTH.new_cases; \n        d.total_cumulative_cases = d.AF.cumulative_cases + d.AP.cumulative_cases + d.AM.cumulative_cases + d.EU.cumulative_cases + d.ME.cumulative_cases + d.OTH.cumulative_cases; \n        d.total_new_deaths = d.AF.new_deaths + d.AP.new_deaths + d.AM.new_deaths + d.EU.new_deaths + d.ME.new_deaths + d.OTH.new_deaths; \n        d.total_cumulative_deaths = d.AF.cumulative_deaths + d.AP.cumulative_deaths + d.AM.cumulative_deaths + d.EU.cumulative_deaths + d.ME.cumulative_deaths + d.OTH.cumulative_deaths; \n        d.region = [];\n\n        regions.forEach(function(dd,ii){\n            d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n        })\n\n    });\n\n    let vgroupedData = [];\n\n    if(options.timeline_type!='cumulative'){ // cumulative and stacked\n        data.vaccines_data = data.vaccines_data_daily;\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('isoWeek').toDate();\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('month').toDate();\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines += d.daily_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {new_vaccines: 0, cumulative_vaccines: 0}\n                }\n            });\n            d.total_new_vaccines = d.AF.new_vaccines + d.AP.new_vaccines + d.AM.new_vaccines + d.EU.new_vaccines + d.ME.new_vaccines + d.OTH.new_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'new_vaccines': d[dd].new_vaccines});\n            })\n        });\n\n    } else{ // cumulative only\n        data.vaccines_data = [];\n        if(options.timeline_frequency==='day') {\n            data.vaccines_data = clone(data.vaccines_data_cumulative);\n        }\n        if(options.timeline_frequency==='week') {\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfWeekDate = moment(d.date).endOf('isoWeek').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfWeekDate)||(date==moment(options.maxVDate).startOf('day').unix())){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n        if(options.timeline_frequency==='month') {\n            var maxDateUnix = moment(options.maxVDate).startOf('day').unix();\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfMonthDate = moment(d.date).endOf('month').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfMonthDate)||((moment(options.maxVDate).startOf('day').unix()!=endOfMonthDate)&&(date==maxDateUnix))){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('isoWeek').toDate();\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('month').toDate();\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {cumulative_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines += d.total_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {cumulative_vaccines: 0}\n                }\n            });\n            d.total_cumulative_vaccines = d.AF.cumulative_vaccines + d.AP.cumulative_vaccines + d.AM.cumulative_vaccines + d.EU.cumulative_vaccines + d.ME.cumulative_vaccines + d.OTH.cumulative_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'cumulative_vaccines': d[dd].cumulative_vaccines});\n            })\n        });\n    }\n\n    vgroupedData = vgroupedData.filter(function(el) { return el; });\n\n    const numIntervals = d3.max(data.who_data, function(d,i){\n        return d[options.timeline_frequency+'Total'];\n    });\n\n    const maxCases = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_cases;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_cases;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxDeaths = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_deaths;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_deaths;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxVaccines = d3.max(vgroupedData, function(d,i){\n        if(d){\n            if(options.timeline_type==='non-cumulative') return d.total_new_vaccines;\n            if(options.timeline_type==='cumulative') return d.total_cumulative_vaccines;\n            if(options.timeline_type==='stacked') return 100;\n        }\n    })\n\n    const svg = d3.select('#timechart_svg');\n\n    const width = 2000;\n    const barWidth = width/numIntervals;\n\n    let barSpacing = 0.04; \n    if(options.timeline_frequency==='month') barSpacing = 0.03;\n    if(options.timeline_frequency==='day') barSpacing = 0;\n\n    // define scales\n\n    xScale = d3.scaleTime()\n    .range([0,width])\n    .domain([minDate,md]);\n\n    xScaleAxis = d3.scaleTime()\n    .range([23,596])\n    .domain([minDate,md]);\n\n    yScaleCases = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxCases]);\n\n    yScaleCasesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxCases]);\n\n    yScaleDeaths = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxDeaths]);\n\n    yScaleDeathsAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxDeaths]);\n\n    yScaleVaccines = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxVaccines]);\n\n    yScaleVaccinesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxVaccines]);\n\n    // define axi\n    \n    yAxisCases = d3.axisRight()\n    .scale(yScaleCasesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisDeaths = d3.axisRight()\n    .scale(yScaleDeathsAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisVaccines = d3.axisRight()\n    .scale(yScaleVaccinesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    // y-axis cases\n    var yAxisCasesText = d3.select('#casesAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisCases);\n\n    // y-axis deaths\n    var yAxisDeathsText = d3.select('#deathsAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisDeaths);\n\n    // y-axis vaccines\n    var yAxisVaccinesText = d3.select('#VaccinesAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisVaccines);\n\n    // CASES\n    // loop through groupedData and draw bars\n    const barGroups = svg.selectAll('.bar_group')\n    .data(groupedData)\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+')'\n    })\n\n    // CASES\n    barGroups.selectAll('.cases_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_cases;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleCases(d.cumulative_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleCases(d.new_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_cases/totalNewCases))-((140*(dp/totalNewCases))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleCases(d.cumulative_cases);\n        if(options.timeline_type==='non-cumulative') y = yScaleCases(d.new_cases);\n        if(options.timeline_type==='stacked') y = (140*(d.new_cases/totalNewCases));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n        return 'blue'\n    })\n\n    // // DEATHS\n    barGroups.selectAll('.deaths_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_deaths;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleDeaths(d.cumulative_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleDeaths(d.new_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_deaths/totalNewDeaths))-((140*(dp/totalNewDeaths)))+170)\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleDeaths(d.cumulative_deaths);\n        if(options.timeline_type==='non-cumulative') y = yScaleDeaths(d.new_deaths);\n        if(options.timeline_type==='stacked') y = (140*(d.new_deaths/totalNewDeaths));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n\n    if(groupedData.length==0){\n        d3.selectAll('.cases_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140)\n        .attr('height', 0)\n\n        d3.selectAll('.deaths_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140+170)\n        .attr('height', 0)\n        \n    }\n    // // VACCINES\n\n    const vbarGroups = svg.selectAll('.vbar_group')\n    .data(vgroupedData)\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+', 344)'\n    })\n\n    vbarGroups.selectAll('.vaccines_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_vaccines;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleVaccines(d.cumulative_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleVaccines(d.new_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_vaccines/totalNewVaccines))-((140*(dp/totalNewVaccines))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleVaccines(d.cumulative_vaccines);\n        if(options.timeline_type==='non-cumulative') y = yScaleVaccines(d.new_vaccines);\n        if(options.timeline_type==='stacked') y = (140*(d.new_vaccines/totalNewVaccines));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    });\n\n    if(vgroupedData.length==0){\n        d3.selectAll('.vaccines_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140)\n        .attr('height', 0)\n    }\n   \n    // // bar size tweak for spacing\n    // if(options.timeline_frequency==='month'){\n    //     barGroups.selectAll(\".timeBar\")\n    //     .attr(\"width\", function(d) {\n    //         var date = d3.select(this.parentNode).datum().date;\n    //         var next = d3.timeMonth.offset(date, 1);\n    //         return (xScale(next)- xScale(date))*(1-barSpacing);\n    //       })\n    //     .attr(\"x\", function(d) {\n    //         var date = d3.select(this.parentNode).datum().date;\n    //         var next = d3.timeMonth.offset(date, 1);\n    //         return (xScale(next)- xScale(date))*(barSpacing/2);\n    //       })\n    //     }\n    data.vgroupedData = vgroupedData;\n    data.groupedData = groupedData;\n\n}\n\nexport default drawTimechart;\n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {addCommas} from './HelperFunctions';\nimport {filter} from './App';\n\nlet maxCases;\nlet maxDeaths;\nlet maxVaccinations;\nlet xScaleCases; \nlet xScaleDeaths;\nlet xScaleVaccines;\nlet labelWidth; \nconst regions = ['AF', 'ME', 'AP', 'EU', 'AM', 'OTH'];\nconst margin = { left: 20, top: 0, right: 58 };\nlet rcSize; \nlet groupedData = [];\n\nexport function drawRegionchart(data, options, filter) {\n\n    groupedData = [];\n\n    const barSpacing = 0.1;\n\n    regions.forEach(function(d,i){\n        // if(d!='OTH') // remove OTH\n        groupedData.push({ region: d, cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0});\n    })\n\n    data.who_data.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if((dd==d.ifrc_region)){ // remove OTH\n                groupedData[ii].cumulative_cases += d.new_cases;\n                groupedData[ii].cumulative_deaths += d.new_deaths;\n            }\n        })\n    });\n\n    maxCases = d3.max(groupedData, function(d,i){\n        return d.cumulative_cases;\n    })\n\n    maxDeaths = d3.max(groupedData, function(d,i){\n        return d.cumulative_deaths;\n    })\n\n    // vaccinations max date records\n    var vGroup = d3.flatGroup(data.vaccines_data_cumulative, d => d.date);\n\n    var vacGrouped = vGroup[vGroup.length-1];\n\n    var vData = [];\n    vacGrouped[1].forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if((dd==d.ifrc_region)&&(dd!='OTH')){ // remove OTH\n                groupedData[ii].cumulative_vaccines += d.total_vaccinations;\n            }\n        })\n    });\n\n    groupedData.sort(function(a,b){\n        if(options.region_chart_toggle == 'cases') return (b.cumulative_cases) - (a.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return (b.cumulative_deaths) - (a.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return (b.cumulative_vaccines) - (a.cumulative_vaccines); \n    });\n\n    maxVaccinations = d3.max(groupedData, function(d,i){\n        return d.cumulative_vaccines;\n    })\n\n    // append region chart containerg\n    const regionChartContainer = d3.select('#layout #region_chart_container').attr('opacity', 0);\n    rcSize = {\n        x: regionChartContainer.attr('x'), y: regionChartContainer.attr('y'), width: regionChartContainer.attr('width'), height: regionChartContainer.attr('height')\n    }\n\n    const svg = d3.select('#layout').append('g').attr('transform', 'translate('+rcSize.x+', '+rcSize.y+')')\n    .attr('id', 'region_chart');\n\n\tvar rowHeight = rcSize.height/(groupedData.length-1); // remove OTH\n\n    var rows = svg.selectAll('.bar-row')\n\t.data(groupedData.filter(d=>d.region!=='OTH'))\n\t.enter()\n\t.append('g')\n\t.attr('class', 'bar-row')\n\t.attr('transform', function(d,i){\n\t\treturn 'translate(0,' + ((i*rowHeight) + margin.top) + ')';\n\t});\n\n    options.cumulative_totals = groupedData;\n    \n    var label = rows.append('text')\n\t.attr('y', rowHeight/2 )\n    .attr('x', margin.left-5)\n\t.attr('class', function(d,i){ return 'bar-labels bar-label-'+d.region })\n\t.style('alignment-baseline', 'middle')\n\t.style('font-size', '11px')\n    .attr('opacity', 1)\n\t.attr('fill', '#000')\n\t.text(function(d,i){\n\t\tif(d.region==='AM') return 'Americas';\n\t\tif(d.region==='EU') return 'Europe';\n\t\tif(d.region==='AF') return 'Africa';\n\t\tif(d.region==='ME') return 'Middle East and North Africa';\n\t\tif(d.region==='AP') return 'Asia-Pacific';\n\t}).style('text-anchor', 'end');\n\n    labelWidth = rows.node().getBBox().width + margin.left;\n\tlabel.attr('x', labelWidth+89);\n\tlabelWidth = labelWidth + 94;\n    d3.selectAll('.timeBar').attr('opacity',1);\n    \n    var rowBg = rows.append('rect')\n\t.attr('y', 0)\n\t.attr('x', 0)\n\t.attr('width', labelWidth)\n\t.attr('height', rowHeight-2)\n\t.style('opacity', 0)\n    .attr('fill', 'grey')\n\t.style('cursor', 'pointer')\n\t.attr('class', function(d,i){ return 'bar-bg-'+d.region })\n\t.attr('data-id', function(d,i){ return d.region })\n\t.on('mouseover', function(d){\n\t\td3.select(this).style('opacity', 0.1);\n        // var dat = d3.select(this.parentNode).datum();\n        // d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n        // d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n\t})\n\t.on('mouseout', function(){\n\t\td3.select(this).style('opacity', 0);\n        // d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n\t})\n\t.on('click', function(d,i){\n        var t = d3.select(this).attr('data-id');\n        filter([t],'regionchart');\n    });\n\n    xScaleCases = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxCases]);// severity/reliability x xcale\n\n    xScaleDeaths = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxDeaths]);// severity/reliability x xcale\n\n    xScaleVaccines = d3.scaleLinear()\n\t.range([labelWidth, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxVaccinations]);// severity/reliability x xcale\n\n    var bars = rows.append('rect')\n    .attr('id', function(d,i){\n        return 'bar-'+d.region;\n    })\n\t.attr('data-id', function(d,i){ return d.region })\n    .attr('class', 'region-bar')\n    .attr('width', function(d,i){\n        if(options.region_chart_toggle == 'cases') return xScaleCases(d.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return xScaleDeaths(d.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return xScaleDeaths(d.cumulative_vaccines);\n    })\n    .attr('x', labelWidth)\n    .style('outline', 'none')\n    .style('cursor', 'pointer')\n    .attr('y', rowHeight*barSpacing - 1)\n    .attr('height', rowHeight-((rowHeight*barSpacing)*2))\n    .style('fill', function(d){\n        return colors.regions[d.region]\n    })\n    .attr('opacity',1)\n    .on('click', function(d,i){\n        var t = d3.select(this).attr('data-id');\n        filter([t],'regionchart');\n    })\n    .on('mouseover', function(d){\n        var dat = d3.select(this.parentNode).datum();\n        // d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n        // d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n\t})\n\t.on('mouseout', function(){\n        // d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n\t})\n\n    var dataLabel = rows.append('text')\n\t.text(function(d){\n        if(options.region_chart_toggle == 'cases') return addCommas(d.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return addCommas(d.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return addCommas(d.cumulative_vaccines);\n    })\n\t.attr('id', function(d,i){\n\t\treturn 'data-label'+d.region;\n\t})\n    .attr('data-id', function(d,i){ return d.region })\n\t.attr('class', 'data-label')\n\t.attr('y', rowHeight/2)\n\t.style('alignment-baseline', 'middle')\n\t.style('text-anchor', 'start')\n\t.attr('x', function(d,i){\n        if(options.region_chart_toggle == 'cases') return xScaleCases(d.cumulative_cases)+labelWidth+5;\n        if(options.region_chart_toggle == 'deaths') return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;\n        if(options.region_chart_toggle == 'vaccines') return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;\n    })\n    .attr('opacity', function(d,i){\n        var val = 0;\n        if(options.region_chart_toggle == 'cases') val = (d.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') val = (d.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') val = (d.cumulative_vaccines);\n        if(val>0){ return 1 } else { return 0}\n    })\n\t.style('fill', '#696969')\n\t.style('font-weight', 'normal')\n\t.style('font-size', '10px');\n\n}\n\nexport function updateRegionchart(options,data) {\n    \n    groupedData = [];\n\n    regions.forEach(function(d,i){\n        groupedData.push({ region: d, cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0});\n    })\n    \n    data.who_data.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if((dd==d.ifrc_region)){ // remove OTH\n                groupedData[ii].cumulative_cases += d.new_cases;\n                groupedData[ii].cumulative_deaths += d.new_deaths;\n                groupedData[ii].cumulative_vaccines = 0;\n            }\n        })\n    });\n\n    maxCases = d3.max(groupedData, function(d,i){\n        return d.cumulative_cases;\n    })\n\n    maxDeaths = d3.max(groupedData, function(d,i){\n        return d.cumulative_deaths;\n    })\n\n    // vaccinations max date records\n    var vGroup = d3.flatGroup(data.vaccines_data_cumulative, d => d.date);\n\n    var vacGrouped = vGroup[vGroup.length-1];\n\n    var vData = [];\n    if(vacGrouped){\n        vacGrouped[1].forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if((dd==d.ifrc_region)){ // remove OTH\n                    groupedData[ii].cumulative_vaccines += d.total_vaccinations;\n                }\n            })\n        });\n    }\n\n    groupedData.sort(function(a,b){\n        if(options.region_chart_toggle == 'cases') return (b.cumulative_cases) - (a.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return (b.cumulative_deaths) - (a.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return (b.cumulative_vaccines) - (a.cumulative_vaccines); \n    });\n\n    options.cumulative_totals = groupedData;\n\n    maxVaccinations = d3.max(groupedData, function(d,i){\n        return d.cumulative_vaccines;\n    })\n\n    xScaleCases = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxCases]);// severity/reliability x xcale\n\n    xScaleDeaths = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxDeaths]);// severity/reliability x xcale\n\n    xScaleVaccines = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxVaccinations]);// severity/reliability x xcale\n\n    if((maxVaccinations==0)&&(maxCases==0)&&(maxDeaths==0)){\n        d3.selectAll('.region-bar')\n        .transition().duration(500)\n        .attr('width', 0);\n\n        d3.selectAll('.data-label')\n        .transition()\n          .duration(500) \n          .attr('x', labelWidth)\n          .attr('opacity', 0);\n    } else {\n        d3.selectAll('.region-bar')\n        .transition().duration(500)\n        .attr('width', function(d,i){\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            var val = 0;\n            if(options.region_chart_toggle == 'cases') val = xScaleCases(d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') val = xScaleDeaths(d.cumulative_deaths);\n            if(options.region_chart_toggle == 'vaccines') val = xScaleVaccines(d.cumulative_vaccines);\n            if(!isNaN(val)) { return parseFloat(val) } else { return 0}\n        })   \n        d3.selectAll('.data-label')\n        .transition()\n          .duration(500)\n          .tween(\"text\", function(d,i) {\n            var end = 0;\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            if(options.region_chart_toggle == 'cases') end = (d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') end = (d.cumulative_deaths);  \n            if(options.region_chart_toggle == 'vaccines') end = (d.cumulative_vaccines);  \n            var i = d3.interpolate(Math.floor((Math.random() * 112346) + 92345), end);\n            return function(t) {\n              d3.select(this).text(addCommas(Math.round(i(t))));\n            };\n          })\n        .attr('x', function(d,i){\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            if(options.region_chart_toggle == 'cases') return xScaleCases(d.cumulative_cases)+labelWidth+5;\n            if(options.region_chart_toggle == 'deaths') return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;\n            if(options.region_chart_toggle == 'vaccines') return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;\n        })\n        .attr('opacity', function(d,i){\n            var d;\n            var id = d3.select(this).attr('data-id');\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            var val = 0;\n            if(options.region_chart_toggle == 'cases') val = (d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') val = (d.cumulative_deaths);\n            if(options.region_chart_toggle == 'vaccines') val = (d.cumulative_vaccines);\n            if(val>0){ return 1 } else { return 0}\n        })\n\n    }\n\n   \n\n}\n\nexport default drawRegionchart;\n","import * as d3 from \"d3\";\nimport Update from './Update.js';\nimport {drawTimechart, updateTimechart} from './Timechart';\nimport {updateRegionchart} from './Regionchart';\nimport colors from './colors';\n\nconst selectedToggle = '#595454';\nconst unselectedToggle = '#EAEAEA';\nconst unselectedToggleText = '#000';\nconst selectedToggleText = '#FFF';\n\nfunction Layout(svg, options, data, filter, updateTable, updateMap) {\n\n  // vaccine info\n  d3.select('#vaccine_tooltip').attr('opacity', 0).style('display', 'none');\n  d3.select('#vaccine_info path').attr('fill', colors.black);\n\n  svg.select('#vaccine_info').style('cursor', 'pointer')\n  .on('mouseover', function(event, bd){\n    d3.select('#svg_container').style('z-index', 10);\n    d3.select('#vaccine_tooltip').style('display', 'inline').transition().duration(500).attr('opacity', 1);\n    d3.select('#vaccine_info path').transition().duration(200).attr('fill', colors.blue);\n  }).on('mouseout', function(event, d){\n    d3.select('#svg_container').style('z-index', 1);\n    d3.select('#vaccine_tooltip').style('display', 'none').attr('opacity', 0);\n    d3.select('#vaccine_info path').transition().duration(500).attr('fill', colors.black);\n  })\n\n  // region chart toggle\n  svg.select('#region_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n    options.region_filter = []; \n    filter('clear-region');\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-cases').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'cases') return false;\n    options.region_chart_toggle = 'cases';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-cases rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-cases text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-deaths').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'deaths') return false;\n    options.region_chart_toggle = 'deaths';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-deaths rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-deaths text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-vaccines').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'vaccines') return false;\n    options.region_chart_toggle = 'vaccines';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-vaccines rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-vaccines text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  // map toggle\n  svg.select('#map-toggle #map-toggle-bi-weekly-change').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'bi-weekly-change') return false;\n    options.map_toggle = 'bi-weekly-change';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-bi-weekly-change rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-bi-weekly-change text').attr('fill', selectedToggleText);\n    // update map legend\n\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-cases').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'cases') return false;\n    options.map_toggle = 'cases';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-cases rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-cases text').attr('fill', selectedToggleText);\n    // update map legend\n\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-deaths').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'deaths') return false;\n    options.map_toggle = 'deaths';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-deaths rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-deaths text').attr('fill', selectedToggleText);\n    // update map legend\n\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-percent-fully-vaccinated').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'percent-fully-vaccinated') return false;\n    options.map_toggle = 'percent-fully-vaccinated';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-percent-fully-vaccinated rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-percent-fully-vaccinated text').attr('fill', selectedToggleText);\n    // update map legend\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-percent-vaccine-acceptance').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'percent-vaccine-acceptance') return false;\n    options.map_toggle = 'percent-vaccine-acceptance';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-percent-vaccine-acceptance rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-percent-vaccine-acceptance text').attr('fill', selectedToggleText);\n    // update map legend\n    updateMap(data, options, 700);\n  });\n\n    // time chart type \n    svg.select('#timechart-type-toggle #timechart-type-toggle-cumulative').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'cumulative') return false;\n      options.timeline_type = 'cumulative';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-cumulative rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-cumulative polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggle);\n      updateTimechart(data, options);\n    });\n  \n    svg.select('#timechart-type-toggle #timechart-type-toggle-non-cumulative').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'non-cumulative') return false;\n      options.timeline_type = 'non-cumulative';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-non-cumulative rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-non-cumulative polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggle);\n      updateTimechart(data, options);\n    });\n  \n    svg.select('#timechart-type-toggle #timechart-type-toggle-stacked').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'stacked') return false;\n      options.timeline_type = 'stacked';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-stacked rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-stacked polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggleText);\n      updateTimechart(data, options);\n    });\n\n  // time chart frequency toggle\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-day').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'day') return false;\n    options.timeline_frequency = 'day';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-day rect').attr('fill', selectedToggle);\n    svg.select('#timechart-frequency-toggle-day text').attr('fill', selectedToggleText);\n    svg.select('#tooltip_frequency tspan').attr('text-anchor', 'end').attr('dx', 20).text('DAY');\n    drawTimechart(data, options);\n  });\n\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-week').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'week') return false;\n    options.timeline_frequency = 'week';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-week rect').attr('fill', selectedToggle);\n    svg.select('#tooltip_frequency tspan').attr('text-anchor', 'end').attr('dx', 20).text('WEEK');\n    svg.select('#timechart-frequency-toggle-week text').attr('fill', selectedToggleText);\n    drawTimechart(data, options);\n  });\n\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-month').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'month') return false;\n    options.timeline_frequency = 'month';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-month rect').attr('fill', selectedToggle);\n    svg.select('#tooltip_frequency tspan').attr('text-anchor', 'end').attr('dx', 20).text('MONTH');\n    svg.select('#timechart-frequency-toggle-month text').attr('fill', selectedToggleText);\n    drawTimechart(data, options);\n  });\n\n    // HDI toggle\n\n    svg.select('#hdi_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n      d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);\n      filter('clear-hdi');\n    });\n\n    svg.select('#hdi-toggle #hdi-toggle-very-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'very-high');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n\n    svg.select('#hdi-toggle #hdi-toggle-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'high');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n    svg.select('#hdi-toggle #hdi-toggle-medium').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'medium');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n    svg.select('#hdi-toggle #hdi-toggle-low').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'low');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n\n    // inform severity toggle\n\n    svg.select('#inform_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n      d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);\n      filter('clear-inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-no-score').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'no-score');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-low').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'low');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-medium').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'medium');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'high');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-very-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'very-high');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n  \n  // tabs\n\n  d3.select('#additional-indicators-tab').attr('opacity', 0);\n  d3.select('#vac-tab').attr('opacity', 1);\n  d3.select('#bubblechart-tab').attr('opacity', 0);\n\n  svg.select('#tabs #vaccination-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'vaccination-data') return false;\n    options.tab_toggle = 'vaccination-data';\n    d3.select('#additional-indicators-tab').attr('opacity', 0);\n    d3.select('#vac-tab').attr('opacity', 1);\n    d3.select('#bubblechart-tab').attr('opacity', 0);\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#vaccination-tab rect').attr('fill', selectedToggle);\n    svg.select('#vaccination-tab text').attr('fill', selectedToggleText);\n    Update(svg,options,data);\n  });\n\n  svg.select('#tabs #indicators-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'indicators') return false;\n    options.tab_toggle = 'indicators';\n    d3.select('#additional-indicators-tab').attr('opacity', 1);\n    d3.select('#vac-tab').attr('opacity', 0);\n    d3.select('#bubblechart-tab').attr('opacity', 0);\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#indicators-tab rect').attr('fill', selectedToggle);\n    svg.select('#indicators-tab text').attr('fill', selectedToggleText);\n    Update(svg,options,data);\n  });\n\n  svg.select('#tabs #bubble-chart-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'bubble-chartt') return false;\n    options.tab_toggle = 'bubble-chart';\n    d3.select('#additional-indicators-tab').attr('opacity', 0);\n    d3.select('#vac-tab').attr('opacity', 0);\n    d3.select('#bubblechart-tab').attr('opacity', 1);\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#bubble-chart-tab rect').attr('fill', selectedToggle);\n    svg.select('#bubble-chart-tab text').attr('fill', selectedToggleText);\n    Update(svg,options,data);\n  });\n\n  // time chart mask\n    d3.select('#svg defs').append('clipPath').attr('id', 'mask')\n    .append('rect')\n    .attr('y', 340)\n    .attr('height', 590)\n    .attr('width', 660)\n    .attr('x', 3);\n\n  \n  // append timechart svg\n  const timechartContainer = svg.select('#timechart_container').attr('opacity', 0);\n  const tcSize = {\n    x: timechartContainer.attr('x'), y: timechartContainer.attr('y'), width: timechartContainer.attr('width'), height: timechartContainer.attr('height')\n  }\n\n  const timechartSvg = svg.append('svg').attr('id', 'timechart_svg').attr('viewBox', '0 0 '+2000 +' '+ tcSize.height)\n  .attr('preserveAspectRatio', \"none\")\n  .attr('x', tcSize.x)\n  .attr('y', tcSize.y)\n  .attr('width', tcSize.width)\n  .attr('height', tcSize.height)\n\n  const layer1 = timechartSvg\n  .append('g')\n  .attr('id', 'layer1')\n\n  const timechartBg = timechartSvg.append('g').attr('id', 'layer0');\n\n  layer1.append('rect')\n  .attr('x', 0)\n  .attr('y', 0)\n  .attr('width', '100%')\n  .attr('height', '100%')\n  .attr('opacity', 0)\n  .style('fill', 'transparent');\n  \n  // table bars\n\n  for(let i = 0; i < 10; i++){\n\n    // col 1 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col1bg colbg')\n    .attr('id','col1bg'+i)\n    .attr('x', 120)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', '#D8D8D8')\n\n    // col 1 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col1bar')\n    .attr('id','col1bar'+i)\n    .attr('x', 120)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    // col 2 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col2bg colbg')\n    .attr('id','col2bg'+i)\n    .attr('x', 230)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', '#D8D8D8')\n\n    // col 2 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col2bar')\n    .attr('id','col2bar'+i)\n    .attr('x', 230)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    // col 3 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col3bg colbg')\n    .attr('id','col3bg'+i)\n    .attr('x', 340)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', '#D8D8D8')\n\n    // col 3 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col3bar')\n    .attr('id','col3bar'+i)\n    .attr('x', 340)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    // col 4 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col4bg colbg')\n    .attr('id','col4bg'+i)\n    .attr('x', 454)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', '#D8D8D8')\n\n    // col 3 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col4bar')\n    .attr('id','col4bar'+i)\n    .attr('x', 454)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    for(var x = 0; x<6; x++){\n      d3.select('#col'+x+'_sort_desc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort_asc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort').style('cursor', 'pointer')\n      .on('click', function(){\n        var thisId = d3.select(this).attr('id');\n        if(options.table_sort==thisId){\n          if(options.table_sort_direction=='desc'){\n            options.table_sort_direction = 'asc';\n          } else {\n            options.table_sort_direction = 'desc';\n          }\n        } else {\n          options.table_sort = thisId;\n          options.table_sort_direction = 'desc';\n        }\n        updateTable(data, options);\n    })\n    // d3.select('#col1_sort_desc').attr('opacity', 1);\n    }\n  }\n}\n\nexport default Layout;\n\nfunction toggle(collection, item) {\n  var idx = collection.indexOf(item);\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  } else {\n    collection.push(item);\n  }\n}\n\n/*\n\n#timechart-type-toggle #timechart-type-toggle-stacked\n#timechart-type-toggle #timechart-type-toggle-non-cumulative\n#timechart-type-toggle #timechart-type-toggle-cumulative\n\n#timechart-frequency-toggle #timechart-frequency-toggle-day\n#timechart-frequency-toggle #timechart-frequency-toggle-week\n#timechart-frequency-toggle #timechart-frequency-toggle-month\n\n#map-toggle #map-toggle-bi-weekly-change\n#map-toggle #map-toggle-deaths\n#map-toggle #map-toggle-percent-fully-vaccinated\n#map-toggle #map-toggle-percent-vaccine-acceptance\n#map-toggle #map-toggle-cases\n\n#tabs #bubble-chart-tab\n#tabs #indicators-tab\n#tabs #vaccination-tab\n\n#hdi-toggle #hdi-toggle-very-high\n#hdi-toggle #hdi-toggle-high\n#hdi-toggle #hdi-toggle-medium\n#hdi-toggle #hdi-toggle-low\n\n\n#inform-toggle #inform-toggle-no-score\n#inform-toggle #inform-toggle-low\n#inform-toggle #inform-toggle-medium\n#inform-toggle #inform-toggle-high\n#inform-toggle #inform-toggle-very-high\n\n*/","// default options\nconst options = {\n    region_chart_toggle: 'cases', // cases, deaths, vaccines\n    region_filter: [],\n    country_filter: [],\n    hdi_filter: [], // very-high, high, medium, low\n    inform_filter: [], // no-score, low, medium, high, very-high\n    timeline_type: 'non-cumulative', // cumulative, non-cumulative, stacked \n    timeline_frequency: 'week', // day, week, month\n    map_toggle: 'cases', // bi-weekly-change, cases, deaths, percent-fully-vaccinated, percent-vaccine-acceptance\n    tab_toggle: 'vaccination-data', // vaccination-data, indicators, bubble-chart\n    table_sort: 'col1_sort',\n    table_sort_direction: 'desc',\n    bubble_chart_color_by: 'hdi', // hdi, inform-severity, region\n    bubble_chart_y_axis: 'percent-vaccinated-at-least-1-dose', // percent-vaccinated-at-least-1-dose, percent-fully-vaccinated\n    maxDate: null,\n    maxVDate: null\n}\n\nexport default options;\n","// import * as d3 from \"d3\";\nimport {min,max,group,flatGroup} from \"d3\";\nimport moment from 'moment';\nimport clone from 'just-clone';\n\nexport function ParseData(data, options) {\n\n    // console.log('ParseData');\n    // console.log(options);\n        \n    data.equity_data.forEach(function(d,i){\n        d.vaccines_used = [];\n        d.number_vaccine_types_used = 0;\n        d.vaccines_per_100 = 0;\n        data.vaccines_who_data.forEach(function(dd,ii){\n            if(d.country_iso3==dd.ISO3){\n                d.data_updated = moment(dd.DATE_UPDATED).startOf('day').toDate();\n                d.number_vaccine_types_used = dd.NUMBER_VACCINES_TYPES_USED;\n                d.vaccines_per_100 = dd.TOTAL_VACCINATIONS_PER100;\n                d.vaccines_used = dd.VACCINES_USED.split(',').map(function(item) {\n                    return item.trim();\n                  });\n            }\n        })\n    })\n    // max dates\n    let maxDate = moment(new Date(max(data.who_data, function(d){\n        return d.Date_reported;\n    })));\n\n    let minDate = moment(new Date(min(data.who_data, function(d){\n        return d.Date_reported;\n    })));\n\n    // override\n    minDate = moment('2019-12-31');\n\n    let minDateVaccines = (new Date(min(data.vaccines_data, function(d){\n        return d.date;\n    })));\n\n\n    let maxDateVaccines = (new Date(max(data.vaccines_data, function(d){\n        return d.date;\n    })));\n\n    if(maxDateVaccines>maxDate) {\n        maxDate = maxDateVaccines;\n    }\n\n    // if(maxDate<moment()){\n    //     maxDate = moment();\n    // }\n    // if(maxDateVaccines<moment()){\n    //     maxDateVaccines = moment();\n    // }\n    options.maxDataDate = maxDate;\n    options.maxVDataDate = maxDateVaccines;\n\n    options.maxDate = moment(maxDate).toDate();\n    options.maxVDate = moment(maxDateVaccines).toDate();\n    options.minDate = moment(minDate).toDate();\n\n    // parse who data\n\n    let dayTotal = -1;\n    let dayCheck = 0;\n\n    let weekTotal = -1;\n    let weekCheck = -1;\n\n    let monthTotal = 0;\n    let monthCheck = 0;\n\n    data.who_data.sort(function(a,b){\n        return new Date(a.Date_reported) - new Date(b.Date_reported);\n    });\n\n    var countryCodes = [];\n    var ccArray = [];\n\n    data.who_data.forEach(function(d,i){\n        d.date = new Date(d.Date_reported);\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').toDate());\n\n        d.new_cases = parseInt(d.New_cases);\n        d.new_deaths = parseInt(d.New_deaths);\n        d.cumulative_deaths = parseInt(d.Cumulative_deaths);\n        d.cumulative_cases = parseInt(d.Cumulative_cases);\n        d.country_code = d.Country_code;\n        d.country_name = null;\n        data.equity_data.forEach(function(dd,ii){\n            if(dd.country_iso2===d.Country_code){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n            }\n        })\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n        if(!countryCodes.includes(d.country_code)) {\n            if(d.ifrc_region=='OTH'){\n                ccArray.push([d.Country, d.country_code]);\n            }\n            countryCodes.push(d.country_code);\n        }\n\n        delete d.Date_reported;\n        delete d.Country;\n        delete d.New_cases;\n        delete d.New_deaths;\n        delete d.Country_code;\n        delete d.Cumulative_deaths;\n        delete d.Cumulative_cases;\n        // delete d.Country_code;\n        delete d.WHO_region;\n        // delete d.Country;\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n    })\n\n    // check for missing coutries\n    // ccArray.forEach(function(d,i){\n    //     console.log(d[1])\n    // })\n    // console.log(ccArray);\n\n    \n    // parse vaccine cumulative data\n    dayTotal = -1;\n    dayCheck = 0;\n\n    weekTotal = -1;\n    weekCheck = -1;\n    monthTotal = 0;\n    monthCheck = 0;\n\n    // filter out vaccine data on only include records with ISO3 country codes\n    data.vaccines_data_cumulative = data.vaccines_data.filter(function(d,i){\n        return d.iso_code.length===3 && d.total_vaccinations > 0;\n    })\n\n    // fill out missing vaccinations date records (extend cumulative)\n    var vGroup = flatGroup(data.vaccines_data_cumulative, d => d.iso_code);\n\n    var newDates = [];\n    var hasDays = [];\n    var initDate = 0;\n    var lastRecord = {};\n    var vDataFlat = [];\n    vGroup.forEach(function(d,i){\n\n        var minDt = new Date(minDateVaccines);\n        var maxDt = new Date(maxDateVaccines);\n        var hasDays = [];\n        var newDays = [];\n        var newDays = [];        \n        data.equity_data.forEach(function(dd,ii){\n            if(dd.country_iso3===vGroup[i][0]){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n                d.country_code = dd.country_iso2;\n                \n            }\n        })\n\n        vGroup[i].lastDate = new Date(max(vGroup[i][1], function(d,i){ return d.date }));\n\n        vGroup[i][1].forEach(function(dd,ii){\n            hasDays.push(new Date(dd.date).getTime());\n        })\n\n        // if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\n        vGroup[i][1].forEach(function(dd,ii){\n            dd.total_vaccinations = parseInt(dd.total_vaccinations);\n            for (var day = minDt;day <= maxDt; day.setDate(day.getDate() + 1)) {\n                var newDay = day.getTime();\n                if(!hasDays.includes(newDay)){\n                    newDays.push({date: new Date(day), total_vaccinations: null})\n                }\n            }\n            // dd.lastDate = dd.date;\n        });\n\n        vGroup[i][1].push(...newDays);\n\n        vGroup[i][1].sort(function(a,b){\n            return new Date(a.date) - new Date(b.date);\n        });\n\n        var totalVac = 0;\n        var totalVac100 = 0;\n        var people_vaccinated_per_hundred = 0;\n        var people_fully_vaccinated_per_hundred = 0;\n\n        vGroup[i][1].forEach(function(dd,ii){\n\n            if(dd.total_vaccinations){\n                totalVac = dd.total_vaccinations;\n            } else {\n                dd.total_vaccinations = totalVac;\n            }\n            if(dd.total_vaccinations_per_hundred){\n                totalVac100 = dd.total_vaccinations_per_hundred\n            } else {\n                dd.total_vaccinations_per_hundred = totalVac100;\n            }\n            if(dd.people_vaccinated_per_hundred){\n                people_vaccinated_per_hundred = dd.people_vaccinated_per_hundred;\n            } else {\n                dd.people_vaccinated_per_hundred = people_vaccinated_per_hundred;\n            }\n            if(dd.people_fully_vaccinated_per_hundred){\n                people_fully_vaccinated_per_hundred = dd.people_fully_vaccinated_per_hundred;\n            } else {\n                dd.people_fully_vaccinated_per_hundred = people_fully_vaccinated_per_hundred;\n            }\n\n            var countryName;\n            if(vGroup[i].country_name==null) { countryName = vGroup[i][0];\n            } else {\n                countryName = vGroup[i].country_name\n            }\n\n            vDataFlat.push({\n                date: new Date(dd.date),\n                lastDate: (vGroup[i].lastDate),\n                total_vaccinations_per_hundred: parseFloat(totalVac100),\n                people_vaccinated_per_hundred: people_vaccinated_per_hundred,\n                people_fully_vaccinated_per_hundred: people_fully_vaccinated_per_hundred,\n                iso_code: vGroup[i][0], \n                ifrc_region: vGroup[i].ifrc_region,\n                country_name: countryName,\n                country_code: vGroup[i].country_code, \n                total_vaccinations: totalVac \n            })\n        })\n    });\n\n    data.vaccines_data_cumulative = vDataFlat;\n\n    data.vaccines_data_cumulative.sort(function(a,b){\n        return new Date(a.date) - new Date(b.date);\n    });\n\n    data.vaccines_data_cumulative.forEach(function(d,i){\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').toDate());\n    })\n\n    // parse vaccine daily data\n\n    dayTotal = -1;\n    dayCheck = 0;\n\n    weekTotal = -1;\n    weekCheck = -1;\n    monthTotal = 0;\n    monthCheck = 0;\n\n    // filter out vaccine data on only include records with ISO3 country codes\n    data.vaccines_data_daily = data.vaccines_data.filter(function(d,i){\n        return d.iso_code.length===3 && d.daily_vaccinations > 0;\n    })\n\n    // fill out missing vaccinations date records (extend cumulative)\n    var vGroup = flatGroup(data.vaccines_data_daily, d => d.iso_code);\n\n    var newDates = [];\n    var hasDays = [];\n    var initDate = 0;\n    var lastRecord = {};\n    var vDataFlat = [];\n    vGroup.forEach(function(d,i){\n\n        var minDt = new Date(minDateVaccines);\n        var maxDt = new Date(maxDateVaccines);\n        var hasDays = [];\n        var newDays = [];\n        var newDays = [];\n\n        data.equity_data.forEach(function(dd,ii){\n            if(dd.country_iso3===vGroup[i][0]){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n                d.country_code = dd.country_iso2;\n            }\n        })\n\n        vGroup[i][1].forEach(function(dd,ii){\n            hasDays.push(new Date(dd.date).getTime());\n        })\n\n        // if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\n        vGroup[i][1].forEach(function(dd,ii){\n            dd.daily_vaccinations = parseInt(dd.daily_vaccinations);\n            for (var day = minDt;day <= maxDt; day.setDate(day.getDate() + 1)) {\n                var newDay = day.getTime();\n                if(!hasDays.includes(newDay)){\n                    newDays.push({date: new Date(day), daily_vaccinations: null})\n                }\n            }\n        });\n\n        vGroup[i][1].push(...newDays);\n\n        vGroup[i][1].sort(function(a,b){\n            return new Date(a.date) - new Date(b.date);\n        });\n\n        var daily_vaccinations = 0;\n\n        vGroup[i][1].forEach(function(dd,ii){\n            if(dd.daily_vaccinations){\n                daily_vaccinations = dd.daily_vaccinations;\n            } else {\n                dd.daily_vaccinations = daily_vaccinations;\n            }\n            var countryName;\n            if(vGroup[i].country_name==null) { countryName = vGroup[i][0];\n            } else {\n                countryName = vGroup[i].country_name\n            }\n            vDataFlat.push({\n                date: new Date(dd.date),\n                iso_code: vGroup[i][0], \n                ifrc_region: vGroup[i].ifrc_region,\n                country_name: countryName,\n                country_code: vGroup[i].country_code, \n                daily_vaccinations: daily_vaccinations \n            })\n        })\n    });\n\n    data.vaccines_data_daily = vDataFlat;\n\n    data.vaccines_data_daily.sort(function(a,b){\n        return new Date(a.date) - new Date(b.date);\n    });\n\n    data.vaccines_data_daily.forEach(function(d,i){\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').toDate());\n    });\n\n\n    // parse equity data inform/hdi indexes\n    data.equity_data.forEach(function(d,i){\n        if(d.hdi_category.match(/very high/i)){\n            d.hdi_category = 'very-high'\n        }\n        else if(d.hdi_category.match(/high/i)){\n            d.hdi_category = 'high'\n        }\n        else if(d.hdi_category.match(/medium/i)){\n            d.hdi_category = 'medium'\n        }\n        else if(d.hdi_category.match(/low/i)){\n            d.hdi_category = 'low'\n        }\n        if(d.inform_severity.match(/very high/i)){\n            d.inform_severity = 'very-high'\n        }\n        else if(d.inform_severity.match(/high/i)){\n            d.inform_severity = 'high'\n        }\n        else if(d.inform_severity.match(/medium/i)){\n            d.inform_severity = 'medium'\n        }\n        else if(d.inform_severity.match(/low/i)){\n            d.inform_severity = 'low'\n        }\n        else if(d.inform_severity.match(/no/i)){\n            d.inform_severity = 'no-score'\n        }\n    })\n\n    data.equity_data = data.equity_data.filter(function(d,i){\n       return countryCodes.includes(d.country_iso2)\n    })\n    data.original = clone(data);\n    // console.log(data);\n}\n\nexport default ParseData;\n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {filter} from './App';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport {addCommas} from './HelperFunctions';\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiZ28taWZyYyIsImEiOiJjams3b2ZhZWswMGFvM3hxeHp2ZHFhOTRrIn0._pqO9OQ2iNeDGrpopJNjpg';\n\nlet map;\nlet dots; \nlet maxSize = 15; \n\nexport function createMap(data, options, filter) {\n\n    map = new mapboxgl.Map({\n        container: 'map_div', // container ID\n        style: 'mapbox://styles/go-ifrc/ck9tz6f150ub11ip8j97wrsww', // style URL\n        center: [8, 22], // starting position [lng, lat]\n        zoom: -0.01 // starting zoom\n    });\n\n    map.setRenderWorldCopies(false);\n    map.addControl(new mapboxgl.NavigationControl());\n    \n    var container = map.getCanvasContainer();\n\n    var svg = d3\n    .select(container)\n    .append(\"svg\")\n    .attr('id', 'mapoverlay')\n    .attr(\"width\", \"100%\")\n    .attr(\"height\", \"24vw\")\n    .style(\"position\", \"absolute\")\n    .style(\"z-index\", 2);\n\n    dots = svg\n    .selectAll(\".country-map\")\n    .data(data.world)\n    .enter()\n    .append(\"circle\")\n    .attr('class', 'country-map')\n    .attr('id', function(d,i){ return 'country-map-'+d.iso2 })\n    .attr(\"r\", 0)\n    \n\n    var maxValue = d3.max(data.country, function(d,i){\n        return d[1].cumulative_cases;\n    })\n\n    var rScale = d3.scalePow().exponent(0.5)\n      .domain([0, maxValue])\n      .range([0, 15]);\n\n    data.country.forEach(function(d,i){\n        d3.select('#country-'+d[0]).attr('r', rScale(d[1].cumulative_cases))\n        .attr('data-name', d[1].country)\n    })\n    \n    document.getElementById(\"mapoverlay\").appendChild(d3.select('#map_tooltip').node());\n\n\n    function render() {\n        dots\n          .attr(\"cx\", function(d) {\n            return project(([d.lng, d.lat])).x;\n          })\n          .attr(\"cy\", function(d) {\n            return project(([d.lng, d.lat])).y;\n          });\n      }\n\n    map.on(\"viewreset\", render);\n    map.on(\"move\", render);\n    map.on(\"moveend\", render);\n    render(); // Call once to render\n\n    // map.on('mousemove', function (e) {\n    //     var features = map.queryRenderedFeatures(e.point);\n         \n    //     var displayProperties = [\n    //     'type',\n    //     'properties',\n    //     'id',\n    //     'layer',\n    //     'source',\n    //     'sourceLayer',\n    //     'state'\n    //     ];\n         \n    //     var displayFeatures = features.map(function (feat) {\n    //     var displayFeat = {};\n    //     displayProperties.forEach(function (prop) {\n    //     displayFeat[prop] = feat[prop];\n    //     });\n    //     return displayFeat;\n    //     });\n         \n    //     console.log(JSON.stringify(\n    //     displayFeatures,\n    //     null,\n    //     2\n    //     ))\n    //     })\n    updateMap(data, options) ;\n}\n\nexport function updateMap(data, options) {\n   \n    var duration = 800;\n    var delay = 10;\n\n\n    if(options.map_toggle == 'bi-weekly-change'){\n        \n        var maxValue = d3.max(data.country, function(d,i){\n            return d[1].percent_change;\n        })\n\n        var rScale = d3.scalePow().exponent(0.5)\n        .domain([-1, 0, 1])\n        .range([maxSize, 0, maxSize])\n        .clamp(true);\n\n        d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        data.country.forEach(function(d,i){\n            d3.select('#country-map-'+d[0])\n            .transition('c').duration(duration).delay(delay)\n            .attr('r', rScale(d[1].percent_change))\n            .style('stroke', function(){\n                // if(d[1].percent_change>1){ return '#E02225'} else { return '#1F558C'}\n                return '#FFF'\n            }).style('fill', function(){\n                if(d[1].percent_change>0){ return colors.red } else { return colors.blue}\n            })\n        })\n\n    }\n\n    if(options.map_toggle == 'cases'){\n        var maxValue = d3.max(data.country, function(d,i){\n            return d[1].cumulative_cases;\n        })\n\n        var rScale = d3.scalePow().exponent(0.5)\n        .domain([0, maxValue])\n        .range([0, maxSize]);\n\n        d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        data.country.forEach(function(d,i){\n            d3.select('#country-map-'+d[0])\n            .transition('c').duration(duration).delay(delay)\n            .attr('r', rScale(d[1].cumulative_cases))\n            .style('fill', colors.red)\n            .style('stroke', '#FFF');\n        })\n\n    }\n    \n    if(options.map_toggle == 'deaths'){\n        var maxValue = d3.max(data.country, function(d,i){\n            return d[1].cumulative_deaths;\n        })\n\n        var rScale = d3.scalePow().exponent(0.5)\n        .domain([0, maxValue])\n        .range([0, maxSize]);\n\n        d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        data.country.forEach(function(d,i){\n            d3.select('#country-map-'+d[0])\n            .transition('c').duration(duration).delay(delay)\n            .attr('r', rScale(d[1].cumulative_deaths))\n            .style('fill', colors.red)\n            .style('stroke', '#FFF');\n        })\n\n    }\n\n    if(options.map_toggle == 'percent-fully-vaccinated'){\n        var maxValue = d3.max(data.vGroup, function(d,i){\n            return parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;\n        })\n\n        var rScale = d3.scalePow().exponent(0.55)\n        .domain([0, 1])\n        .range([1, maxSize])\n        .clamp(true);\n\n        d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        data.vGroup.forEach(function(d,i){\n            var peoplevaccinated = parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;\n            if(isNaN(peoplevaccinated)) peoplevaccinated = 0;\n            d3.select('#country-map-'+d[1][0].country_code)\n            .transition('c').duration(duration).delay(delay)\n            .attr('r', rScale(peoplevaccinated))\n            .style('stroke', '#FFF')\n            .style('fill', function(){\n                return colors.blue;\n            })\n        })\n\n        \n    }\n\n    if(options.map_toggle == 'percent-vaccine-acceptance'){\n        // var maxValue = d3.max(data.country, function(d,i){\n        //     return d[1].cumulative_deaths;\n        // })\n\n        // var rScale = d3.scalePow().exponent(0.5)\n        // .domain([0, maxValue])\n        // .range([0, maxSize]);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.country.forEach(function(d,i){\n        //     d3.select('#country-map-'+d[0])\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(d[1].cumulative_deaths))\n        //     .style('fill', '#E02225')\n        //     .style('stroke', '#FFF');\n        // })\n\n    }\n\n    function render() {\n        dots\n          .attr(\"cx\", function(d) {\n            return project(([d.lng, d.lat])).x;\n          })\n          .attr(\"cy\", function(d) {\n            return project(([d.lng, d.lat])).y;\n          });\n      }\n\n    map.on(\"viewreset\", render);\n    map.on(\"move\", render);\n    map.on(\"moveend\", render);\n    render(); // Call once to render\n\n    // tooltips\n\n    var mapTooltip = d3.select('#map_tooltip').attr('opacity', 1).attr('transform', 'translate(0,0)').attr('display', 'none');\n\n    d3.selectAll('.country-map').on('mousemove', function(event, d){\n\n        var id = d3.select(this).attr('id').substr(12,2);\n        var countryfiltered = data.equity_data.filter(d=>d.country_iso2 == id);\n        var countryName;\n        if(countryfiltered[0]) countryName = countryfiltered[0].country_name;\n\n        mapTooltip.select('#map_tooltip_name tspan').text(countryName);\n\n        if(options.map_toggle=='cases'){\n            var country = data.country.filter(d=>d[1].country_code == id)[0];\n            if(country.length==0) return false;\n            mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_cases)+' cases');\n        }\n\n        if(options.map_toggle=='deaths'){\n            var country = data.country.filter(d=>d[1].country_code == id)[0];\n            if(country.length==0) return false;\n            mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_deaths)+' deaths');\n        }\n\n        if(options.map_toggle=='bi-weekly-change'){\n            var country = data.country.filter(d=>d[1].country_code == id)[0];\n            if(country.length==0) return false;\n            var val = ((country[1].percent_change)*100).toFixed(1);\n            var str = '';\n            if(val>=0){\n                str = '% increase';\n            } else {\n                str = '% decrease';\n            }\n            mapTooltip.select('#map_tooltip_val tspan').text(Math.abs(val)+str);\n        }\n\n        if(options.map_toggle=='percent-fully-vaccinated'){\n            var country = data.vGroup.filter(d=>d[1][0].country_code == id)[0][1];\n            if((!country)||(country.length==0)) return false;\n            mapTooltip.select('#map_tooltip_val tspan').text(parseFloat(country[0].people_fully_vaccinated_per_hundred).toFixed(1)+'% fully vaccinated');\n        }\n\n        d3.select('#map_tooltip_bg').attr('width', 0)\n\n        var bbox = mapTooltip.node().getBBox();\n        d3.select('#map_tooltip_bg').attr('width', (parseFloat(bbox.width)+2))\n        var scale = window.innerWidth/1329;\n        mapTooltip\n        .attr('display', 'inline')\n        .attr('transform', 'translate('+project(([d.lng, d.lat])).x+','+project(([d.lng, d.lat])).y+')scale('+scale+')');\n\n        var heightOffset = mapTooltip.node().getBBox();\n        mapTooltip.attr('transform', 'translate('+(project(([d.lng, d.lat])).x+3)+','+(project(([d.lng, d.lat])).y+2-heightOffset.height/2)+')scale('+scale+')');\n\n    }).on('mouseout', function(event){\n        if(event.toElement=='tspan') return false;\n        mapTooltip.attr('display', 'none');\n    })\n\n}\n\nfunction project(d) {\n    return map.project(new mapboxgl.LngLat(d[0], d[1]));\n}\n\n\nexport default createMap;\n","import React, { useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport Layout from './Layout';\nimport {drawTimechart, updateTimechart} from './Timechart';\nimport {drawRegionchart, updateRegionchart} from './Regionchart';\nimport options from './Options';\nimport ParseData from './ParseData';\nimport './App.css'\nimport $ from \"jquery\";\nimport select2 from 'select2';\nimport 'select2/dist/css/select2.min.css'\nimport {addCommas, nFormatter} from './HelperFunctions';\nimport { createMap, updateMap } from './Map';\n\n  /* \"homepage\": \"https://matthewsmawfield.github.io/ifrc-covid-dataviz\", */\n\nconst equityDataUrl = './data/equity_data.csv';\nconst layoutUrl = \"./images/layout.svg\";\nconst whoDataUrl = \"./data/who_global_cases.csv\";\n// const worldUrl = \"./data/world-wb5.geojson\";\nconst worldUrl = \"./data/world_points.csv\";\nconst vaccinesDataUrl = \"./data/owid_vaccinations.csv\";\nconst vaccinesWhoDataUrl = \"./data/who-vaccination-data.csv\";\n// https://covid19.who.int/who-data/vaccination-data.csv\nconst timelineDataUrl = \"./data/timeline.csv\";\nconst keyFiguresDataUrl = \"./data/key_figures.csv\";\n\nconst data = {};\n\nconst regionOptions = [\n  { id: 'AM', text: 'Americas' },\n  { id: 'EU', text: 'Europe' },\n  { id: 'AP', text: 'Asia-Pacific' },\n  { id: 'ME', text: 'Middle East and North Africa'},\n  { id: 'AF', text: 'Africa' }\n]\n\nconst countryOptions = [];\n\nfunction App() {\n\n  const [progress, setProgress] = useState(0);\n  const [loaderText, setLoaderText] = useState('Loading SVG layout...');\n\n  async function init(){\n\n    // data source 1: layout.svg\n    const layout = d3.xml(layoutUrl);\n    layout.then(function(d){\n      d3.select('#svg_container').node().append(d3.select(d.documentElement).attr('width', '100%').attr('height', 'auto').node());\n      const svg = d3.select('#svg_container svg');\n      svg.select('title').remove();\n      svg.attr('id', 'svg');\n      Layout(svg, options, data, filter, updateTable, updateMap);\n      setProgress(0.1);\n      setLoaderText('Loading equity data CSV...');\n      // data source 2: equity_data.csv\n      const equityData = d3.csv(equityDataUrl);\n      equityData.then(function(d){\n        data.equity_data = d;\n        d.forEach(function(d,i){\n          countryOptions.push({'text': d.country_name, 'id': 'Country-'+d.country_iso2 })\n        })\n        createSelects();\n        setProgress(0.1);\n        setLoaderText('Loading WHO data CSV...');\n        // data source 1: owid_vaccines.csv\n        const vaccinesData = d3.csv(vaccinesDataUrl);\n          vaccinesData.then(function(d){\n            data.vaccines_data = d;\n            setProgress(0.15);\n            setLoaderText('Loading OWID vaccines data...');\n            // data source 2: vaccinesWhoData.csv\n            const vaccinesWhoData = d3.csv(vaccinesWhoDataUrl);\n            vaccinesWhoData.then(function(d){\n              data.vaccines_who_data = d;\n              setProgress(0.3);\n              setLoaderText('Loading OWID vaccines data...');\n              // data source 3: timeline.csv\n              const timelineData = d3.csv(timelineDataUrl);\n              timelineData.then(function(d){\n                data.timeline_data = d;\n                setProgress(0.4);\n                setLoaderText('Loading Timeline data...');\n                // data source 4: key_figures.csv\n                const keyFiguresData = d3.csv(keyFiguresDataUrl);\n                keyFiguresData.then(function(d){\n                  data.key_figures = d;\n                  setProgress(0.45);\n                  setLoaderText('Loading key figures data...');\n                  // data source 5: who_global_cases.csv\n                  const whoData = d3.csv(whoDataUrl);\n                  whoData.then(function(d){\n                    data.who_data = d;\n                    setProgress(0.8);\n                    setLoaderText('Loading World Map...');\n                    // data source 6: world-wb5.geojson\n                    const world = d3.csv(worldUrl);\n                    world.then(function(d){\n                      data.world = d;\n                      setLoaderText('Loading complete.');\n                      setProgress(1);\n                      ParseData(data, options);\n                      createCharts();\n                      d3.select('#loaderDiv').transition().duration(1000).style('opacity', 0).on(\"end\", () => d3.select('#loaderDiv').remove());\n                    });\n                  });\n                });\n              });\n            });\n          });\n      });\n    })\n  }\n  \n  function createCharts(){\n    drawTimechart(data, options);\n    drawRegionchart(data, options, filter);\n    updateTable(data, options);\n    updateTotals(data, options);\n    createMap(data, options, filter);\n  }\n\n  function filter(id,e){\n    if(id=='clear'){\n      options.region_filter = [];\n      options.country_filter = [];\n      d3.select('#reset_locations').attr('opacity', 0);\n    } \n    if(id=='clear-region'){\n      options.region_filter = [];\n    } \n\n    if(id=='clear-hdi'){\n      options.hdi_filter = [];\n    } \n\n    if(id=='clear-inform'){\n      options.inform_filter = [];\n    } \n\n    if((id.length==1)&&(id[0].length==2)&&(id!='filter')){\n      if(options.region_filter.includes(id[0])){\n        options.region_filter = options.region_filter.filter(d=>d!==id[0])\n      } else {\n        options.region_filter.push(id[0]);\n      }\n    }\n    if(options.region_filter.length==5) options.region_filter = [];\n\n    if(options.region_filter.length>0){\n      d3.select('#region_remove_filter').attr('opacity', 1);\n\n      d3.selectAll('.bar-labels').attr('opacity', 0.5);\n      options.region_filter.forEach(function(d,i){\n        d3.select('.bar-label-'+d).attr('opacity', 1);\n      })\n    } else {\n        d3.select('#region_remove_filter').attr('opacity', 0);\n        d3.selectAll('.bar-labels').attr('opacity', 1);\n    }\n\n    data.equity_data = data.original.equity_data;\n\n    var hdi_countries = [];\n    if(options.hdi_filter.length>0){\n      d3.select('#hdi_remove_filter').attr('opacity', 1);\n      data.equity_data.forEach(function(d,i){\n        if(options.hdi_filter.includes(d.hdi_category)){\n          hdi_countries.push(d.country_iso2);\n        }\n      })\n    } else {\n      d3.select('#hdi_remove_filter').attr('opacity', 0);\n    }\n\n    var inform_countries = [];\n    if(options.inform_filter.length>0){\n      d3.select('#inform_remove_filter').attr('opacity', 1);\n      data.equity_data.forEach(function(d,i){\n        if(options.inform_filter.includes(d.inform_severity)){\n          inform_countries.push(d.country_iso2);\n        }\n      })\n    } else {\n      d3.select('#inform_remove_filter').attr('opacity', 0);\n    }\n\n    if((id.length==1)&&(id[0].length>2)){\n      var code = id[0].substring(8);\n      if(options.country_filter.includes(code)){\n        options.country_filter = options.country_filter.filter(d=>d!==code)\n      } else {\n        options.country_filter.push(code);\n      }\n    }\n\n    if((options.region_filter.length==0)&&(options.country_filter.length==0)){\n      d3.select('#reset_locations').attr('opacity', 0);\n    }\n\n    var countryIds = [];\n    options.country_filter.forEach(function(d,i){\n      countryIds.push('Country-'+d);\n    })\n\n    if((options.region_filter.length>0)||(options.country_filter.length>0)) {\n        d3.select('#reset_locations').attr('opacity', 1)\n      } else {\n        d3.select('#reset_locations').attr('opacity', 0)\n      }\n\n    var mergeFilter = options.region_filter.concat(countryIds);\n    $('#regionSelect').val(mergeFilter)\n    $('#regionSelect').trigger('change');\n\n    // update data\n    data.who_data = data.original.who_data;\n\n    if(inform_countries.length>0){\n      data.who_data = data.who_data.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.who_data = data.who_data.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }\n    data.vaccines_data_cumulative = data.original.vaccines_data_cumulative;\n\n    if(inform_countries.length>0){\n      data.vaccines_data_cumulative = data.vaccines_data_cumulative.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.vaccines_data_cumulative = data.vaccines_data_cumulative.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }\n    data.vaccines_data_daily = data.original.vaccines_data_daily;\n    if(inform_countries.length>0){\n      data.vaccines_data_daily = data.vaccines_data_daily.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.vaccines_data_daily = data.vaccines_data_daily.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }    \n    if(inform_countries.length>0){\n      data.equity_data = data.equity_data.filter(function(d,i){\n        return inform_countries.includes(d.country_iso2)\n      })\n    } \n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.equity_data = data.equity_data.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_iso2)))&&(hdi_countries.includes(d.country_iso2))\n          } else {\n            return (hdi_countries.includes(d.country_iso2))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_iso2))\n        }\n      })\n    }\n\n    handleSelectLength();\n    updateCharts();\n\n  }\n  function updateCharts(){\n    updateRegionchart(options,data);\n    // drawTimechart(data, options);\n    updateTable(data, options);\n    updateTotals(data, options);\n\n    updateTimechart(data, options);\n    updateMap(data,options);\n\n  }\n\n  function updateTotals(data,options){\n    var totalCases = d3.sum(options.cumulative_totals, d=>d.cumulative_cases);\n    var totalDeaths = d3.sum(options.cumulative_totals, d=>d.cumulative_deaths);\n\n    var numCountriesFiltered = d3.flatGroup(data.who_data, d => d.country_code).length;\n    var countries = d3.flatGroup(data.who_data, d => d.country_code);\n\n    data.country = [];\n    countries.forEach(function(d,i){\n      var cases4weeksAgo = d[1][d[1].length-28].cumulative_cases;\n      var cases2WeeksAgo = d[1][d[1].length-14].cumulative_cases;\n      var cases1WeeksAgo = d[1][d[1].length-7].cumulative_cases;\n      var casesLatest = d[1][d[1].length-1];\n      var percentChange = parseFloat(((casesLatest.cumulative_cases - cases2WeeksAgo)-(cases2WeeksAgo-cases4weeksAgo))/cases4weeksAgo);\n      if(isFinite(percentChange)) { casesLatest.percent_change = percentChange; } else { casesLatest.percent_change = 0 }\n      data.country.push([ d[0], casesLatest, cases2WeeksAgo, cases4weeksAgo, cases1WeeksAgo])\n    });\n    \n    // update hdi numbers\n    var hdiData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiTotalCasesData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var informData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informTotalCasesData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n\n    data.vaccine_types = [];\n    \n    var vaccinesper100 = [];\n\n    if(totalCases>0){\n      data.equity_data.forEach(function(dd,ii){\n          dd.vaccines_used.forEach(function(ddd){\n            if(!data.vaccine_types.includes(ddd)) data.vaccine_types.push(ddd);\n          })\n          hdiData[dd.hdi_category] += 1;\n          informData[dd.inform_severity] += 1;\n          if(dd.vaccines_per_100>0) vaccinesper100.push([dd.vaccines_per_100,dd.population]);\n          var dat = countries.filter((d)=>d[0]==dd.country_iso2);\n          if((dat[0][1].length>0)&&(dat[0])){\n            var lastRecord = dat[0][1][dat[0][1].length-1];\n            // hdi index\n            hdiTotalCasesData[dd.hdi_category] += lastRecord.cumulative_cases;\n            informTotalCasesData[dd.inform_severity] += lastRecord.cumulative_cases;\n          }\n      });\n    }\n\n    d3.selectAll('.vaccine_type').remove();\n    d3.select('#vaccine_tooltip_bg').attr('height', 1);\n    data.vaccine_types.forEach(function(d,i){\n      d3.select(\"#vaccine_tooltip\").append('text')\n      .attr('font-size', 9)\n      .attr('fill', '#000')\n      .attr('class', 'vaccine_type')\n      .append('tspan').text(d)\n      .attr('dx', 6)\n      .attr('dy',((i*1.3)+1.8)+'em')\n    });\n\n    var vtooltipbbox = d3.select('#vaccine_tooltip').node().getBBox();\n    d3.select('#vaccine_tooltip_bg').attr('height', vtooltipbbox.height+6);\n\n    var avgVacPer100ByCountry = d3.mean(data.vGroup, d=>d[1][0].total_vaccinations_per_hundred);\n    var newCases = d3.sum(data.country, d => d[4])\n\n    d3.select('#hdi-percent-val-very-high tspan').text(parse((hdiTotalCasesData['very-high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-very-high').transition().duration(500).attr('width', (parse(hdiTotalCasesData['very-high']/totalCases)*70));\n    d3.select('#hdi-percent-val-high tspan').text(parse((hdiTotalCasesData['high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-high').transition().duration(500).attr('width', (parse(hdiTotalCasesData['high']/totalCases)*70));\n    d3.select('#hdi-percent-val-medium tspan').text(parse((hdiTotalCasesData['medium']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-medium').transition().duration(500).attr('width', (parse(hdiTotalCasesData['medium']/totalCases)*70));\n    d3.select('#hdi-percent-val-low tspan').text(parse((hdiTotalCasesData['low']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-low').transition().duration(500).attr('width', (parse(hdiTotalCasesData['low']/totalCases)*70));\n\n    d3.select('#inform-percent-val-very-high tspan').text(parse((informTotalCasesData['very-high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-very-high').transition().duration(500).attr('width', (parse(informTotalCasesData['very-high']/totalCases)*64));\n    d3.select('#inform-percent-val-high tspan').text(parse((informTotalCasesData['high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-high').transition().duration(500).attr('width', (parse(informTotalCasesData['high']/totalCases)*64));\n    d3.select('#inform-percent-val-medium tspan').text(parse((informTotalCasesData['medium']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-medium').transition().duration(500).attr('width', (parse(informTotalCasesData['medium']/totalCases)*64));\n    d3.select('#inform-percent-val-low tspan').text(parse((informTotalCasesData['low']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-low').transition().duration(500).attr('width', (parse(informTotalCasesData['low']/totalCases)*64));\n    d3.select('#inform-percent-val-no-score tspan').text(parse((informTotalCasesData['no-score']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-no-score').transition().duration(500).attr('width', (parse(informTotalCasesData['no-score']/totalCases)*64));\n\n    d3.select('#hdi-toggle-very-high-val tspan').text(hdiData['very-high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-high-val tspan').text(hdiData['high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-medium-val tspan').text(hdiData['medium']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-low-val tspan').text(hdiData['low']).style('text-anchor', 'end').attr('dx', '10');\n\n    d3.select('#inform-toggle-very-high-val tspan').text(informData['very-high']).style('text-anchor', 'end').attr('dx', '6');\n    d3.select('#inform-toggle-high-val tspan').text(informData['high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#inform-toggle-medium-val tspan').text(informData['medium']).style('text-anchor', 'end').attr('dx', '9');\n    d3.select('#inform-toggle-low-val tspan').text(informData['low']).style('text-anchor', 'end').attr('dx', '7');\n    d3.select('#inform-toggle-no-score-val tspan').text(informData['no-score']).style('text-anchor', 'end').attr('dx', '13');\n\n    d3.select('#countries_filtered tspan').text(numCountriesFiltered+' countries filtered').style('text-anchor', 'end').attr('dx', '105');\n\n    d3.select('#total_new_cases tspan').text('-');\n    d3.select('#total_vac_100 tspan').text('-');\n    d3.select('#percent_acceptance tspan').text('-');\n  \n    d3.select('#total_cases tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalCases)(t))\n      };\n    })\n\n    d3.select('#total_new_cases tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalCases-newCases)(t))\n      };\n    })\n\n    d3.select('#total_deaths tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalDeaths)(t))\n      };\n    })\n\n    d3.select('#total_vaccines tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, d3.sum(options.cumulative_totals, d=>d.cumulative_vaccines))(t))\n        return d3.interpolate(0, d3.sum(options.cumulative_totals, d=>d.cumulative_vaccines))(t)\n      };\n    })\n\n    d3.select('#num_vaccines tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return Math.round(d3.interpolate(0, data.vaccine_types.length)(t))\n      };\n    })\n\n    d3.select('#total_vac_100 tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return (d3.interpolate(0, avgVacPer100ByCountry)(t).toFixed(2))\n      };\n    })\n\n\n  }\n\n  function updateTable(data, options){\n\n    var lastRecord = data.vaccines_data_cumulative.filter(d=>d.date.getTime()==options.maxVDate.getTime());\n    var vGroup = d3.flatGroup(lastRecord, d => d.iso_code);\n\n    data.equity_data.forEach(function(d,i){\n      if(!vGroup.some(item => item[0] === d.country_iso3)){\n        vGroup.push([d.country_iso3, [{\n          country_name: d.country_name\n        }]])\n      }\n    })\n    var sortKey;\n    if(options.table_sort=='col0_sort') sortKey = 'country_name';\n    if(options.table_sort=='col1_sort') sortKey = 'total_vaccinations_per_hundred';\n    if(options.table_sort=='col2_sort') sortKey = 'people_vaccinated_per_hundred';\n    if(options.table_sort=='col3_sort') sortKey = 'people_fully_vaccinated_per_hundred';\n    if(options.table_sort=='col5_sort') sortKey = 'total_vaccinations';\n\n    for(var x = 0; x<6; x++){\n      d3.select('#col'+x+'_sort_desc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort_asc').attr('opacity', 0);\n    }\n\n    d3.select('#'+options.table_sort+'_'+options.table_sort_direction)\n    .attr('opacity', 1);\n\n    if(sortKey=='country_name'){\n      if(options.table_sort_direction=='asc') {\n        vGroup.sort(function(b, a){\n          return a[1][0].country_name.localeCompare(b[1][0].country_name);\n        })\n      } else {\n        vGroup.sort(function(a, b){\n          return a[1][0].country_name.localeCompare(b[1][0].country_name);\n        })    \n      }\n\n    } else {\n      if(options.table_sort_direction=='desc') {\n        vGroup.sort(function(a,b){\n            return b[1][0][sortKey] - a[1][0][sortKey];\n        });\n      } else {\n        vGroup.sort(function(b,a){\n          return b[1][0][sortKey] - a[1][0][sortKey];\n        });\n      }\n    }\n\n    data.vGroup = vGroup;\n      \n    d3.selectAll('.tablerow').remove();\n    d3.selectAll('.col1bar').attr('opacity', 0);\n    d3.selectAll('.col2bar').attr('opacity', 0);\n    d3.selectAll('.col3bar').attr('opacity', 0);\n    d3.selectAll('.colbg').attr('opacity', 0);\n\n    for(let i = 0; i < 10; i++){\n      var d = vGroup[i];\n      if(!vGroup[i]) {\n        d3.select('#col1bar'+i)\n        .attr('width', 0);\n        d3.select('#col2bar'+i)\n        .attr('width', 0)\n        d3.select('#col3bar'+i)\n        .attr('width', 0)\n        continue;\n      }\n\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow table_country_name')\n      .text(function(){\n        var name;\n        if(d[1][0].country_name) { name = d[1][0].country_name; } else {\n          name = d[1][0].iso_code;\n        }\n        name = name.substring(0,17);\n        if(name.length==17)name=name+'.';\n        return name;\n      })\n      .attr('x', 0)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 1 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow table_country_name')\n      .text(function(){\n        var val = parseFloat(d[1][0].total_vaccinations_per_hundred).toFixed(1);\n        if(isNaN(val)){ return ''} else { return val }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 112)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 1 bar\n      d3.select('#col1bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(500)\n      .attr('width', function(){\n        var val = d[1][0].total_vaccinations_per_hundred;\n        if(d[1][0].total_vaccinations_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n\n      d3.select('#col1bg'+i)\n      .attr('opacity', 1);\n\n      // col 2 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = parseFloat(d[1][0].people_vaccinated_per_hundred).toFixed(1);\n        if(isNaN(val)){ return ''} else { return val+'%' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 223)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 2 bar\n      d3.select('#col2bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(500)\n      .attr('width', function(){\n        var val = d[1][0].people_vaccinated_per_hundred;\n        if(d[1][0].people_vaccinated_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n\n      d3.select('#col2bg'+i)\n      .attr('opacity', 1);\n\n      // col 3 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = parseFloat(d[1][0].people_fully_vaccinated_per_hundred).toFixed(1);\n        if(isNaN(val)){ return ''} else { return val+'%' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 335)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 3 bar\n      d3.select('#col3bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(500)\n      .attr('width', function(){\n        var val = d[1][0].people_fully_vaccinated_per_hundred;\n        if(d[1][0].people_fully_vaccinated_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n      \n      d3.select('#col3bg'+i)\n      .attr('opacity', 1);\n\n      // col 3 bar\n      d3.select('#col4bar'+i)\n      .attr('opacity', 1)\n      // .transition()\n      // .duration(500)\n      // .attr('width', function(){\n      //   var val = d[1][0].people_fully_vaccinated_per_hundred;\n      //   if(d[1][0].people_fully_vaccinated_per_hundred>100){\n      //     val = 100\n      //   } \n      //   if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      // });\n      \n      d3.select('#col4bg'+i)\n      .attr('opacity', 1);\n\n\n      var dayFormat = d3.timeFormat(\"%b %d\");\n      // col 5 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = (d[1][0].total_vaccinations);\n        if(isNaN(val)){ return ''} else { return nFormatter(val) }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 572)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n      \n      // col 6 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = (d[1][0].lastDate);\n        if((val)){ return dayFormat(val)} else { return '' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 620)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n      \n    }\n\n  }\n\n  function createSelects(){\n     // region select\n      $('#regionSelect').select2({\n        data: [{\n          id: 'regions',\n          text: 'IFRC Regions',\n          children: regionOptions\n        },{\n          id: 'countries',\n          text: 'Countries',\n          children: countryOptions\n        }],\n        placeholder: '',\n        scrollAfterSelect: true,\n        renderTemplate: item => item.text || '\\u200B',\n        dropdownParent: $('#regionDrop'),\n        shouldFocusInput: function() {\n        return false;\n      },\n        templateResult: function(data) {\n        var $state = $('<span>' + data.text + '<span>');\n        return $state;\n      }\n      }).on('select2:unselecting', function() {\n          $(this).data('unselecting', true);\n      }).on('select2:opening', function(e) {\n          if ($(this).data('unselecting')) {\n              $(this).removeData('unselecting');\n              e.preventDefault();\n          }\n      });\n\n      $('#regionSelect').on('select2:select', function (e) {\n          var data = e.params.data;\n          filter([data.id]);\n      });\n\n      $('#regionSelect').on('select2:unselect', function (e) {\n        var data = e.params.data;\n        filter([data.id]);\n    });\n\n      // reset locations\n      d3.select('#reset_locations').style('cursor', 'pointer').attr('opacity', 1)\n      .on('click', function(){\n        filter('clear');\n      })\n\n  }\n\n  function handleSelectLength(){\n    var values = $('#regionSelect').select2('data');\n    // handle height for many selections\n    var select2HeightRatio = $('#regionSelectContainer').width()/$('#regionSelectContainer').height();\n    if(select2HeightRatio<10){\n      $('.select2-selection__choice').hide();\n      $('.select2-search__field').attr('placeholder', values.length+' LOCATIONS SELECTED' ).css('width', '100%')\n    } else {\n      $('.select2-search__field').attr('placeholder', '' );\n      $('.select2-selection__choice').show();\n    }\n  }\n\n  useEffect(() => {\n    init();\n  }, [])\n\n\n  const selectStyle = {\n    control: (base, state) => ({\n      ...base,\n      border: '1px solid #D8D8D8',\n      boxShadow: 'none',\n      '&:hover': {\n          border: '1px solid #D8D8D8',\n      }\n  })\n  };\n\n  return (\n    <div>\n      <div id=\"loaderDiv\">\n        <div id=\"loaderText\">{loaderText}</div>\n        <div id=\"loaderBar\">\n          <div id=\"loaderProgress\" style={{width: progress*100+'%'}}></div>\n        </div>\n      </div>\n\n      <div id=\"regionSelectContainer\">\n      <select id=\"regionSelect\" className=\"js-example-responsive\" name=\"states[]\" multiple=\"multiple\"></select>\n      <div id=\"regionDrop\"></div>\n\n\n        {/* <Select id=\"regionSelect\" options={regionOptions} styles={selectStyle} isMulti hideSelectedOptions={true}/> */}\n      </div>\n      {/* <div id=\"countrySelectContainer\">\n        <Select id=\"countrySelect\" options={countryOptions} styles={selectStyle} isMulti/>\n      </div> */}\n\n    <div id=\"svg_container\" className=\"App\">\n\n    </div>\n    <div id=\"map_div\">\n\n    </div>\n\n\n    </div>\n  );\n}\n\nfunction parse(p){\n  if(isNaN(p)){\n    return 0\n  } else {\n    return p;\n  }\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}