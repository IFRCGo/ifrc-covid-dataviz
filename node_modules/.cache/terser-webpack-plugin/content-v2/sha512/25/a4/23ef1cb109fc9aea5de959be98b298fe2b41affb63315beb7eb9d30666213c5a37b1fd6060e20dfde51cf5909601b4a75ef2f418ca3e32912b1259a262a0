{"code":"(this[\"webpackJsonpifrc-covid-dataviz\"]=this[\"webpackJsonpifrc-covid-dataviz\"]||[]).push([[0],{117:function(t,e,a){},120:function(t,e,a){},124:function(t,e,a){\"use strict\";a.r(e);var i=a(6),n=a.n(i),r=a(32),c=a.n(r),o=(a(117),a(5)),l=a.n(o),u=(a(19),a(33)),s=a(4),_=a(0);var d,g,f,h,m,v,y,p,w,b,x,k,j=function(t,e,a){},A=a(1),q=a.n(A),E={regions:{AP:\"#E02225\",AM:\"#C9C4C1\",EU:\"#771A13\",ME:\"#0A3248\",AF:\"#FCD204\"}};function T(t){for(var e=(t+=\"\").split(\".\"),a=e[0],i=e.length>1?\".\"+e[1]:\"\",n=/(\\d+)(\\d{3})/;n.test(a);)a=a.replace(n,\"$1,$2\");return a+i}function O(t,e){var a=[{value:1,symbol:\"\"},{value:1e3,symbol:\"k\"},{value:1e6,symbol:\"M\"},{value:1e9,symbol:\"B\"},{value:1e12,symbol:\"T\"},{value:1e15,symbol:\"P\"},{value:1e18,symbol:\"E\"}].slice().reverse().find((function(e){return t>=e.value}));return a?(t/a.value).toFixed(1).replace(/\\.0+$|(\\.[0-9]*[1-9])0+$/,\"$1\")+a.symbol:\"0\"}var D=[\"AF\",\"ME\",\"AP\",\"EU\",\"AM\",\"OTH\"];function N(t,e){var a=[];t.who_data.forEach((function(t,i){a[t[e.timeline_frequency+\"Total\"]]||(a[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.month_start),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_cases+=t.new_cases,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_deaths+=t.new_deaths,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_cases=0})),a.forEach((function(t,e){D.forEach((function(i,n){t.hasOwnProperty(i)||(t[i]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),e>0?(t[i].cumulative_cases=a[e][i].new_cases+a[e-1][i].cumulative_cases,t[i].cumulative_deaths=a[e][i].new_deaths+a[e-1][i].cumulative_deaths):(t[i].cumulative_cases=a[e][i].new_cases,t[i].cumulative_deaths=a[e][i].new_deaths)})),t.total_new_cases=t.AF.new_cases+t.AP.new_cases+t.AM.new_cases+t.EU.new_cases+t.ME.new_cases+t.OTH.new_cases,t.total_cumulative_cases=t.AF.cumulative_cases+t.AP.cumulative_cases+t.AM.cumulative_cases+t.EU.cumulative_cases+t.ME.cumulative_cases+t.OTH.cumulative_cases,t.total_new_deaths=t.AF.new_deaths+t.AP.new_deaths+t.AM.new_deaths+t.EU.new_deaths+t.ME.new_deaths+t.OTH.new_deaths,t.total_cumulative_deaths=t.AF.cumulative_deaths+t.AP.cumulative_deaths+t.AM.cumulative_deaths+t.EU.cumulative_deaths+t.ME.cumulative_deaths+t.OTH.cumulative_deaths,t.region=[],D.forEach((function(e,a){t.region.push({region:e,new_cases:t[e].new_cases,new_deaths:t[e].new_deaths,cumulative_cases:t[e].cumulative_cases,cumulative_deaths:t[e].cumulative_deaths})}))}));var i=[];if(\"cumulative\"!=e.timeline_type)t.vaccines_data=t.vaccines_data_daily,t.vaccines_data.forEach((function(t,a){i[t[e.timeline_frequency+\"Total\"]]||(i[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=t.month_start),i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_vaccines:0}),i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_vaccines+=t.daily_vaccinations})),i.forEach((function(t,e){D.forEach((function(e,a){t[e]||(t[e]={new_vaccines:0,cumulative_vaccines:0})})),t.total_new_vaccines=t.AF.new_vaccines+t.AP.new_vaccines+t.AM.new_vaccines+t.EU.new_vaccines+t.ME.new_vaccines+t.OTH.new_vaccines,t.region=[],D.forEach((function(e,a){t.region.push({region:e,new_vaccines:t[e].new_vaccines})}))}));else{if(t.vaccines_data=[],\"day\"===e.timeline_frequency&&(t.vaccines_data=t.vaccines_data_cumulative),\"week\"===e.timeline_frequency&&t.vaccines_data_cumulative.forEach((function(a,i){var n=q()(a.date).endOf(\"isoWeek\").startOf(\"day\").unix();q()(a.date).startOf(\"day\").unix()!=n&&a.date!=e.maxDate||t.vaccines_data.push(a)})),\"month\"===e.timeline_frequency){var n=q()(e.maxDate).startOf(\"day\").unix();t.vaccines_data_cumulative.forEach((function(a,i){var r=q()(a.date).endOf(\"month\").startOf(\"day\").unix(),c=q()(a.date).startOf(\"day\").unix();(c==r||e.maxDate!=r&&c==n)&&t.vaccines_data.push(a)}))}t.vaccines_data.forEach((function(t,a){i[t[e.timeline_frequency+\"Total\"]]||(i[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=t.month_start),i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={cumulative_vaccines:0}),i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_vaccines+=t.total_vaccinations})),i.forEach((function(t,e){D.forEach((function(e,a){t[e]||(t[e]={cumulative_vaccines:0})})),t.total_cumulative_vaccines=t.AF.cumulative_vaccines+t.AP.cumulative_vaccines+t.AM.cumulative_vaccines+t.EU.cumulative_vaccines+t.ME.cumulative_vaccines+t.OTH.cumulative_vaccines,t.region=[],D.forEach((function(e,a){t.region.push({region:e,cumulative_vaccines:t[e].cumulative_vaccines})}))}))}i=i.filter((function(t){return t}));var r=_.f(t.who_data,(function(t,a){return t[e.timeline_frequency+\"Total\"]})),c=_.f(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_cases:\"cumulative\"===e.timeline_type?t.total_cumulative_cases:\"stacked\"===e.timeline_type?100:void 0})),o=_.f(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_deaths:\"cumulative\"===e.timeline_type?t.total_cumulative_deaths:\"stacked\"===e.timeline_type?100:void 0})),l=_.f(i,(function(t,a){if(t){if(\"non-cumulative\"===e.timeline_type)return t.total_new_vaccines;if(\"cumulative\"===e.timeline_type)return t.total_cumulative_vaccines;if(\"stacked\"===e.timeline_type)return 100}})),u=a[0].date,s=e.maxDate,j=q()(s);\"month\"===e.timeline_frequency&&(j=j.add(1,\"months\")),\"week\"===e.timeline_frequency&&(j=j.add(1,\"weeks\")),\"day\"===e.timeline_frequency&&(j=j.add(1,\"days\"));var A=_.j(\"#timechart_svg\");A.selectAll(\"g\").remove(),_.k(\"#layout .yAxis\").remove(),_.k(\"#yAxis\").remove(),_.k(\"#layout .xAxis\").remove();var T=2e3/r,N=.04;\"month\"===e.timeline_frequency&&(N=.03),\"day\"===e.timeline_frequency&&(N=0),b=_.i().range([0,2e3]).domain([u,j]),k=_.i().range([0,596]).domain([u,j]),d=_.h().range([0,140]).domain([0,c]),y=_.h().range([140,0]).domain([0,c]),g=_.h().range([0,140]).domain([0,o]),p=_.h().range([140,0]).domain([0,o]),f=_.h().range([0,140]).domain([0,l]),w=_.h().range([140,0]).domain([0,l]),x=_.a().scale(k).tickSize(2).tickPadding(3),h=_.b().scale(y).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?O(t)+\"%\":O(t)})),m=_.b().scale(p).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?O(t)+\"%\":O(t)})),v=_.b().scale(w).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?O(t)+\"%\":O(t)}));var M=_.j(\"#layout\").append(\"g\").attr(\"id\",\"yAxis\").attr(\"clip-path\",\"url(#mask)\"),F=(M.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"casesAxis\").attr(\"transform\",\"translate(620,363)\").call(h),M.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"deathsAxis\").attr(\"transform\",\"translate(620,534)\").call(m),M.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"VaccinesAxis\").attr(\"transform\",\"translate(620,707.5)\").call(v),M.append(\"g\").attr(\"id\",\"casesXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,504)\").call(x),M.append(\"g\").attr(\"id\",\"deathsXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,674)\").call(x),M.append(\"g\").attr(\"id\",\"vaccinesXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,848)\").call(x),M.append(\"g\").attr(\"id\",\"timelineXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,908)\").call(x),A.selectAll(\".bar_group\").data(a).enter().append(\"g\").attr(\"class\",\"bar_group\").attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+b(t.date)+\")\"})));F.selectAll(\".cases_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",(function(t,e){return\"timeBar cases_bar time_\"+t.region})).attr(\"x\",T*N).attr(\"y\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_cases-_.j(this.parentNode).datum().OTH.new_cases,n=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].cumulative_cases),\"non-cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_cases),\"stacked\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_cases);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-d(t.cumulative_cases)-d(n)),\"non-cumulative\"===e.timeline_type&&(c=140-d(t.new_cases)-d(n)),\"stacked\"===e.timeline_type&&(c=140-t.new_cases/i*140-n/i*140),c&&c>0?c:0})).attr(\"width\",T-T*N*2).attr(\"height\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_cases-_.j(this.parentNode).datum().OTH.new_cases,n=0;return\"cumulative\"===e.timeline_type&&(n=d(t.cumulative_cases)),\"non-cumulative\"===e.timeline_type&&(n=d(t.new_cases)),\"stacked\"===e.timeline_type&&(n=t.new_cases/i*140),n&&n>0?n:0})).attr(\"fill\",(function(t,e){return E.regions[t.region]})),F.selectAll(\".deaths_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",(function(t,e){return\"timeBar deaths_bar time_\"+t.region})).attr(\"x\",T*N).attr(\"y\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_deaths-_.j(this.parentNode).datum().OTH.new_deaths,n=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].cumulative_deaths),\"non-cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_deaths),\"stacked\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_deaths);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-g(t.cumulative_deaths)-g(n)+170),\"non-cumulative\"===e.timeline_type&&(c=140-g(t.new_deaths)-g(n)+170),\"stacked\"===e.timeline_type&&(c=140-t.new_deaths/i*140-n/i*140+170),c&&c>0?c:0})).attr(\"width\",T-T*N*2).attr(\"height\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_deaths-_.j(this.parentNode).datum().OTH.new_deaths,n=0;return\"cumulative\"===e.timeline_type&&(n=g(t.cumulative_deaths)),\"non-cumulative\"===e.timeline_type&&(n=g(t.new_deaths)),\"stacked\"===e.timeline_type&&(n=t.new_deaths/i*140),n&&n>0?n:0})).attr(\"fill\",(function(t,e){return E.regions[t.region]})),\"month\"===e.timeline_frequency&&F.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=_.j(this.parentNode).datum().date,a=_.n.offset(e,1);return(b(a)-b(e))*(1-N)})).attr(\"x\",(function(t){var e=_.j(this.parentNode).datum().date,a=_.n.offset(e,1);return(b(a)-b(e))*(N/2)}));var H=A.selectAll(\".vbar_group\").data(i).enter().append(\"g\").attr(\"class\",\"vbar_group\").attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+b(t.date)+\", 344)\"}));H.selectAll(\".vaccines_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",\"timeBar vaccines_bar\").attr(\"class\",(function(t,e){return\"timeBar vaccines_bar time_\"+t.region})).attr(\"x\",T*N).attr(\"y\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_vaccines-_.j(this.parentNode).datum().OTH.new_vaccines,n=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].cumulative_vaccines),\"non-cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_vaccines),\"stacked\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_vaccines);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-f(t.cumulative_vaccines)-f(n)),\"non-cumulative\"===e.timeline_type&&(c=140-f(t.new_vaccines)-f(n)),\"stacked\"===e.timeline_type&&(c=140-t.new_vaccines/i*140-n/i*140),c&&c>0?c:0})).attr(\"width\",T-T*N*2).attr(\"height\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_vaccines-_.j(this.parentNode).datum().OTH.new_vaccines,n=0;return\"cumulative\"===e.timeline_type&&(n=f(t.cumulative_vaccines)),\"non-cumulative\"===e.timeline_type&&(n=f(t.new_vaccines)),\"stacked\"===e.timeline_type&&(n=t.new_vaccines/i*140),n&&n>0?n:0})).attr(\"fill\",(function(t,e){return E.regions[t.region]})),\"month\"===e.timeline_frequency&&H.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=_.j(this.parentNode).datum().date,a=_.n.offset(e,1);return(b(a)-b(e))*(1-N)})).attr(\"x\",(function(t){var e=_.j(this.parentNode).datum().date,a=_.n.offset(e,1);return(b(a)-b(e))*(N/2)})),\"month\"===e.timeline_frequency&&F.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=_.j(this.parentNode).datum().date,a=_.n.offset(e,1);return(b(a)-b(e))*(1-N)})).attr(\"x\",(function(t){var e=_.j(this.parentNode).datum().date,a=_.n.offset(e,1);return(b(a)-b(e))*(N/2)}))}function M(t,e){var a=[];t.who_data.forEach((function(t,i){a[t[e.timeline_frequency+\"Total\"]]||(a[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.month_start),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_cases+=t.new_cases,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_deaths+=t.new_deaths,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_cases=0})),a.forEach((function(t,e){D.forEach((function(i,n){t.hasOwnProperty(i)||(t[i]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),e>0?(t[i].cumulative_cases=a[e][i].new_cases+a[e-1][i].cumulative_cases,t[i].cumulative_deaths=a[e][i].new_deaths+a[e-1][i].cumulative_deaths):(t[i].cumulative_cases=a[e][i].new_cases,t[i].cumulative_deaths=a[e][i].new_deaths)})),t.total_new_cases=t.AF.new_cases+t.AP.new_cases+t.AM.new_cases+t.EU.new_cases+t.ME.new_cases+t.OTH.new_cases,t.total_cumulative_cases=t.AF.cumulative_cases+t.AP.cumulative_cases+t.AM.cumulative_cases+t.EU.cumulative_cases+t.ME.cumulative_cases+t.OTH.cumulative_cases,t.total_new_deaths=t.AF.new_deaths+t.AP.new_deaths+t.AM.new_deaths+t.EU.new_deaths+t.ME.new_deaths+t.OTH.new_deaths,t.total_cumulative_deaths=t.AF.cumulative_deaths+t.AP.cumulative_deaths+t.AM.cumulative_deaths+t.EU.cumulative_deaths+t.ME.cumulative_deaths+t.OTH.cumulative_deaths,t.region=[],D.forEach((function(e,a){t.region.push({region:e,new_cases:t[e].new_cases,new_deaths:t[e].new_deaths,cumulative_cases:t[e].cumulative_cases,cumulative_deaths:t[e].cumulative_deaths})}))}));var i=[];if(\"cumulative\"!=e.timeline_type)t.vaccines_data=t.vaccines_data_daily,t.vaccines_data.forEach((function(t,a){i[t[e.timeline_frequency+\"Total\"]]||(i[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=q()(t.date).startOf(\"isoWeek\").toDate()),\"month\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=q()(t.date).startOf(\"month\").toDate()),i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_vaccines:0}),i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_vaccines+=t.daily_vaccinations})),i.forEach((function(t,e){D.forEach((function(e,a){t[e]||(t[e]={new_vaccines:0,cumulative_vaccines:0})})),t.total_new_vaccines=t.AF.new_vaccines+t.AP.new_vaccines+t.AM.new_vaccines+t.EU.new_vaccines+t.ME.new_vaccines+t.OTH.new_vaccines,t.region=[],D.forEach((function(e,a){t.region.push({region:e,new_vaccines:t[e].new_vaccines})}))}));else{if(t.vaccines_data=[],\"day\"===e.timeline_frequency&&(t.vaccines_data=t.vaccines_data_cumulative),\"week\"===e.timeline_frequency&&t.vaccines_data_cumulative.forEach((function(a,i){var n=q()(a.date).endOf(\"isoWeek\").startOf(\"day\").unix();q()(a.date).startOf(\"day\").unix()!=n&&a.date!=e.maxDate||t.vaccines_data.push(a)})),\"month\"===e.timeline_frequency){var n=q()(e.maxDate).startOf(\"day\").unix();t.vaccines_data_cumulative.forEach((function(a,i){var r=q()(a.date).endOf(\"month\").startOf(\"day\").unix(),c=q()(a.date).startOf(\"day\").unix();(c==r||e.maxDate!=r&&c==n)&&t.vaccines_data.push(a)}))}t.vaccines_data.forEach((function(t,a){i[t[e.timeline_frequency+\"Total\"]]||(i[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=q()(t.date).startOf(\"isoWeek\").toDate()),\"month\"===e.timeline_frequency&&(i[t[e.timeline_frequency+\"Total\"]].date=q()(t.date).startOf(\"month\").toDate()),i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={cumulative_vaccines:0}),i[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_vaccines+=t.total_vaccinations})),i.forEach((function(t,e){D.forEach((function(e,a){t[e]||(t[e]={cumulative_vaccines:0})})),t.total_cumulative_vaccines=t.AF.cumulative_vaccines+t.AP.cumulative_vaccines+t.AM.cumulative_vaccines+t.EU.cumulative_vaccines+t.ME.cumulative_vaccines+t.OTH.cumulative_vaccines,t.region=[],D.forEach((function(e,a){t.region.push({region:e,cumulative_vaccines:t[e].cumulative_vaccines})}))}))}i=i.filter((function(t){return t}));_.f(t.who_data,(function(t,a){return t[e.timeline_frequency+\"Total\"]}));var r,c=_.f(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_cases:\"cumulative\"===e.timeline_type?t.total_cumulative_cases:\"stacked\"===e.timeline_type?100:void 0})),o=_.f(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_deaths:\"cumulative\"===e.timeline_type?t.total_cumulative_deaths:\"stacked\"===e.timeline_type?100:void 0})),l=_.f(i,(function(t,a){if(t){if(\"non-cumulative\"===e.timeline_type)return t.total_new_vaccines;if(\"cumulative\"===e.timeline_type)return t.total_cumulative_vaccines;if(\"stacked\"===e.timeline_type)return 100}}));r=a.length>0?a[0].date:e.minDate;var u=e.maxDate,s=q()(u);\"month\"===e.timeline_frequency&&(s=s.add(1,\"months\")),\"week\"===e.timeline_frequency&&(s=s.add(1,\"weeks\")),\"day\"===e.timeline_frequency&&(s=s.add(1,\"days\"));var x=_.j(\"#timechart_svg\");e.timeline_frequency,e.timeline_frequency,b=_.i().range([0,2e3]).domain([r,s]),k=_.i().range([23,596]).domain([r,s]),d=_.h().range([0,140]).domain([0,c]),y=_.h().range([140,0]).domain([0,c]),g=_.h().range([0,140]).domain([0,o]),p=_.h().range([140,0]).domain([0,o]),f=_.h().range([0,140]).domain([0,l]),w=_.h().range([140,0]).domain([0,l]),h=_.b().scale(y).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?O(t)+\"%\":O(t)})),m=_.b().scale(p).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?O(t)+\"%\":O(t)})),v=_.b().scale(w).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?O(t)+\"%\":O(t)}));_.j(\"#casesAxis\").transition().duration(500).call(h),_.j(\"#deathsAxis\").transition().duration(500).call(m),_.j(\"#VaccinesAxis\").transition().duration(500).call(v);var j=x.selectAll(\".bar_group\").data(a).attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+b(t.date)+\")\"}));j.selectAll(\".cases_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_cases-_.j(this.parentNode).datum().OTH.new_cases,n=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].cumulative_cases),\"non-cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_cases),\"stacked\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_cases);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-d(t.cumulative_cases)-d(n)),\"non-cumulative\"===e.timeline_type&&(c=140-d(t.new_cases)-d(n)),\"stacked\"===e.timeline_type&&(c=140-t.new_cases/i*140-n/i*140),c&&c>0?c:0})).attr(\"height\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_cases-_.j(this.parentNode).datum().OTH.new_cases,n=0;return\"cumulative\"===e.timeline_type&&(n=d(t.cumulative_cases)),\"non-cumulative\"===e.timeline_type&&(n=d(t.new_cases)),\"stacked\"===e.timeline_type&&(n=t.new_cases/i*140),n&&n>0?n:0})).attr(\"fill\",(function(t,e){return E.regions[t.region]})),j.selectAll(\".deaths_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_deaths-_.j(this.parentNode).datum().OTH.new_deaths,n=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].cumulative_deaths),\"non-cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_deaths),\"stacked\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_deaths);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-g(t.cumulative_deaths)-g(n)+170),\"non-cumulative\"===e.timeline_type&&(c=140-g(t.new_deaths)-g(n)+170),\"stacked\"===e.timeline_type&&(c=140-t.new_deaths/i*140-n/i*140+170),c&&c>0?c:0})).attr(\"height\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_deaths-_.j(this.parentNode).datum().OTH.new_deaths,n=0;return\"cumulative\"===e.timeline_type&&(n=g(t.cumulative_deaths)),\"non-cumulative\"===e.timeline_type&&(n=g(t.new_deaths)),\"stacked\"===e.timeline_type&&(n=t.new_deaths/i*140),n&&n>0?n:0})),0==a.length&&(_.k(\".cases_bar\").transition().duration(500).attr(\"y\",140).attr(\"height\",0),_.k(\".deaths_bar\").transition().duration(500).attr(\"y\",310).attr(\"height\",0)),x.selectAll(\".vbar_group\").data(i).attr(\"data-date\",(function(t){return t.date})).attr(\"transform\",(function(t,e){return\"translate(\"+b(t.date)+\", 344)\"})).selectAll(\".vaccines_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_vaccines-_.j(this.parentNode).datum().OTH.new_vaccines,n=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].cumulative_vaccines),\"non-cumulative\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_vaccines),\"stacked\"===e.timeline_type&&(n+=_.j(this.parentNode).datum().region[r-1].new_vaccines);var c=0;return\"cumulative\"===e.timeline_type&&(c=140-f(t.cumulative_vaccines)-f(n)),\"non-cumulative\"===e.timeline_type&&(c=140-f(t.new_vaccines)-f(n)),\"stacked\"===e.timeline_type&&(c=140-t.new_vaccines/i*140-n/i*140),c&&c>0?c:0})).attr(\"height\",(function(t,a){var i=_.j(this.parentNode).datum().total_new_vaccines-_.j(this.parentNode).datum().OTH.new_vaccines,n=0;return\"cumulative\"===e.timeline_type&&(n=f(t.cumulative_vaccines)),\"non-cumulative\"===e.timeline_type&&(n=f(t.new_vaccines)),\"stacked\"===e.timeline_type&&(n=t.new_vaccines/i*140),n&&n>0?n:0})),0==i.length&&_.k(\".vaccines_bar\").transition().duration(500).attr(\"y\",140).attr(\"height\",0)}var F,H,P,C,S,z,U,B,Y=[\"AF\",\"ME\",\"AP\",\"EU\",\"AM\",\"OTH\"],W=20,I=0,L=58,V=[];function $(t,e,a){V=[];Y.forEach((function(t,e){V.push({region:t,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0})})),t.who_data.forEach((function(t,e){Y.forEach((function(e,a){e==t.ifrc_region&&(V[a].cumulative_cases+=t.new_cases,V[a].cumulative_deaths+=t.new_deaths)}))})),F=_.f(V,(function(t,e){return t.cumulative_cases})),H=_.f(V,(function(t,e){return t.cumulative_deaths}));var i=_.d(t.vaccines_data_cumulative,(function(t){return t.date}));i[i.length-1][1].forEach((function(t,e){Y.forEach((function(e,a){e==t.ifrc_region&&\"OTH\"!=e&&(V[a].cumulative_vaccines+=t.total_vaccinations)}))})),V.sort((function(t,a){return\"cases\"==e.region_chart_toggle?a.cumulative_cases-t.cumulative_cases:\"deaths\"==e.region_chart_toggle?a.cumulative_deaths-t.cumulative_deaths:\"vaccines\"==e.region_chart_toggle?a.cumulative_vaccines-t.cumulative_vaccines:void 0})),P=_.f(V,(function(t,e){return t.cumulative_vaccines}));var n=_.j(\"#layout #region_chart_container\").attr(\"opacity\",0);B={x:n.attr(\"x\"),y:n.attr(\"y\"),width:n.attr(\"width\"),height:n.attr(\"height\")};var r=_.j(\"#layout\").append(\"g\").attr(\"transform\",\"translate(\"+B.x+\", \"+B.y+\")\").attr(\"id\",\"region_chart\"),c=B.height/(V.length-1),o=r.selectAll(\".bar-row\").data(V.filter((function(t){return\"OTH\"!==t.region}))).enter().append(\"g\").attr(\"class\",\"bar-row\").attr(\"transform\",(function(t,e){return\"translate(0,\"+(e*c+I)+\")\"}));e.cumulative_totals=V;var l=o.append(\"text\").attr(\"y\",c/2).attr(\"x\",W-5).attr(\"class\",(function(t,e){return\"bar-labels bar-label-\"+t.region})).style(\"alignment-baseline\",\"middle\").style(\"font-size\",\"11px\").attr(\"opacity\",1).attr(\"fill\",\"#000\").text((function(t,e){return\"AM\"===t.region?\"Americas\":\"EU\"===t.region?\"Europe\":\"AF\"===t.region?\"Africa\":\"ME\"===t.region?\"Middle East and North Africa\":\"AP\"===t.region?\"Asia-Pacific\":void 0})).style(\"text-anchor\",\"end\");U=o.node().getBBox().width+W,l.attr(\"x\",U+89),U+=94,_.k(\".timeBar\").attr(\"opacity\",1);o.append(\"rect\").attr(\"y\",0).attr(\"x\",0).attr(\"width\",U).attr(\"height\",c-2).style(\"opacity\",0).attr(\"fill\",\"grey\").style(\"cursor\",\"pointer\").attr(\"class\",(function(t,e){return\"bar-bg-\"+t.region})).attr(\"data-id\",(function(t,e){return t.region})).on(\"mouseover\",(function(t){_.j(this).style(\"opacity\",.1)})).on(\"mouseout\",(function(){_.j(this).style(\"opacity\",0)})).on(\"click\",(function(t,e){var i=_.j(this).attr(\"data-id\");a([i],\"regionchart\")}));C=_.h().range([0,B.width-L-U]).domain([0,F]),S=_.h().range([0,B.width-L-U]).domain([0,H]),z=_.h().range([U,B.width-L-U]).domain([0,P]);o.append(\"rect\").attr(\"id\",(function(t,e){return\"bar-\"+t.region})).attr(\"data-id\",(function(t,e){return t.region})).attr(\"class\",\"region-bar\").attr(\"width\",(function(t,a){return\"cases\"==e.region_chart_toggle?C(t.cumulative_cases):\"deaths\"==e.region_chart_toggle?S(t.cumulative_deaths):\"vaccines\"==e.region_chart_toggle?S(t.cumulative_vaccines):void 0})).attr(\"x\",U).style(\"outline\",\"none\").style(\"cursor\",\"pointer\").attr(\"y\",.1*c-1).attr(\"height\",c-.1*c*2).style(\"fill\",(function(t){return E.regions[t.region]})).attr(\"opacity\",1).on(\"click\",(function(t,e){var i=_.j(this).attr(\"data-id\");a([i],\"regionchart\")})).on(\"mouseover\",(function(t){_.j(this.parentNode).datum()})).on(\"mouseout\",(function(){})),o.append(\"text\").text((function(t){return\"cases\"==e.region_chart_toggle?T(t.cumulative_cases):\"deaths\"==e.region_chart_toggle?T(t.cumulative_deaths):\"vaccines\"==e.region_chart_toggle?T(t.cumulative_vaccines):void 0})).attr(\"id\",(function(t,e){return\"data-label\"+t.region})).attr(\"data-id\",(function(t,e){return t.region})).attr(\"class\",\"data-label\").attr(\"y\",c/2).style(\"alignment-baseline\",\"middle\").style(\"text-anchor\",\"start\").attr(\"x\",(function(t,a){return\"cases\"==e.region_chart_toggle?C(t.cumulative_cases)+U+5:\"deaths\"==e.region_chart_toggle?S(t.cumulative_deaths)+U+5:\"vaccines\"==e.region_chart_toggle?z(t.cumulative_vaccines)+U+5:void 0})).attr(\"opacity\",(function(t,a){var i=0;return\"cases\"==e.region_chart_toggle&&(i=t.cumulative_cases),\"deaths\"==e.region_chart_toggle&&(i=t.cumulative_deaths),\"vaccines\"==e.region_chart_toggle&&(i=t.cumulative_vaccines),i>0?1:0})).style(\"fill\",\"#696969\").style(\"font-weight\",\"normal\").style(\"font-size\",\"10px\")}function R(t,e){V=[],Y.forEach((function(t,e){V.push({region:t,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0})})),e.who_data.forEach((function(t,e){Y.forEach((function(e,a){e==t.ifrc_region&&(V[a].cumulative_cases+=t.new_cases,V[a].cumulative_deaths+=t.new_deaths,V[a].cumulative_vaccines=0)}))})),F=_.f(V,(function(t,e){return t.cumulative_cases})),H=_.f(V,(function(t,e){return t.cumulative_deaths}));var a=_.d(e.vaccines_data_cumulative,(function(t){return t.date})),i=a[a.length-1];i&&i[1].forEach((function(t,e){Y.forEach((function(e,a){e==t.ifrc_region&&(V[a].cumulative_vaccines+=t.total_vaccinations)}))})),V.sort((function(e,a){return\"cases\"==t.region_chart_toggle?a.cumulative_cases-e.cumulative_cases:\"deaths\"==t.region_chart_toggle?a.cumulative_deaths-e.cumulative_deaths:\"vaccines\"==t.region_chart_toggle?a.cumulative_vaccines-e.cumulative_vaccines:void 0})),t.cumulative_totals=V,P=_.f(V,(function(t,e){return t.cumulative_vaccines})),C=_.h().range([0,B.width-L-U]).domain([0,F]),S=_.h().range([0,B.width-L-U]).domain([0,H]),z=_.h().range([0,B.width-L-U]).domain([0,P]),0==P&&0==F&&0==H?(_.k(\".region-bar\").transition().duration(500).attr(\"width\",0),_.k(\".data-label\").transition().duration(500).attr(\"x\",U).attr(\"opacity\",0)):(_.k(\".region-bar\").transition().duration(500).attr(\"width\",(function(e,a){var i=_.j(this).attr(\"data-id\");return V.forEach((function(t,a){t.region==i&&(e=t)})),\"cases\"==t.region_chart_toggle?C(e.cumulative_cases):\"deaths\"==t.region_chart_toggle?S(e.cumulative_deaths):\"vaccines\"==t.region_chart_toggle?z(e.cumulative_vaccines):void 0})),_.k(\".data-label\").transition().duration(500).tween(\"text\",(function(e,a){var i=0,n=_.j(this).attr(\"data-id\");V.forEach((function(t,a){t.region==n&&(e=t)})),\"cases\"==t.region_chart_toggle&&(i=e.cumulative_cases),\"deaths\"==t.region_chart_toggle&&(i=e.cumulative_deaths),\"vaccines\"==t.region_chart_toggle&&(i=e.cumulative_vaccines);a=_.e(Math.floor(112346*Math.random()+92345),i);return function(t){_.j(this).text(T(Math.round(a(t))))}})).attr(\"x\",(function(e,a){var i=_.j(this).attr(\"data-id\");return V.forEach((function(t,a){t.region==i&&(e=t)})),\"cases\"==t.region_chart_toggle?C(e.cumulative_cases)+U+5:\"deaths\"==t.region_chart_toggle?S(e.cumulative_deaths)+U+5:\"vaccines\"==t.region_chart_toggle?z(e.cumulative_vaccines)+U+5:void 0})).attr(\"opacity\",(function(e,a){var i=_.j(this).attr(\"data-id\");V.forEach((function(t,a){t.region==i&&(e=t)}));var n=0;return\"cases\"==t.region_chart_toggle&&(n=e.cumulative_cases),\"deaths\"==t.region_chart_toggle&&(n=e.cumulative_deaths),\"vaccines\"==t.region_chart_toggle&&(n=e.cumulative_vaccines),n>0?1:0})))}var X=\"#595454\",J=\"#EAEAEA\",G=\"#000\",K=\"#FFF\";var Q=function(t,e,a,i,n){t.select(\"#region_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,a){e.region_filter=[],i(\"clear-region\")})),t.select(\"#region-chart-toggle #region-chart-toggle-cases\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"cases\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"cases\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",J),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",G),t.select(\"#region-chart-toggle-cases rect\").attr(\"fill\",X),t.select(\"#region-chart-toggle-cases text\").attr(\"fill\",K),R(e,a)})),t.select(\"#region-chart-toggle #region-chart-toggle-deaths\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"deaths\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"deaths\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",J),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",G),t.select(\"#region-chart-toggle-deaths rect\").attr(\"fill\",X),t.select(\"#region-chart-toggle-deaths text\").attr(\"fill\",K),R(e,a)})),t.select(\"#region-chart-toggle #region-chart-toggle-vaccines\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"vaccines\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"vaccines\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",J),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",G),t.select(\"#region-chart-toggle-vaccines rect\").attr(\"fill\",X),t.select(\"#region-chart-toggle-vaccines text\").attr(\"fill\",K),R(e,a)})),t.select(\"#map-toggle #map-toggle-bi-weekly-change\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"bi-weekly-change\"===e.map_toggle)return!1;e.map_toggle=\"bi-weekly-change\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",J),t.selectAll(\"#map-toggle text\").attr(\"fill\",G),t.select(\"#map-toggle-bi-weekly-change rect\").attr(\"fill\",X),t.select(\"#map-toggle-bi-weekly-change text\").attr(\"fill\",K),j(t,e,a)})),t.select(\"#map-toggle #map-toggle-cases\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"cases\"===e.map_toggle)return!1;e.map_toggle=\"cases\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",J),t.selectAll(\"#map-toggle text\").attr(\"fill\",G),t.select(\"#map-toggle-cases rect\").attr(\"fill\",X),t.select(\"#map-toggle-cases text\").attr(\"fill\",K),j(t,e,a)})),t.select(\"#map-toggle #map-toggle-deaths\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"deaths\"===e.map_toggle)return!1;e.map_toggle=\"deaths\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",J),t.selectAll(\"#map-toggle text\").attr(\"fill\",G),t.select(\"#map-toggle-deaths rect\").attr(\"fill\",X),t.select(\"#map-toggle-deaths text\").attr(\"fill\",K),j(t,e,a)})),t.select(\"#map-toggle #map-toggle-percent-fully-vaccinated\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"percent-fully-vaccinated\"===e.map_toggle)return!1;e.map_toggle=\"percent-fully-vaccinated\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",J),t.selectAll(\"#map-toggle text\").attr(\"fill\",G),t.select(\"#map-toggle-percent-fully-vaccinated rect\").attr(\"fill\",X),t.select(\"#map-toggle-percent-fully-vaccinated text\").attr(\"fill\",K),j(t,e,a)})),t.select(\"#map-toggle #map-toggle-percent-vaccine-acceptance\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"percent-vaccine-acceptance\"===e.map_toggle)return!1;e.map_toggle=\"percent-vaccine-acceptance\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",J),t.selectAll(\"#map-toggle text\").attr(\"fill\",G),t.select(\"#map-toggle-percent-vaccine-acceptance rect\").attr(\"fill\",X),t.select(\"#map-toggle-percent-vaccine-acceptance text\").attr(\"fill\",K),j(t,e,a)})),t.select(\"#timechart-type-toggle #timechart-type-toggle-cumulative\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"cumulative\"===e.timeline_type)return!1;e.timeline_type=\"cumulative\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",J),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",G),t.select(\"#timechart-type-toggle-cumulative rect\").attr(\"fill\",X),t.select(\"#timechart-type-toggle-cumulative polyline\").attr(\"stroke\",K),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",X),M(a,e)})),t.select(\"#timechart-type-toggle #timechart-type-toggle-non-cumulative\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"non-cumulative\"===e.timeline_type)return!1;e.timeline_type=\"non-cumulative\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",J),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",G),t.select(\"#timechart-type-toggle-non-cumulative rect\").attr(\"fill\",X),t.select(\"#timechart-type-toggle-non-cumulative polyline\").attr(\"stroke\",K),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",X),M(a,e)})),t.select(\"#timechart-type-toggle #timechart-type-toggle-stacked\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"stacked\"===e.timeline_type)return!1;e.timeline_type=\"stacked\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",J),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",G),t.select(\"#timechart-type-toggle-stacked rect\").attr(\"fill\",X),t.select(\"#timechart-type-toggle-stacked polyline\").attr(\"stroke\",K),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",K),M(a,e)})),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-day\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"day\"===e.timeline_frequency)return!1;e.timeline_frequency=\"day\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",J),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",G),t.select(\"#timechart-frequency-toggle-day rect\").attr(\"fill\",X),t.select(\"#timechart-frequency-toggle-day text\").attr(\"fill\",K),N(a,e)})),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-week\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"week\"===e.timeline_frequency)return!1;e.timeline_frequency=\"week\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",J),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",G),t.select(\"#timechart-frequency-toggle-week rect\").attr(\"fill\",X),t.select(\"#timechart-frequency-toggle-week text\").attr(\"fill\",K),N(a,e)})),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-month\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"month\"===e.timeline_frequency)return!1;e.timeline_frequency=\"month\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",J),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",G),t.select(\"#timechart-frequency-toggle-month rect\").attr(\"fill\",X),t.select(\"#timechart-frequency-toggle-month text\").attr(\"fill\",K),N(a,e)})),t.select(\"#hdi_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,e){_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1),i(\"clear-hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-very-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){Z(e.hdi_filter,\"very-high\"),4===e.hdi_filter.length?(e.hdi_filter=[],_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){_.j(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),i(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){Z(e.hdi_filter,\"high\"),4===e.hdi_filter.length?(e.hdi_filter=[],_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){_.j(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),i(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-medium\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){Z(e.hdi_filter,\"medium\"),4===e.hdi_filter.length?(e.hdi_filter=[],_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){_.j(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),i(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-low\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){Z(e.hdi_filter,\"low\"),4===e.hdi_filter.length?(e.hdi_filter=[],_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&_.k(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){_.j(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),i(\"hdi\")})),t.select(\"#inform_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,e){_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1),i(\"clear-inform\")})),t.select(\"#inform-toggle #inform-toggle-no-score\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){Z(e.inform_filter,\"no-score\"),5===e.inform_filter.length?(e.inform_filter=[],_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){_.j(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),i(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-low\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){Z(e.inform_filter,\"low\"),5===e.inform_filter.length?(e.inform_filter=[],_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){_.j(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),i(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-medium\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){Z(e.inform_filter,\"medium\"),5===e.inform_filter.length?(e.inform_filter=[],_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){_.j(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),i(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){Z(e.inform_filter,\"high\"),5===e.inform_filter.length?(e.inform_filter=[],_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){_.j(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),i(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-very-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){Z(e.inform_filter,\"very-high\"),5===e.inform_filter.length?(e.inform_filter=[],_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&_.k(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){_.j(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),i(\"inform\")})),_.j(\"#additional-indicators-tab\").attr(\"opacity\",0),_.j(\"#vac-tab\").attr(\"opacity\",1),_.j(\"#bubblechart-tab\").attr(\"opacity\",0),t.select(\"#tabs #vaccination-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"vaccination-data\"===e.tab_toggle)return!1;e.tab_toggle=\"vaccination-data\",_.j(\"#additional-indicators-tab\").attr(\"opacity\",0),_.j(\"#vac-tab\").attr(\"opacity\",1),_.j(\"#bubblechart-tab\").attr(\"opacity\",0),t.selectAll(\"#tabs rect\").attr(\"fill\",J),t.selectAll(\"#tabs text\").attr(\"fill\",G),t.select(\"#vaccination-tab rect\").attr(\"fill\",X),t.select(\"#vaccination-tab text\").attr(\"fill\",K),j(t,e,a)})),t.select(\"#tabs #indicators-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"indicators\"===e.tab_toggle)return!1;e.tab_toggle=\"indicators\",_.j(\"#additional-indicators-tab\").attr(\"opacity\",1),_.j(\"#vac-tab\").attr(\"opacity\",0),_.j(\"#bubblechart-tab\").attr(\"opacity\",0),t.selectAll(\"#tabs rect\").attr(\"fill\",J),t.selectAll(\"#tabs text\").attr(\"fill\",G),t.select(\"#indicators-tab rect\").attr(\"fill\",X),t.select(\"#indicators-tab text\").attr(\"fill\",K),j(t,e,a)})),t.select(\"#tabs #bubble-chart-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(i){if(\"bubble-chartt\"===e.tab_toggle)return!1;e.tab_toggle=\"bubble-chart\",_.j(\"#additional-indicators-tab\").attr(\"opacity\",0),_.j(\"#vac-tab\").attr(\"opacity\",0),_.j(\"#bubblechart-tab\").attr(\"opacity\",1),t.selectAll(\"#tabs rect\").attr(\"fill\",J),t.selectAll(\"#tabs text\").attr(\"fill\",G),t.select(\"#bubble-chart-tab rect\").attr(\"fill\",X),t.select(\"#bubble-chart-tab text\").attr(\"fill\",K),j(t,e,a)})),_.j(\"#svg defs\").append(\"clipPath\").attr(\"id\",\"mask\").append(\"rect\").attr(\"x\",100).attr(\"y\",340).attr(\"height\",524).attr(\"width\",630).attr(\"x\",23);var r=t.select(\"#timechart_container\").attr(\"opacity\",0),c={x:r.attr(\"x\"),y:r.attr(\"y\"),width:r.attr(\"width\"),height:r.attr(\"height\")},o=t.append(\"svg\").attr(\"id\",\"timechart_svg\").attr(\"viewBox\",\"0 0 2000 \"+c.height).attr(\"preserveAspectRatio\",\"none\").attr(\"x\",c.x).attr(\"y\",c.y).attr(\"width\",c.width).attr(\"height\",c.height),l=o.append(\"g\").attr(\"id\",\"layer1\");o.append(\"g\").attr(\"id\",\"layer0\"),l.append(\"rect\").attr(\"x\",0).attr(\"y\",0).attr(\"width\",\"100%\").attr(\"height\",\"100%\").attr(\"opacity\",0);for(var u=function(t){for(_.j(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col1bg colbg\").attr(\"id\",\"col1bg\"+t).attr(\"x\",120).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",\"#D8D8D8\"),_.j(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col1bar\").attr(\"id\",\"col1bar\"+t).attr(\"x\",120).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",\"steelblue\"),_.j(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col2bg colbg\").attr(\"id\",\"col2bg\"+t).attr(\"x\",230).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",\"#D8D8D8\"),_.j(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col2bar\").attr(\"id\",\"col2bar\"+t).attr(\"x\",230).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",\"steelblue\"),_.j(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col3bg colbg\").attr(\"id\",\"col3bg\"+t).attr(\"x\",340).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",\"#D8D8D8\"),_.j(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col3bar\").attr(\"id\",\"col3bar\"+t).attr(\"x\",340).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",\"steelblue\"),_.j(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col4bg colbg\").attr(\"id\",\"col4bg\"+t).attr(\"x\",454).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",68).attr(\"fill\",\"#D8D8D8\"),_.j(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col4bar\").attr(\"id\",\"col4bar\"+t).attr(\"x\",454).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",19).attr(\"width\",0).attr(\"fill\",\"steelblue\"),d=0;d<6;d++)_.j(\"#col\"+d+\"_sort_desc\").attr(\"opacity\",0),_.j(\"#col\"+d+\"_sort_asc\").attr(\"opacity\",0),_.j(\"#col\"+d+\"_sort\").style(\"cursor\",\"pointer\").on(\"click\",(function(){var t=_.j(this).attr(\"id\");e.table_sort==t?\"desc\"==e.table_sort_direction?e.table_sort_direction=\"asc\":e.table_sort_direction=\"desc\":(e.table_sort=t,e.table_sort_direction=\"desc\"),n(a,e)}))},s=0;s<10;s++){var d;u(s)}};function Z(t,e){var a=t.indexOf(e);-1!==a?t.splice(a,1):t.push(e)}var tt={region_chart_toggle:\"cases\",region_filter:[],country_filter:[],hdi_filter:[],inform_filter:[],timeline_type:\"non-cumulative\",timeline_frequency:\"week\",map_toggle:\"bi-weekly-change\",tab_toggle:\"bubble-chart\",table_sort:\"col1_sort\",table_sort_direction:\"desc\",bubble_chart_color_by:\"hdi\",bubble_chart_y_axis:\"percent-vaccinated-at-least-1-dose\",maxDate:null,maxVDate:null},et=a(12),at=a(34),it=a.n(at);var nt=function(t,e){var a=q()(new Date(Object(_.f)(t.who_data,(function(t){return t.Date_reported})))),i=q()(new Date(Object(_.g)(t.who_data,(function(t){return t.Date_reported})))),n=new Date(Object(_.g)(t.vaccines_data,(function(t){return t.date}))),r=new Date(Object(_.f)(t.vaccines_data,(function(t){return t.date})));r>a&&(a=r),e.maxDate=q()(a).toDate(),e.maxVDate=q()(r).toDate(),e.minDate=q()(i).toDate();var c=-1,o=0,l=-1,u=-1,s=0,d=0;t.who_data.sort((function(t,e){return new Date(t.Date_reported)-new Date(e.Date_reported)}));var g=[];t.who_data.forEach((function(e,a){e.date=new Date(e.Date_reported),e.dayOfYear=q()(e.date).dayOfYear(),e.dayOfYear!==o&&c++,e.dayTotal=c,e.week=q()(e.date).isoWeek(),e.week!==u&&l++,e.weekTotal=l,e.month=e.date.getMonth(),e.month!==d&&s++,e.monthTotal=s,e.year=e.date.getFullYear(),e.week_start=new Date(q()(e.date).startOf(\"isoWeek\").toDate()),e.month_start=new Date(q()(e.date).startOf(\"month\").toDate()),e.new_cases=parseInt(e.New_cases),e.new_deaths=parseInt(e.New_deaths),e.cumulative_deaths=parseInt(e.Cumulative_deaths),e.cumulative_cases=parseInt(e.Cumulative_cases),e.country_code=e.Country_code,e.country_name=null,t.equity_data.forEach((function(t,a){t.country_iso2===e.Country_code&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name)})),void 0==e.ifrc_region&&(e.ifrc_region=\"OTH\"),g.includes(e.country_code)||g.push(e.country_code),delete e.Date_reported,delete e.Country,delete e.New_cases,delete e.New_deaths,delete e.Country_code,delete e.Cumulative_deaths,delete e.Cumulative_cases,delete e.WHO_region,o=e.dayOfYear,u=e.week,d=e.month})),c=-1,o=0,l=-1,u=-1,s=0,d=0,t.vaccines_data_cumulative=t.vaccines_data.filter((function(t,e){return 3===t.iso_code.length&&t.total_vaccinations>0}));var f=Object(_.d)(t.vaccines_data_cumulative,(function(t){return t.iso_code})),h=[];f.forEach((function(e,a){var i,c=new Date(n),o=new Date(r),l=[],u=[];u=[];t.equity_data.forEach((function(t,i){t.country_iso3===f[a][0]&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name,e.country_code=t.country_iso2)})),f[a].lastDate=new Date(Object(_.f)(f[a][1],(function(t,e){return t.date}))),f[a][1].forEach((function(t,e){l.push(new Date(t.date).getTime())})),f[a][1].forEach((function(t,e){t.total_vaccinations=parseInt(t.total_vaccinations);for(var a=c;a<=o;a.setDate(a.getDate()+1)){var i=a.getTime();l.includes(i)||u.push({date:new Date(a),total_vaccinations:null})}})),(i=f[a][1]).push.apply(i,Object(et.a)(u)),f[a][1].sort((function(t,e){return new Date(t.date)-new Date(e.date)}));var s=0,d=0,g=0,m=0;f[a][1].forEach((function(t,e){var i;t.total_vaccinations?s=t.total_vaccinations:t.total_vaccinations=s,t.total_vaccinations_per_hundred?d=t.total_vaccinations_per_hundred:t.total_vaccinations_per_hundred=d,t.people_vaccinated_per_hundred?g=t.people_vaccinated_per_hundred:t.people_vaccinated_per_hundred=g,t.people_fully_vaccinated_per_hundred?m=t.people_fully_vaccinated_per_hundred:t.people_fully_vaccinated_per_hundred=m,i=null==f[a].country_name?f[a][0]:f[a].country_name,h.push({date:new Date(t.date),lastDate:f[a].lastDate,total_vaccinations_per_hundred:parseFloat(d),people_vaccinated_per_hundred:g,people_fully_vaccinated_per_hundred:m,iso_code:f[a][0],ifrc_region:f[a].ifrc_region,country_name:i,country_code:f[a].country_code,total_vaccinations:s})}))})),t.vaccines_data_cumulative=h,t.vaccines_data_cumulative.sort((function(t,e){return new Date(t.date)-new Date(e.date)})),t.vaccines_data_cumulative.forEach((function(t,e){void 0==t.ifrc_region&&(t.ifrc_region=\"OTH\"),t.dayOfYear=q()(t.date).dayOfYear(),t.dayOfYear!==o&&c++,t.dayTotal=c,t.week=q()(t.date).isoWeek(),t.week!==u&&l++,t.weekTotal=l,t.month=t.date.getMonth(),t.month!==d&&s++,t.monthTotal=s,t.year=t.date.getFullYear(),o=t.dayOfYear,u=t.week,d=t.month,t.week_start=new Date(q()(t.date).startOf(\"isoWeek\").toDate()),t.month_start=new Date(q()(t.date).startOf(\"month\").toDate())})),c=-1,o=0,l=-1,u=-1,s=0,d=0,t.vaccines_data_daily=t.vaccines_data.filter((function(t,e){return 3===t.iso_code.length&&t.daily_vaccinations>0})),f=Object(_.d)(t.vaccines_data_daily,(function(t){return t.iso_code})),h=[],f.forEach((function(e,a){var i,c=new Date(n),o=new Date(r),l=[],u=[];u=[];t.equity_data.forEach((function(t,i){t.country_iso3===f[a][0]&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name,e.country_code=t.country_iso2)})),f[a][1].forEach((function(t,e){l.push(new Date(t.date).getTime())})),f[a][1].forEach((function(t,e){t.daily_vaccinations=parseInt(t.daily_vaccinations);for(var a=c;a<=o;a.setDate(a.getDate()+1)){var i=a.getTime();l.includes(i)||u.push({date:new Date(a),daily_vaccinations:null})}})),(i=f[a][1]).push.apply(i,Object(et.a)(u)),f[a][1].sort((function(t,e){return new Date(t.date)-new Date(e.date)}));var s=0;f[a][1].forEach((function(t,e){var i;t.daily_vaccinations?s=t.daily_vaccinations:t.daily_vaccinations=s,i=null==f[a].country_name?f[a][0]:f[a].country_name,h.push({date:new Date(t.date),iso_code:f[a][0],ifrc_region:f[a].ifrc_region,country_name:i,country_code:f[a].country_code,daily_vaccinations:s})}))})),t.vaccines_data_daily=h,t.vaccines_data_daily.sort((function(t,e){return new Date(t.date)-new Date(e.date)})),t.vaccines_data_daily.forEach((function(t,e){void 0==t.ifrc_region&&(t.ifrc_region=\"OTH\"),t.dayOfYear=q()(t.date).dayOfYear(),t.dayOfYear!==o&&c++,t.dayTotal=c,t.week=q()(t.date).isoWeek(),t.week!==u&&l++,t.weekTotal=l,t.month=t.date.getMonth(),t.month!==d&&s++,t.monthTotal=s,t.year=t.date.getFullYear(),o=t.dayOfYear,u=t.week,d=t.month,t.week_start=new Date(q()(t.date).startOf(\"isoWeek\").toDate()),t.month_start=new Date(q()(t.date).startOf(\"month\").toDate())})),t.equity_data.forEach((function(t,e){t.hdi_category.match(/very high/i)?t.hdi_category=\"very-high\":t.hdi_category.match(/high/i)?t.hdi_category=\"high\":t.hdi_category.match(/medium/i)?t.hdi_category=\"medium\":t.hdi_category.match(/low/i)&&(t.hdi_category=\"low\"),t.inform_severity.match(/very high/i)?t.inform_severity=\"very-high\":t.inform_severity.match(/high/i)?t.inform_severity=\"high\":t.inform_severity.match(/medium/i)?t.inform_severity=\"medium\":t.inform_severity.match(/low/i)?t.inform_severity=\"low\":t.inform_severity.match(/no/i)&&(t.inform_severity=\"no-score\")})),t.equity_data=t.equity_data.filter((function(t,e){return g.includes(t.country_iso2)})),t.original=it()(t)},rt=(a(120),a(2)),ct=a.n(rt),ot=(a(121),a(122),a(3)),lt=\"./data/equity_data.csv\",ut=\"./images/layout.svg\",st=\"./data/who_global_cases.csv\",_t=\"./data/world-wb5.geojson\",dt=\"./data/owid_vaccinations.csv\",gt=\"./data/timeline.csv\",ft=\"./data/key_figures.csv\",ht={},mt=[{id:\"AM\",text:\"Americas\"},{id:\"EU\",text:\"Europe\"},{id:\"AP\",text:\"Asia-Pacific\"},{id:\"ME\",text:\"Middle East and North Africa\"},{id:\"AF\",text:\"Africa\"}],vt=[];var yt=function(){var t=Object(i.useState)(0),e=Object(s.a)(t,2),a=e[0],n=e[1],r=Object(i.useState)(\"Loading SVG layout...\"),c=Object(s.a)(r,2),o=c[0],d=c[1];function g(){return(g=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.o(ut).then((function(t){_.j(\"#svg_container\").node().append(_.j(t.documentElement).attr(\"width\",\"100%\").attr(\"height\",\"auto\").node());var e=_.j(\"#svg_container svg\");e.select(\"title\").remove(),e.attr(\"id\",\"svg\"),Q(e,tt,ht,h,v),n(.1),d(\"Loading equity data CSV...\"),_.c(lt).then((function(t){ht.equity_data=t,t.forEach((function(t,e){vt.push({text:t.country_name,id:\"Country-\"+t.country_iso2})})),y(),n(.1),d(\"Loading WHO data CSV...\"),_.c(dt).then((function(t){ht.vaccines_data=t,n(.3),d(\"Loading OWID vaccines data...\"),_.c(gt).then((function(t){ht.timeline_data=t,n(.4),d(\"Loading Timeline data...\"),_.c(ft).then((function(t){ht.key_figures=t,n(.45),d(\"Loading key figures data...\"),_.c(st).then((function(t){ht.who_data=t,n(.8),d(\"Loading World Map GeoJSON...\"),_.c(_t).then((function(t){ht.world=t,d(\"Loading complete.\"),n(1),nt(ht,tt),f(),_.j(\"#loaderDiv\").transition().duration(1e3).style(\"opacity\",0).on(\"end\",(function(){return _.j(\"#loaderDiv\").remove()}))}))}))}))}))}))}))}));case 2:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function f(){N(ht,tt),$(ht,tt,h),m(ht,tt),v(ht,tt)}function h(t,e){\"clear\"==t&&(tt.region_filter=[],tt.country_filter=[],_.j(\"#reset_locations\").attr(\"opacity\",0)),\"clear-region\"==t&&(tt.region_filter=[]),\"clear-hdi\"==t&&(tt.hdi_filter=[]),\"clear-inform\"==t&&(tt.inform_filter=[]),1==t.length&&2==t[0].length&&\"filter\"!=t&&(tt.region_filter.includes(t[0])?tt.region_filter=tt.region_filter.filter((function(e){return e!==t[0]})):tt.region_filter.push(t[0])),5==tt.region_filter.length&&(tt.region_filter=[]),tt.region_filter.length>0?(_.j(\"#region_remove_filter\").attr(\"opacity\",1),_.k(\".bar-labels\").attr(\"opacity\",.5),tt.region_filter.forEach((function(t,e){_.j(\".bar-label-\"+t).attr(\"opacity\",1)}))):(_.j(\"#region_remove_filter\").attr(\"opacity\",0),_.k(\".bar-labels\").attr(\"opacity\",1)),ht.equity_data=ht.original.equity_data;var a=[];tt.hdi_filter.length>0?(_.j(\"#hdi_remove_filter\").attr(\"opacity\",1),ht.equity_data.forEach((function(t,e){tt.hdi_filter.includes(t.hdi_category)&&a.push(t.country_iso2)}))):_.j(\"#hdi_remove_filter\").attr(\"opacity\",0);var i=[];if(tt.inform_filter.length>0?(_.j(\"#inform_remove_filter\").attr(\"opacity\",1),ht.equity_data.forEach((function(t,e){tt.inform_filter.includes(t.inform_severity)&&i.push(t.country_iso2)}))):_.j(\"#inform_remove_filter\").attr(\"opacity\",0),1==t.length&&t[0].length>2){var n=t[0].substring(8);tt.country_filter.includes(n)?tt.country_filter=tt.country_filter.filter((function(t){return t!==n})):tt.country_filter.push(n)}0==tt.region_filter.length&&0==tt.country_filter.length&&_.j(\"#reset_locations\").attr(\"opacity\",0);var r=[];tt.country_filter.forEach((function(t,e){r.push(\"Country-\"+t)})),tt.region_filter.length>0||tt.country_filter.length>0?_.j(\"#reset_locations\").attr(\"opacity\",1):_.j(\"#reset_locations\").attr(\"opacity\",0);var c=tt.region_filter.concat(r);ct()(\"#regionSelect\").val(c),ct()(\"#regionSelect\").trigger(\"change\"),ht.who_data=ht.original.who_data,i.length>0&&(ht.who_data=ht.who_data.filter((function(t,e){return i.includes(t.country_code)}))),(tt.region_filter.length>0||tt.country_filter.length>0||a.length>0)&&(ht.who_data=ht.who_data.filter((function(t,e){return a.length>0?tt.region_filter.length>0||tt.country_filter.length>0?(tt.region_filter.includes(t.ifrc_region)||tt.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):tt.region_filter.includes(t.ifrc_region)||tt.country_filter.includes(t.country_code)}))),ht.vaccines_data_cumulative=ht.original.vaccines_data_cumulative,i.length>0&&(ht.vaccines_data_cumulative=ht.vaccines_data_cumulative.filter((function(t,e){return i.includes(t.country_code)}))),(tt.region_filter.length>0||tt.country_filter.length>0||a.length>0)&&(ht.vaccines_data_cumulative=ht.vaccines_data_cumulative.filter((function(t,e){return a.length>0?tt.region_filter.length>0||tt.country_filter.length>0?(tt.region_filter.includes(t.ifrc_region)||tt.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):tt.region_filter.includes(t.ifrc_region)||tt.country_filter.includes(t.country_code)}))),ht.vaccines_data_daily=ht.original.vaccines_data_daily,i.length>0&&(ht.vaccines_data_daily=ht.vaccines_data_daily.filter((function(t,e){return i.includes(t.country_code)}))),(tt.region_filter.length>0||tt.country_filter.length>0||a.length>0)&&(ht.vaccines_data_daily=ht.vaccines_data_daily.filter((function(t,e){return a.length>0?tt.region_filter.length>0||tt.country_filter.length>0?(tt.region_filter.includes(t.ifrc_region)||tt.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):tt.region_filter.includes(t.ifrc_region)||tt.country_filter.includes(t.country_code)}))),i.length>0&&(ht.equity_data=ht.equity_data.filter((function(t,e){return i.includes(t.country_iso2)}))),(tt.region_filter.length>0||tt.country_filter.length>0||a.length>0)&&(ht.equity_data=ht.equity_data.filter((function(t,e){return a.length>0?tt.region_filter.length>0||tt.country_filter.length>0?(tt.region_filter.includes(t.ifrc_region)||tt.country_filter.includes(t.country_iso2))&&a.includes(t.country_iso2):a.includes(t.country_iso2):tt.region_filter.includes(t.ifrc_region)||tt.country_filter.includes(t.country_iso2)}))),function(){var t=ct()(\"#regionSelect\").select2(\"data\");ct()(\"#regionSelectContainer\").width()/ct()(\"#regionSelectContainer\").height()<10?(ct()(\".select2-selection__choice\").hide(),ct()(\".select2-search__field\").attr(\"placeholder\",t.length+\" LOCATIONS SELECTED\").css(\"width\",\"100%\")):(ct()(\".select2-search__field\").attr(\"placeholder\",\"\"),ct()(\".select2-selection__choice\").show())}(),R(tt,ht),m(ht,tt),M(ht,tt),v(ht,tt)}function m(t,e){var a={\"very-high\":0,high:0,medium:0,low:0},i={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0};t.equity_data.forEach((function(t,e){a[t.hdi_category]+=1,i[t.inform_severity]+=1})),_.j(\"#hdi-toggle-very-high-val tspan\").text(a[\"very-high\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),_.j(\"#hdi-toggle-high-val tspan\").text(a.high).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),_.j(\"#hdi-toggle-medium-val tspan\").text(a.medium).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),_.j(\"#hdi-toggle-low-val tspan\").text(a.low).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),_.j(\"#inform-toggle-very-high-val tspan\").text(i[\"very-high\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"6\"),_.j(\"#inform-toggle-high-val tspan\").text(i.high).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),_.j(\"#inform-toggle-medium-val tspan\").text(i.medium).style(\"text-anchor\",\"end\").attr(\"dx\",\"9\"),_.j(\"#inform-toggle-low-val tspan\").text(i.low).style(\"text-anchor\",\"end\").attr(\"dx\",\"7\"),_.j(\"#inform-toggle-no-score-val tspan\").text(i[\"no-score\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"13\");var n=_.d(t.who_data,(function(t){return t.country_code})).length;_.j(\"#countries_filtered tspan\").text(n+\" countries filtered\").style(\"text-anchor\",\"end\").attr(\"dx\",\"105\"),_.j(\"#total_new_cases tspan\").text(\"-\"),_.j(\"#total_vac_100 tspan\").text(\"-\"),_.j(\"#percent_acceptance tspan\").text(\"-\"),_.j(\"#num_vaccines tspan\").text(\"-\"),_.j(\"#total_cases tspan\").transition().duration(500).textTween((function(){return function(t){return O(_.e(0,_.l(e.cumulative_totals,(function(t){return t.cumulative_cases})))(t))}})),_.j(\"#total_deaths tspan\").transition().duration(500).textTween((function(){return function(t){return O(_.e(0,_.l(e.cumulative_totals,(function(t){return t.cumulative_deaths})))(t))}})),_.j(\"#total_vaccines tspan\").transition().duration(500).textTween((function(){return function(t){return O(_.e(0,_.l(e.cumulative_totals,(function(t){return t.cumulative_vaccines})))(t))}}))}function v(t,e){var a,i=t.vaccines_data_cumulative.filter((function(t){return t.date.getTime()==e.maxVDate.getTime()})),n=_.d(i,(function(t){return t.iso_code}));t.equity_data.forEach((function(t,e){n.some((function(e){return e[0]===t.country_iso3}))||n.push([t.country_iso3,[{country_name:t.country_name}]])})),\"col0_sort\"==e.table_sort&&(a=\"country_name\"),\"col1_sort\"==e.table_sort&&(a=\"total_vaccinations_per_hundred\"),\"col2_sort\"==e.table_sort&&(a=\"people_vaccinated_per_hundred\"),\"col3_sort\"==e.table_sort&&(a=\"people_fully_vaccinated_per_hundred\"),\"col5_sort\"==e.table_sort&&(a=\"total_vaccinations\");for(var r=0;r<6;r++)_.j(\"#col\"+r+\"_sort_desc\").attr(\"opacity\",0),_.j(\"#col\"+r+\"_sort_asc\").attr(\"opacity\",0);_.j(\"#\"+e.table_sort+\"_\"+e.table_sort_direction).attr(\"opacity\",1),\"country_name\"==a?\"asc\"==e.table_sort_direction?n.sort((function(t,e){return e[1][0].country_name.localeCompare(t[1][0].country_name)})):n.sort((function(t,e){return t[1][0].country_name.localeCompare(e[1][0].country_name)})):\"desc\"==e.table_sort_direction?n.sort((function(t,e){return e[1][0][a]-t[1][0][a]})):n.sort((function(t,e){return t[1][0][a]-e[1][0][a]})),_.k(\".tablerow\").remove(),_.k(\".col1bar\").attr(\"opacity\",0),_.k(\".col2bar\").attr(\"opacity\",0),_.k(\".col3bar\").attr(\"opacity\",0),_.k(\".colbg\").attr(\"opacity\",0);for(var c=function(t){if(l=n[t],!n[t])return _.j(\"#col1bar\"+t).attr(\"width\",0),_.j(\"#col2bar\"+t).attr(\"width\",0),_.j(\"#col3bar\"+t).attr(\"width\",0),\"continue\";_.j(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow table_country_name\").text((function(){var t;return 17==(t=(t=l[1][0].country_name?l[1][0].country_name:l[1][0].iso_code).substring(0,17)).length&&(t+=\".\"),t})).attr(\"x\",0).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.j(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow table_country_name\").text((function(){var t=parseFloat(l[1][0].total_vaccinations_per_hundred).toFixed(1);return isNaN(t)?\"\":t})).style(\"text-anchor\",\"end\").attr(\"x\",112).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.j(\"#col1bar\"+t).attr(\"opacity\",1).transition().duration(500).attr(\"width\",(function(){var t=l[1][0].total_vaccinations_per_hundred;return l[1][0].total_vaccinations_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),_.j(\"#col1bg\"+t).attr(\"opacity\",1),_.j(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=parseFloat(l[1][0].people_vaccinated_per_hundred).toFixed(1);return isNaN(t)?\"\":t+\"%\"})).style(\"text-anchor\",\"end\").attr(\"x\",223).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.j(\"#col2bar\"+t).attr(\"opacity\",1).transition().duration(500).attr(\"width\",(function(){var t=l[1][0].people_vaccinated_per_hundred;return l[1][0].people_vaccinated_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),_.j(\"#col2bg\"+t).attr(\"opacity\",1),_.j(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=parseFloat(l[1][0].people_fully_vaccinated_per_hundred).toFixed(1);return isNaN(t)?\"\":t+\"%\"})).style(\"text-anchor\",\"end\").attr(\"x\",335).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.j(\"#col3bar\"+t).attr(\"opacity\",1).transition().duration(500).attr(\"width\",(function(){var t=l[1][0].people_fully_vaccinated_per_hundred;return l[1][0].people_fully_vaccinated_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),_.j(\"#col3bg\"+t).attr(\"opacity\",1),_.j(\"#col4bar\"+t).attr(\"opacity\",1),_.j(\"#col4bg\"+t).attr(\"opacity\",1),u=_.m(\"%b %d\"),_.j(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=l[1][0].total_vaccinations;return isNaN(t)?\"\":O(t)})).style(\"text-anchor\",\"end\").attr(\"x\",572).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.j(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=l[1][0].lastDate;return t?u(t):\"\"})).style(\"text-anchor\",\"end\").attr(\"x\",620).attr(\"y\",(function(){return 80+24.8*t})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\")},o=0;o<10;o++){var l,u;c(o)}}function y(){ct()(\"#regionSelect\").select2({data:[{id:\"regions\",text:\"IFRC Regions\",children:mt},{id:\"countries\",text:\"Countries\",children:vt}],placeholder:\"\",scrollAfterSelect:!0,renderTemplate:function(t){return t.text||\"\\u200b\"},dropdownParent:ct()(\"#regionDrop\"),shouldFocusInput:function(){return!1},templateResult:function(t){return ct()(\"<span>\"+t.text+\"<span>\")}}).on(\"select2:unselecting\",(function(){ct()(this).data(\"unselecting\",!0)})).on(\"select2:opening\",(function(t){ct()(this).data(\"unselecting\")&&(ct()(this).removeData(\"unselecting\"),t.preventDefault())})),ct()(\"#regionSelect\").on(\"select2:select\",(function(t){h([t.params.data.id])})),ct()(\"#regionSelect\").on(\"select2:unselect\",(function(t){h([t.params.data.id])})),_.j(\"#reset_locations\").style(\"cursor\",\"pointer\").attr(\"opacity\",1).on(\"click\",(function(){h(\"clear\")}))}return Object(i.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(ot.jsxs)(\"div\",{children:[Object(ot.jsxs)(\"div\",{id:\"loaderDiv\",children:[Object(ot.jsx)(\"div\",{id:\"loaderText\",children:o}),Object(ot.jsx)(\"div\",{id:\"loaderBar\",children:Object(ot.jsx)(\"div\",{id:\"loaderProgress\",style:{width:100*a+\"%\"}})})]}),Object(ot.jsxs)(\"div\",{id:\"regionSelectContainer\",children:[Object(ot.jsx)(\"select\",{id:\"regionSelect\",className:\"js-example-responsive\",name:\"states[]\",multiple:\"multiple\"}),Object(ot.jsx)(\"div\",{id:\"regionDrop\"})]}),Object(ot.jsx)(\"div\",{id:\"svg_container\",className:\"App\"})]})},pt=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,125)).then((function(e){var a=e.getCLS,i=e.getFID,n=e.getFCP,r=e.getLCP,c=e.getTTFB;a(t),i(t),n(t),r(t),c(t)}))};c.a.render(Object(ot.jsx)(n.a.StrictMode,{children:Object(ot.jsx)(yt,{})}),document.getElementById(\"root\")),pt()}},[[124,1,2]]]);","name":"static/js/main.78678428.chunk.js","map":{"version":3,"sources":["static/js/main.78678428.chunk.js"],"names":["this","push","117","module","exports","__webpack_require__","120","124","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","d3_src","yScaleCases","yScaleDeaths","yScaleVaccines","yAxisCases","yAxisDeaths","yAxisVaccines","yScaleCasesAxis","yScaleDeathsAxis","yScaleVaccinesAxis","xScale","xAxis","xScaleAxis","src_Update","svg","options","data","moment","moment_default","src_colors","regions","AP","AM","EU","ME","AF","addCommas","nStr","x","split","x1","x2","length","rgx","test","replace","nFormatter","num","digits","item","value","symbol","slice","reverse","find","toFixed","drawTimechart","groupedData","who_data","forEach","d","i","timeline_frequency","date","week_start","month_start","ifrc_region","new_cases","new_deaths","cumulative_cases","cumulative_deaths","dd","ii","hasOwnProperty","total_new_cases","OTH","total_cumulative_cases","total_new_deaths","total_cumulative_deaths","region","vgroupedData","timeline_type","vaccines_data","vaccines_data_daily","new_vaccines","daily_vaccinations","cumulative_vaccines","total_new_vaccines","vaccines_data_cumulative","endOfWeekDate","endOf","startOf","unix","maxDate","maxDateUnix","endOfMonthDate","total_vaccinations","total_cumulative_vaccines","filter","el","numIntervals","maxCases","maxDeaths","maxVaccines","minDate","md","add","selectAll","remove","barWidth","barSpacing","range","domain","scale","tickSize","tickPadding","ticks","tickFormat","yAxisGroup","append","attr","barGroups","call","enter","totalNewCases","parentNode","datum","dp","y","totalNewDeaths","next","offset","vbarGroups","totalNewVaccines","updateTimechart","toDate","transition","duration","Regionchart_maxCases","Regionchart_maxDeaths","maxVaccinations","xScaleCases","xScaleDeaths","xScaleVaccines","labelWidth","rcSize","Regionchart_regions","margin","Regionchart_groupedData","drawRegionchart","vGroup","sort","a","b","region_chart_toggle","regionChartContainer","width","height","rowHeight","rows","cumulative_totals","label","style","text","node","getBBox","on","t","val","updateRegionchart","vacGrouped","id","tween","end","Math","floor","random","round","selectedToggle","unselectedToggle","unselectedToggleText","selectedToggleText","src_Layout","updateTable","select","region_filter","map_toggle","toggle","hdi_filter","inform_filter","tab_toggle","timechartContainer","tcSize","timechartSvg","layer1","_loop","thisId","table_sort","table_sort_direction","collection","idx","indexOf","splice","Options","country_filter","bubble_chart_color_by","bubble_chart_y_axis","maxVDate","toConsumableArray","just_clone","just_clone_default","src_ParseData","Date","Object","Date_reported","minDateVaccines","maxDateVaccines","dayTotal","dayCheck","weekTotal","weekCheck","monthTotal","monthCheck","countryCodes","dayOfYear","week","isoWeek","month","getMonth","year","getFullYear","parseInt","New_cases","New_deaths","Cumulative_deaths","Cumulative_cases","country_code","Country_code","country_name","equity_data","country_iso2","undefined","includes","Country","WHO_region","iso_code","vDataFlat","_vGroup$i$","minDt","maxDt","hasDays","newDays","country_iso3","lastDate","getTime","day","setDate","getDate","newDay","apply","totalVac","totalVac100","people_vaccinated_per_hundred","people_fully_vaccinated_per_hundred","countryName","total_vaccinations_per_hundred","parseFloat","_vGroup$i$2","hdi_category","match","inform_severity","original","jquery","jquery_default","jsx_runtime","equityDataUrl","layoutUrl","whoDataUrl","worldUrl","vaccinesDataUrl","timelineDataUrl","keyFiguresDataUrl","App_data","regionOptions","countryOptions","src_App","_useState","_useState2","progress","setProgress","_useState3","_useState4","loaderText","setLoaderText","_init","mark","_callee","wrap","_context","prev","then","documentElement","createSelects","timeline_data","key_figures","world","createCharts","stop","arguments","updateTotals","e","hdi_countries","inform_countries","code","substring","countryIds","mergeFilter","concat","trigger","values","select2","hide","css","show","handleSelectLength","hdiData","very-high","high","medium","low","informData","no-score","numCountriesFiltered","textTween","sortKey","lastRecord","some","localeCompare","name","isNaN","dayFormat","children","placeholder","scrollAfterSelect","renderTemplate","dropdownParent","shouldFocusInput","templateResult","removeData","preventDefault","params","init","className","multiple","src_reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpifrc-covid-dataviz\"] = this[\"webpackJsonpifrc-covid-dataviz\"] || []).push([[0],{\n\n/***/ 117:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 120:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(32);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(117);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(5);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/d3/src/index.js + 198 modules\nvar d3_src = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/Update.js\nfunction Update(svg,options,data){}/* harmony default export */ var src_Update = (Update);\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(1);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ./src/colors.js\n// default options\nvar colors={regions:{'AP':'#E02225','AM':'#C9C4C1','EU':'#771A13','ME':'#0A3248','AF':'#FCD204'}};/* harmony default export */ var src_colors = (colors);\n// CONCATENATED MODULE: ./src/HelperFunctions.js\nfunction addCommas(nStr){nStr+='';var x=nStr.split('.');var x1=x[0];var x2=x.length>1?'.'+x[1]:'';var rgx=/(\\d+)(\\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1'+','+'$2');}return x1+x2;}function nFormatter(num,digits){digits=1;var lookup=[{value:1,symbol:\"\"},{value:1e3,symbol:\"k\"},{value:1e6,symbol:\"M\"},{value:1e9,symbol:\"B\"},{value:1e12,symbol:\"T\"},{value:1e15,symbol:\"P\"},{value:1e18,symbol:\"E\"}];var rx=/\\.0+$|(\\.[0-9]*[1-9])0+$/;var item=lookup.slice().reverse().find(function(item){return num>=item.value;});return item?(num/item.value).toFixed(digits).replace(rx,\"$1\")+item.symbol:\"0\";}\n// CONCATENATED MODULE: ./src/Timechart.js\nvar yScaleCases;var yScaleDeaths;var yScaleVaccines;var yAxisCases;var yAxisDeaths;var yAxisVaccines;var yScaleCasesAxis;var yScaleDeathsAxis;var yScaleVaccinesAxis;var xScale;var xAxis;var xScaleAxis;var regions=['AF','ME','AP','EU','AM','OTH'];function drawTimechart(data,options){var groupedData=[];data.who_data.forEach(function(d,i){if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')groupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')groupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')groupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases+=d.new_cases;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths+=d.new_deaths;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases=0;});// totals by date\ngroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d.hasOwnProperty(dd)){d[dd]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};}// if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\nif(i>0){d[dd].cumulative_cases=groupedData[i][dd].new_cases+groupedData[i-1][dd].cumulative_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths+groupedData[i-1][dd].cumulative_deaths;}else{d[dd].cumulative_cases=groupedData[i][dd].new_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths;}});d.total_new_cases=d.AF.new_cases+d.AP.new_cases+d.AM.new_cases+d.EU.new_cases+d.ME.new_cases+d.OTH.new_cases;d.total_cumulative_cases=d.AF.cumulative_cases+d.AP.cumulative_cases+d.AM.cumulative_cases+d.EU.cumulative_cases+d.ME.cumulative_cases+d.OTH.cumulative_cases;d.total_new_deaths=d.AF.new_deaths+d.AP.new_deaths+d.AM.new_deaths+d.EU.new_deaths+d.ME.new_deaths+d.OTH.new_deaths;d.total_cumulative_deaths=d.AF.cumulative_deaths+d.AP.cumulative_deaths+d.AM.cumulative_deaths+d.EU.cumulative_deaths+d.ME.cumulative_deaths+d.OTH.cumulative_deaths;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_cases':d[dd].new_cases,'new_deaths':d[dd].new_deaths,'cumulative_cases':d[dd].cumulative_cases,'cumulative_deaths':d[dd].cumulative_deaths});});});var vgroupedData=[];if(options.timeline_type!='cumulative'){// cumulative and stacked\ndata.vaccines_data=data.vaccines_data_daily;data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines+=d.daily_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={new_vaccines:0,cumulative_vaccines:0};}});d.total_new_vaccines=d.AF.new_vaccines+d.AP.new_vaccines+d.AM.new_vaccines+d.EU.new_vaccines+d.ME.new_vaccines+d.OTH.new_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_vaccines':d[dd].new_vaccines});});});}else{// cumulative only\ndata.vaccines_data=[];if(options.timeline_frequency==='day'){data.vaccines_data=data.vaccines_data_cumulative;}if(options.timeline_frequency==='week'){data.vaccines_data_cumulative.forEach(function(d,i){var endOfWeekDate=moment_default()(d.date).endOf('isoWeek').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfWeekDate||d.date==options.maxDate){data.vaccines_data.push(d);}});}if(options.timeline_frequency==='month'){var maxDateUnix=moment_default()(options.maxDate).startOf('day').unix();data.vaccines_data_cumulative.forEach(function(d,i){var endOfMonthDate=moment_default()(d.date).endOf('month').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfMonthDate||options.maxDate!=endOfMonthDate&&date==maxDateUnix){data.vaccines_data.push(d);}});}data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={cumulative_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines+=d.total_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={cumulative_vaccines:0};}});d.total_cumulative_vaccines=d.AF.cumulative_vaccines+d.AP.cumulative_vaccines+d.AM.cumulative_vaccines+d.EU.cumulative_vaccines+d.ME.cumulative_vaccines+d.OTH.cumulative_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'cumulative_vaccines':d[dd].cumulative_vaccines});});});}vgroupedData=vgroupedData.filter(function(el){return el;});var numIntervals=d3_src[\"f\" /* max */](data.who_data,function(d,i){return d[options.timeline_frequency+'Total'];});var maxCases=d3_src[\"f\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_cases;if(options.timeline_type==='cumulative')return d.total_cumulative_cases;if(options.timeline_type==='stacked')return 100;});var maxDeaths=d3_src[\"f\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_deaths;if(options.timeline_type==='cumulative')return d.total_cumulative_deaths;if(options.timeline_type==='stacked')return 100;});var maxVaccines=d3_src[\"f\" /* max */](vgroupedData,function(d,i){if(d){if(options.timeline_type==='non-cumulative')return d.total_new_vaccines;if(options.timeline_type==='cumulative')return d.total_cumulative_vaccines;if(options.timeline_type==='stacked')return 100;}});// define date range\n// const minDate = groupedData[0].date;\n// const maxDate = groupedData[numIntervals].date;\nvar minDate=groupedData[0].date;var maxDate=options.maxDate;var md=moment_default()(maxDate);if(options.timeline_frequency==='month')md=md.add(1,'months');if(options.timeline_frequency==='week')md=md.add(1,'weeks');if(options.timeline_frequency==='day')md=md.add(1,'days');var svg=d3_src[\"j\" /* select */]('#timechart_svg');svg.selectAll('g').remove();d3_src[\"k\" /* selectAll */]('#layout .yAxis').remove();d3_src[\"k\" /* selectAll */]('#yAxis').remove();d3_src[\"k\" /* selectAll */]('#layout .xAxis').remove();var width=2000;var barWidth=width/numIntervals;var barSpacing=0.04;if(options.timeline_frequency==='month')barSpacing=0.03;if(options.timeline_frequency==='day')barSpacing=0;// define scales\nxScale=d3_src[\"i\" /* scaleTime */]().range([0,width]).domain([minDate,md]);xScaleAxis=d3_src[\"i\" /* scaleTime */]().range([0,596]).domain([minDate,md]);// xScaleAxis = d3.scaleTime()\n// .range([35,596])\n// .domain([minDate,maxDate]);\nyScaleCases=d3_src[\"h\" /* scaleLinear */]().range([0,140]).domain([0,maxCases]);yScaleCasesAxis=d3_src[\"h\" /* scaleLinear */]().range([140,0]).domain([0,maxCases]);yScaleDeaths=d3_src[\"h\" /* scaleLinear */]().range([0,140]).domain([0,maxDeaths]);yScaleDeathsAxis=d3_src[\"h\" /* scaleLinear */]().range([140,0]).domain([0,maxDeaths]);yScaleVaccines=d3_src[\"h\" /* scaleLinear */]().range([0,140]).domain([0,maxVaccines]);yScaleVaccinesAxis=d3_src[\"h\" /* scaleLinear */]().range([140,0]).domain([0,maxVaccines]);// define axi\nxAxis=d3_src[\"a\" /* axisBottom */]().scale(xScaleAxis).tickSize(2).tickPadding(3);// if(options.timeline_frequency=='month')\n// xAxis.ticks(d3.timeMonth.every(3)).tickFormat(d3.timeFormat(\"%b %Y\"));\n// if(options.timeline_frequency=='week')\n// xAxis.ticks(d3.timeWeek.every(10)).tickFormat(d3.timeFormat(\"%d %b %Y\"));\nyAxisCases=d3_src[\"b\" /* axisRight */]().scale(yScaleCasesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisDeaths=d3_src[\"b\" /* axisRight */]().scale(yScaleDeathsAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisVaccines=d3_src[\"b\" /* axisRight */]().scale(yScaleVaccinesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});// y-axis cases\nvar yAxisGroup=d3_src[\"j\" /* select */]('#layout').append(\"g\").attr('id','yAxis').attr('clip-path','url(#mask)');var yAxisCasesText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"casesAxis\").attr('transform','translate(620,363)').call(yAxisCases);// y-axis deaths\nvar yAxisDeathsText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"deathsAxis\").attr('transform','translate(620,534)').call(yAxisDeaths);// y-axis vaccines\nvar yAxisVaccinesText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"VaccinesAxis\").attr('transform','translate(620,707.5)').call(yAxisVaccines);// x-axis cases\nvar xAxisCases=yAxisGroup.append('g').attr(\"id\",\"casesXAxis\").attr('class','xAxis').attr('transform','translate(24,504)').call(xAxis);var xAxisDeaths=yAxisGroup.append('g').attr(\"id\",\"deathsXAxis\").attr('class','xAxis').attr('transform','translate(24,674)').call(xAxis);var xAxisVaccines=yAxisGroup.append('g').attr(\"id\",\"vaccinesXAxis\").attr('class','xAxis').attr('transform','translate(24,848)').call(xAxis);var xAxisTimeline=yAxisGroup.append('g').attr(\"id\",\"timelineXAxis\").attr('class','xAxis').attr('transform','translate(24,908)').call(xAxis);// CASES\n// loop through groupedData and draw bars\nvar barGroups=svg.selectAll('.bar_group').data(groupedData).enter().append('g').attr('class','bar_group').attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+')';});// CASES\nbarGroups.selectAll('.cases_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class',function(d,i){return'timeBar cases_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewCases=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_cases;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].cumulative_cases;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_cases;if(options.timeline_type==='stacked')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_cases;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleCases(d.cumulative_cases)-yScaleCases(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleCases(d.new_cases)-yScaleCases(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_cases/totalNewCases)-140*(dp/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewCases=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_cases;var y=0;if(options.timeline_type==='cumulative')y=yScaleCases(d.cumulative_cases);if(options.timeline_type==='non-cumulative')y=yScaleCases(d.new_cases);if(options.timeline_type==='stacked')y=140*(d.new_cases/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});// DEATHS\nbarGroups.selectAll('.deaths_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class',function(d,i){return'timeBar deaths_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewDeaths=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_deaths;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].cumulative_deaths;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;if(options.timeline_type==='stacked')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleDeaths(d.cumulative_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='non-cumulative')y=140-yScaleDeaths(d.new_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='stacked')y=140-140*(d.new_deaths/totalNewDeaths)-140*(dp/totalNewDeaths)+170;if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewDeaths=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_deaths;var y=0;if(options.timeline_type==='cumulative')y=yScaleDeaths(d.cumulative_deaths);if(options.timeline_type==='non-cumulative')y=yScaleDeaths(d.new_deaths);if(options.timeline_type==='stacked')y=140*(d.new_deaths/totalNewDeaths);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});// bar size tweak for spacing\nif(options.timeline_frequency==='month'){barGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=d3_src[\"j\" /* select */](this.parentNode).datum().date;var next=d3_src[\"n\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=d3_src[\"j\" /* select */](this.parentNode).datum().date;var next=d3_src[\"n\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}// VACCINES\nvar vbarGroups=svg.selectAll('.vbar_group').data(vgroupedData).enter().append('g').attr('class','vbar_group').attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+', 344)';});vbarGroups.selectAll('.vaccines_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class','timeBar vaccines_bar').attr('class',function(d,i){return'timeBar vaccines_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewVaccines=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_vaccines;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].cumulative_vaccines;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;if(options.timeline_type==='stacked')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleVaccines(d.cumulative_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleVaccines(d.new_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_vaccines/totalNewVaccines)-140*(dp/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewVaccines=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_vaccines;var y=0;if(options.timeline_type==='cumulative')y=yScaleVaccines(d.cumulative_vaccines);if(options.timeline_type==='non-cumulative')y=yScaleVaccines(d.new_vaccines);if(options.timeline_type==='stacked')y=140*(d.new_vaccines/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});if(options.timeline_frequency==='month'){vbarGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=d3_src[\"j\" /* select */](this.parentNode).datum().date;var next=d3_src[\"n\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=d3_src[\"j\" /* select */](this.parentNode).datum().date;var next=d3_src[\"n\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}// bar size tweak for spacing\nif(options.timeline_frequency==='month'){barGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=d3_src[\"j\" /* select */](this.parentNode).datum().date;var next=d3_src[\"n\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=d3_src[\"j\" /* select */](this.parentNode).datum().date;var next=d3_src[\"n\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}}function updateTimechart(data,options){var groupedData=[];data.who_data.forEach(function(d,i){if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')groupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')groupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')groupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases+=d.new_cases;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths+=d.new_deaths;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases=0;});// totals by date\ngroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d.hasOwnProperty(dd)){d[dd]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};}// if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\nif(i>0){d[dd].cumulative_cases=groupedData[i][dd].new_cases+groupedData[i-1][dd].cumulative_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths+groupedData[i-1][dd].cumulative_deaths;}else{d[dd].cumulative_cases=groupedData[i][dd].new_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths;}});d.total_new_cases=d.AF.new_cases+d.AP.new_cases+d.AM.new_cases+d.EU.new_cases+d.ME.new_cases+d.OTH.new_cases;d.total_cumulative_cases=d.AF.cumulative_cases+d.AP.cumulative_cases+d.AM.cumulative_cases+d.EU.cumulative_cases+d.ME.cumulative_cases+d.OTH.cumulative_cases;d.total_new_deaths=d.AF.new_deaths+d.AP.new_deaths+d.AM.new_deaths+d.EU.new_deaths+d.ME.new_deaths+d.OTH.new_deaths;d.total_cumulative_deaths=d.AF.cumulative_deaths+d.AP.cumulative_deaths+d.AM.cumulative_deaths+d.EU.cumulative_deaths+d.ME.cumulative_deaths+d.OTH.cumulative_deaths;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_cases':d[dd].new_cases,'new_deaths':d[dd].new_deaths,'cumulative_cases':d[dd].cumulative_cases,'cumulative_deaths':d[dd].cumulative_deaths});});});var vgroupedData=[];if(options.timeline_type!='cumulative'){// cumulative and stacked\ndata.vaccines_data=data.vaccines_data_daily;data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('isoWeek').toDate();if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('month').toDate();if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines+=d.daily_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={new_vaccines:0,cumulative_vaccines:0};}});d.total_new_vaccines=d.AF.new_vaccines+d.AP.new_vaccines+d.AM.new_vaccines+d.EU.new_vaccines+d.ME.new_vaccines+d.OTH.new_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_vaccines':d[dd].new_vaccines});});});}else{// cumulative only\ndata.vaccines_data=[];if(options.timeline_frequency==='day'){data.vaccines_data=data.vaccines_data_cumulative;}if(options.timeline_frequency==='week'){data.vaccines_data_cumulative.forEach(function(d,i){var endOfWeekDate=moment_default()(d.date).endOf('isoWeek').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfWeekDate||d.date==options.maxDate){data.vaccines_data.push(d);}});}if(options.timeline_frequency==='month'){var maxDateUnix=moment_default()(options.maxDate).startOf('day').unix();data.vaccines_data_cumulative.forEach(function(d,i){var endOfMonthDate=moment_default()(d.date).endOf('month').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfMonthDate||options.maxDate!=endOfMonthDate&&date==maxDateUnix){data.vaccines_data.push(d);}});}data.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('isoWeek').toDate();if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('month').toDate();if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={cumulative_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines+=d.total_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={cumulative_vaccines:0};}});d.total_cumulative_vaccines=d.AF.cumulative_vaccines+d.AP.cumulative_vaccines+d.AM.cumulative_vaccines+d.EU.cumulative_vaccines+d.ME.cumulative_vaccines+d.OTH.cumulative_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'cumulative_vaccines':d[dd].cumulative_vaccines});});});}vgroupedData=vgroupedData.filter(function(el){return el;});var numIntervals=d3_src[\"f\" /* max */](data.who_data,function(d,i){return d[options.timeline_frequency+'Total'];});var maxCases=d3_src[\"f\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_cases;if(options.timeline_type==='cumulative')return d.total_cumulative_cases;if(options.timeline_type==='stacked')return 100;});var maxDeaths=d3_src[\"f\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_deaths;if(options.timeline_type==='cumulative')return d.total_cumulative_deaths;if(options.timeline_type==='stacked')return 100;});var maxVaccines=d3_src[\"f\" /* max */](vgroupedData,function(d,i){if(d){if(options.timeline_type==='non-cumulative')return d.total_new_vaccines;if(options.timeline_type==='cumulative')return d.total_cumulative_vaccines;if(options.timeline_type==='stacked')return 100;}});// define date range\n// const minDate = groupedData[0].date;\n// const maxDate = groupedData[numIntervals].date;\nvar minDate;if(groupedData.length>0){minDate=groupedData[0].date;}else{minDate=options.minDate;}var maxDate=options.maxDate;var md=moment_default()(maxDate);if(options.timeline_frequency==='month')md=md.add(1,'months');if(options.timeline_frequency==='week')md=md.add(1,'weeks');if(options.timeline_frequency==='day')md=md.add(1,'days');var svg=d3_src[\"j\" /* select */]('#timechart_svg');var width=2000;var barWidth=width/numIntervals;var barSpacing=0.04;if(options.timeline_frequency==='month')barSpacing=0.03;if(options.timeline_frequency==='day')barSpacing=0;// define scales\nxScale=d3_src[\"i\" /* scaleTime */]().range([0,width]).domain([minDate,md]);xScaleAxis=d3_src[\"i\" /* scaleTime */]().range([23,596]).domain([minDate,md]);yScaleCases=d3_src[\"h\" /* scaleLinear */]().range([0,140]).domain([0,maxCases]);yScaleCasesAxis=d3_src[\"h\" /* scaleLinear */]().range([140,0]).domain([0,maxCases]);yScaleDeaths=d3_src[\"h\" /* scaleLinear */]().range([0,140]).domain([0,maxDeaths]);yScaleDeathsAxis=d3_src[\"h\" /* scaleLinear */]().range([140,0]).domain([0,maxDeaths]);yScaleVaccines=d3_src[\"h\" /* scaleLinear */]().range([0,140]).domain([0,maxVaccines]);yScaleVaccinesAxis=d3_src[\"h\" /* scaleLinear */]().range([140,0]).domain([0,maxVaccines]);// define axi\nyAxisCases=d3_src[\"b\" /* axisRight */]().scale(yScaleCasesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisDeaths=d3_src[\"b\" /* axisRight */]().scale(yScaleDeathsAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisVaccines=d3_src[\"b\" /* axisRight */]().scale(yScaleVaccinesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});// y-axis cases\nvar yAxisCasesText=d3_src[\"j\" /* select */]('#casesAxis').transition().duration(500).call(yAxisCases);// y-axis deaths\nvar yAxisDeathsText=d3_src[\"j\" /* select */]('#deathsAxis').transition().duration(500).call(yAxisDeaths);// y-axis vaccines\nvar yAxisVaccinesText=d3_src[\"j\" /* select */]('#VaccinesAxis').transition().duration(500).call(yAxisVaccines);// CASES\n// loop through groupedData and draw bars\nvar barGroups=svg.selectAll('.bar_group').data(groupedData).attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+')';});// CASES\nbarGroups.selectAll('.cases_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewCases=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_cases;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].cumulative_cases;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_cases;if(options.timeline_type==='stacked')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_cases;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleCases(d.cumulative_cases)-yScaleCases(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleCases(d.new_cases)-yScaleCases(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_cases/totalNewCases)-140*(dp/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewCases=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_cases-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_cases;var y=0;if(options.timeline_type==='cumulative')y=yScaleCases(d.cumulative_cases);if(options.timeline_type==='non-cumulative')y=yScaleCases(d.new_cases);if(options.timeline_type==='stacked')y=140*(d.new_cases/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];return'blue';});// // DEATHS\nbarGroups.selectAll('.deaths_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewDeaths=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_deaths;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].cumulative_deaths;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;if(options.timeline_type==='stacked')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleDeaths(d.cumulative_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='non-cumulative')y=140-yScaleDeaths(d.new_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='stacked')y=140-140*(d.new_deaths/totalNewDeaths)-140*(dp/totalNewDeaths)+170;if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewDeaths=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_deaths-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_deaths;var y=0;if(options.timeline_type==='cumulative')y=yScaleDeaths(d.cumulative_deaths);if(options.timeline_type==='non-cumulative')y=yScaleDeaths(d.new_deaths);if(options.timeline_type==='stacked')y=140*(d.new_deaths/totalNewDeaths);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};});if(groupedData.length==0){d3_src[\"k\" /* selectAll */]('.cases_bar').transition().duration(500).attr('y',140).attr('height',0);d3_src[\"k\" /* selectAll */]('.deaths_bar').transition().duration(500).attr('y',140+170).attr('height',0);}// // VACCINES\nvar vbarGroups=svg.selectAll('.vbar_group').data(vgroupedData).attr('data-date',function(d){return d.date;}).attr('transform',function(d,i){return'translate('+xScale(d.date)+', 344)';});vbarGroups.selectAll('.vaccines_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewVaccines=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_vaccines;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].cumulative_vaccines;if(options.timeline_type==='non-cumulative')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;if(options.timeline_type==='stacked')dp+=d3_src[\"j\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleVaccines(d.cumulative_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleVaccines(d.new_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_vaccines/totalNewVaccines)-140*(dp/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewVaccines=d3_src[\"j\" /* select */](this.parentNode).datum().total_new_vaccines-d3_src[\"j\" /* select */](this.parentNode).datum().OTH.new_vaccines;var y=0;if(options.timeline_type==='cumulative')y=yScaleVaccines(d.cumulative_vaccines);if(options.timeline_type==='non-cumulative')y=yScaleVaccines(d.new_vaccines);if(options.timeline_type==='stacked')y=140*(d.new_vaccines/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};});if(vgroupedData.length==0){d3_src[\"k\" /* selectAll */]('.vaccines_bar').transition().duration(500).attr('y',140).attr('height',0);}// // bar size tweak for spacing\n// if(options.timeline_frequency==='month'){\n//     barGroups.selectAll(\".timeBar\")\n//     .attr(\"width\", function(d) {\n//         var date = d3.select(this.parentNode).datum().date;\n//         var next = d3.timeMonth.offset(date, 1);\n//         return (xScale(next)- xScale(date))*(1-barSpacing);\n//       })\n//     .attr(\"x\", function(d) {\n//         var date = d3.select(this.parentNode).datum().date;\n//         var next = d3.timeMonth.offset(date, 1);\n//         return (xScale(next)- xScale(date))*(barSpacing/2);\n//       })\n//     }\n}/* harmony default export */ var Timechart = (drawTimechart);\n// CONCATENATED MODULE: ./src/Regionchart.js\nvar Regionchart_maxCases;var Regionchart_maxDeaths;var maxVaccinations;var xScaleCases;var xScaleDeaths;var xScaleVaccines;var labelWidth;var Regionchart_regions=['AF','ME','AP','EU','AM','OTH'];var margin={left:20,top:0,right:58};var rcSize;var Regionchart_groupedData=[];function drawRegionchart(data,options,filter){Regionchart_groupedData=[];var barSpacing=0.1;Regionchart_regions.forEach(function(d,i){// if(d!='OTH') // remove OTH\nRegionchart_groupedData.push({region:d,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0});});data.who_data.forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region){// remove OTH\nRegionchart_groupedData[ii].cumulative_cases+=d.new_cases;Regionchart_groupedData[ii].cumulative_deaths+=d.new_deaths;}});});Regionchart_maxCases=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_cases;});Regionchart_maxDeaths=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_deaths;});// vaccinations max date records\nvar vGroup=d3_src[\"d\" /* flatGroup */](data.vaccines_data_cumulative,function(d){return d.date;});var vacGrouped=vGroup[vGroup.length-1];var vData=[];vacGrouped[1].forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region&&dd!='OTH'){// remove OTH\nRegionchart_groupedData[ii].cumulative_vaccines+=d.total_vaccinations;}});});Regionchart_groupedData.sort(function(a,b){if(options.region_chart_toggle=='cases')return b.cumulative_cases-a.cumulative_cases;if(options.region_chart_toggle=='deaths')return b.cumulative_deaths-a.cumulative_deaths;if(options.region_chart_toggle=='vaccines')return b.cumulative_vaccines-a.cumulative_vaccines;});maxVaccinations=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_vaccines;});// append region chart containerg\nvar regionChartContainer=d3_src[\"j\" /* select */]('#layout #region_chart_container').attr('opacity',0);rcSize={x:regionChartContainer.attr('x'),y:regionChartContainer.attr('y'),width:regionChartContainer.attr('width'),height:regionChartContainer.attr('height')};var svg=d3_src[\"j\" /* select */]('#layout').append('g').attr('transform','translate('+rcSize.x+', '+rcSize.y+')').attr('id','region_chart');var rowHeight=rcSize.height/(Regionchart_groupedData.length-1);// remove OTH\nvar rows=svg.selectAll('.bar-row').data(Regionchart_groupedData.filter(function(d){return d.region!=='OTH';})).enter().append('g').attr('class','bar-row').attr('transform',function(d,i){return'translate(0,'+(i*rowHeight+margin.top)+')';});options.cumulative_totals=Regionchart_groupedData;var label=rows.append('text').attr('y',rowHeight/2).attr('x',margin.left-5).attr('class',function(d,i){return'bar-labels bar-label-'+d.region;}).style('alignment-baseline','middle').style('font-size','11px').attr('opacity',1).attr('fill','#000').text(function(d,i){if(d.region==='AM')return'Americas';if(d.region==='EU')return'Europe';if(d.region==='AF')return'Africa';if(d.region==='ME')return'Middle East and North Africa';if(d.region==='AP')return'Asia-Pacific';}).style('text-anchor','end');labelWidth=rows.node().getBBox().width+margin.left;label.attr('x',labelWidth+89);labelWidth=labelWidth+94;d3_src[\"k\" /* selectAll */]('.timeBar').attr('opacity',1);var rowBg=rows.append('rect').attr('y',0).attr('x',0).attr('width',labelWidth).attr('height',rowHeight-2).style('opacity',0).attr('fill','grey').style('cursor','pointer').attr('class',function(d,i){return'bar-bg-'+d.region;}).attr('data-id',function(d,i){return d.region;}).on('mouseover',function(d){d3_src[\"j\" /* select */](this).style('opacity',0.1);// var dat = d3.select(this.parentNode).datum();\n// d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n// d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n}).on('mouseout',function(){d3_src[\"j\" /* select */](this).style('opacity',0);// d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n}).on('click',function(d,i){var t=d3_src[\"j\" /* select */](this).attr('data-id');filter([t],'regionchart');});xScaleCases=d3_src[\"h\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxCases]);// severity/reliability x xcale\nxScaleDeaths=d3_src[\"h\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxDeaths]);// severity/reliability x xcale\nxScaleVaccines=d3_src[\"h\" /* scaleLinear */]().range([labelWidth,rcSize.width-margin.right-labelWidth]).domain([0,maxVaccinations]);// severity/reliability x xcale\nvar bars=rows.append('rect').attr('id',function(d,i){return'bar-'+d.region;}).attr('data-id',function(d,i){return d.region;}).attr('class','region-bar').attr('width',function(d,i){if(options.region_chart_toggle=='cases')return xScaleCases(d.cumulative_cases);if(options.region_chart_toggle=='deaths')return xScaleDeaths(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')return xScaleDeaths(d.cumulative_vaccines);}).attr('x',labelWidth).style('outline','none').style('cursor','pointer').attr('y',rowHeight*barSpacing-1).attr('height',rowHeight-rowHeight*barSpacing*2).style('fill',function(d){return src_colors.regions[d.region];}).attr('opacity',1).on('click',function(d,i){var t=d3_src[\"j\" /* select */](this).attr('data-id');filter([t],'regionchart');}).on('mouseover',function(d){var dat=d3_src[\"j\" /* select */](this.parentNode).datum();// d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n// d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n}).on('mouseout',function(){// d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n});var dataLabel=rows.append('text').text(function(d){if(options.region_chart_toggle=='cases')return addCommas(d.cumulative_cases);if(options.region_chart_toggle=='deaths')return addCommas(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')return addCommas(d.cumulative_vaccines);}).attr('id',function(d,i){return'data-label'+d.region;}).attr('data-id',function(d,i){return d.region;}).attr('class','data-label').attr('y',rowHeight/2).style('alignment-baseline','middle').style('text-anchor','start').attr('x',function(d,i){if(options.region_chart_toggle=='cases')return xScaleCases(d.cumulative_cases)+labelWidth+5;if(options.region_chart_toggle=='deaths')return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;if(options.region_chart_toggle=='vaccines')return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;}).attr('opacity',function(d,i){var val=0;if(options.region_chart_toggle=='cases')val=d.cumulative_cases;if(options.region_chart_toggle=='deaths')val=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')val=d.cumulative_vaccines;if(val>0){return 1;}else{return 0;}}).style('fill','#696969').style('font-weight','normal').style('font-size','10px');}function updateRegionchart(options,data){Regionchart_groupedData=[];Regionchart_regions.forEach(function(d,i){Regionchart_groupedData.push({region:d,cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0});});data.who_data.forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region){// remove OTH\nRegionchart_groupedData[ii].cumulative_cases+=d.new_cases;Regionchart_groupedData[ii].cumulative_deaths+=d.new_deaths;Regionchart_groupedData[ii].cumulative_vaccines=0;}});});Regionchart_maxCases=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_cases;});Regionchart_maxDeaths=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_deaths;});// vaccinations max date records\nvar vGroup=d3_src[\"d\" /* flatGroup */](data.vaccines_data_cumulative,function(d){return d.date;});var vacGrouped=vGroup[vGroup.length-1];var vData=[];if(vacGrouped){vacGrouped[1].forEach(function(d,i){Regionchart_regions.forEach(function(dd,ii){if(dd==d.ifrc_region){// remove OTH\nRegionchart_groupedData[ii].cumulative_vaccines+=d.total_vaccinations;}});});}Regionchart_groupedData.sort(function(a,b){if(options.region_chart_toggle=='cases')return b.cumulative_cases-a.cumulative_cases;if(options.region_chart_toggle=='deaths')return b.cumulative_deaths-a.cumulative_deaths;if(options.region_chart_toggle=='vaccines')return b.cumulative_vaccines-a.cumulative_vaccines;});options.cumulative_totals=Regionchart_groupedData;maxVaccinations=d3_src[\"f\" /* max */](Regionchart_groupedData,function(d,i){return d.cumulative_vaccines;});xScaleCases=d3_src[\"h\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxCases]);// severity/reliability x xcale\nxScaleDeaths=d3_src[\"h\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxDeaths]);// severity/reliability x xcale\nxScaleVaccines=d3_src[\"h\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,maxVaccinations]);// severity/reliability x xcale\nif(maxVaccinations==0&&Regionchart_maxCases==0&&Regionchart_maxDeaths==0){d3_src[\"k\" /* selectAll */]('.region-bar').transition().duration(500).attr('width',0);d3_src[\"k\" /* selectAll */]('.data-label').transition().duration(500).attr('x',labelWidth).attr('opacity',0);}else{d3_src[\"k\" /* selectAll */]('.region-bar').transition().duration(500).attr('width',function(d,i){var id=d3_src[\"j\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});if(options.region_chart_toggle=='cases')return xScaleCases(d.cumulative_cases);if(options.region_chart_toggle=='deaths')return xScaleDeaths(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')return xScaleVaccines(d.cumulative_vaccines);});d3_src[\"k\" /* selectAll */]('.data-label').transition().duration(500).tween(\"text\",function(d,i){var end=0;var id=d3_src[\"j\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});if(options.region_chart_toggle=='cases')end=d.cumulative_cases;if(options.region_chart_toggle=='deaths')end=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')end=d.cumulative_vaccines;var i=d3_src[\"e\" /* interpolate */](Math.floor(Math.random()*112346+92345),end);return function(t){d3_src[\"j\" /* select */](this).text(addCommas(Math.round(i(t))));};}).attr('x',function(d,i){var id=d3_src[\"j\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});if(options.region_chart_toggle=='cases')return xScaleCases(d.cumulative_cases)+labelWidth+5;if(options.region_chart_toggle=='deaths')return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;if(options.region_chart_toggle=='vaccines')return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;}).attr('opacity',function(d,i){var d;var id=d3_src[\"j\" /* select */](this).attr('data-id');Regionchart_groupedData.forEach(function(dd,ii){if(dd.region==id){d=dd;}});var val=0;if(options.region_chart_toggle=='cases')val=d.cumulative_cases;if(options.region_chart_toggle=='deaths')val=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')val=d.cumulative_vaccines;if(val>0){return 1;}else{return 0;}});}}/* harmony default export */ var Regionchart = (drawRegionchart);\n// CONCATENATED MODULE: ./src/Layout.js\nvar selectedToggle='#595454';var unselectedToggle='#EAEAEA';var unselectedToggleText='#000';var selectedToggleText='#FFF';function Layout(svg,options,data,filter,updateTable){// region chart toggle\nsvg.select('#region_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){options.region_filter=[];filter('clear-region');});svg.select('#region-chart-toggle #region-chart-toggle-cases').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='cases')return false;options.region_chart_toggle='cases';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-cases rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-cases text').attr('fill',selectedToggleText);updateRegionchart(options,data);});svg.select('#region-chart-toggle #region-chart-toggle-deaths').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='deaths')return false;options.region_chart_toggle='deaths';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-deaths rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-deaths text').attr('fill',selectedToggleText);updateRegionchart(options,data);});svg.select('#region-chart-toggle #region-chart-toggle-vaccines').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='vaccines')return false;options.region_chart_toggle='vaccines';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-vaccines rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-vaccines text').attr('fill',selectedToggleText);updateRegionchart(options,data);});// map toggle\nsvg.select('#map-toggle #map-toggle-bi-weekly-change').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='bi-weekly-change')return false;options.map_toggle='bi-weekly-change';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-bi-weekly-change rect').attr('fill',selectedToggle);svg.select('#map-toggle-bi-weekly-change text').attr('fill',selectedToggleText);// update map legend\nsrc_Update(svg,options,data);});svg.select('#map-toggle #map-toggle-cases').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='cases')return false;options.map_toggle='cases';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-cases rect').attr('fill',selectedToggle);svg.select('#map-toggle-cases text').attr('fill',selectedToggleText);// update map legend\nsrc_Update(svg,options,data);});svg.select('#map-toggle #map-toggle-deaths').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='deaths')return false;options.map_toggle='deaths';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-deaths rect').attr('fill',selectedToggle);svg.select('#map-toggle-deaths text').attr('fill',selectedToggleText);// update map legend\nsrc_Update(svg,options,data);});svg.select('#map-toggle #map-toggle-percent-fully-vaccinated').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='percent-fully-vaccinated')return false;options.map_toggle='percent-fully-vaccinated';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-percent-fully-vaccinated rect').attr('fill',selectedToggle);svg.select('#map-toggle-percent-fully-vaccinated text').attr('fill',selectedToggleText);// update map legend\nsrc_Update(svg,options,data);});svg.select('#map-toggle #map-toggle-percent-vaccine-acceptance').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='percent-vaccine-acceptance')return false;options.map_toggle='percent-vaccine-acceptance';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-percent-vaccine-acceptance rect').attr('fill',selectedToggle);svg.select('#map-toggle-percent-vaccine-acceptance text').attr('fill',selectedToggleText);// update map legend\nsrc_Update(svg,options,data);});// time chart type \nsvg.select('#timechart-type-toggle #timechart-type-toggle-cumulative').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='cumulative')return false;options.timeline_type='cumulative';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-cumulative rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-cumulative polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggle);updateTimechart(data,options);});svg.select('#timechart-type-toggle #timechart-type-toggle-non-cumulative').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='non-cumulative')return false;options.timeline_type='non-cumulative';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-non-cumulative rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-non-cumulative polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggle);updateTimechart(data,options);});svg.select('#timechart-type-toggle #timechart-type-toggle-stacked').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='stacked')return false;options.timeline_type='stacked';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-stacked rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-stacked polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggleText);updateTimechart(data,options);});// time chart frequency toggle\nsvg.select('#timechart-frequency-toggle #timechart-frequency-toggle-day').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='day')return false;options.timeline_frequency='day';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-day rect').attr('fill',selectedToggle);svg.select('#timechart-frequency-toggle-day text').attr('fill',selectedToggleText);drawTimechart(data,options);});svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-week').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='week')return false;options.timeline_frequency='week';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-week rect').attr('fill',selectedToggle);svg.select('#timechart-frequency-toggle-week text').attr('fill',selectedToggleText);drawTimechart(data,options);});svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-month').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='month')return false;options.timeline_frequency='month';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-month rect').attr('fill',selectedToggle);svg.select('#timechart-frequency-toggle-month text').attr('fill',selectedToggleText);drawTimechart(data,options);});// HDI toggle\nsvg.select('#hdi_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);filter('clear-hdi');});svg.select('#hdi-toggle #hdi-toggle-very-high').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'very-high');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"j\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-high').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'high');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"j\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-medium').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'medium');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"j\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-low').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'low');if(options.hdi_filter.length===4){options.hdi_filter=[];d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){d3_src[\"k\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){d3_src[\"j\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});// inform severity toggle\nsvg.select('#inform_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);filter('clear-inform');});svg.select('#inform-toggle #inform-toggle-no-score').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'no-score');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"j\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-low').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'low');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"j\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-medium').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'medium');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"j\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-high').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'high');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"j\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-very-high').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'very-high');if(options.inform_filter.length===5){options.inform_filter=[];d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){d3_src[\"k\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){d3_src[\"j\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});// tabs\nd3_src[\"j\" /* select */]('#additional-indicators-tab').attr('opacity',0);d3_src[\"j\" /* select */]('#vac-tab').attr('opacity',1);d3_src[\"j\" /* select */]('#bubblechart-tab').attr('opacity',0);svg.select('#tabs #vaccination-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='vaccination-data')return false;options.tab_toggle='vaccination-data';d3_src[\"j\" /* select */]('#additional-indicators-tab').attr('opacity',0);d3_src[\"j\" /* select */]('#vac-tab').attr('opacity',1);d3_src[\"j\" /* select */]('#bubblechart-tab').attr('opacity',0);svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#vaccination-tab rect').attr('fill',selectedToggle);svg.select('#vaccination-tab text').attr('fill',selectedToggleText);src_Update(svg,options,data);});svg.select('#tabs #indicators-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='indicators')return false;options.tab_toggle='indicators';d3_src[\"j\" /* select */]('#additional-indicators-tab').attr('opacity',1);d3_src[\"j\" /* select */]('#vac-tab').attr('opacity',0);d3_src[\"j\" /* select */]('#bubblechart-tab').attr('opacity',0);svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#indicators-tab rect').attr('fill',selectedToggle);svg.select('#indicators-tab text').attr('fill',selectedToggleText);src_Update(svg,options,data);});svg.select('#tabs #bubble-chart-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='bubble-chartt')return false;options.tab_toggle='bubble-chart';d3_src[\"j\" /* select */]('#additional-indicators-tab').attr('opacity',0);d3_src[\"j\" /* select */]('#vac-tab').attr('opacity',0);d3_src[\"j\" /* select */]('#bubblechart-tab').attr('opacity',1);svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#bubble-chart-tab rect').attr('fill',selectedToggle);svg.select('#bubble-chart-tab text').attr('fill',selectedToggleText);src_Update(svg,options,data);});// time chart mask\nd3_src[\"j\" /* select */]('#svg defs').append('clipPath').attr('id','mask').append('rect').attr('x',100).attr('y',340).attr('height',524).attr('width',630).attr('x',23);// append timechart svg\nvar timechartContainer=svg.select('#timechart_container').attr('opacity',0);var tcSize={x:timechartContainer.attr('x'),y:timechartContainer.attr('y'),width:timechartContainer.attr('width'),height:timechartContainer.attr('height')};var timechartSvg=svg.append('svg').attr('id','timechart_svg').attr('viewBox','0 0 '+2000+' '+tcSize.height).attr('preserveAspectRatio',\"none\").attr('x',tcSize.x).attr('y',tcSize.y).attr('width',tcSize.width).attr('height',tcSize.height);var layer1=timechartSvg.append('g').attr('id','layer1');var timechartBg=timechartSvg.append('g').attr('id','layer0');layer1.append('rect').attr('x',0).attr('y',0).attr('width','100%').attr('height','100%').attr('opacity',0);// table bars\nvar _loop=function _loop(i){// col 1 bg\nd3_src[\"j\" /* select */]('#vac-tab').append('rect').attr('class','col1bg colbg').attr('id','col1bg'+i).attr('x',120).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill','#D8D8D8');// col 1 bar\nd3_src[\"j\" /* select */]('#vac-tab').append('rect').attr('class','col1bar').attr('id','col1bar'+i).attr('x',120).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill','steelblue');// col 2 bg\nd3_src[\"j\" /* select */]('#vac-tab').append('rect').attr('class','col2bg colbg').attr('id','col2bg'+i).attr('x',230).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill','#D8D8D8');// col 2 bar\nd3_src[\"j\" /* select */]('#vac-tab').append('rect').attr('class','col2bar').attr('id','col2bar'+i).attr('x',230).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill','steelblue');// col 3 bg\nd3_src[\"j\" /* select */]('#vac-tab').append('rect').attr('class','col3bg colbg').attr('id','col3bg'+i).attr('x',340).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill','#D8D8D8');// col 3 bar\nd3_src[\"j\" /* select */]('#vac-tab').append('rect').attr('class','col3bar').attr('id','col3bar'+i).attr('x',340).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill','steelblue');// col 4 bg\nd3_src[\"j\" /* select */]('#vac-tab').append('rect').attr('class','col4bg colbg').attr('id','col4bg'+i).attr('x',454).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',68).attr('fill','#D8D8D8');// col 3 bar\nd3_src[\"j\" /* select */]('#vac-tab').append('rect').attr('class','col4bar').attr('id','col4bar'+i).attr('x',454).attr('y',function(){return 67+i*24.8;}).attr('height',19).attr('width',0).attr('fill','steelblue');for(x=0;x<6;x++){d3_src[\"j\" /* select */]('#col'+x+'_sort_desc').attr('opacity',0);d3_src[\"j\" /* select */]('#col'+x+'_sort_asc').attr('opacity',0);d3_src[\"j\" /* select */]('#col'+x+'_sort').style('cursor','pointer').on('click',function(){var thisId=d3_src[\"j\" /* select */](this).attr('id');if(options.table_sort==thisId){if(options.table_sort_direction=='desc'){options.table_sort_direction='asc';}else{options.table_sort_direction='desc';}}else{options.table_sort=thisId;options.table_sort_direction='desc';}updateTable(data,options);});// d3.select('#col1_sort_desc').attr('opacity', 1);\n}};for(var i=0;i<10;i++){var x;_loop(i);}}/* harmony default export */ var src_Layout = (Layout);function toggle(collection,item){var idx=collection.indexOf(item);if(idx!==-1){collection.splice(idx,1);}else{collection.push(item);}}/*\n\n#timechart-type-toggle #timechart-type-toggle-stacked\n#timechart-type-toggle #timechart-type-toggle-non-cumulative\n#timechart-type-toggle #timechart-type-toggle-cumulative\n\n#timechart-frequency-toggle #timechart-frequency-toggle-day\n#timechart-frequency-toggle #timechart-frequency-toggle-week\n#timechart-frequency-toggle #timechart-frequency-toggle-month\n\n#map-toggle #map-toggle-bi-weekly-change\n#map-toggle #map-toggle-deaths\n#map-toggle #map-toggle-percent-fully-vaccinated\n#map-toggle #map-toggle-percent-vaccine-acceptance\n#map-toggle #map-toggle-cases\n\n#tabs #bubble-chart-tab\n#tabs #indicators-tab\n#tabs #vaccination-tab\n\n#hdi-toggle #hdi-toggle-very-high\n#hdi-toggle #hdi-toggle-high\n#hdi-toggle #hdi-toggle-medium\n#hdi-toggle #hdi-toggle-low\n\n\n#inform-toggle #inform-toggle-no-score\n#inform-toggle #inform-toggle-low\n#inform-toggle #inform-toggle-medium\n#inform-toggle #inform-toggle-high\n#inform-toggle #inform-toggle-very-high\n\n*/\n// CONCATENATED MODULE: ./src/Options.js\n// default options\nvar Options_options={region_chart_toggle:'cases',// cases, deaths, vaccines\nregion_filter:[],country_filter:[],hdi_filter:[],// very-high, high, medium, low\ninform_filter:[],// no-score, low, medium, high, very-high\ntimeline_type:'non-cumulative',// cumulative, non-cumulative, stacked \ntimeline_frequency:'week',// day, week, month\nmap_toggle:'bi-weekly-change',// bi-weekly-change, cases, deaths, percent-fully-vaccinated, percent-vaccine-acceptance\ntab_toggle:'bubble-chart',// vaccination-data, indicators, bubble-chart\ntable_sort:'col1_sort',table_sort_direction:'desc',bubble_chart_color_by:'hdi',// hdi, inform-severity, region\nbubble_chart_y_axis:'percent-vaccinated-at-least-1-dose',// percent-vaccinated-at-least-1-dose, percent-fully-vaccinated\nmaxDate:null,maxVDate:null};/* harmony default export */ var Options = (Options_options);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/just-clone/index.js\nvar just_clone = __webpack_require__(34);\nvar just_clone_default = /*#__PURE__*/__webpack_require__.n(just_clone);\n\n// CONCATENATED MODULE: ./src/ParseData.js\n// import * as d3 from \"d3\";\nfunction ParseData(data,options){// console.log('ParseData');\n// console.log(options);\n// max dates\nvar maxDate=moment_default()(new Date(Object(d3_src[\"f\" /* max */])(data.who_data,function(d){return d.Date_reported;})));var minDate=moment_default()(new Date(Object(d3_src[\"g\" /* min */])(data.who_data,function(d){return d.Date_reported;})));var minDateVaccines=new Date(Object(d3_src[\"g\" /* min */])(data.vaccines_data,function(d){return d.date;}));var maxDateVaccines=new Date(Object(d3_src[\"f\" /* max */])(data.vaccines_data,function(d){return d.date;}));if(maxDateVaccines>maxDate){maxDate=maxDateVaccines;}options.maxDate=moment_default()(maxDate).toDate();options.maxVDate=moment_default()(maxDateVaccines).toDate();options.minDate=moment_default()(minDate).toDate();// parse who data\nvar dayTotal=-1;var dayCheck=0;var weekTotal=-1;var weekCheck=-1;var monthTotal=0;var monthCheck=0;data.who_data.sort(function(a,b){return new Date(a.Date_reported)-new Date(b.Date_reported);});var countryCodes=[];data.who_data.forEach(function(d,i){d.date=new Date(d.Date_reported);d.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').toDate());d.new_cases=parseInt(d.New_cases);d.new_deaths=parseInt(d.New_deaths);d.cumulative_deaths=parseInt(d.Cumulative_deaths);d.cumulative_cases=parseInt(d.Cumulative_cases);d.country_code=d.Country_code;d.country_name=null;data.equity_data.forEach(function(dd,ii){if(dd.country_iso2===d.Country_code){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;}});if(d.ifrc_region==undefined)d.ifrc_region='OTH';if(!countryCodes.includes(d.country_code))countryCodes.push(d.country_code);delete d.Date_reported;delete d.Country;delete d.New_cases;delete d.New_deaths;delete d.Country_code;delete d.Cumulative_deaths;delete d.Cumulative_cases;// delete d.Country_code;\ndelete d.WHO_region;// delete d.Country;\ndayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;});// parse vaccine cumulative data\ndayTotal=-1;dayCheck=0;weekTotal=-1;weekCheck=-1;monthTotal=0;monthCheck=0;// filter out vaccine data on only include records with ISO3 country codes\ndata.vaccines_data_cumulative=data.vaccines_data.filter(function(d,i){return d.iso_code.length===3&&d.total_vaccinations>0;});// fill out missing vaccinations date records (extend cumulative)\nvar vGroup=Object(d3_src[\"d\" /* flatGroup */])(data.vaccines_data_cumulative,function(d){return d.iso_code;});var newDates=[];var hasDays=[];var initDate=0;var lastRecord={};var vDataFlat=[];vGroup.forEach(function(d,i){var _vGroup$i$;var minDt=new Date(minDateVaccines);var maxDt=new Date(maxDateVaccines);var hasDays=[];var newDays=[];var newDays=[];data.equity_data.forEach(function(dd,ii){if(dd.country_iso3===vGroup[i][0]){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;d.country_code=dd.country_iso2;}});vGroup[i].lastDate=new Date(Object(d3_src[\"f\" /* max */])(vGroup[i][1],function(d,i){return d.date;}));vGroup[i][1].forEach(function(dd,ii){hasDays.push(new Date(dd.date).getTime());});// if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\nvGroup[i][1].forEach(function(dd,ii){dd.total_vaccinations=parseInt(dd.total_vaccinations);for(var day=minDt;day<=maxDt;day.setDate(day.getDate()+1)){var newDay=day.getTime();if(!hasDays.includes(newDay)){newDays.push({date:new Date(day),total_vaccinations:null});}}// dd.lastDate = dd.date;\n});(_vGroup$i$=vGroup[i][1]).push.apply(_vGroup$i$,Object(toConsumableArray[\"a\" /* default */])(newDays));vGroup[i][1].sort(function(a,b){return new Date(a.date)-new Date(b.date);});var totalVac=0;var totalVac100=0;var people_vaccinated_per_hundred=0;var people_fully_vaccinated_per_hundred=0;vGroup[i][1].forEach(function(dd,ii){if(dd.total_vaccinations){totalVac=dd.total_vaccinations;}else{dd.total_vaccinations=totalVac;}if(dd.total_vaccinations_per_hundred){totalVac100=dd.total_vaccinations_per_hundred;}else{dd.total_vaccinations_per_hundred=totalVac100;}if(dd.people_vaccinated_per_hundred){people_vaccinated_per_hundred=dd.people_vaccinated_per_hundred;}else{dd.people_vaccinated_per_hundred=people_vaccinated_per_hundred;}if(dd.people_fully_vaccinated_per_hundred){people_fully_vaccinated_per_hundred=dd.people_fully_vaccinated_per_hundred;}else{dd.people_fully_vaccinated_per_hundred=people_fully_vaccinated_per_hundred;}var countryName;if(vGroup[i].country_name==null){countryName=vGroup[i][0];}else{countryName=vGroup[i].country_name;}vDataFlat.push({date:new Date(dd.date),lastDate:vGroup[i].lastDate,total_vaccinations_per_hundred:parseFloat(totalVac100),people_vaccinated_per_hundred:people_vaccinated_per_hundred,people_fully_vaccinated_per_hundred:people_fully_vaccinated_per_hundred,iso_code:vGroup[i][0],ifrc_region:vGroup[i].ifrc_region,country_name:countryName,country_code:vGroup[i].country_code,total_vaccinations:totalVac});});});data.vaccines_data_cumulative=vDataFlat;data.vaccines_data_cumulative.sort(function(a,b){return new Date(a.date)-new Date(b.date);});data.vaccines_data_cumulative.forEach(function(d,i){if(d.ifrc_region==undefined)d.ifrc_region='OTH';d.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();dayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').toDate());});// parse vaccine daily data\ndayTotal=-1;dayCheck=0;weekTotal=-1;weekCheck=-1;monthTotal=0;monthCheck=0;// filter out vaccine data on only include records with ISO3 country codes\ndata.vaccines_data_daily=data.vaccines_data.filter(function(d,i){return d.iso_code.length===3&&d.daily_vaccinations>0;});// fill out missing vaccinations date records (extend cumulative)\nvar vGroup=Object(d3_src[\"d\" /* flatGroup */])(data.vaccines_data_daily,function(d){return d.iso_code;});var newDates=[];var hasDays=[];var initDate=0;var lastRecord={};var vDataFlat=[];vGroup.forEach(function(d,i){var _vGroup$i$2;var minDt=new Date(minDateVaccines);var maxDt=new Date(maxDateVaccines);var hasDays=[];var newDays=[];var newDays=[];data.equity_data.forEach(function(dd,ii){if(dd.country_iso3===vGroup[i][0]){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;d.country_code=dd.country_iso2;}});vGroup[i][1].forEach(function(dd,ii){hasDays.push(new Date(dd.date).getTime());});// if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\nvGroup[i][1].forEach(function(dd,ii){dd.daily_vaccinations=parseInt(dd.daily_vaccinations);for(var day=minDt;day<=maxDt;day.setDate(day.getDate()+1)){var newDay=day.getTime();if(!hasDays.includes(newDay)){newDays.push({date:new Date(day),daily_vaccinations:null});}}});(_vGroup$i$2=vGroup[i][1]).push.apply(_vGroup$i$2,Object(toConsumableArray[\"a\" /* default */])(newDays));vGroup[i][1].sort(function(a,b){return new Date(a.date)-new Date(b.date);});var daily_vaccinations=0;vGroup[i][1].forEach(function(dd,ii){if(dd.daily_vaccinations){daily_vaccinations=dd.daily_vaccinations;}else{dd.daily_vaccinations=daily_vaccinations;}var countryName;if(vGroup[i].country_name==null){countryName=vGroup[i][0];}else{countryName=vGroup[i].country_name;}vDataFlat.push({date:new Date(dd.date),iso_code:vGroup[i][0],ifrc_region:vGroup[i].ifrc_region,country_name:countryName,country_code:vGroup[i].country_code,daily_vaccinations:daily_vaccinations});});});data.vaccines_data_daily=vDataFlat;data.vaccines_data_daily.sort(function(a,b){return new Date(a.date)-new Date(b.date);});data.vaccines_data_daily.forEach(function(d,i){if(d.ifrc_region==undefined)d.ifrc_region='OTH';d.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();dayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').toDate());});// parse equity data inform/hdi indexes\ndata.equity_data.forEach(function(d,i){if(d.hdi_category.match(/very high/i)){d.hdi_category='very-high';}else if(d.hdi_category.match(/high/i)){d.hdi_category='high';}else if(d.hdi_category.match(/medium/i)){d.hdi_category='medium';}else if(d.hdi_category.match(/low/i)){d.hdi_category='low';}if(d.inform_severity.match(/very high/i)){d.inform_severity='very-high';}else if(d.inform_severity.match(/high/i)){d.inform_severity='high';}else if(d.inform_severity.match(/medium/i)){d.inform_severity='medium';}else if(d.inform_severity.match(/low/i)){d.inform_severity='low';}else if(d.inform_severity.match(/no/i)){d.inform_severity='no-score';}});data.equity_data=data.equity_data.filter(function(d,i){return countryCodes.includes(d.country_iso2);});data.original=just_clone_default()(data);// console.log(data);\n}/* harmony default export */ var src_ParseData = (ParseData);\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./node_modules/jquery/dist/jquery.js\nvar jquery = __webpack_require__(2);\nvar jquery_default = /*#__PURE__*/__webpack_require__.n(jquery);\n\n// EXTERNAL MODULE: ./node_modules/select2/dist/js/select2.js\nvar select2 = __webpack_require__(121);\n\n// EXTERNAL MODULE: ./node_modules/select2/dist/css/select2.min.css\nvar select2_min = __webpack_require__(122);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/App.js\nvar equityDataUrl='./data/equity_data.csv';var layoutUrl=\"./images/layout.svg\";var whoDataUrl=\"./data/who_global_cases.csv\";var worldUrl=\"./data/world-wb5.geojson\";var vaccinesDataUrl=\"./data/owid_vaccinations.csv\";var timelineDataUrl=\"./data/timeline.csv\";var keyFiguresDataUrl=\"./data/key_figures.csv\";var App_data={};var regionOptions=[{id:'AM',text:'Americas'},{id:'EU',text:'Europe'},{id:'AP',text:'Asia-Pacific'},{id:'ME',text:'Middle East and North Africa'},{id:'AF',text:'Africa'}];var countryOptions=[];function App_App(){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),progress=_useState2[0],setProgress=_useState2[1];var _useState3=Object(react[\"useState\"])('Loading SVG layout...'),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loaderText=_useState4[0],setLoaderText=_useState4[1];function init(){return _init.apply(this,arguments);}function _init(){_init=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var layout;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// data source 1: layout.svg\nlayout=d3_src[\"o\" /* xml */](layoutUrl);layout.then(function(d){d3_src[\"j\" /* select */]('#svg_container').node().append(d3_src[\"j\" /* select */](d.documentElement).attr('width','100%').attr('height','auto').node());var svg=d3_src[\"j\" /* select */]('#svg_container svg');svg.select('title').remove();svg.attr('id','svg');src_Layout(svg,Options,App_data,filter,updateTable);setProgress(0.1);setLoaderText('Loading equity data CSV...');// data source 2: equity_data.csv\nvar equityData=d3_src[\"c\" /* csv */](equityDataUrl);equityData.then(function(d){App_data.equity_data=d;d.forEach(function(d,i){countryOptions.push({'text':d.country_name,'id':'Country-'+d.country_iso2});});createSelects();setProgress(0.1);setLoaderText('Loading WHO data CSV...');// data source 3: owid_vaccines.csv\nvar vaccinesData=d3_src[\"c\" /* csv */](vaccinesDataUrl);vaccinesData.then(function(d){App_data.vaccines_data=d;setProgress(0.3);setLoaderText('Loading OWID vaccines data...');// data source 4: timeline.csv\nvar timelineData=d3_src[\"c\" /* csv */](timelineDataUrl);timelineData.then(function(d){App_data.timeline_data=d;setProgress(0.4);setLoaderText('Loading Timeline data...');// data source 5: key_figures.csv\nvar keyFiguresData=d3_src[\"c\" /* csv */](keyFiguresDataUrl);keyFiguresData.then(function(d){App_data.key_figures=d;setProgress(0.45);setLoaderText('Loading key figures data...');// data source 6: who_global_cases.csv\nvar whoData=d3_src[\"c\" /* csv */](whoDataUrl);whoData.then(function(d){App_data.who_data=d;setProgress(0.8);setLoaderText('Loading World Map GeoJSON...');// data source 7: world-wb5.geojson\nvar world=d3_src[\"c\" /* csv */](worldUrl);world.then(function(d){App_data.world=d;setLoaderText('Loading complete.');setProgress(1);src_ParseData(App_data,Options);createCharts();d3_src[\"j\" /* select */]('#loaderDiv').transition().duration(1000).style('opacity',0).on(\"end\",function(){return d3_src[\"j\" /* select */]('#loaderDiv').remove();});});});});});});});});case 2:case\"end\":return _context.stop();}}},_callee);}));return _init.apply(this,arguments);}function createCharts(){drawTimechart(App_data,Options);drawRegionchart(App_data,Options,filter);updateTotals(App_data,Options);updateTable(App_data,Options);}function filter(id,e){if(id=='clear'){Options.region_filter=[];Options.country_filter=[];d3_src[\"j\" /* select */]('#reset_locations').attr('opacity',0);}if(id=='clear-region'){Options.region_filter=[];}if(id=='clear-hdi'){Options.hdi_filter=[];}if(id=='clear-inform'){Options.inform_filter=[];}if(id.length==1&&id[0].length==2&&id!='filter'){if(Options.region_filter.includes(id[0])){Options.region_filter=Options.region_filter.filter(function(d){return d!==id[0];});}else{Options.region_filter.push(id[0]);}}if(Options.region_filter.length==5)Options.region_filter=[];if(Options.region_filter.length>0){d3_src[\"j\" /* select */]('#region_remove_filter').attr('opacity',1);d3_src[\"k\" /* selectAll */]('.bar-labels').attr('opacity',0.5);Options.region_filter.forEach(function(d,i){d3_src[\"j\" /* select */]('.bar-label-'+d).attr('opacity',1);});}else{d3_src[\"j\" /* select */]('#region_remove_filter').attr('opacity',0);d3_src[\"k\" /* selectAll */]('.bar-labels').attr('opacity',1);}App_data.equity_data=App_data.original.equity_data;var hdi_countries=[];if(Options.hdi_filter.length>0){d3_src[\"j\" /* select */]('#hdi_remove_filter').attr('opacity',1);App_data.equity_data.forEach(function(d,i){if(Options.hdi_filter.includes(d.hdi_category)){hdi_countries.push(d.country_iso2);}});}else{d3_src[\"j\" /* select */]('#hdi_remove_filter').attr('opacity',0);}var inform_countries=[];if(Options.inform_filter.length>0){d3_src[\"j\" /* select */]('#inform_remove_filter').attr('opacity',1);App_data.equity_data.forEach(function(d,i){if(Options.inform_filter.includes(d.inform_severity)){inform_countries.push(d.country_iso2);}});}else{d3_src[\"j\" /* select */]('#inform_remove_filter').attr('opacity',0);}if(id.length==1&&id[0].length>2){var code=id[0].substring(8);if(Options.country_filter.includes(code)){Options.country_filter=Options.country_filter.filter(function(d){return d!==code;});}else{Options.country_filter.push(code);}}if(Options.region_filter.length==0&&Options.country_filter.length==0){d3_src[\"j\" /* select */]('#reset_locations').attr('opacity',0);}var countryIds=[];Options.country_filter.forEach(function(d,i){countryIds.push('Country-'+d);});if(Options.region_filter.length>0||Options.country_filter.length>0){d3_src[\"j\" /* select */]('#reset_locations').attr('opacity',1);}else{d3_src[\"j\" /* select */]('#reset_locations').attr('opacity',0);}var mergeFilter=Options.region_filter.concat(countryIds);jquery_default()('#regionSelect').val(mergeFilter);jquery_default()('#regionSelect').trigger('change');// update data\nApp_data.who_data=App_data.original.who_data;if(inform_countries.length>0){App_data.who_data=App_data.who_data.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.who_data=App_data.who_data.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}App_data.vaccines_data_cumulative=App_data.original.vaccines_data_cumulative;if(inform_countries.length>0){App_data.vaccines_data_cumulative=App_data.vaccines_data_cumulative.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.vaccines_data_cumulative=App_data.vaccines_data_cumulative.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}App_data.vaccines_data_daily=App_data.original.vaccines_data_daily;if(inform_countries.length>0){App_data.vaccines_data_daily=App_data.vaccines_data_daily.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.vaccines_data_daily=App_data.vaccines_data_daily.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}if(inform_countries.length>0){App_data.equity_data=App_data.equity_data.filter(function(d,i){return inform_countries.includes(d.country_iso2);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.equity_data=App_data.equity_data.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_iso2))&&hdi_countries.includes(d.country_iso2);}else{return hdi_countries.includes(d.country_iso2);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_iso2);}});}handleSelectLength();updateCharts();}function updateCharts(){updateRegionchart(Options,App_data);// drawTimechart(data, options);\nupdateTotals(App_data,Options);updateTimechart(App_data,Options);updateTable(App_data,Options);}function updateTotals(data,options){// update hdi numbers\nvar hdiData={'very-high':0,'high':0,'medium':0,'low':0};var informData={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};data.equity_data.forEach(function(dd,ii){hdiData[dd.hdi_category]+=1;informData[dd.inform_severity]+=1;// numCountriesFiltered++;\n});d3_src[\"j\" /* select */]('#hdi-toggle-very-high-val tspan').text(hdiData['very-high']).style('text-anchor','end').attr('dx','10');d3_src[\"j\" /* select */]('#hdi-toggle-high-val tspan').text(hdiData['high']).style('text-anchor','end').attr('dx','10');d3_src[\"j\" /* select */]('#hdi-toggle-medium-val tspan').text(hdiData['medium']).style('text-anchor','end').attr('dx','10');d3_src[\"j\" /* select */]('#hdi-toggle-low-val tspan').text(hdiData['low']).style('text-anchor','end').attr('dx','10');d3_src[\"j\" /* select */]('#inform-toggle-very-high-val tspan').text(informData['very-high']).style('text-anchor','end').attr('dx','6');d3_src[\"j\" /* select */]('#inform-toggle-high-val tspan').text(informData['high']).style('text-anchor','end').attr('dx','10');d3_src[\"j\" /* select */]('#inform-toggle-medium-val tspan').text(informData['medium']).style('text-anchor','end').attr('dx','9');d3_src[\"j\" /* select */]('#inform-toggle-low-val tspan').text(informData['low']).style('text-anchor','end').attr('dx','7');d3_src[\"j\" /* select */]('#inform-toggle-no-score-val tspan').text(informData['no-score']).style('text-anchor','end').attr('dx','13');var numCountriesFiltered=d3_src[\"d\" /* flatGroup */](data.who_data,function(d){return d.country_code;}).length;d3_src[\"j\" /* select */]('#countries_filtered tspan').text(numCountriesFiltered+' countries filtered').style('text-anchor','end').attr('dx','105');d3_src[\"j\" /* select */]('#total_new_cases tspan').text('-');d3_src[\"j\" /* select */]('#total_vac_100 tspan').text('-');d3_src[\"j\" /* select */]('#percent_acceptance tspan').text('-');d3_src[\"j\" /* select */]('#num_vaccines tspan').text('-');d3_src[\"j\" /* select */]('#total_cases tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"e\" /* interpolate */](0,d3_src[\"l\" /* sum */](options.cumulative_totals,function(d){return d.cumulative_cases;}))(t));};});d3_src[\"j\" /* select */]('#total_deaths tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"e\" /* interpolate */](0,d3_src[\"l\" /* sum */](options.cumulative_totals,function(d){return d.cumulative_deaths;}))(t));};});d3_src[\"j\" /* select */]('#total_vaccines tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(d3_src[\"e\" /* interpolate */](0,d3_src[\"l\" /* sum */](options.cumulative_totals,function(d){return d.cumulative_vaccines;}))(t));};});}function updateTable(data,options){var lastRecord=data.vaccines_data_cumulative.filter(function(d){return d.date.getTime()==options.maxVDate.getTime();});var vGroup=d3_src[\"d\" /* flatGroup */](lastRecord,function(d){return d.iso_code;});data.equity_data.forEach(function(d,i){if(!vGroup.some(function(item){return item[0]===d.country_iso3;})){vGroup.push([d.country_iso3,[{country_name:d.country_name}]]);}});var sortKey;if(options.table_sort=='col0_sort')sortKey='country_name';if(options.table_sort=='col1_sort')sortKey='total_vaccinations_per_hundred';if(options.table_sort=='col2_sort')sortKey='people_vaccinated_per_hundred';if(options.table_sort=='col3_sort')sortKey='people_fully_vaccinated_per_hundred';if(options.table_sort=='col5_sort')sortKey='total_vaccinations';for(var x=0;x<6;x++){d3_src[\"j\" /* select */]('#col'+x+'_sort_desc').attr('opacity',0);d3_src[\"j\" /* select */]('#col'+x+'_sort_asc').attr('opacity',0);}d3_src[\"j\" /* select */]('#'+options.table_sort+'_'+options.table_sort_direction).attr('opacity',1);if(sortKey=='country_name'){if(options.table_sort_direction=='asc'){vGroup.sort(function(b,a){return a[1][0].country_name.localeCompare(b[1][0].country_name);});}else{vGroup.sort(function(a,b){return a[1][0].country_name.localeCompare(b[1][0].country_name);});}}else{if(options.table_sort_direction=='desc'){vGroup.sort(function(a,b){return b[1][0][sortKey]-a[1][0][sortKey];});}else{vGroup.sort(function(b,a){return b[1][0][sortKey]-a[1][0][sortKey];});}}d3_src[\"k\" /* selectAll */]('.tablerow').remove();d3_src[\"k\" /* selectAll */]('.col1bar').attr('opacity',0);d3_src[\"k\" /* selectAll */]('.col2bar').attr('opacity',0);d3_src[\"k\" /* selectAll */]('.col3bar').attr('opacity',0);d3_src[\"k\" /* selectAll */]('.colbg').attr('opacity',0);var _loop=function _loop(i){d=vGroup[i];if(!vGroup[i]){d3_src[\"j\" /* select */]('#col1bar'+i).attr('width',0);d3_src[\"j\" /* select */]('#col2bar'+i).attr('width',0);d3_src[\"j\" /* select */]('#col3bar'+i).attr('width',0);return\"continue\";}d3_src[\"j\" /* select */]('#vac-tab').append('text').attr('class','tablerow table_country_name').text(function(){var name;if(d[1][0].country_name){name=d[1][0].country_name;}else{name=d[1][0].iso_code;}name=name.substring(0,17);if(name.length==17)name=name+'.';return name;}).attr('x',0).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 1 val\nd3_src[\"j\" /* select */]('#vac-tab').append('text').attr('class','tablerow table_country_name').text(function(){var val=parseFloat(d[1][0].total_vaccinations_per_hundred).toFixed(1);if(isNaN(val)){return'';}else{return val;}}).style('text-anchor','end').attr('x',112).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 1 bar\nd3_src[\"j\" /* select */]('#col1bar'+i).attr('opacity',1).transition().duration(500).attr('width',function(){var val=d[1][0].total_vaccinations_per_hundred;if(d[1][0].total_vaccinations_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});d3_src[\"j\" /* select */]('#col1bg'+i).attr('opacity',1);// col 2 val\nd3_src[\"j\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=parseFloat(d[1][0].people_vaccinated_per_hundred).toFixed(1);if(isNaN(val)){return'';}else{return val+'%';}}).style('text-anchor','end').attr('x',223).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 2 bar\nd3_src[\"j\" /* select */]('#col2bar'+i).attr('opacity',1).transition().duration(500).attr('width',function(){var val=d[1][0].people_vaccinated_per_hundred;if(d[1][0].people_vaccinated_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});d3_src[\"j\" /* select */]('#col2bg'+i).attr('opacity',1);// col 3 val\nd3_src[\"j\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=parseFloat(d[1][0].people_fully_vaccinated_per_hundred).toFixed(1);if(isNaN(val)){return'';}else{return val+'%';}}).style('text-anchor','end').attr('x',335).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 3 bar\nd3_src[\"j\" /* select */]('#col3bar'+i).attr('opacity',1).transition().duration(500).attr('width',function(){var val=d[1][0].people_fully_vaccinated_per_hundred;if(d[1][0].people_fully_vaccinated_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});d3_src[\"j\" /* select */]('#col3bg'+i).attr('opacity',1);// col 3 bar\nd3_src[\"j\" /* select */]('#col4bar'+i).attr('opacity',1);// .transition()\n// .duration(500)\n// .attr('width', function(){\n//   var val = d[1][0].people_fully_vaccinated_per_hundred;\n//   if(d[1][0].people_fully_vaccinated_per_hundred>100){\n//     val = 100\n//   } \n//   if(isNaN(val)){ return 0} else { return 68*(val/100) }\n// });\nd3_src[\"j\" /* select */]('#col4bg'+i).attr('opacity',1);dayFormat=d3_src[\"m\" /* timeFormat */](\"%b %d\");// col 5 val\nd3_src[\"j\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=d[1][0].total_vaccinations;if(isNaN(val)){return'';}else{return nFormatter(val);}}).style('text-anchor','end').attr('x',572).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 6 val\nd3_src[\"j\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=d[1][0].lastDate;if(val){return dayFormat(val);}else{return'';}}).style('text-anchor','end').attr('x',620).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');};for(var i=0;i<10;i++){var d;var dayFormat;var _ret=_loop(i);if(_ret===\"continue\")continue;}}function createSelects(){// region select\njquery_default()('#regionSelect').select2({data:[{id:'regions',text:'IFRC Regions',children:regionOptions},{id:'countries',text:'Countries',children:countryOptions}],placeholder:'',scrollAfterSelect:true,renderTemplate:function renderTemplate(item){return item.text||\"\\u200B\";},dropdownParent:jquery_default()('#regionDrop'),shouldFocusInput:function shouldFocusInput(){return false;},templateResult:function templateResult(data){var $state=jquery_default()('<span>'+data.text+'<span>');return $state;}}).on('select2:unselecting',function(){jquery_default()(this).data('unselecting',true);}).on('select2:opening',function(e){if(jquery_default()(this).data('unselecting')){jquery_default()(this).removeData('unselecting');e.preventDefault();}});jquery_default()('#regionSelect').on('select2:select',function(e){var data=e.params.data;filter([data.id]);});jquery_default()('#regionSelect').on('select2:unselect',function(e){var data=e.params.data;filter([data.id]);});// reset locations\nd3_src[\"j\" /* select */]('#reset_locations').style('cursor','pointer').attr('opacity',1).on('click',function(){filter('clear');});}function handleSelectLength(){var values=jquery_default()('#regionSelect').select2('data');// handle height for many selections\nvar select2HeightRatio=jquery_default()('#regionSelectContainer').width()/jquery_default()('#regionSelectContainer').height();if(select2HeightRatio<10){jquery_default()('.select2-selection__choice').hide();jquery_default()('.select2-search__field').attr('placeholder',values.length+' LOCATIONS SELECTED').css('width','100%');}else{jquery_default()('.select2-search__field').attr('placeholder','');jquery_default()('.select2-selection__choice').show();}}Object(react[\"useEffect\"])(function(){init();},[]);var selectStyle={control:function control(base,state){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},base),{},{border:'1px solid #D8D8D8',boxShadow:'none','&:hover':{border:'1px solid #D8D8D8'}});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"loaderDiv\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderText\",children:loaderText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderBar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderProgress\",style:{width:progress*100+'%'}})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"regionSelectContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{id:\"regionSelect\",className:\"js-example-responsive\",name:\"states[]\",multiple:\"multiple\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"regionDrop\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"svg_container\",className:\"App\"})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 125)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[124,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/postcss-loader/src/index.js??postcss!/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/index.css","/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/postcss-loader/src/index.js??postcss!/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/App.css","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Update.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/colors.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/HelperFunctions.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Timechart.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Regionchart.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Layout.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Options.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/ParseData.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/App.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/reportWebVitals.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/index.js"],"names":["Update","svg","options","data","colors","regions","addCommas","nStr","x","split","x1","x2","length","rgx","test","replace","nFormatter","num","digits","lookup","value","symbol","rx","item","slice","reverse","find","toFixed","yScaleCases","yScaleDeaths","yScaleVaccines","yAxisCases","yAxisDeaths","yAxisVaccines","yScaleCasesAxis","yScaleDeathsAxis","yScaleVaccinesAxis","xScale","xAxis","xScaleAxis","drawTimechart","groupedData","who_data","forEach","d","i","timeline_frequency","date","week_start","month_start","ifrc_region","new_cases","new_deaths","cumulative_cases","cumulative_deaths","dd","ii","hasOwnProperty","total_new_cases","AF","AP","AM","EU","ME","OTH","total_cumulative_cases","total_new_deaths","total_cumulative_deaths","region","push","vgroupedData","timeline_type","vaccines_data","vaccines_data_daily","new_vaccines","daily_vaccinations","cumulative_vaccines","total_new_vaccines","vaccines_data_cumulative","endOfWeekDate","moment","endOf","startOf","unix","maxDate","maxDateUnix","endOfMonthDate","total_vaccinations","total_cumulative_vaccines","filter","el","numIntervals","d3","maxCases","maxDeaths","maxVaccines","minDate","md","add","selectAll","remove","width","barWidth","barSpacing","range","domain","scale","tickSize","tickPadding","ticks","tickFormat","yAxisGroup","append","attr","yAxisCasesText","call","yAxisDeathsText","yAxisVaccinesText","xAxisCases","xAxisDeaths","xAxisVaccines","xAxisTimeline","barGroups","enter","totalNewCases","parentNode","datum","dp","y","totalNewDeaths","next","offset","vbarGroups","totalNewVaccines","updateTimechart","toDate","transition","duration","maxVaccinations","xScaleCases","xScaleDeaths","xScaleVaccines","labelWidth","margin","left","top","right","rcSize","drawRegionchart","vGroup","vacGrouped","vData","sort","a","b","region_chart_toggle","regionChartContainer","height","rowHeight","rows","cumulative_totals","label","style","text","node","getBBox","rowBg","on","t","bars","dat","dataLabel","val","updateRegionchart","id","tween","end","Math","floor","random","round","selectedToggle","unselectedToggle","unselectedToggleText","selectedToggleText","Layout","updateTable","select","region_filter","map_toggle","toggle","hdi_filter","inform_filter","tab_toggle","timechartContainer","tcSize","timechartSvg","layer1","timechartBg","thisId","table_sort","table_sort_direction","collection","idx","indexOf","splice","country_filter","bubble_chart_color_by","bubble_chart_y_axis","maxVDate","ParseData","Date","max","Date_reported","min","minDateVaccines","maxDateVaccines","dayTotal","dayCheck","weekTotal","weekCheck","monthTotal","monthCheck","countryCodes","dayOfYear","week","isoWeek","month","getMonth","year","getFullYear","parseInt","New_cases","New_deaths","Cumulative_deaths","Cumulative_cases","country_code","Country_code","country_name","equity_data","country_iso2","undefined","includes","Country","WHO_region","iso_code","flatGroup","newDates","hasDays","initDate","lastRecord","vDataFlat","minDt","maxDt","newDays","country_iso3","lastDate","getTime","day","setDate","getDate","newDay","totalVac","totalVac100","people_vaccinated_per_hundred","people_fully_vaccinated_per_hundred","total_vaccinations_per_hundred","countryName","parseFloat","hdi_category","match","inform_severity","original","clone","equityDataUrl","layoutUrl","whoDataUrl","worldUrl","vaccinesDataUrl","timelineDataUrl","keyFiguresDataUrl","regionOptions","countryOptions","App","useState","progress","setProgress","loaderText","setLoaderText","init","layout","then","documentElement","equityData","createSelects","vaccinesData","timelineData","timeline_data","keyFiguresData","key_figures","whoData","world","createCharts","updateTotals","e","hdi_countries","inform_countries","code","substring","countryIds","mergeFilter","concat","$","trigger","handleSelectLength","updateCharts","hdiData","informData","numCountriesFiltered","textTween","some","sortKey","localeCompare","name","isNaN","dayFormat","select2","children","placeholder","scrollAfterSelect","renderTemplate","dropdownParent","shouldFocusInput","templateResult","$state","removeData","preventDefault","params","values","select2HeightRatio","hide","css","show","useEffect","selectStyle","control","base","state","border","boxShadow","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import * as d3 from \"d3\";\n\nfunction Update(svg,options,data) {\n\n\n}\n\nexport default Update;\n","// default options\nconst colors = {\n    regions: {\n        'AP': '#E02225', \n        'AM': '#C9C4C1', \n        'EU': '#771A13', \n        'ME': '#0A3248', \n        'AF': '#FCD204', \n    }\n}\n\nexport default colors;\n","export function addCommas(nStr){\n    nStr += '';\n    let x = nStr.split('.');\n    let x1 = x[0];\n    let x2 = x.length > 1 ? '.' + x[1] : '';\n    var rgx = /(\\d+)(\\d{3})/;\n    while (rgx.test(x1)) {\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n    return x1 + x2;\n}\n\nexport function nFormatter(num, digits) {\n  digits = 1;\n    const lookup = [\n      { value: 1, symbol: \"\" },\n      { value: 1e3, symbol: \"k\" },\n      { value: 1e6, symbol: \"M\" },\n      { value: 1e9, symbol: \"B\" },\n      { value: 1e12, symbol: \"T\" },\n      { value: 1e15, symbol: \"P\" },\n      { value: 1e18, symbol: \"E\" }\n    ];\n    const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n    var item = lookup.slice().reverse().find(function(item) {\n      return num >= item.value;\n    });\n    return item ? (num / item.value).toFixed(digits).replace(rx, \"$1\") + item.symbol : \"0\";\n\n\n  }\n  \n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {nFormatter} from './HelperFunctions';\n\nlet yScaleCases;\nlet yScaleDeaths;\nlet yScaleVaccines;\nlet yAxisCases;\nlet yAxisDeaths;\nlet yAxisVaccines;\nlet yScaleCasesAxis;\nlet yScaleDeathsAxis;\nlet yScaleVaccinesAxis;\nlet xScale;\nlet xAxis; \nlet xScaleAxis;\n\nconst regions = ['AF', 'ME', 'AP', 'EU', 'AM', 'OTH'];\n\nexport function drawTimechart(data, options) {\n\n    const groupedData = [];\n\n    data.who_data.forEach(function(d,i){\n        if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']] = {};\n        if(options.timeline_frequency==='day') groupedData[d[options.timeline_frequency+'Total']].date = d.date;\n        if(options.timeline_frequency==='week') groupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n        if(options.timeline_frequency==='month') groupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n        if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases += d.new_cases;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths += d.new_deaths;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases = 0;\n    });\n\n    // totals by date\n    groupedData.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if(!d.hasOwnProperty(dd)){\n               d[dd] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n            }\n            // if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n            if(i>0){\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases + groupedData[i-1][dd].cumulative_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths + groupedData[i-1][dd].cumulative_deaths;\n            } else {\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths;\n            }\n        })\n\n        d.total_new_cases = d.AF.new_cases + d.AP.new_cases + d.AM.new_cases + d.EU.new_cases + d.ME.new_cases + d.OTH.new_cases; \n        d.total_cumulative_cases = d.AF.cumulative_cases + d.AP.cumulative_cases + d.AM.cumulative_cases + d.EU.cumulative_cases + d.ME.cumulative_cases + d.OTH.cumulative_cases; \n        d.total_new_deaths = d.AF.new_deaths + d.AP.new_deaths + d.AM.new_deaths + d.EU.new_deaths + d.ME.new_deaths + d.OTH.new_deaths; \n        d.total_cumulative_deaths = d.AF.cumulative_deaths + d.AP.cumulative_deaths + d.AM.cumulative_deaths + d.EU.cumulative_deaths + d.ME.cumulative_deaths + d.OTH.cumulative_deaths; \n        d.region = [];\n\n        regions.forEach(function(dd,ii){\n            d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n        })\n\n    });\n\n    let vgroupedData = [];\n\n    if(options.timeline_type!='cumulative'){ // cumulative and stacked\n        data.vaccines_data = data.vaccines_data_daily;\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines += d.daily_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {new_vaccines: 0, cumulative_vaccines: 0}\n                }\n            });\n            d.total_new_vaccines = d.AF.new_vaccines + d.AP.new_vaccines + d.AM.new_vaccines + d.EU.new_vaccines + d.ME.new_vaccines + d.OTH.new_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'new_vaccines': d[dd].new_vaccines});\n            })\n        });\n\n    } else{ // cumulative only\n        data.vaccines_data = [];\n        if(options.timeline_frequency==='day') {\n            data.vaccines_data = data.vaccines_data_cumulative;\n        }\n        if(options.timeline_frequency==='week') {\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfWeekDate = moment(d.date).endOf('isoWeek').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfWeekDate)||(d.date==options.maxDate)){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n        if(options.timeline_frequency==='month') {\n            var maxDateUnix = moment(options.maxDate).startOf('day').unix();\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfMonthDate = moment(d.date).endOf('month').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfMonthDate)||((options.maxDate!=endOfMonthDate)&&(date==maxDateUnix))){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {cumulative_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines += d.total_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {cumulative_vaccines: 0}\n                }\n            });\n            d.total_cumulative_vaccines = d.AF.cumulative_vaccines + d.AP.cumulative_vaccines + d.AM.cumulative_vaccines + d.EU.cumulative_vaccines + d.ME.cumulative_vaccines + d.OTH.cumulative_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'cumulative_vaccines': d[dd].cumulative_vaccines});\n            })\n        });\n    }\n\n    vgroupedData = vgroupedData.filter(function(el) { return el; });\n\n    const numIntervals = d3.max(data.who_data, function(d,i){\n        return d[options.timeline_frequency+'Total'];\n    });\n\n    const maxCases = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_cases;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_cases;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxDeaths = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_deaths;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_deaths;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxVaccines = d3.max(vgroupedData, function(d,i){\n        if(d){\n            if(options.timeline_type==='non-cumulative') return d.total_new_vaccines;\n            if(options.timeline_type==='cumulative') return d.total_cumulative_vaccines;\n            if(options.timeline_type==='stacked') return 100;\n        }\n    })\n\n    // define date range\n    // const minDate = groupedData[0].date;\n    // const maxDate = groupedData[numIntervals].date;\n    const minDate = groupedData[0].date;\n    const maxDate = options.maxDate;\n    let md = moment(maxDate);\n\n    if(options.timeline_frequency==='month') md = md.add(1, 'months');\n    if(options.timeline_frequency==='week') md = md.add(1, 'weeks');\n    if(options.timeline_frequency==='day') md = md.add(1, 'days');\n\n    const svg = d3.select('#timechart_svg');\n    svg.selectAll('g').remove();\n    d3.selectAll('#layout .yAxis').remove();\n    d3.selectAll('#yAxis').remove();\n    d3.selectAll('#layout .xAxis').remove();\n\n    const width = 2000;\n    const barWidth = width/numIntervals;\n\n    let barSpacing = 0.04; \n    if(options.timeline_frequency==='month') barSpacing = 0.03;\n    if(options.timeline_frequency==='day') barSpacing = 0;\n\n    // define scales\n\n    xScale = d3.scaleTime()\n    .range([0,width])\n    .domain([minDate,md]);\n\n    xScaleAxis = d3.scaleTime()\n    .range([0,596])\n    .domain([minDate,md]);\n\n    // xScaleAxis = d3.scaleTime()\n    // .range([35,596])\n    // .domain([minDate,maxDate]);\n\n    yScaleCases = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxCases]);\n\n    yScaleCasesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxCases]);\n\n    yScaleDeaths = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxDeaths]);\n\n    yScaleDeathsAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxDeaths]);\n\n    yScaleVaccines = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxVaccines]);\n\n    yScaleVaccinesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxVaccines]);\n\n    // define axi\n    \n    xAxis = d3.axisBottom()\n    .scale(xScaleAxis)\n    .tickSize(2)\n    .tickPadding(3);\n\n    // if(options.timeline_frequency=='month')\n    // xAxis.ticks(d3.timeMonth.every(3)).tickFormat(d3.timeFormat(\"%b %Y\"));\n\n    // if(options.timeline_frequency=='week')\n    // xAxis.ticks(d3.timeWeek.every(10)).tickFormat(d3.timeFormat(\"%d %b %Y\"));\n\n    yAxisCases = d3.axisRight()\n    .scale(yScaleCasesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisDeaths = d3.axisRight()\n    .scale(yScaleDeathsAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisVaccines = d3.axisRight()\n    .scale(yScaleVaccinesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    // y-axis cases\n    var yAxisGroup = d3.select('#layout').append(\"g\").attr('id', 'yAxis').attr('clip-path', 'url(#mask)');\n\n    var yAxisCasesText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"casesAxis\")\n    .attr('transform', 'translate(620,363)')\n    .call(yAxisCases);\n\n    // y-axis deaths\n    var yAxisDeathsText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"deathsAxis\")\n    .attr('transform', 'translate(620,534)')\n    .call(yAxisDeaths);\n\n    // y-axis vaccines\n    var yAxisVaccinesText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"VaccinesAxis\")\n    .attr('transform', 'translate(620,707.5)')\n    .call(yAxisVaccines);\n\n    // x-axis cases\n    var xAxisCases = yAxisGroup.append('g')\n    .attr(\"id\", \"casesXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,504)')\n    .call(xAxis);\n\n    var xAxisDeaths = yAxisGroup.append('g')\n    .attr(\"id\", \"deathsXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,674)')\n    .call(xAxis);\n\n    var xAxisVaccines = yAxisGroup.append('g')\n    .attr(\"id\", \"vaccinesXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,848)')\n    .call(xAxis);\n\n    var xAxisTimeline = yAxisGroup.append('g')\n    .attr(\"id\", \"timelineXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,908)')\n    .call(xAxis);\n\n\n\n    // CASES\n    // loop through groupedData and draw bars\n    const barGroups = svg.selectAll('.bar_group')\n    .data(groupedData)\n    .enter()\n    .append('g')\n    .attr('class', 'bar_group')\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+')'\n    })\n\n    // CASES\n    barGroups.selectAll('.cases_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', function(d,i) { return 'timeBar cases_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_cases;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleCases(d.cumulative_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleCases(d.new_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_cases/totalNewCases))-((140*(dp/totalNewCases))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleCases(d.cumulative_cases);\n        if(options.timeline_type==='non-cumulative') y = yScaleCases(d.new_cases);\n        if(options.timeline_type==='stacked') y = (140*(d.new_cases/totalNewCases));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    })\n\n    // DEATHS\n    barGroups.selectAll('.deaths_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', function(d,i) { return 'timeBar deaths_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_deaths;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleDeaths(d.cumulative_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleDeaths(d.new_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_deaths/totalNewDeaths))-((140*(dp/totalNewDeaths)))+170)\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleDeaths(d.cumulative_deaths);\n        if(options.timeline_type==='non-cumulative') y = yScaleDeaths(d.new_deaths);\n        if(options.timeline_type==='stacked') y = (140*(d.new_deaths/totalNewDeaths));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    });\n\n    // bar size tweak for spacing\n    if(options.timeline_frequency==='month'){\n        barGroups.selectAll(\".timeBar\")\n        .attr(\"width\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(1-barSpacing);\n            })\n        .attr(\"x\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(barSpacing/2);\n            })\n        }\n\n    // VACCINES\n\n    const vbarGroups = svg.selectAll('.vbar_group')\n    .data(vgroupedData)\n    .enter()\n    .append('g')\n    .attr('class', 'vbar_group')\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+', 344)'\n    })\n   \n    vbarGroups.selectAll('.vaccines_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', 'timeBar vaccines_bar')\n    .attr('class', function(d,i) { return 'timeBar vaccines_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_vaccines;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleVaccines(d.cumulative_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleVaccines(d.new_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_vaccines/totalNewVaccines))-((140*(dp/totalNewVaccines))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleVaccines(d.cumulative_vaccines);\n        if(options.timeline_type==='non-cumulative') y = yScaleVaccines(d.new_vaccines);\n        if(options.timeline_type==='stacked') y = (140*(d.new_vaccines/totalNewVaccines));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    });\n\n    if(options.timeline_frequency==='month'){\n    vbarGroups.selectAll(\".timeBar\")\n    .attr(\"width\", function(d) {\n        var date = d3.select(this.parentNode).datum().date;\n        var next = d3.timeMonth.offset(date, 1);\n        return (xScale(next)- xScale(date))*(1-barSpacing);\n        })\n    .attr(\"x\", function(d) {\n        var date = d3.select(this.parentNode).datum().date;\n        var next = d3.timeMonth.offset(date, 1);\n        return (xScale(next)- xScale(date))*(barSpacing/2);\n        })\n    }\n\n    // bar size tweak for spacing\n    if(options.timeline_frequency==='month'){\n        barGroups.selectAll(\".timeBar\")\n        .attr(\"width\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(1-barSpacing);\n          })\n        .attr(\"x\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(barSpacing/2);\n          })\n        }\n\n}\n\nexport function updateTimechart(data, options) {\n\n    const groupedData = [];\n\n    data.who_data.forEach(function(d,i){\n        if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']] = {};\n        if(options.timeline_frequency==='day') groupedData[d[options.timeline_frequency+'Total']].date = d.date;\n        if(options.timeline_frequency==='week') groupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n        if(options.timeline_frequency==='month') groupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n        if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases += d.new_cases;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths += d.new_deaths;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases = 0;\n    });\n\n    // totals by date\n    groupedData.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if(!d.hasOwnProperty(dd)){\n               d[dd] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n            }\n            // if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n            if(i>0){\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases + groupedData[i-1][dd].cumulative_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths + groupedData[i-1][dd].cumulative_deaths;\n            } else {\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths;\n            }\n        })\n\n        d.total_new_cases = d.AF.new_cases + d.AP.new_cases + d.AM.new_cases + d.EU.new_cases + d.ME.new_cases + d.OTH.new_cases; \n        d.total_cumulative_cases = d.AF.cumulative_cases + d.AP.cumulative_cases + d.AM.cumulative_cases + d.EU.cumulative_cases + d.ME.cumulative_cases + d.OTH.cumulative_cases; \n        d.total_new_deaths = d.AF.new_deaths + d.AP.new_deaths + d.AM.new_deaths + d.EU.new_deaths + d.ME.new_deaths + d.OTH.new_deaths; \n        d.total_cumulative_deaths = d.AF.cumulative_deaths + d.AP.cumulative_deaths + d.AM.cumulative_deaths + d.EU.cumulative_deaths + d.ME.cumulative_deaths + d.OTH.cumulative_deaths; \n        d.region = [];\n\n        regions.forEach(function(dd,ii){\n            d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n        })\n\n    });\n\n    let vgroupedData = [];\n\n    if(options.timeline_type!='cumulative'){ // cumulative and stacked\n        data.vaccines_data = data.vaccines_data_daily;\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('isoWeek').toDate();\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('month').toDate();\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines += d.daily_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {new_vaccines: 0, cumulative_vaccines: 0}\n                }\n            });\n            d.total_new_vaccines = d.AF.new_vaccines + d.AP.new_vaccines + d.AM.new_vaccines + d.EU.new_vaccines + d.ME.new_vaccines + d.OTH.new_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'new_vaccines': d[dd].new_vaccines});\n            })\n        });\n\n    } else{ // cumulative only\n        data.vaccines_data = [];\n        if(options.timeline_frequency==='day') {\n            data.vaccines_data = data.vaccines_data_cumulative;\n        }\n        if(options.timeline_frequency==='week') {\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfWeekDate = moment(d.date).endOf('isoWeek').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfWeekDate)||(d.date==options.maxDate)){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n        if(options.timeline_frequency==='month') {\n            var maxDateUnix = moment(options.maxDate).startOf('day').unix();\n            data.vaccines_data_cumulative.forEach(function(d,i){\n                var endOfMonthDate = moment(d.date).endOf('month').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfMonthDate)||((options.maxDate!=endOfMonthDate)&&(date==maxDateUnix))){\n                    data.vaccines_data.push(d);\n                }\n            })\n        }\n\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('isoWeek').toDate();\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('month').toDate();\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {cumulative_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines += d.total_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {cumulative_vaccines: 0}\n                }\n            });\n            d.total_cumulative_vaccines = d.AF.cumulative_vaccines + d.AP.cumulative_vaccines + d.AM.cumulative_vaccines + d.EU.cumulative_vaccines + d.ME.cumulative_vaccines + d.OTH.cumulative_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'cumulative_vaccines': d[dd].cumulative_vaccines});\n            })\n        });\n    }\n\n    vgroupedData = vgroupedData.filter(function(el) { return el; });\n\n    const numIntervals = d3.max(data.who_data, function(d,i){\n        return d[options.timeline_frequency+'Total'];\n    });\n\n    const maxCases = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_cases;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_cases;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxDeaths = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_deaths;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_deaths;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxVaccines = d3.max(vgroupedData, function(d,i){\n        if(d){\n            if(options.timeline_type==='non-cumulative') return d.total_new_vaccines;\n            if(options.timeline_type==='cumulative') return d.total_cumulative_vaccines;\n            if(options.timeline_type==='stacked') return 100;\n        }\n    })\n\n    // define date range\n    // const minDate = groupedData[0].date;\n    // const maxDate = groupedData[numIntervals].date;\n    let minDate;\n    if(groupedData.length>0){\n        minDate = groupedData[0].date;\n    } else {\n        minDate = options.minDate;\n    }\n\n    const maxDate = options.maxDate;\n    let md = moment(maxDate);\n\n    if(options.timeline_frequency==='month') md = md.add(1, 'months');\n    if(options.timeline_frequency==='week') md = md.add(1, 'weeks');\n    if(options.timeline_frequency==='day') md = md.add(1, 'days');\n\n    const svg = d3.select('#timechart_svg');\n\n    const width = 2000;\n    const barWidth = width/numIntervals;\n\n    let barSpacing = 0.04; \n    if(options.timeline_frequency==='month') barSpacing = 0.03;\n    if(options.timeline_frequency==='day') barSpacing = 0;\n\n    // define scales\n\n    xScale = d3.scaleTime()\n    .range([0,width])\n    .domain([minDate,md]);\n\n    xScaleAxis = d3.scaleTime()\n    .range([23,596])\n    .domain([minDate,md]);\n\n    yScaleCases = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxCases]);\n\n    yScaleCasesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxCases]);\n\n    yScaleDeaths = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxDeaths]);\n\n    yScaleDeathsAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxDeaths]);\n\n    yScaleVaccines = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxVaccines]);\n\n    yScaleVaccinesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxVaccines]);\n\n    // define axi\n    \n    yAxisCases = d3.axisRight()\n    .scale(yScaleCasesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisDeaths = d3.axisRight()\n    .scale(yScaleDeathsAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisVaccines = d3.axisRight()\n    .scale(yScaleVaccinesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    // y-axis cases\n    var yAxisCasesText = d3.select('#casesAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisCases);\n\n    // y-axis deaths\n    var yAxisDeathsText = d3.select('#deathsAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisDeaths);\n\n    // y-axis vaccines\n    var yAxisVaccinesText = d3.select('#VaccinesAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisVaccines);\n\n    // CASES\n    // loop through groupedData and draw bars\n    const barGroups = svg.selectAll('.bar_group')\n    .data(groupedData)\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+')'\n    })\n\n    // CASES\n    barGroups.selectAll('.cases_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_cases;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleCases(d.cumulative_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleCases(d.new_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_cases/totalNewCases))-((140*(dp/totalNewCases))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleCases(d.cumulative_cases);\n        if(options.timeline_type==='non-cumulative') y = yScaleCases(d.new_cases);\n        if(options.timeline_type==='stacked') y = (140*(d.new_cases/totalNewCases));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n        return 'blue'\n    })\n\n    // // DEATHS\n    barGroups.selectAll('.deaths_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_deaths;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleDeaths(d.cumulative_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleDeaths(d.new_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_deaths/totalNewDeaths))-((140*(dp/totalNewDeaths)))+170)\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleDeaths(d.cumulative_deaths);\n        if(options.timeline_type==='non-cumulative') y = yScaleDeaths(d.new_deaths);\n        if(options.timeline_type==='stacked') y = (140*(d.new_deaths/totalNewDeaths));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n\n    if(groupedData.length==0){\n        d3.selectAll('.cases_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140)\n        .attr('height', 0)\n\n        d3.selectAll('.deaths_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140+170)\n        .attr('height', 0)\n        \n    }\n    // // VACCINES\n\n    const vbarGroups = svg.selectAll('.vbar_group')\n    .data(vgroupedData)\n    .attr('data-date', function(d){ return d.date})\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+', 344)'\n    })\n\n    vbarGroups.selectAll('.vaccines_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_vaccines;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleVaccines(d.cumulative_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleVaccines(d.new_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_vaccines/totalNewVaccines))-((140*(dp/totalNewVaccines))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleVaccines(d.cumulative_vaccines);\n        if(options.timeline_type==='non-cumulative') y = yScaleVaccines(d.new_vaccines);\n        if(options.timeline_type==='stacked') y = (140*(d.new_vaccines/totalNewVaccines));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    });\n\n    if(vgroupedData.length==0){\n        d3.selectAll('.vaccines_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140)\n        .attr('height', 0)\n    }\n   \n    // // bar size tweak for spacing\n    // if(options.timeline_frequency==='month'){\n    //     barGroups.selectAll(\".timeBar\")\n    //     .attr(\"width\", function(d) {\n    //         var date = d3.select(this.parentNode).datum().date;\n    //         var next = d3.timeMonth.offset(date, 1);\n    //         return (xScale(next)- xScale(date))*(1-barSpacing);\n    //       })\n    //     .attr(\"x\", function(d) {\n    //         var date = d3.select(this.parentNode).datum().date;\n    //         var next = d3.timeMonth.offset(date, 1);\n    //         return (xScale(next)- xScale(date))*(barSpacing/2);\n    //       })\n    //     }\n\n}\n\nexport default drawTimechart;\n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {addCommas} from './HelperFunctions';\nimport {filter} from './App';\n\nlet maxCases;\nlet maxDeaths;\nlet maxVaccinations;\nlet xScaleCases; \nlet xScaleDeaths;\nlet xScaleVaccines;\nlet labelWidth; \nconst regions = ['AF', 'ME', 'AP', 'EU', 'AM', 'OTH'];\nconst margin = { left: 20, top: 0, right: 58 };\nlet rcSize; \nlet groupedData = [];\n\nexport function drawRegionchart(data, options, filter) {\n\n    groupedData = [];\n\n    const barSpacing = 0.1;\n\n    regions.forEach(function(d,i){\n        // if(d!='OTH') // remove OTH\n        groupedData.push({ region: d, cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0});\n    })\n\n    data.who_data.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if((dd==d.ifrc_region)){ // remove OTH\n                groupedData[ii].cumulative_cases += d.new_cases;\n                groupedData[ii].cumulative_deaths += d.new_deaths;\n            }\n        })\n    });\n\n    maxCases = d3.max(groupedData, function(d,i){\n        return d.cumulative_cases;\n    })\n\n    maxDeaths = d3.max(groupedData, function(d,i){\n        return d.cumulative_deaths;\n    })\n\n    // vaccinations max date records\n    var vGroup = d3.flatGroup(data.vaccines_data_cumulative, d => d.date);\n\n    var vacGrouped = vGroup[vGroup.length-1];\n\n    var vData = [];\n    vacGrouped[1].forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if((dd==d.ifrc_region)&&(dd!='OTH')){ // remove OTH\n                groupedData[ii].cumulative_vaccines += d.total_vaccinations;\n            }\n        })\n    });\n\n    groupedData.sort(function(a,b){\n        if(options.region_chart_toggle == 'cases') return (b.cumulative_cases) - (a.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return (b.cumulative_deaths) - (a.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return (b.cumulative_vaccines) - (a.cumulative_vaccines); \n    });\n\n    maxVaccinations = d3.max(groupedData, function(d,i){\n        return d.cumulative_vaccines;\n    })\n\n    // append region chart containerg\n    const regionChartContainer = d3.select('#layout #region_chart_container').attr('opacity', 0);\n    rcSize = {\n        x: regionChartContainer.attr('x'), y: regionChartContainer.attr('y'), width: regionChartContainer.attr('width'), height: regionChartContainer.attr('height')\n    }\n\n    const svg = d3.select('#layout').append('g').attr('transform', 'translate('+rcSize.x+', '+rcSize.y+')')\n    .attr('id', 'region_chart');\n\n\tvar rowHeight = rcSize.height/(groupedData.length-1); // remove OTH\n\n    var rows = svg.selectAll('.bar-row')\n\t.data(groupedData.filter(d=>d.region!=='OTH'))\n\t.enter()\n\t.append('g')\n\t.attr('class', 'bar-row')\n\t.attr('transform', function(d,i){\n\t\treturn 'translate(0,' + ((i*rowHeight) + margin.top) + ')';\n\t});\n\n    options.cumulative_totals = groupedData;\n    \n    var label = rows.append('text')\n\t.attr('y', rowHeight/2 )\n    .attr('x', margin.left-5)\n\t.attr('class', function(d,i){ return 'bar-labels bar-label-'+d.region })\n\t.style('alignment-baseline', 'middle')\n\t.style('font-size', '11px')\n    .attr('opacity', 1)\n\t.attr('fill', '#000')\n\t.text(function(d,i){\n\t\tif(d.region==='AM') return 'Americas';\n\t\tif(d.region==='EU') return 'Europe';\n\t\tif(d.region==='AF') return 'Africa';\n\t\tif(d.region==='ME') return 'Middle East and North Africa';\n\t\tif(d.region==='AP') return 'Asia-Pacific';\n\t}).style('text-anchor', 'end');\n\n    labelWidth = rows.node().getBBox().width + margin.left;\n\tlabel.attr('x', labelWidth+89);\n\tlabelWidth = labelWidth + 94;\n    d3.selectAll('.timeBar').attr('opacity',1);\n    \n    var rowBg = rows.append('rect')\n\t.attr('y', 0)\n\t.attr('x', 0)\n\t.attr('width', labelWidth)\n\t.attr('height', rowHeight-2)\n\t.style('opacity', 0)\n    .attr('fill', 'grey')\n\t.style('cursor', 'pointer')\n\t.attr('class', function(d,i){ return 'bar-bg-'+d.region })\n\t.attr('data-id', function(d,i){ return d.region })\n\t.on('mouseover', function(d){\n\t\td3.select(this).style('opacity', 0.1);\n        // var dat = d3.select(this.parentNode).datum();\n        // d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n        // d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n\t})\n\t.on('mouseout', function(){\n\t\td3.select(this).style('opacity', 0);\n        // d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n\t})\n\t.on('click', function(d,i){\n        var t = d3.select(this).attr('data-id');\n        filter([t],'regionchart');\n    });\n\n    xScaleCases = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxCases]);// severity/reliability x xcale\n\n    xScaleDeaths = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxDeaths]);// severity/reliability x xcale\n\n    xScaleVaccines = d3.scaleLinear()\n\t.range([labelWidth, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxVaccinations]);// severity/reliability x xcale\n\n    var bars = rows.append('rect')\n    .attr('id', function(d,i){\n        return 'bar-'+d.region;\n    })\n\t.attr('data-id', function(d,i){ return d.region })\n    .attr('class', 'region-bar')\n    .attr('width', function(d,i){\n        if(options.region_chart_toggle == 'cases') return xScaleCases(d.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return xScaleDeaths(d.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return xScaleDeaths(d.cumulative_vaccines);\n    })\n    .attr('x', labelWidth)\n    .style('outline', 'none')\n    .style('cursor', 'pointer')\n    .attr('y', rowHeight*barSpacing - 1)\n    .attr('height', rowHeight-((rowHeight*barSpacing)*2))\n    .style('fill', function(d){\n        return colors.regions[d.region]\n    })\n    .attr('opacity',1)\n    .on('click', function(d,i){\n        var t = d3.select(this).attr('data-id');\n        filter([t],'regionchart');\n    })\n    .on('mouseover', function(d){\n        var dat = d3.select(this.parentNode).datum();\n        // d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n        // d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n\t})\n\t.on('mouseout', function(){\n        // d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n\t})\n\n    var dataLabel = rows.append('text')\n\t.text(function(d){\n        if(options.region_chart_toggle == 'cases') return addCommas(d.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return addCommas(d.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return addCommas(d.cumulative_vaccines);\n    })\n\t.attr('id', function(d,i){\n\t\treturn 'data-label'+d.region;\n\t})\n    .attr('data-id', function(d,i){ return d.region })\n\t.attr('class', 'data-label')\n\t.attr('y', rowHeight/2)\n\t.style('alignment-baseline', 'middle')\n\t.style('text-anchor', 'start')\n\t.attr('x', function(d,i){\n        if(options.region_chart_toggle == 'cases') return xScaleCases(d.cumulative_cases)+labelWidth+5;\n        if(options.region_chart_toggle == 'deaths') return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;\n        if(options.region_chart_toggle == 'vaccines') return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;\n    })\n    .attr('opacity', function(d,i){\n        var val = 0;\n        if(options.region_chart_toggle == 'cases') val = (d.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') val = (d.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') val = (d.cumulative_vaccines);\n        if(val>0){ return 1 } else { return 0}\n    })\n\t.style('fill', '#696969')\n\t.style('font-weight', 'normal')\n\t.style('font-size', '10px');\n\n}\n\nexport function updateRegionchart(options,data) {\n    \n    groupedData = [];\n\n    regions.forEach(function(d,i){\n        groupedData.push({ region: d, cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0});\n    })\n    \n    data.who_data.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if((dd==d.ifrc_region)){ // remove OTH\n                groupedData[ii].cumulative_cases += d.new_cases;\n                groupedData[ii].cumulative_deaths += d.new_deaths;\n                groupedData[ii].cumulative_vaccines = 0;\n            }\n        })\n    });\n\n    maxCases = d3.max(groupedData, function(d,i){\n        return d.cumulative_cases;\n    })\n\n    maxDeaths = d3.max(groupedData, function(d,i){\n        return d.cumulative_deaths;\n    })\n\n    // vaccinations max date records\n    var vGroup = d3.flatGroup(data.vaccines_data_cumulative, d => d.date);\n\n    var vacGrouped = vGroup[vGroup.length-1];\n\n    var vData = [];\n    if(vacGrouped){\n        vacGrouped[1].forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if((dd==d.ifrc_region)){ // remove OTH\n                    groupedData[ii].cumulative_vaccines += d.total_vaccinations;\n                }\n            })\n        });\n    }\n\n    groupedData.sort(function(a,b){\n        if(options.region_chart_toggle == 'cases') return (b.cumulative_cases) - (a.cumulative_cases);\n        if(options.region_chart_toggle == 'deaths') return (b.cumulative_deaths) - (a.cumulative_deaths);\n        if(options.region_chart_toggle == 'vaccines') return (b.cumulative_vaccines) - (a.cumulative_vaccines); \n    });\n\n    options.cumulative_totals = groupedData;\n\n    maxVaccinations = d3.max(groupedData, function(d,i){\n        return d.cumulative_vaccines;\n    })\n\n    xScaleCases = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxCases]);// severity/reliability x xcale\n\n    xScaleDeaths = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxDeaths]);// severity/reliability x xcale\n\n    xScaleVaccines = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxVaccinations]);// severity/reliability x xcale\n\n    if((maxVaccinations==0)&&(maxCases==0)&&(maxDeaths==0)){\n        d3.selectAll('.region-bar')\n        .transition().duration(500)\n        .attr('width', 0);\n\n        d3.selectAll('.data-label')\n        .transition()\n          .duration(500) \n          .attr('x', labelWidth)\n          .attr('opacity', 0);\n    } else {\n        d3.selectAll('.region-bar')\n        .transition().duration(500)\n        .attr('width', function(d,i){\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            if(options.region_chart_toggle == 'cases') return xScaleCases(d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') return xScaleDeaths(d.cumulative_deaths);\n            if(options.region_chart_toggle == 'vaccines') return xScaleVaccines(d.cumulative_vaccines);\n        })   \n        \n        d3.selectAll('.data-label')\n        .transition()\n          .duration(500)\n          .tween(\"text\", function(d,i) {\n            var end = 0;\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            if(options.region_chart_toggle == 'cases') end = (d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') end = (d.cumulative_deaths);  \n            if(options.region_chart_toggle == 'vaccines') end = (d.cumulative_vaccines);  \n            var i = d3.interpolate(Math.floor((Math.random() * 112346) + 92345), end);\n            return function(t) {\n              d3.select(this).text(addCommas(Math.round(i(t))));\n            };\n          })\n        .attr('x', function(d,i){\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            if(options.region_chart_toggle == 'cases') return xScaleCases(d.cumulative_cases)+labelWidth+5;\n            if(options.region_chart_toggle == 'deaths') return xScaleDeaths(d.cumulative_deaths)+labelWidth+5;\n            if(options.region_chart_toggle == 'vaccines') return xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;\n        })\n        .attr('opacity', function(d,i){\n            var d;\n            var id = d3.select(this).attr('data-id');\n            groupedData.forEach(function(dd,ii){\n                if(dd.region == id){\n                    d = dd;\n                }\n            })\n            var val = 0;\n            if(options.region_chart_toggle == 'cases') val = (d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') val = (d.cumulative_deaths);\n            if(options.region_chart_toggle == 'vaccines') val = (d.cumulative_vaccines);\n            if(val>0){ return 1 } else { return 0}\n        })\n\n    }\n\n   \n\n}\n\nexport default drawRegionchart;\n","import * as d3 from \"d3\";\nimport Update from './Update.js';\nimport {drawTimechart, updateTimechart} from './Timechart';\nimport {updateRegionchart} from './Regionchart';\n\nconst selectedToggle = '#595454';\nconst unselectedToggle = '#EAEAEA';\nconst unselectedToggleText = '#000';\nconst selectedToggleText = '#FFF';\n\nfunction Layout(svg, options, data, filter, updateTable) {\n\n  // region chart toggle\n  svg.select('#region_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n    options.region_filter = [];\n    filter('clear-region');\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-cases').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'cases') return false;\n    options.region_chart_toggle = 'cases';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-cases rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-cases text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-deaths').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'deaths') return false;\n    options.region_chart_toggle = 'deaths';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-deaths rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-deaths text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-vaccines').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'vaccines') return false;\n    options.region_chart_toggle = 'vaccines';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-vaccines rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-vaccines text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  // map toggle\n  svg.select('#map-toggle #map-toggle-bi-weekly-change').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'bi-weekly-change') return false;\n    options.map_toggle = 'bi-weekly-change';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-bi-weekly-change rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-bi-weekly-change text').attr('fill', selectedToggleText);\n    // update map legend\n\n    Update(svg,options,data);\n  });\n\n  svg.select('#map-toggle #map-toggle-cases').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'cases') return false;\n    options.map_toggle = 'cases';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-cases rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-cases text').attr('fill', selectedToggleText);\n    // update map legend\n\n    Update(svg,options,data);\n  });\n\n  svg.select('#map-toggle #map-toggle-deaths').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'deaths') return false;\n    options.map_toggle = 'deaths';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-deaths rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-deaths text').attr('fill', selectedToggleText);\n    // update map legend\n\n    Update(svg,options,data);\n  });\n\n  svg.select('#map-toggle #map-toggle-percent-fully-vaccinated').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'percent-fully-vaccinated') return false;\n    options.map_toggle = 'percent-fully-vaccinated';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-percent-fully-vaccinated rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-percent-fully-vaccinated text').attr('fill', selectedToggleText);\n    // update map legend\n    Update(svg,options,data);\n  });\n\n  svg.select('#map-toggle #map-toggle-percent-vaccine-acceptance').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'percent-vaccine-acceptance') return false;\n    options.map_toggle = 'percent-vaccine-acceptance';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-percent-vaccine-acceptance rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-percent-vaccine-acceptance text').attr('fill', selectedToggleText);\n    // update map legend\n    Update(svg,options,data);\n  });\n\n    // time chart type \n    svg.select('#timechart-type-toggle #timechart-type-toggle-cumulative').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'cumulative') return false;\n      options.timeline_type = 'cumulative';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-cumulative rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-cumulative polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggle);\n      updateTimechart(data, options);\n    });\n  \n    svg.select('#timechart-type-toggle #timechart-type-toggle-non-cumulative').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'non-cumulative') return false;\n      options.timeline_type = 'non-cumulative';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-non-cumulative rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-non-cumulative polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggle);\n      updateTimechart(data, options);\n    });\n  \n    svg.select('#timechart-type-toggle #timechart-type-toggle-stacked').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'stacked') return false;\n      options.timeline_type = 'stacked';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-stacked rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-stacked polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggleText);\n      updateTimechart(data, options);\n    });\n\n  // time chart frequency toggle\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-day').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'day') return false;\n    options.timeline_frequency = 'day';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-day rect').attr('fill', selectedToggle);\n    svg.select('#timechart-frequency-toggle-day text').attr('fill', selectedToggleText);\n    drawTimechart(data, options);\n  });\n\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-week').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'week') return false;\n    options.timeline_frequency = 'week';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-week rect').attr('fill', selectedToggle);\n    svg.select('#timechart-frequency-toggle-week text').attr('fill', selectedToggleText);\n    drawTimechart(data, options);\n  });\n\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-month').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'month') return false;\n    options.timeline_frequency = 'month';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-month rect').attr('fill', selectedToggle);\n    svg.select('#timechart-frequency-toggle-month text').attr('fill', selectedToggleText);\n    drawTimechart(data, options);\n  });\n\n    // HDI toggle\n\n    svg.select('#hdi_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n      d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);\n      filter('clear-hdi');\n    });\n\n    svg.select('#hdi-toggle #hdi-toggle-very-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'very-high');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n\n    svg.select('#hdi-toggle #hdi-toggle-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'high');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n    svg.select('#hdi-toggle #hdi-toggle-medium').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'medium');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n    svg.select('#hdi-toggle #hdi-toggle-low').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'low');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n\n    // inform severity toggle\n\n    svg.select('#inform_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n      d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);\n      filter('clear-inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-no-score').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'no-score');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-low').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'low');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-medium').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'medium');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'high');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-very-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'very-high');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n  \n  // tabs\n\n  d3.select('#additional-indicators-tab').attr('opacity', 0);\n  d3.select('#vac-tab').attr('opacity', 1);\n  d3.select('#bubblechart-tab').attr('opacity', 0);\n\n  svg.select('#tabs #vaccination-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'vaccination-data') return false;\n    options.tab_toggle = 'vaccination-data';\n    d3.select('#additional-indicators-tab').attr('opacity', 0);\n    d3.select('#vac-tab').attr('opacity', 1);\n    d3.select('#bubblechart-tab').attr('opacity', 0);\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#vaccination-tab rect').attr('fill', selectedToggle);\n    svg.select('#vaccination-tab text').attr('fill', selectedToggleText);\n    Update(svg,options,data);\n  });\n\n  svg.select('#tabs #indicators-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'indicators') return false;\n    options.tab_toggle = 'indicators';\n    d3.select('#additional-indicators-tab').attr('opacity', 1);\n    d3.select('#vac-tab').attr('opacity', 0);\n    d3.select('#bubblechart-tab').attr('opacity', 0);\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#indicators-tab rect').attr('fill', selectedToggle);\n    svg.select('#indicators-tab text').attr('fill', selectedToggleText);\n    Update(svg,options,data);\n  });\n\n  svg.select('#tabs #bubble-chart-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'bubble-chartt') return false;\n    options.tab_toggle = 'bubble-chart';\n    d3.select('#additional-indicators-tab').attr('opacity', 0);\n    d3.select('#vac-tab').attr('opacity', 0);\n    d3.select('#bubblechart-tab').attr('opacity', 1);\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#bubble-chart-tab rect').attr('fill', selectedToggle);\n    svg.select('#bubble-chart-tab text').attr('fill', selectedToggleText);\n    Update(svg,options,data);\n  });\n\n  // time chart mask\n    d3.select('#svg defs').append('clipPath').attr('id', 'mask')\n    .append('rect')\n    .attr('x', 100)\n    .attr('y', 340)\n    .attr('height', 524)\n    .attr('width', 630)\n    .attr('x', 23);\n\n  \n  // append timechart svg\n  const timechartContainer = svg.select('#timechart_container').attr('opacity', 0);\n  const tcSize = {\n    x: timechartContainer.attr('x'), y: timechartContainer.attr('y'), width: timechartContainer.attr('width'), height: timechartContainer.attr('height')\n  }\n\n  const timechartSvg = svg.append('svg').attr('id', 'timechart_svg').attr('viewBox', '0 0 '+2000 +' '+ tcSize.height)\n  .attr('preserveAspectRatio', \"none\")\n  .attr('x', tcSize.x)\n  .attr('y', tcSize.y)\n  .attr('width', tcSize.width)\n  .attr('height', tcSize.height)\n\n  const layer1 = timechartSvg\n  .append('g')\n  .attr('id', 'layer1')\n\n  const timechartBg = timechartSvg.append('g').attr('id', 'layer0');\n\n  layer1.append('rect')\n  .attr('x', 0)\n  .attr('y', 0)\n  .attr('width', '100%')\n  .attr('height', '100%')\n  .attr('opacity', 0);\n  \n  // table bars\n\n  for(let i = 0; i < 10; i++){\n\n    // col 1 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col1bg colbg')\n    .attr('id','col1bg'+i)\n    .attr('x', 120)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', '#D8D8D8')\n\n    // col 1 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col1bar')\n    .attr('id','col1bar'+i)\n    .attr('x', 120)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', 'steelblue');\n\n    // col 2 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col2bg colbg')\n    .attr('id','col2bg'+i)\n    .attr('x', 230)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', '#D8D8D8')\n\n    // col 2 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col2bar')\n    .attr('id','col2bar'+i)\n    .attr('x', 230)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', 'steelblue');\n\n    // col 3 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col3bg colbg')\n    .attr('id','col3bg'+i)\n    .attr('x', 340)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', '#D8D8D8')\n\n    // col 3 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col3bar')\n    .attr('id','col3bar'+i)\n    .attr('x', 340)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', 'steelblue');\n\n    // col 4 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col4bg colbg')\n    .attr('id','col4bg'+i)\n    .attr('x', 454)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 68)\n    .attr('fill', '#D8D8D8')\n\n    // col 3 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col4bar')\n    .attr('id','col4bar'+i)\n    .attr('x', 454)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', 19)\n    .attr('width', 0)\n    .attr('fill', 'steelblue');\n\n    for(var x = 0; x<6; x++){\n      d3.select('#col'+x+'_sort_desc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort_asc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort').style('cursor', 'pointer')\n      .on('click', function(){\n        var thisId = d3.select(this).attr('id');\n        if(options.table_sort==thisId){\n          if(options.table_sort_direction=='desc'){\n            options.table_sort_direction = 'asc';\n          } else {\n            options.table_sort_direction = 'desc';\n          }\n        } else {\n          options.table_sort = thisId;\n          options.table_sort_direction = 'desc';\n        }\n        updateTable(data, options);\n    })\n    // d3.select('#col1_sort_desc').attr('opacity', 1);\n    }\n  }\n}\n\nexport default Layout;\n\nfunction toggle(collection, item) {\n  var idx = collection.indexOf(item);\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  } else {\n    collection.push(item);\n  }\n}\n\n/*\n\n#timechart-type-toggle #timechart-type-toggle-stacked\n#timechart-type-toggle #timechart-type-toggle-non-cumulative\n#timechart-type-toggle #timechart-type-toggle-cumulative\n\n#timechart-frequency-toggle #timechart-frequency-toggle-day\n#timechart-frequency-toggle #timechart-frequency-toggle-week\n#timechart-frequency-toggle #timechart-frequency-toggle-month\n\n#map-toggle #map-toggle-bi-weekly-change\n#map-toggle #map-toggle-deaths\n#map-toggle #map-toggle-percent-fully-vaccinated\n#map-toggle #map-toggle-percent-vaccine-acceptance\n#map-toggle #map-toggle-cases\n\n#tabs #bubble-chart-tab\n#tabs #indicators-tab\n#tabs #vaccination-tab\n\n#hdi-toggle #hdi-toggle-very-high\n#hdi-toggle #hdi-toggle-high\n#hdi-toggle #hdi-toggle-medium\n#hdi-toggle #hdi-toggle-low\n\n\n#inform-toggle #inform-toggle-no-score\n#inform-toggle #inform-toggle-low\n#inform-toggle #inform-toggle-medium\n#inform-toggle #inform-toggle-high\n#inform-toggle #inform-toggle-very-high\n\n*/","// default options\nconst options = {\n    region_chart_toggle: 'cases', // cases, deaths, vaccines\n    region_filter: [],\n    country_filter: [],\n    hdi_filter: [], // very-high, high, medium, low\n    inform_filter: [], // no-score, low, medium, high, very-high\n    timeline_type: 'non-cumulative', // cumulative, non-cumulative, stacked \n    timeline_frequency: 'week', // day, week, month\n    map_toggle: 'bi-weekly-change', // bi-weekly-change, cases, deaths, percent-fully-vaccinated, percent-vaccine-acceptance\n    tab_toggle: 'bubble-chart', // vaccination-data, indicators, bubble-chart\n    table_sort: 'col1_sort',\n    table_sort_direction: 'desc',\n    bubble_chart_color_by: 'hdi', // hdi, inform-severity, region\n    bubble_chart_y_axis: 'percent-vaccinated-at-least-1-dose', // percent-vaccinated-at-least-1-dose, percent-fully-vaccinated\n    maxDate: null,\n    maxVDate: null\n}\n\nexport default options;\n","// import * as d3 from \"d3\";\nimport {min,max,group,flatGroup} from \"d3\";\nimport moment from 'moment';\nimport clone from 'just-clone';\n\nexport function ParseData(data, options) {\n\n    // console.log('ParseData');\n    // console.log(options);\n        \n    // max dates\n    let maxDate = moment(new Date(max(data.who_data, function(d){\n        return d.Date_reported;\n    })));\n\n    let minDate = moment(new Date(min(data.who_data, function(d){\n        return d.Date_reported;\n    })));\n\n    let minDateVaccines = (new Date(min(data.vaccines_data, function(d){\n        return d.date;\n    })));\n\n\n    let maxDateVaccines = (new Date(max(data.vaccines_data, function(d){\n        return d.date;\n    })));\n\n    if(maxDateVaccines>maxDate) {\n        maxDate = maxDateVaccines;\n    }\n\n    options.maxDate = moment(maxDate).toDate();\n    options.maxVDate = moment(maxDateVaccines).toDate();\n    options.minDate = moment(minDate).toDate();\n\n    // parse who data\n\n    let dayTotal = -1;\n    let dayCheck = 0;\n\n    let weekTotal = -1;\n    let weekCheck = -1;\n\n    let monthTotal = 0;\n    let monthCheck = 0;\n\n    data.who_data.sort(function(a,b){\n        return new Date(a.Date_reported) - new Date(b.Date_reported);\n    });\n\n    var countryCodes = [];\n\n    data.who_data.forEach(function(d,i){\n        d.date = new Date(d.Date_reported);\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').toDate());\n\n        d.new_cases = parseInt(d.New_cases);\n        d.new_deaths = parseInt(d.New_deaths);\n        d.cumulative_deaths = parseInt(d.Cumulative_deaths);\n        d.cumulative_cases = parseInt(d.Cumulative_cases);\n        d.country_code = d.Country_code;\n        d.country_name = null;\n        data.equity_data.forEach(function(dd,ii){\n            if(dd.country_iso2===d.Country_code){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n            }\n        })\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n        if(!countryCodes.includes(d.country_code)) countryCodes.push(d.country_code);\n\n        delete d.Date_reported;\n        delete d.Country;\n        delete d.New_cases;\n        delete d.New_deaths;\n        delete d.Country_code;\n        delete d.Cumulative_deaths;\n        delete d.Cumulative_cases;\n        // delete d.Country_code;\n        delete d.WHO_region;\n        // delete d.Country;\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n    })\n\n    // parse vaccine cumulative data\n\n    dayTotal = -1;\n    dayCheck = 0;\n\n    weekTotal = -1;\n    weekCheck = -1;\n    monthTotal = 0;\n    monthCheck = 0;\n\n    // filter out vaccine data on only include records with ISO3 country codes\n    data.vaccines_data_cumulative = data.vaccines_data.filter(function(d,i){\n        return d.iso_code.length===3 && d.total_vaccinations > 0;\n    })\n\n    // fill out missing vaccinations date records (extend cumulative)\n    var vGroup = flatGroup(data.vaccines_data_cumulative, d => d.iso_code);\n\n    var newDates = [];\n    var hasDays = [];\n    var initDate = 0;\n    var lastRecord = {};\n    var vDataFlat = [];\n    vGroup.forEach(function(d,i){\n\n        var minDt = new Date(minDateVaccines);\n        var maxDt = new Date(maxDateVaccines);\n        var hasDays = [];\n        var newDays = [];\n        var newDays = [];        \n        data.equity_data.forEach(function(dd,ii){\n            if(dd.country_iso3===vGroup[i][0]){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n                d.country_code = dd.country_iso2;\n                \n            }\n        })\n\n        vGroup[i].lastDate = new Date(max(vGroup[i][1], function(d,i){ return d.date }));\n\n        vGroup[i][1].forEach(function(dd,ii){\n            hasDays.push(new Date(dd.date).getTime());\n        })\n\n        // if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\n        vGroup[i][1].forEach(function(dd,ii){\n            dd.total_vaccinations = parseInt(dd.total_vaccinations);\n            for (var day = minDt;day <= maxDt; day.setDate(day.getDate() + 1)) {\n                var newDay = day.getTime();\n                if(!hasDays.includes(newDay)){\n                    newDays.push({date: new Date(day), total_vaccinations: null})\n                }\n            }\n            // dd.lastDate = dd.date;\n        });\n\n        vGroup[i][1].push(...newDays);\n\n        vGroup[i][1].sort(function(a,b){\n            return new Date(a.date) - new Date(b.date);\n        });\n\n        var totalVac = 0;\n        var totalVac100 = 0;\n        var people_vaccinated_per_hundred = 0;\n        var people_fully_vaccinated_per_hundred = 0;\n\n        vGroup[i][1].forEach(function(dd,ii){\n\n            if(dd.total_vaccinations){\n                totalVac = dd.total_vaccinations;\n            } else {\n                dd.total_vaccinations = totalVac;\n            }\n            if(dd.total_vaccinations_per_hundred){\n                totalVac100 = dd.total_vaccinations_per_hundred\n            } else {\n                dd.total_vaccinations_per_hundred = totalVac100;\n            }\n            if(dd.people_vaccinated_per_hundred){\n                people_vaccinated_per_hundred = dd.people_vaccinated_per_hundred;\n            } else {\n                dd.people_vaccinated_per_hundred = people_vaccinated_per_hundred;\n            }\n            if(dd.people_fully_vaccinated_per_hundred){\n                people_fully_vaccinated_per_hundred = dd.people_fully_vaccinated_per_hundred;\n            } else {\n                dd.people_fully_vaccinated_per_hundred = people_fully_vaccinated_per_hundred;\n            }\n\n            var countryName;\n            if(vGroup[i].country_name==null) { countryName = vGroup[i][0];\n            } else {\n                countryName = vGroup[i].country_name\n            }\n\n            vDataFlat.push({\n                date: new Date(dd.date),\n                lastDate: (vGroup[i].lastDate),\n                total_vaccinations_per_hundred: parseFloat(totalVac100),\n                people_vaccinated_per_hundred: people_vaccinated_per_hundred,\n                people_fully_vaccinated_per_hundred: people_fully_vaccinated_per_hundred,\n                iso_code: vGroup[i][0], \n                ifrc_region: vGroup[i].ifrc_region,\n                country_name: countryName,\n                country_code: vGroup[i].country_code, \n                total_vaccinations: totalVac \n            })\n        })\n    });\n\n    data.vaccines_data_cumulative = vDataFlat;\n\n    data.vaccines_data_cumulative.sort(function(a,b){\n        return new Date(a.date) - new Date(b.date);\n    });\n\n    data.vaccines_data_cumulative.forEach(function(d,i){\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').toDate());\n    })\n\n    // parse vaccine daily data\n\n    dayTotal = -1;\n    dayCheck = 0;\n\n    weekTotal = -1;\n    weekCheck = -1;\n    monthTotal = 0;\n    monthCheck = 0;\n\n    // filter out vaccine data on only include records with ISO3 country codes\n    data.vaccines_data_daily = data.vaccines_data.filter(function(d,i){\n        return d.iso_code.length===3 && d.daily_vaccinations > 0;\n    })\n\n    // fill out missing vaccinations date records (extend cumulative)\n    var vGroup = flatGroup(data.vaccines_data_daily, d => d.iso_code);\n\n    var newDates = [];\n    var hasDays = [];\n    var initDate = 0;\n    var lastRecord = {};\n    var vDataFlat = [];\n    vGroup.forEach(function(d,i){\n\n        var minDt = new Date(minDateVaccines);\n        var maxDt = new Date(maxDateVaccines);\n        var hasDays = [];\n        var newDays = [];\n        var newDays = [];\n\n        data.equity_data.forEach(function(dd,ii){\n            if(dd.country_iso3===vGroup[i][0]){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n                d.country_code = dd.country_iso2;\n            }\n        })\n\n        vGroup[i][1].forEach(function(dd,ii){\n            hasDays.push(new Date(dd.date).getTime());\n        })\n\n        // if((i<1)||(d[0] =='BFA')||(d[0] =='RWA')){\n        vGroup[i][1].forEach(function(dd,ii){\n            dd.daily_vaccinations = parseInt(dd.daily_vaccinations);\n            for (var day = minDt;day <= maxDt; day.setDate(day.getDate() + 1)) {\n                var newDay = day.getTime();\n                if(!hasDays.includes(newDay)){\n                    newDays.push({date: new Date(day), daily_vaccinations: null})\n                }\n            }\n        });\n\n        vGroup[i][1].push(...newDays);\n\n        vGroup[i][1].sort(function(a,b){\n            return new Date(a.date) - new Date(b.date);\n        });\n\n        var daily_vaccinations = 0;\n\n        vGroup[i][1].forEach(function(dd,ii){\n            if(dd.daily_vaccinations){\n                daily_vaccinations = dd.daily_vaccinations;\n            } else {\n                dd.daily_vaccinations = daily_vaccinations;\n            }\n            var countryName;\n            if(vGroup[i].country_name==null) { countryName = vGroup[i][0];\n            } else {\n                countryName = vGroup[i].country_name\n            }\n            vDataFlat.push({\n                date: new Date(dd.date),\n                iso_code: vGroup[i][0], \n                ifrc_region: vGroup[i].ifrc_region,\n                country_name: countryName,\n                country_code: vGroup[i].country_code, \n                daily_vaccinations: daily_vaccinations \n            })\n        })\n    });\n\n    data.vaccines_data_daily = vDataFlat;\n\n    data.vaccines_data_daily.sort(function(a,b){\n        return new Date(a.date) - new Date(b.date);\n    });\n\n    data.vaccines_data_daily.forEach(function(d,i){\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').toDate());\n    });\n\n\n    // parse equity data inform/hdi indexes\n    data.equity_data.forEach(function(d,i){\n        if(d.hdi_category.match(/very high/i)){\n            d.hdi_category = 'very-high'\n        }\n        else if(d.hdi_category.match(/high/i)){\n            d.hdi_category = 'high'\n        }\n        else if(d.hdi_category.match(/medium/i)){\n            d.hdi_category = 'medium'\n        }\n        else if(d.hdi_category.match(/low/i)){\n            d.hdi_category = 'low'\n        }\n        if(d.inform_severity.match(/very high/i)){\n            d.inform_severity = 'very-high'\n        }\n        else if(d.inform_severity.match(/high/i)){\n            d.inform_severity = 'high'\n        }\n        else if(d.inform_severity.match(/medium/i)){\n            d.inform_severity = 'medium'\n        }\n        else if(d.inform_severity.match(/low/i)){\n            d.inform_severity = 'low'\n        }\n        else if(d.inform_severity.match(/no/i)){\n            d.inform_severity = 'no-score'\n        }\n    })\n\n    data.equity_data = data.equity_data.filter(function(d,i){\n       return countryCodes.includes(d.country_iso2)\n    })\n    data.original = clone(data);\n    // console.log(data);\n}\n\nexport default ParseData;\n","import React, { useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport Layout from './Layout';\nimport {drawTimechart, updateTimechart} from './Timechart';\nimport {drawRegionchart, updateRegionchart} from './Regionchart';\nimport options from './Options';\nimport ParseData from './ParseData';\nimport './App.css'\nimport $ from \"jquery\";\nimport select2 from 'select2';\nimport 'select2/dist/css/select2.min.css'\nimport {addCommas, nFormatter} from './HelperFunctions';\n\nconst equityDataUrl = './data/equity_data.csv';\nconst layoutUrl = \"./images/layout.svg\";\nconst whoDataUrl = \"./data/who_global_cases.csv\";\nconst worldUrl = \"./data/world-wb5.geojson\";\nconst vaccinesDataUrl = \"./data/owid_vaccinations.csv\";\nconst timelineDataUrl = \"./data/timeline.csv\";\nconst keyFiguresDataUrl = \"./data/key_figures.csv\";\n\nconst data = {};\n\nconst regionOptions = [\n  { id: 'AM', text: 'Americas' },\n  { id: 'EU', text: 'Europe' },\n  { id: 'AP', text: 'Asia-Pacific' },\n  { id: 'ME', text: 'Middle East and North Africa'},\n  { id: 'AF', text: 'Africa' }\n]\n\nconst countryOptions = [];\n\nfunction App() {\n\n  const [progress, setProgress] = useState(0);\n  const [loaderText, setLoaderText] = useState('Loading SVG layout...');\n\n  async function init(){\n\n    // data source 1: layout.svg\n    const layout = d3.xml(layoutUrl);\n    layout.then(function(d){\n      d3.select('#svg_container').node().append(d3.select(d.documentElement).attr('width', '100%').attr('height', 'auto').node());\n      const svg = d3.select('#svg_container svg');\n      svg.select('title').remove();\n      svg.attr('id', 'svg');\n      Layout(svg, options, data, filter, updateTable);\n      setProgress(0.1);\n      setLoaderText('Loading equity data CSV...');\n      // data source 2: equity_data.csv\n      const equityData = d3.csv(equityDataUrl);\n      equityData.then(function(d){\n        data.equity_data = d;\n        d.forEach(function(d,i){\n          countryOptions.push({'text': d.country_name, 'id': 'Country-'+d.country_iso2 })\n        })\n        createSelects();\n        setProgress(0.1);\n        setLoaderText('Loading WHO data CSV...');\n        // data source 3: owid_vaccines.csv\n        const vaccinesData = d3.csv(vaccinesDataUrl);\n          vaccinesData.then(function(d){\n            data.vaccines_data = d;\n            setProgress(0.3);\n            setLoaderText('Loading OWID vaccines data...');\n            // data source 4: timeline.csv\n            const timelineData = d3.csv(timelineDataUrl);\n            timelineData.then(function(d){\n              data.timeline_data = d;\n              setProgress(0.4);\n              setLoaderText('Loading Timeline data...');\n              // data source 5: key_figures.csv\n              const keyFiguresData = d3.csv(keyFiguresDataUrl);\n              keyFiguresData.then(function(d){\n                data.key_figures = d;\n                setProgress(0.45);\n                setLoaderText('Loading key figures data...');\n                // data source 6: who_global_cases.csv\n                const whoData = d3.csv(whoDataUrl);\n                whoData.then(function(d){\n                  data.who_data = d;\n                  setProgress(0.8);\n                  setLoaderText('Loading World Map GeoJSON...');\n                  // data source 7: world-wb5.geojson\n                  const world = d3.csv(worldUrl);\n                  world.then(function(d){\n                    data.world = d;\n                    setLoaderText('Loading complete.');\n                    setProgress(1);\n                    ParseData(data, options);\n                    createCharts();\n                    d3.select('#loaderDiv').transition().duration(1000).style('opacity', 0).on(\"end\", () => d3.select('#loaderDiv').remove());\n                  });\n                });\n              });\n            });\n          });\n      });\n    })\n  }\n  \n  function createCharts(){\n    drawTimechart(data, options);\n    drawRegionchart(data, options, filter);\n    updateTotals(data, options);\n    updateTable(data, options);\n  }\n\n  function filter(id,e){\n    if(id=='clear'){\n      options.region_filter = [];\n      options.country_filter = [];\n      d3.select('#reset_locations').attr('opacity', 0);\n    } \n    if(id=='clear-region'){\n      options.region_filter = [];\n    } \n\n    if(id=='clear-hdi'){\n      options.hdi_filter = [];\n    } \n\n    if(id=='clear-inform'){\n      options.inform_filter = [];\n    } \n\n    if((id.length==1)&&(id[0].length==2)&&(id!='filter')){\n      if(options.region_filter.includes(id[0])){\n        options.region_filter = options.region_filter.filter(d=>d!==id[0])\n      } else {\n        options.region_filter.push(id[0]);\n      }\n    }\n    if(options.region_filter.length==5) options.region_filter = [];\n\n    if(options.region_filter.length>0){\n      d3.select('#region_remove_filter').attr('opacity', 1);\n\n      d3.selectAll('.bar-labels').attr('opacity', 0.5);\n      options.region_filter.forEach(function(d,i){\n        d3.select('.bar-label-'+d).attr('opacity', 1);\n      })\n    } else {\n        d3.select('#region_remove_filter').attr('opacity', 0);\n        d3.selectAll('.bar-labels').attr('opacity', 1);\n    }\n\n    data.equity_data = data.original.equity_data;\n\n    var hdi_countries = [];\n    if(options.hdi_filter.length>0){\n      d3.select('#hdi_remove_filter').attr('opacity', 1);\n      data.equity_data.forEach(function(d,i){\n        if(options.hdi_filter.includes(d.hdi_category)){\n          hdi_countries.push(d.country_iso2);\n        }\n      })\n    } else {\n      d3.select('#hdi_remove_filter').attr('opacity', 0);\n    }\n\n    var inform_countries = [];\n    if(options.inform_filter.length>0){\n      d3.select('#inform_remove_filter').attr('opacity', 1);\n      data.equity_data.forEach(function(d,i){\n        if(options.inform_filter.includes(d.inform_severity)){\n          inform_countries.push(d.country_iso2);\n        }\n      })\n    } else {\n      d3.select('#inform_remove_filter').attr('opacity', 0);\n    }\n\n    if((id.length==1)&&(id[0].length>2)){\n      var code = id[0].substring(8);\n      if(options.country_filter.includes(code)){\n        options.country_filter = options.country_filter.filter(d=>d!==code)\n      } else {\n        options.country_filter.push(code);\n      }\n    }\n\n    if((options.region_filter.length==0)&&(options.country_filter.length==0)){\n      d3.select('#reset_locations').attr('opacity', 0);\n    }\n\n    var countryIds = [];\n    options.country_filter.forEach(function(d,i){\n      countryIds.push('Country-'+d);\n    })\n\n    if((options.region_filter.length>0)||(options.country_filter.length>0)) {\n        d3.select('#reset_locations').attr('opacity', 1)\n      } else {\n        d3.select('#reset_locations').attr('opacity', 0)\n      }\n\n    var mergeFilter = options.region_filter.concat(countryIds);\n    $('#regionSelect').val(mergeFilter)\n    $('#regionSelect').trigger('change');\n\n    // update data\n    data.who_data = data.original.who_data;\n\n    if(inform_countries.length>0){\n      data.who_data = data.who_data.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.who_data = data.who_data.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }\n    data.vaccines_data_cumulative = data.original.vaccines_data_cumulative;\n\n    if(inform_countries.length>0){\n      data.vaccines_data_cumulative = data.vaccines_data_cumulative.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.vaccines_data_cumulative = data.vaccines_data_cumulative.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }\n    data.vaccines_data_daily = data.original.vaccines_data_daily;\n    if(inform_countries.length>0){\n      data.vaccines_data_daily = data.vaccines_data_daily.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.vaccines_data_daily = data.vaccines_data_daily.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }    \n    if(inform_countries.length>0){\n      data.equity_data = data.equity_data.filter(function(d,i){\n        return inform_countries.includes(d.country_iso2)\n      })\n    } \n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.equity_data = data.equity_data.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_iso2)))&&(hdi_countries.includes(d.country_iso2))\n          } else {\n            return (hdi_countries.includes(d.country_iso2))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_iso2))\n        }\n      })\n    }\n\n    handleSelectLength();\n    updateCharts();\n\n  }\n  function updateCharts(){\n    updateRegionchart(options,data);\n    // drawTimechart(data, options);\n    updateTotals(data, options);\n    updateTimechart(data, options);\n    updateTable(data, options);\n  }\n\n  function updateTotals(data,options){\n\n    // update hdi numbers\n    var hdiData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var informData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    data.equity_data.forEach(function(dd,ii){\n        hdiData[dd.hdi_category] += 1;\n        informData[dd.inform_severity] += 1;\n        // numCountriesFiltered++;\n    });\n    d3.select('#hdi-toggle-very-high-val tspan').text(hdiData['very-high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-high-val tspan').text(hdiData['high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-medium-val tspan').text(hdiData['medium']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-low-val tspan').text(hdiData['low']).style('text-anchor', 'end').attr('dx', '10');\n\n    d3.select('#inform-toggle-very-high-val tspan').text(informData['very-high']).style('text-anchor', 'end').attr('dx', '6');\n    d3.select('#inform-toggle-high-val tspan').text(informData['high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#inform-toggle-medium-val tspan').text(informData['medium']).style('text-anchor', 'end').attr('dx', '9');\n    d3.select('#inform-toggle-low-val tspan').text(informData['low']).style('text-anchor', 'end').attr('dx', '7');\n    d3.select('#inform-toggle-no-score-val tspan').text(informData['no-score']).style('text-anchor', 'end').attr('dx', '13');\n\n    var numCountriesFiltered = d3.flatGroup(data.who_data, d => d.country_code).length;\n    d3.select('#countries_filtered tspan').text(numCountriesFiltered+' countries filtered').style('text-anchor', 'end').attr('dx', '105');\n\n    d3.select('#total_new_cases tspan').text('-');\n    d3.select('#total_vac_100 tspan').text('-');\n    d3.select('#percent_acceptance tspan').text('-');\n    d3.select('#num_vaccines tspan').text('-');\n  \n    d3.select('#total_cases tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, d3.sum(options.cumulative_totals, d=>d.cumulative_cases))(t))\n      };\n    })\n\n    d3.select('#total_deaths tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, d3.sum(options.cumulative_totals, d=>d.cumulative_deaths))(t))\n      };\n    })\n\n    d3.select('#total_vaccines tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, d3.sum(options.cumulative_totals, d=>d.cumulative_vaccines))(t))\n      };\n    })\n\n  }\n\n  function updateTable(data, options){\n\n    var lastRecord = data.vaccines_data_cumulative.filter(d=>d.date.getTime()==options.maxVDate.getTime());\n    var vGroup = d3.flatGroup(lastRecord, d => d.iso_code);\n\n    data.equity_data.forEach(function(d,i){\n      if(!vGroup.some(item => item[0] === d.country_iso3)){\n        vGroup.push([d.country_iso3, [{\n          country_name: d.country_name\n        }]])\n      }\n    })\n    var sortKey;\n    if(options.table_sort=='col0_sort') sortKey = 'country_name';\n    if(options.table_sort=='col1_sort') sortKey = 'total_vaccinations_per_hundred';\n    if(options.table_sort=='col2_sort') sortKey = 'people_vaccinated_per_hundred';\n    if(options.table_sort=='col3_sort') sortKey = 'people_fully_vaccinated_per_hundred';\n    if(options.table_sort=='col5_sort') sortKey = 'total_vaccinations';\n\n    for(var x = 0; x<6; x++){\n      d3.select('#col'+x+'_sort_desc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort_asc').attr('opacity', 0);\n    }\n\n    d3.select('#'+options.table_sort+'_'+options.table_sort_direction)\n    .attr('opacity', 1);\n\n    if(sortKey=='country_name'){\n      if(options.table_sort_direction=='asc') {\n        vGroup.sort(function(b, a){\n          return a[1][0].country_name.localeCompare(b[1][0].country_name);\n        })\n      } else {\n        vGroup.sort(function(a, b){\n          return a[1][0].country_name.localeCompare(b[1][0].country_name);\n        })    \n      }\n\n    } else {\n      if(options.table_sort_direction=='desc') {\n        vGroup.sort(function(a,b){\n            return b[1][0][sortKey] - a[1][0][sortKey];\n        });\n      } else {\n        vGroup.sort(function(b,a){\n          return b[1][0][sortKey] - a[1][0][sortKey];\n        });\n      }\n    }\n\n      \n    d3.selectAll('.tablerow').remove();\n    d3.selectAll('.col1bar').attr('opacity', 0);\n    d3.selectAll('.col2bar').attr('opacity', 0);\n    d3.selectAll('.col3bar').attr('opacity', 0);\n    d3.selectAll('.colbg').attr('opacity', 0);\n\n    for(let i = 0; i < 10; i++){\n      var d = vGroup[i];\n      if(!vGroup[i]) {\n        d3.select('#col1bar'+i)\n        .attr('width', 0);\n        d3.select('#col2bar'+i)\n        .attr('width', 0)\n        d3.select('#col3bar'+i)\n        .attr('width', 0)\n        continue;\n      }\n\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow table_country_name')\n      .text(function(){\n        var name;\n        if(d[1][0].country_name) { name = d[1][0].country_name; } else {\n          name = d[1][0].iso_code;\n        }\n        name = name.substring(0,17);\n        if(name.length==17)name=name+'.';\n        return name;\n      })\n      .attr('x', 0)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 1 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow table_country_name')\n      .text(function(){\n        var val = parseFloat(d[1][0].total_vaccinations_per_hundred).toFixed(1);\n        if(isNaN(val)){ return ''} else { return val }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 112)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 1 bar\n      d3.select('#col1bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(500)\n      .attr('width', function(){\n        var val = d[1][0].total_vaccinations_per_hundred;\n        if(d[1][0].total_vaccinations_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n\n      d3.select('#col1bg'+i)\n      .attr('opacity', 1);\n\n      // col 2 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = parseFloat(d[1][0].people_vaccinated_per_hundred).toFixed(1);\n        if(isNaN(val)){ return ''} else { return val+'%' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 223)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 2 bar\n      d3.select('#col2bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(500)\n      .attr('width', function(){\n        var val = d[1][0].people_vaccinated_per_hundred;\n        if(d[1][0].people_vaccinated_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n\n      d3.select('#col2bg'+i)\n      .attr('opacity', 1);\n\n      // col 3 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = parseFloat(d[1][0].people_fully_vaccinated_per_hundred).toFixed(1);\n        if(isNaN(val)){ return ''} else { return val+'%' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 335)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 3 bar\n      d3.select('#col3bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(500)\n      .attr('width', function(){\n        var val = d[1][0].people_fully_vaccinated_per_hundred;\n        if(d[1][0].people_fully_vaccinated_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n      \n      d3.select('#col3bg'+i)\n      .attr('opacity', 1);\n\n      // col 3 bar\n      d3.select('#col4bar'+i)\n      .attr('opacity', 1)\n      // .transition()\n      // .duration(500)\n      // .attr('width', function(){\n      //   var val = d[1][0].people_fully_vaccinated_per_hundred;\n      //   if(d[1][0].people_fully_vaccinated_per_hundred>100){\n      //     val = 100\n      //   } \n      //   if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      // });\n      \n      d3.select('#col4bg'+i)\n      .attr('opacity', 1);\n\n\n      var dayFormat = d3.timeFormat(\"%b %d\");\n      // col 5 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = (d[1][0].total_vaccinations);\n        if(isNaN(val)){ return ''} else { return nFormatter(val) }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 572)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n      \n      // col 6 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = (d[1][0].lastDate);\n        if((val)){ return dayFormat(val)} else { return '' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 620)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n      \n    }\n\n  }\n\n  function createSelects(){\n     // region select\n      $('#regionSelect').select2({\n        data: [{\n          id: 'regions',\n          text: 'IFRC Regions',\n          children: regionOptions\n        },{\n          id: 'countries',\n          text: 'Countries',\n          children: countryOptions\n        }],\n        placeholder: '',\n        scrollAfterSelect: true,\n        renderTemplate: item => item.text || '\\u200B',\n        dropdownParent: $('#regionDrop'),\n        shouldFocusInput: function() {\n        return false;\n      },\n        templateResult: function(data) {\n        var $state = $('<span>' + data.text + '<span>');\n        return $state;\n      }\n      }).on('select2:unselecting', function() {\n          $(this).data('unselecting', true);\n      }).on('select2:opening', function(e) {\n          if ($(this).data('unselecting')) {\n              $(this).removeData('unselecting');\n              e.preventDefault();\n          }\n      });\n\n      $('#regionSelect').on('select2:select', function (e) {\n          var data = e.params.data;\n          filter([data.id]);\n      });\n\n      $('#regionSelect').on('select2:unselect', function (e) {\n        var data = e.params.data;\n        filter([data.id]);\n    });\n\n      // reset locations\n      d3.select('#reset_locations').style('cursor', 'pointer').attr('opacity', 1)\n      .on('click', function(){\n        filter('clear');\n      })\n\n  }\n\n  function handleSelectLength(){\n    var values = $('#regionSelect').select2('data');\n    // handle height for many selections\n    var select2HeightRatio = $('#regionSelectContainer').width()/$('#regionSelectContainer').height();\n    if(select2HeightRatio<10){\n      $('.select2-selection__choice').hide();\n      $('.select2-search__field').attr('placeholder', values.length+' LOCATIONS SELECTED' ).css('width', '100%')\n    } else {\n      $('.select2-search__field').attr('placeholder', '' );\n      $('.select2-selection__choice').show();\n    }\n  }\n\n  useEffect(() => {\n    init();\n  }, [])\n\n\n  const selectStyle = {\n    control: (base, state) => ({\n      ...base,\n      border: '1px solid #D8D8D8',\n      boxShadow: 'none',\n      '&:hover': {\n          border: '1px solid #D8D8D8',\n      }\n  })\n  };\n\n  return (\n    <div>\n      <div id=\"loaderDiv\">\n        <div id=\"loaderText\">{loaderText}</div>\n        <div id=\"loaderBar\">\n          <div id=\"loaderProgress\" style={{width: progress*100+'%'}}></div>\n        </div>\n      </div>\n\n      <div id=\"regionSelectContainer\">\n      <select id=\"regionSelect\" className=\"js-example-responsive\" name=\"states[]\" multiple=\"multiple\"></select>\n      <div id=\"regionDrop\"></div>\n\n\n        {/* <Select id=\"regionSelect\" options={regionOptions} styles={selectStyle} isMulti hideSelectedOptions={true}/> */}\n      </div>\n      {/* <div id=\"countrySelectContainer\">\n        <Select id=\"countrySelect\" options={countryOptions} styles={selectStyle} isMulti/>\n      </div> */}\n\n    <div id=\"svg_container\" className=\"App\">\n\n    </div>\n\n\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}