{"code":"(this[\"webpackJsonpifrc-covid-dataviz\"]=this[\"webpackJsonpifrc-covid-dataviz\"]||[]).push([[0],{128:function(t,e,a){},134:function(t,e,a){\"use strict\";a.r(e);var n=a(6),i=a.n(n),r=a(37),o=a.n(r),c=a(5),l=a.n(c),s=(a(24),a(25)),u=a(4),_=a(0),d=a(1),h=a.n(d),p={hdi_category:{\"very-high\":\"#D8EF8B\",high:\"#FDE08B\",medium:\"#FB8D59\",low:\"#D63127\"},inform_severity:{\"very-high\":\"#D63127\",high:\"#FB8D59\",medium:\"#FDE08B\",low:\"#D8EF8B\",\"no-score\":\"#DAE0EA\"},blue:\"#1F558C\",lightblue:\"#62D7F7\",lightnavy:\"#799EAD\",red:\"#EE3224\",green:\"#D8EF8B\",ifrcgreen:\"#87C400\",black:\"#595454\",lightgrey:\"#e8e8e8\",darkgrey:\"#c1c1c1\",white:\"#fff\",olive:\"#87C400\",purple:\"#771966\",orange:\"#FF3500\",pink:\"#FB0080\"},g=[\"#00ADED\",\"#62D7F7\",\"#003A5A\",\"#799EAD\",\"#FFDD00\"];p.regions={AP:p.orange,AM:p.lightblue,EU:p.ifrcgreen,ME:\"#0A3248\",AF:\"#FCD204\"},p.regions={AP:g[1],AM:g[0],EU:g[2],ME:g[3],AF:g[4]};var m=p;function f(t){for(var e=(t+=\"\").split(\".\"),a=e[0],n=e.length>1?\".\"+e[1]:\"\",i=/(\\d+)(\\d{3})/;i.test(a);)a=a.replace(i,\"$1,$2\");return a+n}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[{value:1,symbol:\"\"},{value:1e3,symbol:\"k\"},{value:1e6,symbol:\"M\"},{value:1e9,symbol:\"B\"},{value:1e12,symbol:\"T\"},{value:1e15,symbol:\"P\"},{value:1e18,symbol:\"E\"}],n=/\\.0+$|(\\.[0-9]*[1-9])0+$/,i=a.slice().reverse().find((function(e){return t>=e.value}));return i?(t/i.value).toFixed(e).replace(n,\"$1\")+i.symbol:\"0\"}var v,b,x,w,k,F,O,A,E,q,T,N,D,M,j,P,C,S=a(38),I=a(10),H=a.n(I),B=[\"AF\",\"AP\",\"ME\",\"EU\",\"AM\",\"OTH\"];function z(t,e){j=new Date(t.min_date),M=new Date(t.max_date);var a=[];if(t.who_data.forEach((function(t,n){a[t[e.timeline_frequency+\"Total\"]]||(a[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.month_start),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_cases+=t.new_cases,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_deaths+=t.new_deaths,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_cases=0})),a.forEach((function(t,e){B.forEach((function(n,i){t.hasOwnProperty(n)||(t[n]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),e>0?(t[n].cumulative_cases=a[e][n].new_cases+a[e-1][n].cumulative_cases,t[n].cumulative_deaths=a[e][n].new_deaths+a[e-1][n].cumulative_deaths):(t[n].cumulative_cases=a[e][n].new_cases,t[n].cumulative_deaths=a[e][n].new_deaths)})),t.total_new_cases=t.AF.new_cases+t.AP.new_cases+t.AM.new_cases+t.EU.new_cases+t.ME.new_cases+t.OTH.new_cases,t.total_cumulative_cases=t.AF.cumulative_cases+t.AP.cumulative_cases+t.AM.cumulative_cases+t.EU.cumulative_cases+t.ME.cumulative_cases+t.OTH.cumulative_cases,t.total_new_deaths=t.AF.new_deaths+t.AP.new_deaths+t.AM.new_deaths+t.EU.new_deaths+t.ME.new_deaths+t.OTH.new_deaths,t.total_cumulative_deaths=t.AF.cumulative_deaths+t.AP.cumulative_deaths+t.AM.cumulative_deaths+t.EU.cumulative_deaths+t.ME.cumulative_deaths+t.OTH.cumulative_deaths,t.region=[],B.forEach((function(e,a){t.region.push({region:e,new_cases:t[e].new_cases,new_deaths:t[e].new_deaths,cumulative_cases:t[e].cumulative_cases,cumulative_deaths:t[e].cumulative_deaths})}))})),C=[],\"cumulative\"!=e.timeline_type)t.vaccines_data.forEach((function(t,a){C[t[e.timeline_frequency+\"Total\"]]||(C[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=t.month_start),C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_vaccines:0}),C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_vaccines+=t.daily_vaccinations})),C.forEach((function(t,e){B.forEach((function(e,a){t[e]||(t[e]={new_vaccines:0,cumulative_vaccines:0})})),t.total_new_vaccines=t.AF.new_vaccines+t.AP.new_vaccines+t.AM.new_vaccines+t.EU.new_vaccines+t.ME.new_vaccines+t.OTH.new_vaccines,t.region=[],B.forEach((function(e,a){var n=0;t[e].new_vaccines>0&&(n+=t[e].new_vaccines),t.region.push({region:e,new_vaccines:n})}))}));else{var n=[];if(\"day\"===e.timeline_frequency&&(n=H()(t.vaccines_data)),\"week\"===e.timeline_frequency&&t.vaccines_data.forEach((function(e,a){var i=h()(e.date).endOf(\"isoWeek\").startOf(\"day\").unix(),r=h()(e.date).startOf(\"day\").unix();r!=i&&r!=h()(t.max_date).startOf(\"day\").unix()||n.push(e)})),\"month\"===e.timeline_frequency){var i=h()(t.max_date).startOf(\"day\").unix();t.vaccines_data.forEach((function(e,a){var r=h()(e.date).endOf(\"month\").startOf(\"day\").unix(),o=h()(e.date).startOf(\"day\").unix();(o==r||h()(t.max_date).startOf(\"day\").unix()!=r&&o==i)&&n.push(e)}))}n.forEach((function(t,a){C[t[e.timeline_frequency+\"Total\"]]||(C[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=t.month_start),C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={cumulative_vaccines:0}),C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_vaccines+=t.total_vaccinations})),C.forEach((function(t,e){B.forEach((function(e,a){t[e]||(t[e]={cumulative_vaccines:0})})),t.total_cumulative_vaccines=t.AF.cumulative_vaccines+t.AP.cumulative_vaccines+t.AM.cumulative_vaccines+t.EU.cumulative_vaccines+t.ME.cumulative_vaccines+t.OTH.cumulative_vaccines,t.region=[],B.forEach((function(e,a){t.region.push({region:e,cumulative_vaccines:t[e].cumulative_vaccines})}))}))}C=C.filter((function(t){return t}));var r=_.h(t.who_data,(function(t,a){return t[e.timeline_frequency+\"Total\"]})),o=_.h(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_cases:\"cumulative\"===e.timeline_type?t.total_cumulative_cases:\"stacked\"===e.timeline_type?100:void 0})),c=_.h(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_deaths:\"cumulative\"===e.timeline_type?t.total_cumulative_deaths:\"stacked\"===e.timeline_type?100:void 0})),l=_.h(C,(function(t,a){if(t){if(\"non-cumulative\"===e.timeline_type)return t.total_new_vaccines;if(\"cumulative\"===e.timeline_type)return t.total_cumulative_vaccines;if(\"stacked\"===e.timeline_type)return 100}}));\"month\"===e.timeline_frequency&&(j=h()(j).startOf(\"month\").startOf(\"day\").toDate()),\"month\"===e.timeline_frequency&&(M=h()(M).endOf(\"month\").startOf(\"day\").toDate()),\"week\"===e.timeline_frequency&&(M=h()(M).endOf(\"isoWeek\").startOf(\"day\").toDate()),P=h()(M),\"day\"===e.timeline_frequency&&(P=new Date(h()(M).add(1,\"days\").toDate()));var s=_.o(\"#timechart_svg\");s.selectAll(\"g\").remove(),_.p(\"#layout .yAxis\").remove(),_.p(\"#yAxis\").remove(),_.p(\"#layout .xAxis\").remove(),s.append(\"g\").append(\"rect\").attr(\"width\",2e3).attr(\"height\",\"100%\").attr(\"x\",0).attr(\"y\",0).attr(\"fill\",\"#FFF\").attr(\"opacity\",0);var u=2e3/r,d=.04;\"month\"===e.timeline_frequency&&(d=.03),\"day\"===e.timeline_frequency&&(d=.02),q=_.n().range([0,2e3]).domain([j,P]),N=_.n().range([0,596]).domain([j,P]),v=_.l().range([0,140]).domain([0,o]),O=_.l().range([140,0]).domain([0,o]),b=_.l().range([0,140]).domain([0,c]),A=_.l().range([140,0]).domain([0,c]),x=_.l().range([0,140]).domain([0,l]),E=_.l().range([140,0]).domain([0,l]),T=_.a().scale(N).tickSize(2).tickPadding(3),w=_.c().scale(O).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)})),k=_.c().scale(A).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)})),F=_.c().scale(E).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)}));var p=_.o(\"#layout\").append(\"g\").attr(\"id\",\"yAxis\").attr(\"clip-path\",\"url(#mask)\"),g=(p.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"casesAxis\").attr(\"transform\",\"translate(620,363)\").call(w),p.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"deathsAxis\").attr(\"transform\",\"translate(620,534)\").call(k),p.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"VaccinesAxis\").attr(\"transform\",\"translate(620,707.5)\").call(F),p.append(\"g\").attr(\"id\",\"casesXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,504)\").call(T)),f=p.append(\"g\").attr(\"id\",\"deathsXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,674)\").call(T),I=p.append(\"g\").attr(\"id\",\"vaccinesXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,848)\").call(T),z=p.append(\"g\").attr(\"id\",\"timelineXAxis\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(24,908)\").call(T),R=s.selectAll(\".bar_group\").data(a).enter().append(\"g\").attr(\"class\",\"bar_group\").attr(\"transform\",(function(t,e){return\"translate(\"+q(t.date)+\")\"}));R.selectAll(\".cases_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",(function(t,e){return\"timeBar cases_bar time_\"+t.region})).attr(\"x\",u*d).attr(\"y\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_cases-_.o(this.parentNode).datum().OTH.new_cases,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].cumulative_cases),\"non-cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_cases),\"stacked\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_cases);var o=0;return\"cumulative\"===e.timeline_type&&(o=140-v(t.cumulative_cases)-v(i)),\"non-cumulative\"===e.timeline_type&&(o=140-v(t.new_cases)-v(i)),\"stacked\"===e.timeline_type&&(o=140-t.new_cases/n*140-i/n*140),o&&o>0?o:0})).attr(\"width\",u-u*d*2).attr(\"height\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_cases-_.o(this.parentNode).datum().OTH.new_cases,i=0;return\"cumulative\"===e.timeline_type&&(i=v(t.cumulative_cases)),\"non-cumulative\"===e.timeline_type&&(i=v(t.new_cases)),\"stacked\"===e.timeline_type&&(i=t.new_cases/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return m.regions[t.region]})),R.selectAll(\".deaths_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",(function(t,e){return\"timeBar deaths_bar time_\"+t.region})).attr(\"x\",u*d).attr(\"y\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_deaths-_.o(this.parentNode).datum().OTH.new_deaths,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].cumulative_deaths),\"non-cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_deaths),\"stacked\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_deaths);var o=0;return\"cumulative\"===e.timeline_type&&(o=140-b(t.cumulative_deaths)-b(i)+170),\"non-cumulative\"===e.timeline_type&&(o=140-b(t.new_deaths)-b(i)+170),\"stacked\"===e.timeline_type&&(o=140-t.new_deaths/n*140-i/n*140+170),o&&o>0?o:0})).attr(\"width\",u-u*d*2).attr(\"height\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_deaths-_.o(this.parentNode).datum().OTH.new_deaths,i=0;return\"cumulative\"===e.timeline_type&&(i=b(t.cumulative_deaths)),\"non-cumulative\"===e.timeline_type&&(i=b(t.new_deaths)),\"stacked\"===e.timeline_type&&(i=t.new_deaths/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return m.regions[t.region]})),\"month\"===e.timeline_frequency&&R.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=_.o(this.parentNode).datum().date,a=_.s.offset(e,1);return(q(a)-q(e))*(1-d)})).attr(\"x\",(function(t){var e=_.o(this.parentNode).datum().date,a=_.s.offset(e,1);return(q(a)-q(e))*(d/2)}));var L=s.selectAll(\".vbar_group\").data(C).enter().append(\"g\").attr(\"class\",\"vbar_group\").attr(\"transform\",(function(t,e){return\"translate(\"+q(t.date)+\", 344)\"}));L.selectAll(\".vaccines_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).enter().append(\"rect\").attr(\"class\",\"timeBar vaccines_bar\").attr(\"class\",(function(t,e){return\"timeBar vaccines_bar time_\"+t.region})).attr(\"x\",u*d).attr(\"y\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_vaccines-_.o(this.parentNode).datum().OTH.new_vaccines,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].cumulative_vaccines),\"non-cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_vaccines),\"stacked\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_vaccines);var o=0;return\"cumulative\"===e.timeline_type&&(o=140-x(t.cumulative_vaccines)-x(i)),\"non-cumulative\"===e.timeline_type&&(o=140-x(t.new_vaccines)-x(i)),\"stacked\"===e.timeline_type&&(o=140-t.new_vaccines/n*140-i/n*140),o&&o>0?o:0})).attr(\"width\",u-u*d*2).attr(\"height\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_vaccines-_.o(this.parentNode).datum().OTH.new_vaccines,i=0;return\"cumulative\"===e.timeline_type&&(i=x(t.cumulative_vaccines)),\"non-cumulative\"===e.timeline_type&&(i=x(t.new_vaccines)),\"stacked\"===e.timeline_type&&(i=t.new_vaccines/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return m.regions[t.region]})),\"month\"===e.timeline_frequency&&L.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=_.o(this.parentNode).datum().date,a=_.s.offset(e,1);return(q(a)-q(e))*(1-d)})).attr(\"x\",(function(t){var e=_.o(this.parentNode).datum().date,a=_.s.offset(e,1);return(q(a)-q(e))*(d/2)})),\"month\"===e.timeline_frequency&&R.selectAll(\".timeBar\").attr(\"width\",(function(t){var e=_.o(this.parentNode).datum().date,a=_.s.offset(e,1);return(q(a)-q(e))*(1-d)})).attr(\"x\",(function(t){var e=_.o(this.parentNode).datum().date,a=_.s.offset(e,1);return(q(a)-q(e))*(d/2)}));var W=t.timeline_data;D=_.n().range([25,619]).domain([j,P]),document.getElementById(\"svg\").appendChild(_.o(\"#timeline_tooltip\").node()),document.getElementById(\"svg\").appendChild(_.o(\"#event_tooltip\").node());var U=_.o(\"#timeline_tooltip\").attr(\"opacity\",0),Y=_.o(\"#event_tooltip\").attr(\"opacity\",0),V=s.append(\"rect\").attr(\"id\",\"timechart_hover\").attr(\"width\",u).attr(\"x\",0).attr(\"y\",0).attr(\"opacity\",0).attr(\"height\",\"100%\").attr(\"fill\",\"rgb(221 221 221 / 40%)\");_.o(\"#timechart_svg\").on(\"mouseover\",(function(t){var a=_.k(t);V.attr(\"opacity\",1);var n=q.invert(a[0]);\"week\"==e.timeline_frequency&&(n=h()(n).startOf(\"isoWeek\")),\"day\"==e.timeline_frequency&&(n=h()(n).startOf(\"day\")),\"month\"==e.timeline_frequency&&(n=h()(n).startOf(\"month\")),a[1]<470?(U.attr(\"opacity\",1).attr(\"display\",\"inline\"),V.attr(\"height\",\"100%\")):a[1]>510?(Y.attr(\"opacity\",1),V.attr(\"height\",\"90%\")):(Y.attr(\"opacity\",0),U.attr(\"opacity\",0),V.attr(\"height\",\"100%\")),n.toDate().getTime()<j.getTime()&&(V.attr(\"opacity\",0),U.attr(\"opacity\",0)),_.o(\"#svg_container\").style(\"z-index\",10)})).on(\"mouseout\",(function(t){V.attr(\"opacity\",0),U.attr(\"opacity\",0).attr(\"display\",\"none\"),_.o(\"#svg_container\").style(\"z-index\",1),Y.attr(\"opacity\",0).attr(\"transform\",\"translate(0,0)\"),_.p(\".event_marker circle\").style(\"stroke\",m.black)})).on(\"mousemove\",(function(t){var n=_.k(t),i=q.invert(n[0]),r=\"\";\"week\"==e.timeline_frequency&&(r=(i=h()(i).startOf(\"isoWeek\")).format(\"ll\"),_.o(\"#timeline_tooltip_date tspan\").text(r)),\"day\"==e.timeline_frequency&&(r=(i=h()(i).startOf(\"day\")).format(\"ll\"),_.o(\"#timeline_tooltip_date tspan\").text(r)),\"month\"==e.timeline_frequency&&(r=(i=h()(i).startOf(\"month\")).format(\"MMMM YYYY\"),_.o(\"#timeline_tooltip_date tspan\").text(r)),V.attr(\"x\",q(i.toDate()));var o=a.filter((function(t,e){return h()(t.date).startOf(\"day\").unix()==i.startOf(\"day\").unix()})),c=C.filter((function(t,e){return h()(t.date).startOf(\"day\").unix()==i.startOf(\"day\").unix()})),l=\"-\",s=\"-\",d=\"-\";if(\"cumulative\"==e.timeline_type?(o[0]&&(s=y(o[0].total_cumulative_cases,2)),o[0]&&(l=y(o[0].total_cumulative_deaths,2)),c[0]&&(d=y(c[0].total_cumulative_vaccines,2))):(o[0]&&(s=y(o[0].total_new_cases,2)),o[0]&&(l=y(o[0].total_new_deaths,2)),c[0]&&(d=y(c[0].total_new_vaccines,2))),_.o(\"#tooltip_cases tspan\").text(s).attr(\"text-anchor\",\"end\").attr(\"dx\",32),_.o(\"#tooltip_deaths tspan\").text(l).attr(\"text-anchor\",\"end\").attr(\"dx\",32),_.o(\"#tooltip_vaccines tspan\").text(d).attr(\"text-anchor\",\"end\").attr(\"dx\",32),i.toDate().getTime()<j.getTime()&&\"day\"==e.timeline_frequency&&(V.attr(\"opacity\",0),U.attr(\"opacity\",0)),\"month\"==e.timeline_frequency&&V.attr(\"width\",(function(){return q(h()(i).endOf(\"month\"))-q(h()(i).startOf(\"month\"))})),U.attr(\"transform\",(function(){var t=(e.brushR-e.brushL)/600,a=0;return t<.5&&(a=3),t<.3&&(a=12),t<.2&&(a=20),t<.15&&(a=21),\"month\"==e.timeline_frequency?(t<.6&&(a=20),t<.5&&(a=30),t<.3&&(a=50),t<.2&&(a=60),t<.1&&(a=70),\"translate(\"+(D(i.toDate())+u/3+a)+\",\"+(n[1]+353)+\")\"):\"translate(\"+(D(i.toDate())+18+a)+\",\"+(n[1]+353)+\")\"})),n[1]<470)U.attr(\"opacity\",1),V.attr(\"opacity\",1),V.attr(\"height\",\"100%\");else if(n[1]>510){Y.attr(\"opacity\",1),V.attr(\"height\",\"90%\");var p=h()(q.invert(n[0])).startOf(\"day\");q.invert(n[0]);Y.attr(\"transform\",(function(){return\"translate(\"+(D(p.toDate())+-3)+\",817)\"}));var g=W.filter((function(t,e){return h()(t.date).startOf(\"day\").unix()==p.unix()}));if(0==g.length&&(g=W.filter((function(t,e){return h()(t.date).startOf(\"day\").unix()<=h()(p).add(1,\"days\").unix()&&h()(t.date).startOf(\"day\").unix()>=h()(p).subtract(1,\"days\").unix()}))),g.length>0){_.o(\"#event-\"+h()(g[0].date).startOf(\"day\").unix()).select(\"path\").style(\"stroke\",\"#000\").attr(\"opacity\",1),r=h()(g[0].date).startOf(\"day\").format(\"ll\"),_.o(\"#event_tooltip_date tspan\").text(r);var f=Object(S.textwrap)().bounds({height:200,width:230}).method(\"tspans\");t=_.o(\"#event_tooltip_text\").text(g[0].description).attr(\"y\",18).attr(\"x\",6);_.o(\"#event_tooltip_text\").call(f),_.p(\"#event_tooltip_text tspan\").attr(\"dy\",\"1.3em\");var v=_.o(\"#event_tooltip_text\").node().getBBox();_.o(\"#event_tooltip_rect\").attr(\"width\",v.width+17).attr(\"height\",v.height+26);_.o(\"#event_tooltip_rect\").attr(\"height\");var b=0;v.height<20?b=19:v.height<30?b=9:v.height<40?b=0:(v.height<50||v.height<60)&&(b=-20);_.o(\"#event_tooltip_rect\").attr(\"y\");_.o(\"#event_tooltip_rect\").attr(\"y\",b),_.p(\"#event_tooltip_text\").attr(\"y\",(function(t,e){return parseInt(_.o(this).attr(\"y\"))+b})),_.p(\"#event_tooltip_date tspan\").attr(\"dy\",(function(t,e){return b})),Y.attr(\"opacity\",1)}else _.p(\".event_marker circle\").style(\"stroke\",m.black),Y.attr(\"opacity\",0)}else Y.attr(\"opacity\",0),U.attr(\"opacity\",0),V.attr(\"opacity\",0),V.attr(\"height\",\"100%\");if(\"day\"==e.timeline_frequency&&i.toDate().getTime()<j.getTime())return V.attr(\"opacity\",0),U.attr(\"opacity\",0),!1})),W=W.filter((function(t){return t.date.length>0})),p.append(\"line\").attr(\"id\",\"event-line\").attr(\"x1\",0).attr(\"x2\",620).attr(\"y1\",893).attr(\"y2\",893).attr(\"stroke-width\",2.5).attr(\"stroke\",m.black);var Z=p.append(\"g\").selectAll(\".event_marker\").data(W).enter().append(\"g\").attr(\"class\",\"event_marker\").attr(\"id\",(function(t,e){return\"event-\"+h()(t.date).startOf(\"day\").unix()})).attr(\"transform\",(function(t){return\"translate(\"+D(new Date(t.date))+\", 893)\"})).style(\"cursor\",\"pointer\");Z.append(\"circle\").style(\"stroke\",m.black).attr(\"opacity\",1).attr(\"r\",6.5).attr(\"cx\",0).attr(\"cy\",0).style(\"stroke-width\",2.2).style(\"fill\",\"white\"),Z.append(\"circle\").attr(\"r\",2).attr(\"cx\",0).attr(\"cy\",0).attr(\"fill\",m.black).style(\"stroke\",m.black);var $=_.d().extent([[0,0],[600,20]]).on(\"start brush end\",(function(){var t=parseFloat(_.o(\".handle--w\").attr(\"x\")),a=parseFloat(_.o(\".handle--e\").attr(\"x\"));if(a-t<40)return!1;_.o(\".selection\").attr(\"width\");_.o(\"#zoomL\").attr(\"transform\",\"translate(\"+t+\",0)\"),_.o(\"#zoomR\").attr(\"transform\",\"translate(\"+a+\",0)\"),_.o(\"#zoomOverlay\").attr(\"width\",a-t),_.o(\"#zoomOverlay\").attr(\"x\",t),_.o(\"#zoomOverlay\").attr(\"transform\",\"translate(3,0)\");var n=Math.round(X(a)-X(t)),i=Math.round(X(t));e.brushL=t+3,e.brushR=a+3,N=_.n().range([0,596]).domain([new Date(q.invert(X(t))),new Date(q.invert(X(a)))]),D=_.n().range([25,619]).domain([new Date(q.invert(X(t))),new Date(q.invert(X(a)))]),_.p(\".event_marker\").attr(\"transform\",(function(t){return\"translate(\"+D(new Date(t.date))+\", 893)\"})),T=_.a().ticks(5).scale(N),g.call(T),f.call(T),I.call(T),z.call(T),_.o(\"#timechart_svg\").attr(\"viewBox\",i+\" 0 \"+n+\" 553\")}));_.o(\".brush\").remove();var J=_.o(\"#zoombar\").append(\"g\").attr(\"class\",\"brush\").attr(\"opacity\",.1).call($);_.p(\".handle rect\").attr(\"fill-opacity\",\"1\").style(\"visibility\",\"visible\").attr(\"width\",2).attr(\"fill\",\"#000\").style(\"stroke-opacity\",0);var X=_.l().domain([-3,597]).range([0,2e3]);J.call($.move,[e.brushL,e.brushR])}function R(t,e){var a=[];if(t.who_data.forEach((function(t,n){a[t[e.timeline_frequency+\"Total\"]]||(a[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.week_start),\"month\"===e.timeline_frequency&&(a[t[e.timeline_frequency+\"Total\"]].date=t.month_start),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_cases+=t.new_cases,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_deaths+=t.new_deaths,a[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_cases=0})),a.forEach((function(t,e){B.forEach((function(n,i){t.hasOwnProperty(n)||(t[n]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0}),e>0?(t[n].cumulative_cases=a[e][n].new_cases+a[e-1][n].cumulative_cases,t[n].cumulative_deaths=a[e][n].new_deaths+a[e-1][n].cumulative_deaths):(t[n].cumulative_cases=a[e][n].new_cases,t[n].cumulative_deaths=a[e][n].new_deaths)})),t.total_new_cases=t.AF.new_cases+t.AP.new_cases+t.AM.new_cases+t.EU.new_cases+t.ME.new_cases+t.OTH.new_cases,t.total_cumulative_cases=t.AF.cumulative_cases+t.AP.cumulative_cases+t.AM.cumulative_cases+t.EU.cumulative_cases+t.ME.cumulative_cases+t.OTH.cumulative_cases,t.total_new_deaths=t.AF.new_deaths+t.AP.new_deaths+t.AM.new_deaths+t.EU.new_deaths+t.ME.new_deaths+t.OTH.new_deaths,t.total_cumulative_deaths=t.AF.cumulative_deaths+t.AP.cumulative_deaths+t.AM.cumulative_deaths+t.EU.cumulative_deaths+t.ME.cumulative_deaths+t.OTH.cumulative_deaths,t.region=[],B.forEach((function(e,a){t.region.push({region:e,new_cases:t[e].new_cases,new_deaths:t[e].new_deaths,cumulative_cases:t[e].cumulative_cases,cumulative_deaths:t[e].cumulative_deaths})}))})),C=[],\"cumulative\"!=e.timeline_type)t.vaccines_data.forEach((function(t,a){C[t[e.timeline_frequency+\"Total\"]]||(C[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=h()(t.date).startOf(\"isoWeek\").toDate()),\"month\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=h()(t.date).startOf(\"month\").toDate()),C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={new_vaccines:0}),C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].new_vaccines+=t.daily_vaccinations})),C.forEach((function(t,e){B.forEach((function(e,a){t[e]||(t[e]={new_vaccines:0,cumulative_vaccines:0})})),t.total_new_vaccines=t.AF.new_vaccines+t.AP.new_vaccines+t.AM.new_vaccines+t.EU.new_vaccines+t.ME.new_vaccines+t.OTH.new_vaccines,t.region=[],B.forEach((function(e,a){t.region.push({region:e,new_vaccines:t[e].new_vaccines})}))}));else{var n=[];if(\"day\"===e.timeline_frequency&&(n=H()(t.vaccines_data)),\"week\"===e.timeline_frequency&&t.vaccines_data.forEach((function(e,a){var i=h()(e.date).endOf(\"isoWeek\").startOf(\"day\").unix(),r=h()(e.date).startOf(\"day\").unix();r!=i&&r!=h()(t.max_date).startOf(\"day\").unix()||n.push(e)})),\"month\"===e.timeline_frequency){var i=h()(t.max_date).startOf(\"day\").unix();t.vaccines_data.forEach((function(e,a){var r=h()(e.date).endOf(\"month\").startOf(\"day\").unix(),o=h()(e.date).startOf(\"day\").unix();(o==r||h()(t.max_date).startOf(\"day\").unix()!=r&&o==i)&&n.push(e)}))}n.forEach((function(t,a){C[t[e.timeline_frequency+\"Total\"]]||(C[t[e.timeline_frequency+\"Total\"]]={}),\"day\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=t.date),\"week\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=h()(t.date).startOf(\"isoWeek\").toDate()),\"month\"===e.timeline_frequency&&(C[t[e.timeline_frequency+\"Total\"]].date=h()(t.date).startOf(\"month\").toDate()),C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]||(C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region]={cumulative_vaccines:0}),C[t[e.timeline_frequency+\"Total\"]][t.ifrc_region].cumulative_vaccines+=t.total_vaccinations})),C.forEach((function(t,e){B.forEach((function(e,a){t[e]||(t[e]={cumulative_vaccines:0})})),t.total_cumulative_vaccines=t.AF.cumulative_vaccines+t.AP.cumulative_vaccines+t.AM.cumulative_vaccines+t.EU.cumulative_vaccines+t.ME.cumulative_vaccines+t.OTH.cumulative_vaccines,t.region=[],B.forEach((function(e,a){t.region.push({region:e,cumulative_vaccines:t[e].cumulative_vaccines})}))}))}C=C.filter((function(t){return t}));_.h(t.who_data,(function(t,a){return t[e.timeline_frequency+\"Total\"]}));var r=_.h(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_cases:\"cumulative\"===e.timeline_type?t.total_cumulative_cases:\"stacked\"===e.timeline_type?100:void 0})),o=_.h(a,(function(t,a){return\"non-cumulative\"===e.timeline_type?t.total_new_deaths:\"cumulative\"===e.timeline_type?t.total_cumulative_deaths:\"stacked\"===e.timeline_type?100:void 0})),c=_.h(C,(function(t,a){if(t){if(\"non-cumulative\"===e.timeline_type)return t.total_new_vaccines;if(\"cumulative\"===e.timeline_type)return t.total_cumulative_vaccines;if(\"stacked\"===e.timeline_type)return 100}})),l=_.o(\"#timechart_svg\");e.timeline_frequency,e.timeline_frequency,v=_.l().range([0,140]).domain([0,r]),O=_.l().range([140,0]).domain([0,r]),b=_.l().range([0,140]).domain([0,o]),A=_.l().range([140,0]).domain([0,o]),x=_.l().range([0,140]).domain([0,c]),E=_.l().range([140,0]).domain([0,c]),w=_.c().scale(O).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)})),k=_.c().scale(A).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)})),F=_.c().scale(E).ticks(3).tickSize(3).tickPadding(3).tickFormat((function(t){return\"stacked\"==e.timeline_type?y(t)+\"%\":y(t)}));_.o(\"#casesAxis\").transition().duration(500).call(w),_.o(\"#deathsAxis\").transition().duration(500).call(k),_.o(\"#VaccinesAxis\").transition().duration(500).call(F);var s=l.selectAll(\".bar_group\").data(a).attr(\"transform\",(function(t,e){return\"translate(\"+q(t.date)+\")\"}));s.selectAll(\".cases_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_cases-_.o(this.parentNode).datum().OTH.new_cases,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].cumulative_cases),\"non-cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_cases),\"stacked\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_cases);var o=0;return\"cumulative\"===e.timeline_type&&(o=140-v(t.cumulative_cases)-v(i)),\"non-cumulative\"===e.timeline_type&&(o=140-v(t.new_cases)-v(i)),\"stacked\"===e.timeline_type&&(o=140-t.new_cases/n*140-i/n*140),o&&o>0?o:0})).attr(\"height\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_cases-_.o(this.parentNode).datum().OTH.new_cases,i=0;return\"cumulative\"===e.timeline_type&&(i=v(t.cumulative_cases)),\"non-cumulative\"===e.timeline_type&&(i=v(t.new_cases)),\"stacked\"===e.timeline_type&&(i=t.new_cases/n*140),i&&i>0?i:0})).attr(\"fill\",(function(t,e){return m.regions[t.region]})),s.selectAll(\".deaths_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_deaths-_.o(this.parentNode).datum().OTH.new_deaths,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].cumulative_deaths),\"non-cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_deaths),\"stacked\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_deaths);var o=0;return\"cumulative\"===e.timeline_type&&(o=140-b(t.cumulative_deaths)-b(i)+170),\"non-cumulative\"===e.timeline_type&&(o=140-b(t.new_deaths)-b(i)+170),\"stacked\"===e.timeline_type&&(o=140-t.new_deaths/n*140-i/n*140+170),o&&o>0?o:0})).attr(\"height\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_deaths-_.o(this.parentNode).datum().OTH.new_deaths,i=0;return\"cumulative\"===e.timeline_type&&(i=b(t.cumulative_deaths)),\"non-cumulative\"===e.timeline_type&&(i=b(t.new_deaths)),\"stacked\"===e.timeline_type&&(i=t.new_deaths/n*140),\"non-cumulative\"===e.timeline_type&&i<0?0:i&&i>0?i:0})),0==a.length&&(_.p(\".cases_bar\").transition().duration(500).attr(\"y\",140).attr(\"height\",0),_.p(\".deaths_bar\").transition().duration(500).attr(\"y\",310).attr(\"height\",0)),l.selectAll(\".vbar_group\").data(C).attr(\"transform\",(function(t,e){return\"translate(\"+q(t.date)+\", 344)\"})).selectAll(\".vaccines_bar\").data((function(t,e){return t.region.filter((function(t,e){return\"OTH\"!==t.region}))})).transition().duration(500).attr(\"y\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_vaccines-_.o(this.parentNode).datum().OTH.new_vaccines,i=0;if(a>0)for(var r=1;r<=a;r++)\"cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].cumulative_vaccines),\"non-cumulative\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_vaccines),\"stacked\"===e.timeline_type&&(i+=_.o(this.parentNode).datum().region[r-1].new_vaccines);var o=0;return\"cumulative\"===e.timeline_type&&(o=140-x(t.cumulative_vaccines)-x(i)),\"non-cumulative\"===e.timeline_type&&(o=140-x(t.new_vaccines)-x(i)),\"stacked\"===e.timeline_type&&(o=140-t.new_vaccines/n*140-i/n*140),o&&o>0?o:0})).attr(\"height\",(function(t,a){var n=_.o(this.parentNode).datum().total_new_vaccines-_.o(this.parentNode).datum().OTH.new_vaccines,i=0;return\"cumulative\"===e.timeline_type&&(i=x(t.cumulative_vaccines)),\"non-cumulative\"===e.timeline_type&&(i=x(t.new_vaccines)),\"stacked\"===e.timeline_type&&(i=t.new_vaccines/n*140),i&&i>0?i:0})),0==C.length&&_.p(\".vaccines_bar\").transition().duration(500).attr(\"y\",140).attr(\"height\",0)}var L,W,U,Y,V,Z,$,J,X=20,G=0,K=58,Q=[];function tt(t,e,a){t.regions.forEach((function(t,e){t.population=0,t.cumulative_deaths=0,t.cumulative_cases=0,t.cumulative_vaccines=0})),t.country.forEach((function(e,a){t.regions.forEach((function(t,a){t.code==e.ifrc_region&&(e.population>0&&e.who_daily_latest&&(e.who_daily_latest.cumulative_cases>0&&(t.cumulative_cases+=e.who_daily_latest.cumulative_cases),e.who_daily_latest.cumulative_deaths>0&&(t.cumulative_deaths+=e.who_daily_latest.cumulative_deaths||0),t.population+=e.population),e.population>0&&e.vaccine_daily_latest&&(t.cumulative_vaccines+=e.vaccine_daily_latest.total_vaccinations||0))}))})),t.regions.forEach((function(t,e){t.cumulative_cases_per_100k=t.cumulative_cases/(t.population/1e5),t.cumulative_deaths_per_100k=t.cumulative_deaths/(t.population/1e5),t.cumulative_vaccines_per_100k=t.cumulative_vaccines/(t.population/1e5),isFinite(t.cumulative_cases_per_100k)||(t.cumulative_cases_per_100k=0),isFinite(t.cumulative_deaths_per_100k)||(t.cumulative_deaths_per_100k=0),isFinite(t.cumulative_vaccines_per_100k)||(t.cumulative_vaccines_per_100k=0)})),\"per100\"==e.region_switch?(U=_.h(t.regions,(function(t,e){return t.cumulative_vaccines_per_100k})),L=_.h(t.regions,(function(t,e){return t.cumulative_cases_per_100k})),W=_.h(t.regions,(function(t,e){return t.cumulative_deaths_per_100k}))):(U=_.h(t.regions,(function(t,e){return t.cumulative_vaccines})),L=_.h(t.regions,(function(t,e){return t.cumulative_cases})),W=_.h(t.regions,(function(t,e){return t.cumulative_deaths})));var n=_.o(\"#layout #region_chart_container\").attr(\"opacity\",0);J={x:n.attr(\"x\"),y:n.attr(\"y\"),width:n.attr(\"width\"),height:n.attr(\"height\")};var i=_.o(\"#layout\").append(\"g\").attr(\"transform\",\"translate(\"+J.x+\", \"+J.y+\")\").attr(\"id\",\"region_chart\"),r=J.height/(t.regions.length-1),o=i.selectAll(\".bar-row\").data(t.regions.filter((function(t){return\"OTH\"!==t.code}))).enter().append(\"g\").attr(\"class\",\"bar-row\").attr(\"transform\",(function(t,e){return\"translate(0,\"+(e*r+G)+\")\"})),c=o.append(\"text\").attr(\"y\",r/2).attr(\"x\",X-5).attr(\"class\",(function(t,e){return\"bar-labels bar-label-\"+t.code})).style(\"alignment-baseline\",\"middle\").style(\"font-size\",\"11px\").attr(\"opacity\",1).attr(\"fill\",\"#000\").text((function(t,e){return\"AM\"===t.code?\"Americas\":\"EU\"===t.code?\"Europe\":\"AF\"===t.code?\"Africa\":\"ME\"===t.code?\"Middle East and North Africa\":\"AP\"===t.code?\"Asia-Pacific\":void 0})).style(\"text-anchor\",\"end\");$=o.node().getBBox().width+X,c.attr(\"x\",$+89),$+=94,_.p(\".timeBar\").attr(\"opacity\",1);o.append(\"rect\").attr(\"y\",0).attr(\"x\",0).attr(\"width\",$).attr(\"height\",r-2).style(\"opacity\",0).attr(\"fill\",\"grey\").style(\"cursor\",\"pointer\").attr(\"class\",(function(t,e){return\"bar-bg-\"+t.code})).attr(\"data-id\",(function(t,e){return t.code})).on(\"mouseover\",(function(t){_.o(this).style(\"opacity\",.1)})).on(\"mouseout\",(function(){_.o(this).style(\"opacity\",0)})).on(\"click\",(function(t,e){var n=_.o(this).attr(\"data-id\");a([n],\"regionchart\")}));Y=_.l().range([0,J.width-K-$]).domain([0,L]),V=_.l().range([0,J.width-K-$]).domain([0,W]),Z=_.l().range([$,J.width-K-$]).domain([0,U]);o.append(\"rect\").attr(\"id\",(function(t,e){return\"bar-\"+t.code})).attr(\"data-id\",(function(t,e){return t.code})).attr(\"class\",\"region-bar\").attr(\"width\",(function(t,a){var n=0;return\"per100\"==e.region_switch?(\"cases\"==e.region_chart_toggle&&(n=Y(t.cumulative_cases_per_100k)),\"deaths\"==e.region_chart_toggle&&(n=V(t.cumulative_deaths_per_100k)),\"vaccines\"==e.region_chart_toggle&&(n=Z(t.cumulative_vaccines_per_100k))):(\"cases\"==e.region_chart_toggle&&(n=Y(t.cumulative_cases)),\"deaths\"==e.region_chart_toggle&&(n=V(t.cumulative_deaths)),\"vaccines\"==e.region_chart_toggle&&(n=Z(t.cumulative_vaccines))),isNaN(n)?0:parseFloat(n)})).attr(\"x\",$).style(\"outline\",\"none\").style(\"cursor\",\"pointer\").attr(\"y\",.1*r-1).attr(\"height\",r-.1*r*2).style(\"fill\",(function(t){return m.regions[t.code]})).attr(\"opacity\",1).on(\"click\",(function(t,e){var n=_.o(this).attr(\"data-id\");a([n],\"regionchart\")})).on(\"mouseover\",(function(t){_.o(this.parentNode).datum()})).on(\"mouseout\",(function(){})),o.append(\"text\").text((function(t){var a=0;return\"per100\"==e.region_switch?(\"cases\"==e.region_chart_toggle&&(a=Math.round(t.cumulative_cases_per_100k)),\"deaths\"==e.region_chart_toggle&&(a=Math.round(t.cumulative_deaths_per_100k)),\"vaccines\"==e.region_chart_toggle&&(a=Math.round(t.cumulative_vaccines_per_100k))):(\"cases\"==e.region_chart_toggle&&(a=Math.round(t.cumulative_cases)),\"deaths\"==e.region_chart_toggle&&(a=Math.round(t.cumulative_deaths)),\"vaccines\"==e.region_chart_toggle&&(a=Math.round(t.cumulative_vaccines))),f(a)})).attr(\"id\",(function(t,e){return\"data-label\"+t.code})).attr(\"data-id\",(function(t,e){return t.code})).attr(\"class\",\"data-label\").attr(\"y\",r/2).style(\"alignment-baseline\",\"middle\").style(\"text-anchor\",\"start\").attr(\"x\",(function(t,a){var n=0;return\"per100\"==e.region_switch?(\"cases\"==e.region_chart_toggle&&(n=Y(t.cumulative_cases_per_100k)+$+5),\"deaths\"==e.region_chart_toggle&&(n=V(t.cumulative_deaths_per_100k)+$+5),\"vaccines\"==e.region_chart_toggle&&(n=Z(t.cumulative_vaccines_per_100k)+$+5)):(\"cases\"==e.region_chart_toggle&&(n=Y(t.cumulative_cases)+$+5),\"deaths\"==e.region_chart_toggle&&(n=V(t.cumulative_deaths)+$+5),\"vaccines\"==e.region_chart_toggle&&(n=Z(t.cumulative_vaccines)+$+5)),n})).attr(\"opacity\",(function(t,a){var n=0;return\"per100\"==e.region_switch?(\"cases\"==e.region_chart_toggle&&(n=t.cumulative_cases_per_100k),\"deaths\"==e.region_chart_toggle&&(n=t.cumulative_deaths_per_100k),\"vaccines\"==e.region_chart_toggle&&(n=t.cumulative_vaccines_per_100k)):(\"cases\"==e.region_chart_toggle&&(n=t.cumulative_cases),\"deaths\"==e.region_chart_toggle&&(n=t.cumulative_deaths),\"vaccines\"==e.region_chart_toggle&&(n=t.cumulative_vaccines)),n>0?1:0})).style(\"fill\",\"#696969\").style(\"font-weight\",\"normal\").style(\"font-size\",\"10px\")}function et(t,e){e.regions.forEach((function(t,e){t.population=0,t.cumulative_deaths=0,t.cumulative_cases=0,t.cumulative_vaccines=0})),e.country.forEach((function(t,a){e.regions.forEach((function(e,a){e.code==t.ifrc_region&&(t.population>0&&t.who_daily_latest&&(t.who_daily_latest.cumulative_cases>0&&(e.cumulative_cases+=t.who_daily_latest.cumulative_cases),t.who_daily_latest.cumulative_deaths>0&&(e.cumulative_deaths+=t.who_daily_latest.cumulative_deaths||0),e.population+=t.population),t.population>0&&t.vaccine_daily_latest&&(e.cumulative_vaccines+=t.vaccine_daily_latest.total_vaccinations||0))}))})),e.regions.forEach((function(t,e){t.cumulative_cases_per_100k=t.cumulative_cases/(t.population/1e5),t.cumulative_deaths_per_100k=t.cumulative_deaths/(t.population/1e5),t.cumulative_vaccines_per_100k=t.cumulative_vaccines/(t.population/1e5),isFinite(t.cumulative_cases_per_100k)||(t.cumulative_cases_per_100k=0),isFinite(t.cumulative_deaths_per_100k)||(t.cumulative_deaths_per_100k=0),isFinite(t.cumulative_vaccines_per_100k)||(t.cumulative_vaccines_per_100k=0)})),\"per100\"==t.region_switch?(U=_.h(e.regions,(function(t,e){return t.cumulative_vaccines_per_100k})),L=_.h(e.regions,(function(t,e){return t.cumulative_cases_per_100k})),W=_.h(e.regions,(function(t,e){return t.cumulative_deaths_per_100k}))):(U=_.h(e.regions,(function(t,e){return t.cumulative_vaccines})),L=_.h(e.regions,(function(t,e){return t.cumulative_cases})),W=_.h(e.regions,(function(t,e){return t.cumulative_deaths}))),Y=_.l().range([0,J.width-K-$]).domain([0,L]),V=_.l().range([0,J.width-K-$]).domain([0,W]),Z=_.l().range([0,J.width-K-$]).domain([0,U]),0==U&&0==L&&0==W?(_.p(\".region-bar\").transition().duration(500).attr(\"width\",0),_.p(\".data-label\").transition().duration(500).attr(\"x\",$).attr(\"opacity\",0)):(_.p(\".region-bar\").transition().duration(500).style(\"fill\",(function(t){return m.regions[t.code]})).attr(\"width\",(function(e,a){var n=_.o(this).attr(\"data-id\");Q.forEach((function(t,a){t.code==n&&(e=t)}));var i=0;return\"per100\"==t.region_switch?(\"cases\"==t.region_chart_toggle&&(i=Y(e.cumulative_cases_per_100k)),\"deaths\"==t.region_chart_toggle&&(i=V(e.cumulative_deaths_per_100k)),\"vaccines\"==t.region_chart_toggle&&(i=Z(e.cumulative_vaccines_per_100k))):(\"cases\"==t.region_chart_toggle&&(i=Y(e.cumulative_cases)),\"deaths\"==t.region_chart_toggle&&(i=V(e.cumulative_deaths)),\"vaccines\"==t.region_chart_toggle&&(i=Z(e.cumulative_vaccines))),isNaN(i)?0:parseFloat(i)})),_.p(\".data-label\").transition().duration(500).tween(\"text\",(function(e,a){var n=0,i=_.o(this).attr(\"data-id\");Q.forEach((function(t,a){t.code==i&&(e=t)})),\"per100\"==t.region_switch?(\"cases\"==t.region_chart_toggle&&(n=Math.round(e.cumulative_cases_per_100k)),\"deaths\"==t.region_chart_toggle&&(n=Math.round(e.cumulative_deaths_per_100k)),\"vaccines\"==t.region_chart_toggle&&(n=Math.round(e.cumulative_vaccines_per_100k))):(\"cases\"==t.region_chart_toggle&&(n=Math.round(e.cumulative_cases)),\"deaths\"==t.region_chart_toggle&&(n=Math.round(e.cumulative_deaths)),\"vaccines\"==t.region_chart_toggle&&(n=Math.round(e.cumulative_vaccines)));a=_.g(Math.floor(2346*Math.random()+9345),n);return function(t){_.o(this).text(f(Math.round(a(t))))}})).attr(\"x\",(function(e,a){var n=_.o(this).attr(\"data-id\");Q.forEach((function(t,a){t.code==n&&(e=t)}));var i=0;return\"per100\"==t.region_switch?(\"cases\"==t.region_chart_toggle&&(i=Y(e.cumulative_cases_per_100k)+$+5),\"deaths\"==t.region_chart_toggle&&(i=V(e.cumulative_deaths_per_100k)+$+5),\"vaccines\"==t.region_chart_toggle&&(i=Z(e.cumulative_vaccines_per_100k)+$+5)):(\"cases\"==t.region_chart_toggle&&(i=Y(e.cumulative_cases)+$+5),\"deaths\"==t.region_chart_toggle&&(i=V(e.cumulative_deaths)+$+5),\"vaccines\"==t.region_chart_toggle&&(i=Z(e.cumulative_vaccines)+$+5)),i})).attr(\"opacity\",(function(e,a){var n=_.o(this).attr(\"data-id\");Q.forEach((function(t,a){t.code==n&&(e=t)}));var i=0;return\"per100\"==t.region_switch?(\"cases\"==t.region_chart_toggle&&(i=e.cumulative_cases_per_100k),\"deaths\"==t.region_chart_toggle&&(i=e.cumulative_deaths_per_100k),\"vaccines\"==t.region_chart_toggle&&(i=e.cumulative_vaccines_per_100k)):(\"cases\"==t.region_chart_toggle&&(i=e.cumulative_cases),\"deaths\"==t.region_chart_toggle&&(i=e.cumulative_deaths),\"vaccines\"==t.region_chart_toggle&&(i=e.cumulative_vaccines)),i>0?1:0})))}var at,nt=a(7),it=(a(126),a(127),a(39)),rt=a(17),ot=a.n(rt),ct=\"#595454\",lt=\"#EAEAEA\",st=\"#000\",ut=\"#FFF\";var _t=function(t,e,a,n,i,r){_.o(\"#vaccine_tooltip\").attr(\"opacity\",0).style(\"display\",\"none\"),_.o(\"#vaccine_info path\").attr(\"fill\",m.black),t.select(\"#vaccine_info\").style(\"cursor\",\"pointer\").on(\"mouseover\",(function(t,e){_.o(\"#svg_container\").style(\"z-index\",10),_.o(\"#vaccine_tooltip\").style(\"display\",\"inline\").transition().duration(500).attr(\"opacity\",1),_.o(\"#vaccine_info path\").transition().duration(200).attr(\"fill\",m.blue)})).on(\"mouseout\",(function(t,e){_.o(\"#svg_container\").style(\"z-index\",1),_.o(\"#vaccine_tooltip\").style(\"display\",\"none\").attr(\"opacity\",0),_.o(\"#vaccine_info path\").transition().duration(500).attr(\"fill\",m.black)})),t.select(\"#region_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,a){e.region_filter=[],n(\"clear-region\")})),t.select(\"#region_switch\").style(\"cursor\",\"pointer\").on(\"click\",(function(t,n){\"total\"==e.region_switch?(e.region_switch=\"per100\",_.o(\"#region_switch_toggle\").transition().duration(200).attr(\"x\",15.1)):(e.region_switch=\"total\",_.o(\"#region_switch_toggle\").transition().duration(200).attr(\"x\",3.1)),et(e,a)})),t.select(\"#region-chart-toggle #region-chart-toggle-cases\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"cases\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"cases\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",st),t.select(\"#region-chart-toggle-cases rect\").attr(\"fill\",ct),t.select(\"#region-chart-toggle-cases text\").attr(\"fill\",ut),et(e,a)})),t.select(\"#region-chart-toggle #region-chart-toggle-deaths\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"deaths\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"deaths\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",st),t.select(\"#region-chart-toggle-deaths rect\").attr(\"fill\",ct),t.select(\"#region-chart-toggle-deaths text\").attr(\"fill\",ut),et(e,a)})),t.select(\"#region-chart-toggle #region-chart-toggle-vaccines\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"vaccines\"===e.region_chart_toggle)return!1;e.region_chart_toggle=\"vaccines\",t.selectAll(\"#region-chart-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#region-chart-toggle text\").attr(\"fill\",st),t.select(\"#region-chart-toggle-vaccines rect\").attr(\"fill\",ct),t.select(\"#region-chart-toggle-vaccines text\").attr(\"fill\",ut),et(e,a)})),t.select(\"#map-toggle #map-toggle-bi-weekly-change\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"bi-weekly-change\"===e.map_toggle)return!1;e.map_toggle=\"bi-weekly-change\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#map-toggle text\").attr(\"fill\",st),t.select(\"#map-toggle-bi-weekly-change rect\").attr(\"fill\",ct),t.select(\"#map-toggle-bi-weekly-change text\").attr(\"fill\",ut),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-cases\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"cases\"===e.map_toggle)return!1;e.map_toggle=\"cases\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#map-toggle text\").attr(\"fill\",st),t.select(\"#map-toggle-cases rect\").attr(\"fill\",ct),t.select(\"#map-toggle-cases text\").attr(\"fill\",ut),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-deaths\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"deaths\"===e.map_toggle)return!1;e.map_toggle=\"deaths\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#map-toggle text\").attr(\"fill\",st),t.select(\"#map-toggle-deaths rect\").attr(\"fill\",ct),t.select(\"#map-toggle-deaths text\").attr(\"fill\",ut),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-percent-fully-vaccinated\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"percent-fully-vaccinated\"===e.map_toggle)return!1;e.map_toggle=\"percent-fully-vaccinated\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#map-toggle text\").attr(\"fill\",st),t.select(\"#map-toggle-percent-fully-vaccinated rect\").attr(\"fill\",ct),t.select(\"#map-toggle-percent-fully-vaccinated text\").attr(\"fill\",ut),r(a,e,700)})),t.select(\"#map-toggle #map-toggle-percent-vaccine-acceptance\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"percent-vaccine-acceptance\"===e.map_toggle)return!1;e.map_toggle=\"percent-vaccine-acceptance\",t.selectAll(\"#map-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#map-toggle text\").attr(\"fill\",st),t.select(\"#map-toggle-percent-vaccine-acceptance rect\").attr(\"fill\",ct),t.select(\"#map-toggle-percent-vaccine-acceptance text\").attr(\"fill\",ut),r(a,e,700)})),t.select(\"#timechart-type-toggle #timechart-type-toggle-cumulative\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"cumulative\"===e.timeline_type)return!1;e.timeline_type=\"cumulative\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",st),t.select(\"#timechart-type-toggle-cumulative rect\").attr(\"fill\",ct),t.select(\"#timechart-type-toggle-cumulative polyline\").attr(\"stroke\",ut),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",ct),R(a,e)})),Object(nt.a)(\"#timechart-type-toggle-cumulative\",{content:\"Cumulative\",duration:0,placement:\"bottom\",theme:\"light\",arrow:!0,delay:[500,200]}),t.select(\"#timechart-type-toggle #timechart-type-toggle-non-cumulative\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"non-cumulative\"===e.timeline_type)return!1;e.timeline_type=\"non-cumulative\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",st),t.select(\"#timechart-type-toggle-non-cumulative rect\").attr(\"fill\",ct),t.select(\"#timechart-type-toggle-non-cumulative polyline\").attr(\"stroke\",ut),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",ct),R(a,e)})),Object(nt.a)(\"#timechart-type-toggle-non-cumulative\",{content:\"Non-cumulative\",duration:0,placement:\"bottom\",theme:\"light\",arrow:!0,delay:[500,200]}),t.select(\"#timechart-type-toggle #timechart-type-toggle-stacked\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"stacked\"===e.timeline_type)return!1;e.timeline_type=\"stacked\",t.selectAll(\"#timechart-type-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#timechart-type-toggle polyline\").attr(\"stroke\",st),t.select(\"#timechart-type-toggle-stacked rect\").attr(\"fill\",ct),t.select(\"#timechart-type-toggle-stacked polyline\").attr(\"stroke\",ut),t.selectAll(\"#timechart-type-toggle-stacked polygon\").attr(\"fill\",ut),R(a,e)})),Object(nt.a)(\"#timechart-type-toggle-stacked\",{content:\"Stacked 100%\",duration:0,placement:\"bottom\",theme:\"light\",arrow:!0,delay:[500,200]}),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-day\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"day\"===e.timeline_frequency)return!1;e.timeline_frequency=\"day\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",st),t.select(\"#timechart-frequency-toggle-day rect\").attr(\"fill\",ct),t.select(\"#timechart-frequency-toggle-day text\").attr(\"fill\",ut),t.select(\"#tooltip_frequency tspan\").attr(\"text-anchor\",\"end\").attr(\"dx\",20).text(\"DAY\"),z(a,e)})),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-week\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"week\"===e.timeline_frequency)return!1;e.timeline_frequency=\"week\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",st),t.select(\"#timechart-frequency-toggle-week rect\").attr(\"fill\",ct),t.select(\"#tooltip_frequency tspan\").attr(\"text-anchor\",\"end\").attr(\"dx\",20).text(\"WEEK\"),t.select(\"#timechart-frequency-toggle-week text\").attr(\"fill\",ut),z(a,e)})),t.select(\"#timechart-frequency-toggle #timechart-frequency-toggle-month\").style(\"cursor\",\"pointer\").on(\"click\",(function(n){if(\"month\"===e.timeline_frequency)return!1;e.timeline_frequency=\"month\",t.selectAll(\"#timechart-frequency-toggle rect\").attr(\"fill\",lt),t.selectAll(\"#timechart-frequency-toggle text\").attr(\"fill\",st),t.select(\"#timechart-frequency-toggle-month rect\").attr(\"fill\",ct),t.select(\"#tooltip_frequency tspan\").attr(\"text-anchor\",\"end\").attr(\"dx\",20).text(\"MONTH\"),t.select(\"#timechart-frequency-toggle-month text\").attr(\"fill\",ut),z(a,e)})),t.select(\"#hdi_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,e){_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1),n(\"clear-hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-very-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){dt(e.hdi_filter,\"very-high\"),4===e.hdi_filter.length?(e.hdi_filter=[],_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){_.o(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){dt(e.hdi_filter,\"high\"),4===e.hdi_filter.length?(e.hdi_filter=[],_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){_.o(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-medium\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){dt(e.hdi_filter,\"medium\"),4===e.hdi_filter.length?(e.hdi_filter=[],_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){_.o(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#hdi-toggle #hdi-toggle-low\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){dt(e.hdi_filter,\"low\"),4===e.hdi_filter.length?(e.hdi_filter=[],_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1)):0===e.hdi_filter.length?_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",1):e.hdi_filter.length>0&&_.p(\"#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low\").attr(\"opacity\",.3),e.hdi_filter.length>0&&e.hdi_filter.forEach((function(t,e){_.o(\"#hdi-toggle-\"+t).attr(\"opacity\",1)})),n(\"hdi\")})),t.select(\"#inform_remove_filter\").attr(\"opacity\",0).style(\"cursor\",\"pointer\").on(\"click\",(function(t,e){_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1),n(\"clear-inform\")})),t.select(\"#inform-toggle #inform-toggle-no-score\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){dt(e.inform_filter,\"no-score\"),5===e.inform_filter.length?(e.inform_filter=[],_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){_.o(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-low\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){dt(e.inform_filter,\"low\"),5===e.inform_filter.length?(e.inform_filter=[],_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){_.o(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-medium\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){dt(e.inform_filter,\"medium\"),5===e.inform_filter.length?(e.inform_filter=[],_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){_.o(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){dt(e.inform_filter,\"high\"),5===e.inform_filter.length?(e.inform_filter=[],_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){_.o(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),t.select(\"#inform-toggle #inform-toggle-very-high\").style(\"cursor\",\"pointer\").on(\"click\",(function(t){dt(e.inform_filter,\"very-high\"),5===e.inform_filter.length?(e.inform_filter=[],_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1)):0===e.inform_filter.length?_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",1):e.inform_filter.length>0&&_.p(\"#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score\").attr(\"opacity\",.3),e.inform_filter.length>0&&e.inform_filter.forEach((function(t,e){_.o(\"#inform-toggle-\"+t).attr(\"opacity\",1)})),n(\"inform\")})),_.o(\"#additional-indicators-tab\").attr(\"opacity\",0).select(\"#additional-indicators-tab-content\").attr(\"display\",\"none\"),_.o(\"#vac-tab\").attr(\"opacity\",1).select(\"#vac-tab-content\").attr(\"display\",\"inline\"),_.o(\"#bubblechart-tab\").attr(\"opacity\",0).selectAll(\"#bubblechart, #bubblechart-tab-content\").attr(\"display\",\"none\"),_.o(\"#bubbleSelectContainer\").style(\"display\",\"none\"),t.select(\"#tabs #vaccination-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(a){if(\"vaccination-data\"===e.tab_toggle)return!1;e.tab_toggle=\"vaccination-data\",_.o(\"#additional-indicators-tab\").attr(\"opacity\",0).select(\"#additional-indicators-tab-content\").attr(\"display\",\"none\"),_.o(\"#vac-tab\").attr(\"opacity\",1).select(\"#vac-tab-content\").attr(\"display\",\"inline\"),_.o(\"#bubblechart-tab\").attr(\"opacity\",0).selectAll(\"#bubblechart, #bubblechart-tab-content\").attr(\"display\",\"none\"),t.selectAll(\"#tabs rect\").attr(\"fill\",lt),t.selectAll(\"#tabs text\").attr(\"fill\",st),t.select(\"#vaccination-tab rect\").attr(\"fill\",ct),t.select(\"#vaccination-tab text\").attr(\"fill\",ut),_.o(\"#bubbleSelectContainer\").style(\"display\",\"none\")})),t.select(\"#tabs #indicators-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(a){if(\"indicators\"===e.tab_toggle)return!1;e.tab_toggle=\"indicators\",_.o(\"#additional-indicators-tab\").attr(\"opacity\",1).select(\"#additional-indicators-tab-content\").attr(\"display\",\"inline\"),_.o(\"#vac-tab\").attr(\"opacity\",0).select(\"#vac-tab-content\").attr(\"display\",\"none\"),_.o(\"#bubblechart-tab\").attr(\"opacity\",0).selectAll(\"#bubblechart, #bubblechart-tab-content\").attr(\"display\",\"none\"),t.selectAll(\"#tabs rect\").attr(\"fill\",lt),t.selectAll(\"#tabs text\").attr(\"fill\",st),t.select(\"#indicators-tab rect\").attr(\"fill\",ct),t.select(\"#indicators-tab text\").attr(\"fill\",ut),_.o(\"#bubbleSelectContainer\").style(\"display\",\"none\")})),t.select(\"#tabs #bubble-chart-tab\").style(\"cursor\",\"pointer\").on(\"click\",(function(a){if(\"bubble-chartt\"===e.tab_toggle)return!1;e.tab_toggle=\"bubble-chart\",_.o(\"#additional-indicators-tab\").attr(\"opacity\",0).select(\"#additional-indicators-tab-content\").attr(\"display\",\"none\"),_.o(\"#vac-tab\").attr(\"opacity\",0).select(\"#vac-tab-content\").attr(\"display\",\"none\"),_.o(\"#bubblechart-tab\").attr(\"opacity\",1).selectAll(\"#bubblechart, #bubblechart-tab-content\").attr(\"display\",\"inline\"),t.selectAll(\"#tabs rect\").attr(\"fill\",lt),t.selectAll(\"#tabs text\").attr(\"fill\",st),t.select(\"#bubble-chart-tab rect\").attr(\"fill\",ct),t.select(\"#bubble-chart-tab text\").attr(\"fill\",ut),_.o(\"#bubbleSelectContainer\").style(\"display\",\"inline-block\")})),_.o(\"#svg defs\").append(\"clipPath\").attr(\"id\",\"mask\").append(\"rect\").attr(\"y\",340).attr(\"height\",590).attr(\"width\",660).attr(\"x\",22);var o=t.select(\"#timechart_container\").attr(\"opacity\",0),c={x:o.attr(\"x\"),y:o.attr(\"y\"),width:o.attr(\"width\"),height:o.attr(\"height\")},l=t.append(\"svg\").attr(\"id\",\"timechart_svg\").attr(\"viewBox\",\"0 0 2000 \"+c.height).attr(\"preserveAspectRatio\",\"none\").attr(\"x\",c.x).attr(\"y\",c.y).attr(\"width\",c.width).attr(\"height\",c.height),s=l.append(\"g\").attr(\"id\",\"layer1\");l.append(\"g\").attr(\"id\",\"layer0\"),s.append(\"rect\").attr(\"x\",0).attr(\"y\",0).attr(\"width\",\"100%\").attr(\"height\",\"100%\").attr(\"opacity\",0).style(\"fill\",\"transparent\");for(var u=18,d=68,h=function(t){for(_.o(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col1bg colbg\").attr(\"id\",\"col1bg\"+t).attr(\"x\",120).attr(\"y\",(function(){return d+24.8*t})).attr(\"height\",u).attr(\"width\",68).attr(\"fill\",m.lightgrey),_.o(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col1bar\").attr(\"id\",\"col1bar\"+t).attr(\"x\",120).attr(\"y\",(function(){return d+24.8*t})).attr(\"height\",u).attr(\"width\",0).attr(\"fill\",m.blue),_.o(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col2bg colbg\").attr(\"id\",\"col2bg\"+t).attr(\"x\",230).attr(\"y\",(function(){return d+24.8*t})).attr(\"height\",u).attr(\"width\",68).attr(\"fill\",m.lightgrey),_.o(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col2bar\").attr(\"id\",\"col2bar\"+t).attr(\"x\",230).attr(\"y\",(function(){return d+24.8*t})).attr(\"height\",u).attr(\"width\",0).attr(\"fill\",m.blue),_.o(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col3bg colbg\").attr(\"id\",\"col3bg\"+t).attr(\"x\",340).attr(\"y\",(function(){return d+24.8*t})).attr(\"height\",u).attr(\"width\",68).attr(\"fill\",m.lightgrey),_.o(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col3bar\").attr(\"id\",\"col3bar\"+t).attr(\"x\",340).attr(\"y\",(function(){return d+24.8*t})).attr(\"height\",u).attr(\"width\",0).attr(\"fill\",m.blue),_.o(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col4bg colbg\").attr(\"id\",\"col4bg\"+t).attr(\"x\",454).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",u).attr(\"width\",68).attr(\"fill\",m.lightgrey),_.o(\"#vac-tab\").append(\"rect\").attr(\"class\",\"col4bar\").attr(\"id\",\"col4bar\"+t).attr(\"x\",454).attr(\"y\",(function(){return 67+24.8*t})).attr(\"height\",u).attr(\"width\",0).attr(\"fill\",m.blue),g=0;g<6;g++)_.o(\"#col\"+g+\"_sort_desc\").attr(\"opacity\",0),_.o(\"#col\"+g+\"_sort_asc\").attr(\"opacity\",0),_.o(\"#col\"+g+\"_sort\").style(\"cursor\",\"pointer\").on(\"click\",(function(){var t=_.o(this).attr(\"id\");e.table_sort==t?\"desc\"==e.table_sort_direction?e.table_sort_direction=\"asc\":e.table_sort_direction=\"desc\":(e.table_sort=t,e.table_sort_direction=\"desc\"),e.page=1,i(a,e)}))},p=0;p<10;p++){var g;h(p)}_.o(\"#reset_locations\").attr(\"display\",\"none\"),Object(nt.a)(\"#button-png\",{content:\"Save as PNG\",duration:0,placement:\"bottom\",theme:\"light\",arrow:!0,delay:[500,200]}),Object(nt.a)(\"#button-copy\",{content:\"Copy to clipboard\",duration:0,placement:\"bottom\",theme:\"light\",arrow:!0,delay:[500,200]}),Object(nt.a)(\"#button-print\",{content:\"Print to PDF\",duration:0,placement:\"bottom\",theme:\"light\",arrow:!0,delay:[500,200]}),_.o(\"#button-print\").on(\"click\",(function(){if(at)return!1;at=!0,setTimeout((function(){ot()(document.querySelector(\"#root\"),{allowTaint:!0,onclone:function(t){},useCORS:!1,foreignObjectRendering:!0,ignoreElements:function(t){return!1},scale:2,x:0,y:0,scrollX:0,scrollY:0,logging:!1}).then((function(t){var e=t.toDataURL(\"image/png\"),a=new it.a(\"l\",\"mm\",\"a4\"),n=a.getImageProperties(e),i=a.internal.pageSize.getWidth(),r=n.height*i/n.width;a.addImage(e,\"JPEG\",10,10,i-20,r-30),a.save(\"deep-pdf-export.pdf\"),at=!1}),200)}))})),_.o(\"#button-png\").on(\"click\",(function(){if(at)return!1;at=!0,setTimeout((function(){ot()(document.querySelector(\"#root\"),{allowTaint:!0,onclone:function(t){},useCORS:!1,foreignObjectRendering:!0,ignoreElements:function(t){return!1},scale:2,x:0,y:0,scrollX:0,scrollY:0,logging:!1}).then((function(t){var e=t.toDataURL(\"image/png\").replace(\"image/png\",\"image/octet-stream\"),a=document.createElement(\"a\");a.download=\"dashboard-export.png\",a.href=e,a.click(),a.remove(),at=!1}),200)}))}))};function dt(t,e){var a=t.indexOf(e);-1!==a?t.splice(a,1):t.push(e)}var ht,pt,gt,mt=1e3,ft=100,yt=1e6;function vt(t,e,a){mt=_.h(t.country,(function(t,e){return parseFloat(t.gni_2017)})),ft=_.h(t.country,(function(t,a){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis||\"percent-fully-vaccinated\"==e.bubble_chart_y_axis||\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?100:void 0})),yt=_.h(t.country,(function(t,e){return parseFloat(t.population)})),ht=_.l().range([0,600]).domain([0,mt]).nice(),pt=_.l().range([233,0]).domain([0,ft]),gt=_.m().domain([0,yt]).range([1,20]);var n=_.o(\"#bubblechart-tab\").append(\"g\").attr(\"transform\",\"translate(35, 58)\").attr(\"id\",\"bubblechart\");n.append(\"g\").attr(\"id\",\"bubbley\").call(_.b(pt).ticks(3).tickSize(3)),n.append(\"g\").attr(\"id\",\"bubblex\").attr(\"class\",\"xAxis\").attr(\"transform\",\"translate(0,233)\").call(_.a(ht).ticks(4).tickSize(3)),_.o(\"#bubblechart\").selectAll(\".bubble\").data(t.country).join((function(t){t.append(\"circle\").attr(\"class\",(function(t){return\"bubble\"})).attr(\"cx\",(function(t){return ht(parseFloat(t.gni_2017))})).attr(\"cy\",(function(t){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis?pt(parseFloat(t.people_vaccinated_per_hundred)):\"percent-fully-vaccinated\"==e.bubble_chart_y_axis?pt(parseFloat(t.people_fully_vaccinated_per_hundred)):\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?pt(parseFloat(t.vaccine_acceptance_percent)):void 0})).attr(\"r\",(function(t){return gt(parseFloat(t.population))})).style(\"fill\",(function(t){return\"region\"==e.bubble_chart_color_by&&m.regions[t.ifrc_region]?m.regions[t.ifrc_region]:\"hdi\"==e.bubble_chart_color_by&&m.hdi_category[t.hdi_category]?m.hdi_category[t.hdi_category]:\"inform-severity\"==e.bubble_chart_color_by&&m.inform_severity[t.inform_severity]?m.inform_severity[t.inform_severity]:\"transparent\"})).style(\"stroke\",(function(t){return\"#FFF\"})).style(\"stroke-width\",1).attr(\"display\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?\"none\":\"inline\"})).attr(\"opacity\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?0:1}))}),(function(t){t.transition().duration(800).attr(\"cx\",(function(t){return ht(parseFloat(t.gni_2017))})).attr(\"cy\",(function(t){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis?pt(parseFloat(t.people_vaccinated_per_hundred)):\"percent-fully-vaccinated\"==e.bubble_chart_y_axis?pt(parseFloat(t.people_fully_vaccinated_per_hundred)):\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?pt(parseFloat(t.vaccine_acceptance_percent)):void 0})).attr(\"r\",(function(t){return gt(parseFloat(t.population))})).style(\"fill\",(function(t){return\"region\"==e.bubble_chart_color_by&&m.regions[t.ifrc_region]?m.regions[t.ifrc_region]:\"hdi\"==e.bubble_chart_color_by&&m.hdi_category[t.hdi_category]?m.hdi_category[t.hdi_category]:\"inform-severity\"==e.bubble_chart_color_by&&m.inform_severity[t.inform_severity]?m.inform_severity[t.inform_severity]:\"transparent\"})).style(\"stroke\",(function(t){return\"#FFF\"})).attr(\"display\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?\"none\":\"inline\"})).attr(\"opacity\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?0:1}))}),(function(t){t.remove()})),_.o(\"#bubblechart\").selectAll(\".bubble\").on(\"mousemove\",(function(t,a){_.o(\"#bubbleSelectContainer\").style(\"z-index\",1),_.o(\"#bubblechart_tooltip_title tspan\").text(a.country_name),\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(_.o(\"#bubblechart_tooltip_label tspan\").text(\"% vaccinated at least 1 dose\"),_.o(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.people_vaccinated_per_hundred)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(_.o(\"#bubblechart_tooltip_label tspan\").text(\"% fully vaccinated\"),_.o(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.people_fully_vaccinated_per_hundred)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(_.o(\"#bubblechart_tooltip_label tspan\").text(\"% vaccine acceptance\"),_.o(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.vaccine_acceptance_percent).toFixed(2)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),_.o(\"#bubblechart_tooltip_gni tspan\").text(\"$\"+f(Math.round(parseFloat(a.gni_2017)))).attr(\"text-anchor\",\"end\").attr(\"dx\",37),_.o(\"#bubblechart_tooltip_population tspan\").text(y(Math.round(parseInt(a.population)))).attr(\"text-anchor\",\"end\").attr(\"dx\",37);var n=_.k(t,_.o(\"#svg\").node());n[0]<1110?(_.o(\"#bubblechart_tooltip\").attr(\"transform\",\"translate(\"+(n[0]+20)+\",\"+(n[1]+58-90)+\")\").attr(\"display\",\"inline\"),_.o(\"#bubblechart_tooltip_arrow_left\").attr(\"display\",\"inline\"),_.o(\"#bubblechart_tooltip_arrow_right\").attr(\"display\",\"none\")):(_.o(\"#bubblechart_tooltip\").attr(\"transform\",\"translate(\"+(n[0]-220)+\",\"+(n[1]+58-90)+\")\").attr(\"display\",\"inline\"),_.o(\"#bubblechart_tooltip_arrow_left\").attr(\"display\",\"none\"),_.o(\"#bubblechart_tooltip_arrow_right\").attr(\"display\",\"inline\")),_.p(\".bubble\").attr(\"opacity\",.4),_.o(this).attr(\"opacity\",1).style(\"stroke-width\",2)})).on(\"mouseout\",(function(t){if(\"tspan\"==t.toElement)return!1;_.o(\"#bubbleSelectContainer\").style(\"z-index\",2),_.o(\"#bubblechart_tooltip\").attr(\"display\",\"none\"),_.p(\".bubble\").attr(\"opacity\",1).style(\"stroke-width\",1)})),_.o(\"#bubblechart_tooltip\").attr(\"display\",\"none\"),_.o(\"#bubble_y_axis_label\").attr(\"text-anchor\",\"middle\").select(\"tspan\").attr(\"dx\",50),\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&_.o(\"#bubble_y_axis_label tspan\").text(\"% vaccinated at least 1 dose\"),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&_.o(\"#bubble_y_axis_label tspan\").text(\"% fully vaccinated\"),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&_.o(\"#bubble_y_axis_label tspan\").text(\"% vaccine acceptance\")}function bt(t,e,a){mt=_.h(t.country,(function(t,e){return parseFloat(t.gni_2017)})),ft=_.h(t.country,(function(t,a){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis?parseFloat(t.people_vaccinated_per_hundred):\"percent-fully-vaccinated\"==e.bubble_chart_y_axis?parseFloat(t.people_fully_vaccinated_per_hundred):\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?parseFloat(t.vaccine_acceptance_percent):void 0})),yt=_.h(t.country,(function(t,e){return parseFloat(t.population)})),ht=_.l().range([0,600]).domain([0,mt]),pt=_.l().range([233,0]).domain([0,ft]),gt=_.m().domain([0,yt]).range([1,20]);var n=_.o(\"#bubblechart\");n.select(\"#bubbley\").transition().duration(800).call(_.b(pt).ticks(3)),n.select(\"#bubblex\").transition().duration(800).call(_.a(ht).ticks(3)),_.o(\"#bubblechart\").selectAll(\".bubble\").data(t.country).join((function(t){t.append(\"circle\").attr(\"cx\",(function(t){return ht(mt)})).attr(\"cy\",(function(t){return pt(ft)})).attr(\"class\",(function(t){return\"bubble\"})).transition().duration(800).attr(\"cx\",(function(t){return ht(parseFloat(t.gni_2017))})).attr(\"cy\",(function(t){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis?pt(parseFloat(t.people_vaccinated_per_hundred)):\"percent-fully-vaccinated\"==e.bubble_chart_y_axis?pt(parseFloat(t.people_fully_vaccinated_per_hundred)):\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?pt(parseFloat(t.vaccine_acceptance_percent)):void 0})).attr(\"r\",(function(t){return gt(parseFloat(t.population))})).style(\"fill\",(function(t){return\"region\"==e.bubble_chart_color_by&&m.regions[t.ifrc_region]?m.regions[t.ifrc_region]:\"hdi\"==e.bubble_chart_color_by&&m.hdi_category[t.hdi_category]?m.hdi_category[t.hdi_category]:\"inform-severity\"==e.bubble_chart_color_by&&m.inform_severity[t.inform_severity]?m.inform_severity[t.inform_severity]:\"transparent\"})).style(\"stroke\",(function(t){return\"#FFF\"})).style(\"stroke-width\",1).attr(\"display\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?\"none\":\"inline\"})).attr(\"opacity\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?0:1}))}),(function(t){t.attr(\"display\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)||0==pt.invert(n)?\"none\":\"inline\"})).attr(\"opacity\",(function(t,a){var n=0;return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_vaccinated_per_hundred))),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.people_fully_vaccinated_per_hundred))),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(n=pt(parseFloat(t.vaccine_acceptance_percent))),isNaN(n)?0:1})).style(\"fill\",(function(t){return\"region\"==e.bubble_chart_color_by&&m.regions[t.ifrc_region]?m.regions[t.ifrc_region]:\"hdi\"==e.bubble_chart_color_by&&m.hdi_category[t.hdi_category]?m.hdi_category[t.hdi_category]:\"inform-severity\"==e.bubble_chart_color_by&&m.inform_severity[t.inform_severity]?m.inform_severity[t.inform_severity]:\"transparent\"})).transition().duration(800).attr(\"cx\",(function(t){return ht(parseFloat(t.gni_2017))})).attr(\"cy\",(function(t){return\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis?pt(parseFloat(t.people_vaccinated_per_hundred)):\"percent-fully-vaccinated\"==e.bubble_chart_y_axis?pt(parseFloat(t.people_fully_vaccinated_per_hundred)):\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis?pt(parseFloat(t.vaccine_acceptance_percent)):void 0})).attr(\"r\",(function(t){return gt(parseFloat(t.population))}))}),(function(t){t.remove()})),_.o(\"#bubblechart\").selectAll(\".bubble\").on(\"mousemove\",(function(t,a){_.o(\"#bubbleSelectContainer\").style(\"z-index\",1),_.o(\"#bubblechart_tooltip_title tspan\").text(a.country_name),\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&(_.o(\"#bubblechart_tooltip_label tspan\").text(\"% vaccinated at least 1 dose\"),_.o(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.people_vaccinated_per_hundred)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&(_.o(\"#bubblechart_tooltip_label tspan\").text(\"% fully vaccinated\"),_.o(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.people_fully_vaccinated_per_hundred)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&(_.o(\"#bubblechart_tooltip_label tspan\").text(\"% vaccine acceptance\"),_.o(\"#bubblechart_tooltip_value tspan\").text(parseFloat(a.vaccine_acceptance_percent).toFixed(2)+\"%\").attr(\"text-anchor\",\"end\").attr(\"dx\",37)),_.o(\"#bubblechart_tooltip_gni tspan\").text(\"$\"+f(Math.round(parseFloat(a.gni_2017)))).attr(\"text-anchor\",\"end\").attr(\"dx\",37),_.o(\"#bubblechart_tooltip_population tspan\").text(y(Math.round(parseInt(a.population)))).attr(\"text-anchor\",\"end\").attr(\"dx\",37);var n=_.k(t,_.o(\"#svg\").node());n[0]<1110?(_.o(\"#bubblechart_tooltip\").attr(\"transform\",\"translate(\"+(n[0]+20)+\",\"+(n[1]+58-90)+\")\").attr(\"display\",\"inline\"),_.o(\"#bubblechart_tooltip_arrow_left\").attr(\"display\",\"inline\"),_.o(\"#bubblechart_tooltip_arrow_right\").attr(\"display\",\"none\")):(_.o(\"#bubblechart_tooltip\").attr(\"transform\",\"translate(\"+(n[0]-220)+\",\"+(n[1]+58-90)+\")\").attr(\"display\",\"inline\"),_.o(\"#bubblechart_tooltip_arrow_left\").attr(\"display\",\"none\"),_.o(\"#bubblechart_tooltip_arrow_right\").attr(\"display\",\"inline\")),_.p(\".bubble\").attr(\"opacity\",.4),_.o(this).attr(\"opacity\",1).style(\"stroke-width\",2)})).on(\"mouseout\",(function(t){if(\"tspan\"==t.toElement)return!1;_.o(\"#bubbleSelectContainer\").style(\"z-index\",2),_.o(\"#bubblechart_tooltip\").attr(\"display\",\"none\"),_.p(\".bubble\").attr(\"opacity\",1).style(\"stroke-width\",1)})),\"percent-vaccinated-at-least-1-dose\"==e.bubble_chart_y_axis&&_.o(\"#bubble_y_axis_label tspan\").text(\"% vaccinated at least 1 dose\"),\"percent-fully-vaccinated\"==e.bubble_chart_y_axis&&_.o(\"#bubble_y_axis_label tspan\").text(\"% fully vaccinated\"),\"percent-vaccine-acceptance\"==e.bubble_chart_y_axis&&_.o(\"#bubble_y_axis_label tspan\").text(\"% vaccine acceptance\")}var xt={region_chart_toggle:\"cases\",region_switch:\"total\",region_filter:[],country_filter:[],hdi_filter:[],inform_filter:[],timeline_type:\"non-cumulative\",timeline_frequency:\"week\",map_toggle:\"cases\",tab_toggle:\"vaccination-data\",table_sort:\"col1_sort\",table_sort_direction:\"desc\",bubble_chart_color_by:\"hdi\",bubble_chart_y_axis:\"percent-vaccinated-at-least-1-dose\",brushL:0,brushR:600,page:1,numPages:1},wt=a(18),kt=a(3),Ft=a.n(kt);var Ot=function(t,e){var a;t.regions=[{sort:5,code:\"AF\",cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0},{sort:3,code:\"ME\",cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0},{sort:4,code:\"AP\",cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0},{sort:2,code:\"EU\",cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0},{sort:1,code:\"AM\",cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0},{sort:6,code:\"OTH\",cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0}],t.regions.sort((function(t,e){return t.sort-e.sort})),t.country=t.equity_data,t.country.forEach((function(e,a){\"AF\"!=e.ifrc_region&&\"ME\"!=e.ifrc_region&&\"AP\"!=e.ifrc_region&&\"EU\"!=e.ifrc_region&&\"AM\"!=e.ifrc_region&&(e.ifrc_region=\"OTH\"),e.population=parseInt(e.population)||0;var n=0;e.population>0&&(n=e.population),t.regions.forEach((function(t,a){t.code==e.ifrc_region&&(t.population+=n)})),e.vaccines_used=[],e.avg_tests_per_1000=parseFloat(e.avg_tests_per_1000)||0,e.number_vaccine_types_used=0,e.vaccines_per_100=0,e.number_vaccine_types_used=parseInt(e.avg_tests_per_1000),t.vaccines_who_data.forEach((function(t,a){e.country_iso3==t.ISO3&&(e.number_vaccine_types_used=parseInt(t.NUMBER_VACCINES_TYPES_USED),e.vaccines_per_100=parseFloat(t.TOTAL_VACCINATIONS_PER100),isNaN(e.vaccines_per_100)&&(e.vaccines_per_100=0),e.vaccines_used=t.VACCINES_USED.split(\",\").map((function(t){return t.trim()})))})),e.ns_involvement=0,t.self_assessment.forEach((function(t,a){e.country_iso3==t.ISO3&&\"Yes\"==t[\"Final involvement\"]&&(e.ns_involvement=1)})),e.vaccine_acceptance_percent=0,t.vaccine_acceptance.forEach((function(t,a){e.country_iso3==t.iso3&&(e.vaccine_acceptance_percent=100*parseFloat(t.indicator_value),e.vaccine_acceptance_population=parseInt(t.population_size))})),\"all\"==e.contract_tracing.toLowerCase()||\"some\"==e.contract_tracing.toLowerCase()?e.contract_tracing=1:e.contract_tracing=0,e.hdi_category.match(/very high/i)?e.hdi_category=\"very-high\":e.hdi_category.match(/high/i)?e.hdi_category=\"high\":e.hdi_category.match(/medium/i)?e.hdi_category=\"medium\":e.hdi_category.match(/low/i)&&(e.hdi_category=\"low\"),e.inform_severity.match(/very high/i)?e.inform_severity=\"very-high\":e.inform_severity.match(/high/i)?e.inform_severity=\"high\":e.inform_severity.match(/medium/i)?e.inform_severity=\"medium\":e.inform_severity.match(/low/i)?e.inform_severity=\"low\":e.inform_severity.match(/no/i)&&(e.inform_severity=\"no-score\")}));var n=h()(new Date(Object(_.h)(t.who_data,(function(t){return t.Date_reported})))).startOf(\"day\");t.min_date=h()(\"2019-12-31\").startOf(\"day\").toDate();var i=h()(new Date(Object(_.h)(t.vaccines_data,(function(t){return t.date})))).startOf(\"day\");t.min_vaccine_date=h()(new Date(Object(_.j)(t.vaccines_data,(function(t){return t.date})))).startOf(\"day\").toDate(),t.max_vaccine_date=i.toDate(),i.unix()>n.unix()&&(n=i),t.max_date=n.toDate(),t.who_data.forEach((function(e,a){e.date=h()(e.Date_reported).startOf(\"day\").toDate(),e.country_code=e.Country_code,e.country_name=null,t.country.forEach((function(t,a){t.country_iso2===e.country_code&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name)})),e.cumulative_deaths=parseInt(e.Cumulative_deaths),e.cumulative_cases=parseInt(e.Cumulative_cases),e.new_cases=parseInt(e.New_cases),e.new_deaths=parseInt(e.New_deaths)})),t.who_data.sort((function(t,e){return new Date(t.date)-new Date(e.Date_reported)}));var r=Object(_.f)(t.who_data,(function(t){return t.country_code})),o=[];r.forEach((function(e,a){var n=h()(Object(_.h)(e[1],(function(t){return t.date}))).startOf(\"day\"),i=H()(e[1][e[1].length-1]);n.unix()!=t.max_date.getTime()&&(i.date=new Date(t.max_date),i.new_cases=0,i.new_deaths=0,o.push(i))})),(a=t.who_data).push.apply(a,o),t.who_data.sort((function(t,e){return new Date(t.date)-new Date(e.date)}));var c=-1,l=0,s=-1,u=-1,d=0,p=0,g=[];t.who_data.forEach((function(t,e){t.dayOfYear=h()(t.date).dayOfYear(),t.dayOfYear!==l&&c++,t.dayTotal=c,t.week=h()(t.date).isoWeek(),t.week!==u&&s++,t.weekTotal=s,t.month=t.date.getMonth(),t.month!==p&&d++,t.monthTotal=d,t.year=t.date.getFullYear(),t.week_start=new Date(h()(t.date).startOf(\"isoWeek\").startOf(\"day\").toDate()),t.month_start=new Date(h()(t.date).startOf(\"month\").startOf(\"day\").toDate()),t.new_deaths<0&&(t.new_deaths=0),t.new_cases<0&&(t.new_cases=0),void 0==t.ifrc_region&&(t.ifrc_region=\"OTH\"),!g.includes(t.country_code)&&t.country_code.length>1&&g.push(t.country_code),delete t.Date_reported,delete t.Country,delete t.New_cases,delete t.New_deaths,delete t.Country_code,delete t.Cumulative_deaths,delete t.Cumulative_cases,delete t.Country_code,delete t.WHO_region,delete t.Country,l=t.dayOfYear,u=t.week,p=t.month})),t.vaccines_data.forEach((function(t,e){t.date=h()(t.date).startOf(\"day\").toDate()})),t.vaccines_data.sort((function(t,e){return new Date(t.date)-new Date(e.date)})),t.vaccines_data=t.vaccines_data.filter((function(t,e){return 3===t.iso_code.length&&t.total_vaccinations>0}));var m=Object(_.f)(t.vaccines_data,(function(t){return t.iso_code})),f=[],y=[],v=[];m.forEach((function(e,a){var n;new Date(t.min_date),new Date(t.max_date);y=[],f=[],e.lastDate=h()(Object(_.h)(e[1],(function(t,e){return t.date}))).startOf(\"day\").toDate(),t.country.forEach((function(t,a){t.country_iso3===e[0]&&(e.ifrc_region=t.ifrc_region,e.country_name=t.country_name,e.country_code=t.country_iso2,t.data_updated=e.lastDate)})),e[1].forEach((function(t,e){t.total_vaccinations=parseInt(t.total_vaccinations),t.daily_vaccinations=parseInt(t.daily_vaccinations),y.push(new Date(t.date).getTime())}));for(var i=new Date(t.min_vaccine_date);i<=t.max_date;i.setDate(i.getDate()+1)){var r=new Date(i).getTime();y.includes(r)||f.push({date:new Date(i),total_vaccinations:null,daily_vaccinations:0})}(n=e[1]).push.apply(n,Object(wt.a)(f)),e[1].sort((function(t,e){return new Date(t.date)-new Date(e.date)}));var o=0,c=0,l=0,s=0;e[1].forEach((function(t,a){var n;t.total_vaccinations?o=t.total_vaccinations:t.total_vaccinations=o,t.total_vaccinations_per_hundred?c=t.total_vaccinations_per_hundred:t.total_vaccinations_per_hundred=c,t.people_vaccinated_per_hundred?l=t.people_vaccinated_per_hundred:t.people_vaccinated_per_hundred=l,t.people_fully_vaccinated_per_hundred?s=t.people_fully_vaccinated_per_hundred:t.people_fully_vaccinated_per_hundred=s,n=null==e.country_name?e[0]:e.country_name;var i=0;t.daily_vaccinations&&t.daily_vaccinations>0&&(i=t.daily_vaccinations),v.push({date:new Date(t.date),lastDate:e.lastDate,total_vaccinations_per_hundred:parseFloat(c),people_vaccinated_per_hundred:parseFloat(l),people_fully_vaccinated_per_hundred:parseFloat(s),iso_code:e[0],ifrc_region:e.ifrc_region,country_name:n,country_code:e.country_code,total_vaccinations:o,daily_vaccinations:i})}))})),t.vaccines_data=v,t.vaccines_data.sort((function(t,e){return new Date(t.date)-new Date(e.date)})),c=-1,l=0,s=-1,u=-1,d=0,p=0,t.vaccines_data.forEach((function(t,e){void 0==t.ifrc_region&&(t.ifrc_region=\"OTH\"),t.dayOfYear=h()(t.date).dayOfYear(),t.dayOfYear!==l&&c++,t.dayTotal=c,t.week=h()(t.date).isoWeek(),t.week!==u&&s++,t.weekTotal=s,t.month=t.date.getMonth(),t.month!==p&&d++,t.monthTotal=d,t.year=t.date.getFullYear(),l=t.dayOfYear,u=t.week,p=t.month,t.week_start=new Date(h()(t.date).startOf(\"isoWeek\").toDate()),t.month_start=new Date(h()(t.date).startOf(\"month\").toDate())})),m=Object(_.f)(t.vaccines_data,(function(t){return t.country_code}));var b=Object(_.f)(t.who_data,(function(t){return t.country_code}));t.country.forEach((function(t,e){t.cumulative_cases_per_100k=0,t.cumulative_deaths_per_100k=0,t.cumulative_vaccines_per_100k=0,t.people_fully_vaccinated_per_hundred=0,t.people_vaccinated_per_hundred=0,t.total_vaccinations_per_hundred=0;var a=t.country_iso2;b.forEach((function(e,n){if(e[0]==a){t.who_daily_latest=e[1][e[1].length-1],t.who_daily_7_days=e[1][e[1].length-8],t.who_daily_14_days=e[1][e[1].length-15],t.who_daily_21_days=e[1][e[1].length-22],t.who_daily_28_days=e[1][e[1].length-29],t.cumulative_cases_per_100k=t.who_daily_latest.cumulative_cases/(t.population/1e5),t.cumulative_deaths_per_100k=t.who_daily_latest.cumulative_deaths/(t.population/1e5),t.cumulative_cases=t.who_daily_latest.cumulative_cases,t.cumulative_deaths=t.who_daily_latest.cumulative_deaths,t.cumulative_deaths_7_days=t.who_daily_7_days.cumulative_deaths,t.cumulative_deaths_14_days=t.who_daily_14_days.cumulative_deaths,t.cumulative_deaths_21_days=t.who_daily_21_days.cumulative_deaths,t.cumulative_deaths_28_days=t.who_daily_28_days.cumulative_deaths,t.cumulative_cases_7_days=t.who_daily_7_days.cumulative_cases,t.cumulative_cases_14_days=t.who_daily_14_days.cumulative_cases,t.cumulative_cases_21_days=t.who_daily_21_days.cumulative_cases,t.cumulative_cases_28_days=t.who_daily_28_days.cumulative_cases;var i=parseFloat((t.cumulative_cases-t.cumulative_cases_14_days-(t.cumulative_cases_14_days-t.cumulative_cases_28_days))/(t.cumulative_cases_14_days-t.cumulative_cases_28_days));isFinite(i)?t.percent_change=i:t.percent_change=0}})),m.forEach((function(e,n){e[0]==a&&(e[0],t.vaccine_daily_latest=e[1][e[1].length-1],t.cumulative_vaccines_per_100k=t.vaccine_daily_latest.total_vaccinations/(t.population/1e5),t.people_fully_vaccinated_per_hundred=t.vaccine_daily_latest.people_fully_vaccinated_per_hundred,t.people_vaccinated_per_hundred=t.vaccine_daily_latest.people_vaccinated_per_hundred,t.total_vaccinations_per_hundred=t.vaccine_daily_latest.total_vaccinations_per_hundred,t.total_vaccinations=t.vaccine_daily_latest.total_vaccinations)})),isFinite(t.cumulative_cases_per_100k)||(t.cumulative_cases_per_100k=0),isFinite(t.cumulative_deaths_per_100k)||(t.cumulative_deaths_per_100k=0),isFinite(t.cumulative_vaccines_per_100k)||(t.cumulative_vaccines_per_100k=0),t.country_code=t.country_iso2})),t.original=H()(t)},At=(a(128),a(129),a(130),a(19)),Et=a.n(At);a(131);Et.a.accessToken=\"pk.eyJ1IjoiZ28taWZyYyIsImEiOiJjams3b2ZhZWswMGFvM3hxeHp2ZHFhOTRrIn0._pqO9OQ2iNeDGrpopJNjpg\";var qt,Tt;function Nt(t,e,a){_.o(\"#map-refresh\").attr(\"display\",\"none\").style(\"cursor\",\"pointer\").on(\"click\",(function(t,e){qt.setCenter([8,22]),qt.setZoom(0),_.o(\"#map-refresh\").attr(\"display\",\"none\")})),(qt=new Et.a.Map({container:\"map_div\",style:\"mapbox://styles/go-ifrc/ckqrsg27f1cwu17pex8w2de2e\",center:[8,22],preserveDrawingBuffer:!0,zoom:0})).setRenderWorldCopies(!1),qt.addControl(new Et.a.NavigationControl),qt.scrollZoom.disable(),qt.on(\"zoom\",(function(){_.o(\"#map_tooltip\").attr(\"display\",\"none\"),_.o(\"#map-refresh\").attr(\"display\",\"inline\")})),qt.on(\"touchmove\",(function(){_.o(\"#map_tooltip\").attr(\"display\",\"none\"),_.o(\"#map-refresh\").attr(\"display\",\"inline\")})),qt.on(\"wheel\",(function(){_.o(\"#map_tooltip\").attr(\"display\",\"none\"),_.o(\"#map-refresh\").attr(\"display\",\"inline\")})),qt.on(\"drag\",(function(){_.o(\"#map_tooltip\").attr(\"display\",\"none\"),_.o(\"#map-refresh\").attr(\"display\",\"inline\")}));var n=qt.getCanvasContainer();_.o(n).append(\"svg\").attr(\"id\",\"mapoverlay\").attr(\"width\",\"100%\").attr(\"height\",\"24vw\").style(\"position\",\"absolute\").style(\"z-index\",2);Tt=_.o(\"#map_tooltip\").attr(\"opacity\",1).attr(\"transform\",\"translate(0,0)\").attr(\"display\",\"inline\"),_.o(\"#map_div\").append(\"svg\").attr(\"width\",\"18vw\").attr(\"height\",\"1.5vw\").attr(\"id\",\"maplegend\").attr(\"viewBox\",\"-3 0 227 18\").style(\"background-color\",\"rgba(255,255,255,0.8)\"),document.getElementById(\"maplegend\").appendChild(_.o(\"#red_legend\").node()),document.getElementById(\"maplegend\").appendChild(_.o(\"#blue_legend\").node()),document.getElementById(\"maplegend\").appendChild(_.o(\"#bi_legend\").node()),_.o(\"#red_legend\").attr(\"transform\",\"translate(20,0)\"),_.o(\"#blue_legend\").attr(\"transform\",\"translate(20,0)\"),_.o(\"#bi_legend\").attr(\"transform\",\"translate(0,0)\"),_.o(\"#bi_legend\").attr(\"display\",\"none\"),_.o(\"#blue_legend\").attr(\"display\",\"none\"),document.getElementById(\"mapoverlay\").appendChild(_.o(\"#map_tooltip\").node()),Tt.attr(\"display\",\"none\"),qt.on(\"load\",(function(a){qt.setPaintProperty(\"countries\",\"fill-opacity-transition\",{duration:0,delay:0}),Dt(t,e)}))}function Dt(t,e){if(qt.setLayoutProperty(\"countries\",\"visibility\",\"none\"),\"bi-weekly-change\"==e.map_toggle){var a=_.h(t.country,(function(t,e){return t.percent_change})),n=_.j(t.country,(function(t,e){return t.percent_change}));_.o(\"#bi_legend\").attr(\"display\",\"inline\"),_.o(\"#blue_legend\").attr(\"display\",\"none\"),_.o(\"#red_legend\").attr(\"display\",\"none\"),(a=.1*Math.ceil(a/.1))>1&&(a=1),(n=.1*Math.floor(n/.1))<-1&&(n=-1),_.o(\"#bi_legend_dec_val\").attr(\"text-anchor\",\"end\"),a<1?_.o(\"#bi_legend_inc_val tspan\").text(Math.round(100*a)+\"%\"):_.o(\"#bi_legend_inc_val tspan\").text(Math.round(100*a)+\"% +\"),n>-1?_.o(\"#bi_legend_dec_val tspan\").text(Math.round(100*Math.abs(n))+\"%\").attr(\"dx\",14):_.o(\"#bi_legend_dec_val tspan\").text(Math.round(100*Math.abs(n))+\"% +\").attr(\"dx\",14);var i=_.l().domain([n,0,a]).range([m.blue,m.lightgrey,m.red]),r=[\"case\"];t.country.forEach((function(t,e){isFinite(t.percent_change)&&(r.push([\"==\",[\"get\",\"iso\"],t.country_code]),r.push(i(t.percent_change)))})),r.length>1&&(r.push(m.darkgrey),qt.setPaintProperty(\"countries\",\"fill-color\",r))}if(\"cases\"==e.map_toggle){var o=_.h(t.country,(function(t,e){return t.cumulative_cases_per_100k}));_.o(\"#bi_legend\").attr(\"display\",\"none\"),_.o(\"#blue_legend\").attr(\"display\",\"none\"),_.o(\"#red_legend\").attr(\"display\",\"inline\"),_.o(\"#red_legend_title tspan\").text(\"Cases per 100k\"),o=o>1e3?100*Math.ceil(o/100):10*Math.ceil(o/10),_.o(\"#red_legend_val tspan\").text(f(o));i=_.l().domain([0,o]).range([m.lightgrey,m.red]),r=[\"case\"];t.country.forEach((function(t,e){r.push([\"==\",[\"get\",\"iso\"],t.country_code]),r.push(i(t.cumulative_cases_per_100k))})),r.length>1&&(r.push(m.darkgrey),qt.setPaintProperty(\"countries\",\"fill-color\",r))}if(\"deaths\"==e.map_toggle){o=_.h(t.country,(function(t,e){return t.cumulative_deaths_per_100k}));_.o(\"#bi_legend\").attr(\"display\",\"none\"),_.o(\"#blue_legend\").attr(\"display\",\"none\"),_.o(\"#red_legend\").attr(\"display\",\"inline\"),_.o(\"#red_legend_title tspan\").text(\"Deaths per 100k\"),o=o>1e3?100*Math.ceil(o/100):10*Math.ceil(o/10),_.o(\"#red_legend_val tspan\").text(f(o));i=_.l().domain([0,o]).range([m.lightgrey,m.red]),r=[\"case\"];t.country.forEach((function(t,e){r.push([\"==\",[\"get\",\"iso\"],t.country_code]),r.push(i(t.cumulative_deaths_per_100k))})),r.length>1&&(r.push(m.darkgrey),qt.setPaintProperty(\"countries\",\"fill-color\",r))}if(\"percent-fully-vaccinated\"==e.map_toggle){_.o(\"#bi_legend\").attr(\"display\",\"none\"),_.o(\"#blue_legend\").attr(\"display\",\"inline\"),_.o(\"#red_legend\").attr(\"display\",\"none\"),_.o(\"#blue_legend_title tspan\").text(\"Percent fully vaccinated\"),_.o(\"#blue_legend_val tspan\").text(\"100%\");i=_.l().domain([0,1]).range([m.lightgrey,m.blue]).clamp(!0),r=[\"case\"];t.country.forEach((function(t,e){var a=parseFloat(t.people_fully_vaccinated_per_hundred)/100;isNaN(a)&&(a=0),a>0&&(t.country_code&&r.push([\"==\",[\"get\",\"iso\"],t.country_code]),t.country_code&&r.push(i(a)))})),r.length>1?(r.push(m.darkgrey),qt.setPaintProperty(\"countries\",\"fill-color\",r)):qt.setPaintProperty(\"countries\",\"fill-color\",m.darkgrey)}if(\"percent-vaccine-acceptance\"==e.map_toggle){_.o(\"#bi_legend\").attr(\"display\",\"none\"),_.o(\"#blue_legend\").attr(\"display\",\"inline\"),_.o(\"#red_legend\").attr(\"display\",\"none\"),_.o(\"#blue_legend_title tspan\").text(\"% vaccine acceptance\"),_.o(\"#blue_legend_val tspan\").text(\"100%\");i=_.l().domain([0,1]).range([m.lightgrey,m.blue]).clamp(!0),r=[\"case\"];t.country.forEach((function(t,e){var a=parseFloat(t.vaccine_acceptance_percent)/100;isNaN(a)&&(a=0),a>0&&(t.country_code&&r.push([\"==\",[\"get\",\"iso\"],t.country_code]),t.country_code&&r.push(i(a)))})),r.length>1?(r.push(m.darkgrey),qt.setPaintProperty(\"countries\",\"fill-color\",r)):qt.setPaintProperty(\"countries\",\"fill-color\",m.darkgrey)}Tt.attr(\"display\",\"none\"),qt.on(\"mousemove\",(function(a){var n=qt.queryRenderedFeatures(a.point);if(1==n.length&&\"countries\"==n[0].layer.id){var i,r=n[0].properties.iso,o=t.equity_data.filter((function(t){return t.country_iso2==r}));if(o[0]&&(i=o[0].country_name),Tt.select(\"#map_tooltip_name tspan\").text(i),0==Tt.select(\"#map_tooltip_name tspan\").text().length&&Tt.attr(\"display\",\"none\"),\"cases\"==e.map_toggle){if(!(s=t.country.filter((function(t){return t.country_code==r}))[0])||0==s.length)return!1;Tt.select(\"#map_tooltip_val tspan\").text(f(Math.round(s.cumulative_cases_per_100k))+\" cases per 100k\")}if(\"deaths\"==e.map_toggle){if(!(s=t.country.filter((function(t){return t.country_code==r}))[0])||0==s.length)return!1;Tt.select(\"#map_tooltip_val tspan\").text(f(Math.round(s.cumulative_deaths_per_100k))+\" deaths per 100k\")}if(\"bi-weekly-change\"==e.map_toggle){if(!(s=t.country.filter((function(t){return t.country_code==r})))||0==s.length)return!1;var c=\"\";c=(l=(100*s[0].percent_change).toFixed(1))>=0?\"% increase\":\"% decrease\",Tt.select(\"#map_tooltip_val tspan\").text(Math.abs(l)+c)}if(\"percent-fully-vaccinated\"==e.map_toggle){if(!(s=t.country.filter((function(t){return t.country_code==r})))||0==s.length)return!1;var l=parseFloat(s[0].people_fully_vaccinated_per_hundred).toFixed(1);isNaN(l)?l=\"-\":l+=\"% fully vaccinated\",Tt.select(\"#map_tooltip_val tspan\").text(l)}if(\"percent-vaccine-acceptance\"==e.map_toggle){var s;if(!(s=t.country.filter((function(t){return t.country_code==r})))||0==s.length)return!1;l=parseFloat(s[0].vaccine_acceptance_percent).toFixed(1);isNaN(l)?l=\"-\":l+=\"% vaccine acceptance\",Tt.select(\"#map_tooltip_val tspan\").text(l)}(c=Tt.select(\"#map_tooltip_val tspan\").text()).includes(\"NaN\")&&Tt.attr(\"display\",\"none\"),_.o(\"#map_tooltip_bg\").attr(\"width\",20);var u=window.innerWidth/1329;Tt.attr(\"display\",\"inline\").attr(\"transform\",\"translate(\"+(a.point.x+20)+\",\"+a.point.y+\")scale(\"+u+\")\");Tt.node().getBBox();var d=_.o(\"#map_tooltip\").node().getBBox();_.o(\"#map_tooltip_bg\").attr(\"width\",parseFloat(d.width)+2),0==Tt.select(\"#map_tooltip_name tspan\").text().length&&Tt.attr(\"display\",\"none\")}else Tt.attr(\"display\",\"none\")})).on(\"mouseout\",(function(t){if(\"tspan\"==t.toElement)return!1;Tt.attr(\"display\",\"none\")})),qt.setLayoutProperty(\"countries\",\"visibility\",\"visible\")}var Mt=a(2),jt=\"./data/equity_data.csv\",Pt=\"./images/layout.svg\",Ct=\"https://covid19.who.int/WHO-COVID-19-global-data.csv\",St=\"https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.csv\",It=\"https://covid19.who.int/who-data/vaccination-data.csv\",Ht=\"./data/timeline.csv\",Bt=\"./data/self_assessment.csv\",zt=\"./data/vaccine_acceptance.csv\",Rt={},Lt=[{id:\"AM\",text:\"Americas\"},{id:\"EU\",text:\"Europe\"},{id:\"AP\",text:\"Asia-Pacific\"},{id:\"ME\",text:\"Middle East and North Africa\"},{id:\"AF\",text:\"Africa\"}],Wt=[];function Ut(t){return isNaN(t)?0:t}var Yt=function(){var t=Object(n.useState)(0),e=Object(u.a)(t,2),a=e[0],i=e[1],r=Object(n.useState)(\"Loading SVG layout...\"),o=Object(u.a)(r,2),c=o[0],d=o[1];function p(){return(p=Object(s.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_.t(Pt).then((function(t){_.o(\"#svg_container\").node().append(_.o(t.documentElement).attr(\"width\",\"100%\").attr(\"height\",\"100%\").node());var e=_.o(\"#svg_container svg\");e.select(\"title\").remove(),e.attr(\"id\",\"svg\"),_t(e,xt,Rt,m,b,Dt),i(.1),d(\"Loading equity data CSV...\"),_.e(jt).then((function(t){Rt.equity_data=t,t.forEach((function(t,e){Wt.push({text:t.country_name,id:\"Country-\"+t.country_iso2})})),w(),i(.1),d(\"Loading WHO data CSV...\"),_.e(St).then((function(t){Rt.vaccines_data=t,i(.07),d(\"Loading OWID vaccines data...\"),_.e(It).then((function(t){Rt.vaccines_who_data=t,i(.15),d(\"Loading OWID vaccines data...\"),_.e(Bt).then((function(t){Rt.self_assessment=t,i(.22),d(\"Loading self assessment...\"),_.e(zt).then((function(t){Rt.vaccine_acceptance=t,i(.3),d(\"Loading vaccine acceptance data...\"),_.e(Ht).then((function(t){Rt.timeline_data=t,i(.4),d(\"Loading WHO daily data...\"),_.e(Ct).then((function(t){Rt.who_data=t,i(.8),d(\"Loading complete.\"),i(1),Ot(Rt,xt),g(),_.o(\"#loaderDiv\").transition().duration(1e3).style(\"opacity\",0).on(\"end\",(function(){return _.o(\"#loaderDiv\").remove()}))}))}))}))}))}))}))}))}));case 2:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function g(){_.o(\"#who_data_date tspan\").text(h()(Rt.max_date).format(\"ll\")),_.o(\"#owid_data_date tspan\").text(h()(Rt.max_vaccine_date).format(\"ll\")),z(Rt,xt),tt(Rt,xt,m),b(Rt,xt),v(Rt,xt),Nt(Rt,xt),vt(Rt,xt)}function m(t,e){xt.page=1,\"clear\"==t&&(xt.region_filter=[],xt.country_filter=[],_.o(\"#reset_locations\").attr(\"display\",\"none\")),\"clear-region\"==t&&(xt.region_filter=[]),\"clear-hdi\"==t&&(xt.hdi_filter=[]),\"clear-inform\"==t&&(xt.inform_filter=[]),1==t.length&&2==t[0].length&&\"filter\"!=t&&(xt.region_filter.includes(t[0])?xt.region_filter=xt.region_filter.filter((function(e){return e!==t[0]})):xt.region_filter.push(t[0])),5==xt.region_filter.length&&(xt.region_filter=[]),xt.region_filter.length>0?(_.o(\"#region_remove_filter\").attr(\"opacity\",1),_.p(\".bar-labels\").attr(\"opacity\",.5),xt.region_filter.forEach((function(t,e){_.o(\".bar-label-\"+t).attr(\"opacity\",1)}))):(_.o(\"#region_remove_filter\").attr(\"opacity\",0),_.p(\".bar-labels\").attr(\"opacity\",1)),Rt.country=Rt.original.country;var a=[];xt.hdi_filter.length>0?(_.o(\"#hdi_remove_filter\").attr(\"opacity\",1),Rt.country.forEach((function(t,e){xt.hdi_filter.includes(t.hdi_category)&&a.push(t.country_iso2)}))):_.o(\"#hdi_remove_filter\").attr(\"opacity\",0);var n=[];if(xt.inform_filter.length>0?(_.o(\"#inform_remove_filter\").attr(\"opacity\",1),Rt.country.forEach((function(t,e){xt.inform_filter.includes(t.inform_severity)&&n.push(t.country_iso2)}))):_.o(\"#inform_remove_filter\").attr(\"opacity\",0),1==t.length&&t[0].length>2){var i=t[0].substring(8);xt.country_filter.includes(i)?xt.country_filter=xt.country_filter.filter((function(t){return t!==i})):xt.country_filter.push(i)}0==xt.region_filter.length&&0==xt.country_filter.length&&_.o(\"#reset_locations\").attr(\"display\",\"none\");var r=[];xt.country_filter.forEach((function(t,e){r.push(\"Country-\"+t)})),xt.region_filter.length>0||xt.country_filter.length>0?_.o(\"#reset_locations\").attr(\"display\",\"inline\"):_.o(\"#reset_locations\").attr(\"display\",\"none\");var o=xt.region_filter.concat(r);Ft()(\"#regionSelect\").val(o),Ft()(\"#regionSelect\").trigger(\"change\"),Rt.who_data=Rt.original.who_data,n.length>0&&(Rt.who_data=Rt.who_data.filter((function(t,e){return n.includes(t.country_code)}))),(xt.region_filter.length>0||xt.country_filter.length>0||a.length>0)&&(Rt.who_data=Rt.who_data.filter((function(t,e){return a.length>0?xt.region_filter.length>0||xt.country_filter.length>0?(xt.region_filter.includes(t.ifrc_region)||xt.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):xt.region_filter.includes(t.ifrc_region)||xt.country_filter.includes(t.country_code)}))),Rt.vaccines_data=Rt.original.vaccines_data,n.length>0&&(Rt.vaccines_data=Rt.vaccines_data.filter((function(t,e){return n.includes(t.country_code)}))),(xt.region_filter.length>0||xt.country_filter.length>0||a.length>0)&&(Rt.vaccines_data=Rt.vaccines_data.filter((function(t,e){return a.length>0?xt.region_filter.length>0||xt.country_filter.length>0?(xt.region_filter.includes(t.ifrc_region)||xt.country_filter.includes(t.country_code))&&a.includes(t.country_code):a.includes(t.country_code):xt.region_filter.includes(t.ifrc_region)||xt.country_filter.includes(t.country_code)}))),n.length>0&&(Rt.country=Rt.country.filter((function(t,e){return n.includes(t.country_iso2)}))),(xt.region_filter.length>0||xt.country_filter.length>0||a.length>0)&&(Rt.country=Rt.country.filter((function(t,e){return a.length>0?xt.region_filter.length>0||xt.country_filter.length>0?(xt.region_filter.includes(t.ifrc_region)||xt.country_filter.includes(t.country_iso2))&&a.includes(t.country_iso2):a.includes(t.country_iso2):xt.region_filter.includes(t.ifrc_region)||xt.country_filter.includes(t.country_iso2)}))),function(){var t=Ft()(\"#regionSelect\").select2(\"data\");Ft()(\"#regionSelectContainer\").width()/Ft()(\"#regionSelectContainer\").height()<10?(Ft()(\".select2-selection__choice\").hide(),Ft()(\".select2-search__field\").attr(\"placeholder\",t.length+\" LOCATIONS SELECTED\").css(\"width\",\"100%\")):(Ft()(\".select2-search__field\").attr(\"placeholder\",\"\"),Ft()(\".select2-selection__choice\").show())}(),et(xt,Rt),b(Rt,xt),v(Rt,xt),R(Rt,xt),Dt(Rt,xt),bt(Rt,xt)}function v(t,e){var a=t.country.length,n=_.q(t.country,(function(t){return t.cumulative_cases}));_.o(\"#total_cases tspan\").transition().duration(500).textTween((function(){return function(t){return y(_.g(0,n)(t))}})),0==n?_.p(\".bar_group\").attr(\"opacity\",0):_.p(\".bar_group\").attr(\"opacity\",1);var i=n-_.q(t.country,(function(t){return t.cumulative_cases_7_days}));_.o(\"#total_new_cases tspan\").text(\"-\"),_.o(\"#total_new_cases tspan\").transition().duration(500).textTween((function(){return function(t){return y(_.g(0,i)(t))}}));var r=_.q(t.country,(function(t){return t.cumulative_deaths}));_.o(\"#total_deaths tspan\").transition().duration(500).textTween((function(){return function(t){return y(_.g(0,r)(t))}}));var o=_.q(t.country,(function(t){return t.total_vaccinations}));_.o(\"#total_vaccines tspan\").transition().duration(500).textTween((function(){return function(t){return y(_.g(0,o)(t))}}));var c={population:0,vaccine_population:0},l={population:0,vaccine_acceptance_population:0},s=0;t.vaccine_types=[],t.country.forEach((function(e,a){e.vaccines_per_100>0&&e.population>0&&(c.population+=e.population,c.vaccine_population+=e.population*e.vaccines_per_100),e.vaccine_acceptance_population>0&&(l.population+=e.vaccine_acceptance_population,l.vaccine_acceptance_population+=e.vaccine_acceptance_population*e.vaccine_acceptance_percent),e.vaccines_used.forEach((function(e){!t.vaccine_types.includes(e)&&e.length>1&&!e.includes(\"nactiv\")&&t.vaccine_types.push(e)})),s+=e.ns_involvement})),_.o(\"#total_vac_100 tspan\").text(\"-\");var u=c.vaccine_population/c.population;u&&_.o(\"#total_vac_100 tspan\").transition().duration(500).textTween((function(){return function(t){return _.g(0,u)(t).toFixed(1)}})),_.o(\"#percent_acceptance tspan\").text(\"-\");var d=l.vaccine_acceptance_population/l.population;d&&_.o(\"#percent_acceptance tspan\").transition().duration(500).textTween((function(){return function(t){return Math.round(_.g(0,Math.round(d))(t))+\"%\"}})),_.o(\"#total_ns_countries tspan\").transition().duration(500).textTween((function(){return function(t){return Math.round(_.g(0,s)(t))}})),_.o(\"#num_vaccines tspan\").transition().duration(500).textTween((function(){return function(e){return Math.round(_.g(0,t.vaccine_types.length)(e))}})),_.p(\".vaccine_type\").remove(),_.o(\"#vaccine_tooltip_bg\").attr(\"height\",1),t.vaccine_types.forEach((function(t,e){_.o(\"#vaccine_tooltip\").append(\"text\").attr(\"font-size\",9).attr(\"fill\",\"#000\").attr(\"class\",\"vaccine_type\").append(\"tspan\").text(t).attr(\"dx\",6).attr(\"dy\",1.3*e+1.8+\"em\")}));var h=_.o(\"#vaccine_tooltip\").node().getBBox();_.o(\"#vaccine_tooltip_bg\").attr(\"height\",h.height+6);var p={\"very-high\":0,high:0,medium:0,low:0},g={\"very-high\":0,high:0,medium:0,low:0},m={\"very-high\":0,high:0,medium:0,low:0},v={\"very-high\":0,high:0,medium:0,low:0},b={\"very-high\":0,high:0,medium:0,low:0},x={\"very-high\":[],high:[],medium:[],low:[]},w={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},k={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},F={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},O={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},A={\"very-high\":0,high:0,medium:0,low:0,\"no-score\":0},E={\"very-high\":[],high:[],medium:[],low:[],\"no-score\":[]};n>0&&t.country.forEach((function(t,e){p[t.hdi_category]+=1,g[t.hdi_category]+=parseInt(t.population),m[t.hdi_category]+=parseInt(t.total_vaccinations)||0,w[t.inform_severity]+=1,O[t.inform_severity]+=t.contract_tracing,v[t.hdi_category]+=t.contract_tracing,\"very-high\"!=t.hdi_category&&\"high\"!=t.hdi_category&&\"medium\"!=t.hdi_category&&\"low\"!=t.hdi_category||x[t.hdi_category].push(t.avg_tests_per_1000),\"very-high\"!=t.inform_severity&&\"high\"!=t.inform_severity&&\"medium\"!=t.inform_severity&&\"low\"!=t.inform_severity&&\"no-score\"!=t.inform_severity||E[t.inform_severity].push(t.avg_tests_per_1000),k[t.inform_severity]+=parseInt(t.population),F[t.inform_severity]+=parseInt(t.total_vaccinations)||0,b[t.hdi_category]+=t.cumulative_cases||0,A[t.inform_severity]+=t.cumulative_cases||0}));var q=g[\"very-high\"]+g.high+g.medium+g.low,T=k[\"very-high\"]+k.high+k.medium+k.low+k[\"no-score\"];_.o(\"#hdi-percent-val-very-high tspan\").text(Ut(b[\"very-high\"]/n*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),_.o(\"#hdi-percent-bar-very-high\").transition().duration(500).attr(\"width\",70*Ut(b[\"very-high\"]/n)),_.o(\"#hdi-percent-val-high tspan\").text(Ut(b.high/n*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),_.o(\"#hdi-percent-bar-high\").transition().duration(500).attr(\"width\",70*Ut(b.high/n)),_.o(\"#hdi-percent-val-medium tspan\").text(Ut(b.medium/n*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),_.o(\"#hdi-percent-bar-medium\").transition().duration(500).attr(\"width\",70*Ut(b.medium/n)),_.o(\"#hdi-percent-val-low tspan\").text(Ut(b.low/n*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),_.o(\"#hdi-percent-bar-low\").transition().duration(500).attr(\"width\",70*Ut(b.low/n)),_.o(\"#inform-percent-val-very-high tspan\").text(Ut(A[\"very-high\"]/n*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),_.o(\"#inform-percent-bar-very-high\").transition().duration(500).attr(\"width\",64*Ut(A[\"very-high\"]/n)),_.o(\"#inform-percent-val-high tspan\").text(Ut(A.high/n*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),_.o(\"#inform-percent-bar-high\").transition().duration(500).attr(\"width\",64*Ut(A.high/n)),_.o(\"#inform-percent-val-medium tspan\").text(Ut(A.medium/n*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),_.o(\"#inform-percent-bar-medium\").transition().duration(500).attr(\"width\",64*Ut(A.medium/n)),_.o(\"#inform-percent-val-low tspan\").text(Ut(A.low/n*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),_.o(\"#inform-percent-bar-low\").transition().duration(500).attr(\"width\",64*Ut(A.low/n)),_.o(\"#inform-percent-val-no-score tspan\").text(Ut(A[\"no-score\"]/n*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"16\"),_.o(\"#inform-percent-bar-no-score\").transition().duration(500).attr(\"width\",64*Ut(A[\"no-score\"]/n)),_.o(\"#hdi-toggle-very-high-val tspan\").text(p[\"very-high\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),_.o(\"#hdi-toggle-high-val tspan\").text(p.high).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),_.o(\"#hdi-toggle-medium-val tspan\").text(p.medium).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),_.o(\"#hdi-toggle-low-val tspan\").text(p.low).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),_.o(\"#inform-toggle-very-high-val tspan\").text(w[\"very-high\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"6\"),_.o(\"#inform-toggle-high-val tspan\").text(w.high).style(\"text-anchor\",\"end\").attr(\"dx\",\"10\"),_.o(\"#inform-toggle-medium-val tspan\").text(w.medium).style(\"text-anchor\",\"end\").attr(\"dx\",\"9\"),_.o(\"#inform-toggle-low-val tspan\").text(w.low).style(\"text-anchor\",\"end\").attr(\"dx\",\"7\"),_.o(\"#inform-toggle-no-score-val tspan\").text(w[\"no-score\"]).style(\"text-anchor\",\"end\").attr(\"dx\",\"13\"),_.o(\"#hdi1val-very-high tspan\").text(Ut(g[\"very-high\"]/q*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi1bar-very-high\").transition().duration(500).attr(\"width\",70*Ut(g[\"very-high\"]/q)),_.o(\"#hdi1val-high tspan\").text(Ut(g.high/q*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi1bar-high\").transition().duration(500).attr(\"width\",70*Ut(g.high/q)),_.o(\"#hdi1val-medium tspan\").text(Ut(g.medium/q*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi1bar-medium\").transition().duration(500).attr(\"width\",70*Ut(g.medium/q)),_.o(\"#hdi1val-low tspan\").text(Ut(g.low/q*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi1bar-low\").transition().duration(500).attr(\"width\",70*Ut(g.low/q)),_.o(\"#inform1val-very-high tspan\").text(Ut(k[\"very-high\"]/T*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform1bar-very-high\").transition().duration(500).attr(\"width\",64*Ut(k[\"very-high\"]/T)),_.o(\"#inform1val-high tspan\").text(Ut(k.high/T*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform1bar-high\").transition().duration(500).attr(\"width\",64*Ut(k.high/T)),_.o(\"#inform1val-medium tspan\").text(Ut(k.medium/T*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform1bar-medium\").transition().duration(500).attr(\"width\",64*Ut(k.medium/T)),_.o(\"#inform1val-low tspan\").text(Ut(k.low/T*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform1bar-low\").transition().duration(500).attr(\"width\",64*Ut(k.low/T)),_.o(\"#inform1val-no-score tspan\").text(Ut(k[\"no-score\"]/T*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform1bar-no-score\").transition().duration(500).attr(\"width\",64*Ut(k[\"no-score\"]/T)),_.o(\"#hdi2val-very-high tspan\").text(Ut(m[\"very-high\"]/o*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi2bar-very-high\").transition().duration(500).attr(\"width\",70*Ut(m[\"very-high\"]/o)),_.o(\"#hdi2val-high tspan\").text(Ut(m.high/o*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi2bar-high\").transition().duration(500).attr(\"width\",70*Ut(m.high/o)),_.o(\"#hdi2val-medium tspan\").text(Ut(m.medium/o*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi2bar-medium\").transition().duration(500).attr(\"width\",70*Ut(m.medium/o)),_.o(\"#hdi2val-low tspan\").text(Ut(m.low/o*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi2bar-low\").transition().duration(500).attr(\"width\",70*Ut(m.low/o)),_.o(\"#inform2val-very-high tspan\").text(Ut(F[\"very-high\"]/o*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform2bar-very-high\").transition().duration(500).attr(\"width\",64*Ut(F[\"very-high\"]/o)),_.o(\"#inform2val-high tspan\").text(Ut(F.high/o*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform2bar-high\").transition().duration(500).attr(\"width\",64*Ut(F.high/o)),_.o(\"#inform2val-medium tspan\").text(Ut(F.medium/o*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform2bar-medium\").transition().duration(500).attr(\"width\",64*Ut(F.medium/o)),_.o(\"#inform2val-low tspan\").text(Ut(F.low/o*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform2bar-low\").transition().duration(500).attr(\"width\",64*Ut(F.low/o)),_.o(\"#inform2val-no-score tspan\").text(Ut(F[\"no-score\"]/o*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform2bar-no-score\").transition().duration(500).attr(\"width\",64*Ut(F[\"no-score\"]/o));var N=_.h([m.low,m.medium,m.high,m[\"very-high\"]]),D=_.h([F.low,F.medium,F.high,F[\"very-high\"],F[\"no-score\"]]);_.o(\"#hdi3val-very-high tspan\").text(y(m[\"very-high\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi3bar-very-high\").transition().duration(500).attr(\"width\",70*Ut(m[\"very-high\"]/N)),_.o(\"#hdi3val-high tspan\").text(y(m.high)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi3bar-high\").transition().duration(500).attr(\"width\",70*Ut(m.high/N)),_.o(\"#hdi3val-medium tspan\").text(y(m.medium)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi3bar-medium\").transition().duration(500).attr(\"width\",70*Ut(m.medium/N)),_.o(\"#hdi3val-low tspan\").text(y(m.low)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi3bar-low\").transition().duration(500).attr(\"width\",70*Ut(m.low/N)),_.o(\"#inform3val-very-high tspan\").text(y(F[\"very-high\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform3bar-very-high\").transition().duration(500).attr(\"width\",64*Ut(F[\"very-high\"]/D)),_.o(\"#inform3val-high tspan\").text(y(F.high)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform3bar-high\").transition().duration(500).attr(\"width\",64*Ut(F.high/D)),_.o(\"#inform3val-medium tspan\").text(y(F.medium)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform3bar-medium\").transition().duration(500).attr(\"width\",64*Ut(F.medium/D)),_.o(\"#inform3val-low tspan\").text(y(F.low)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform3bar-low\").transition().duration(500).attr(\"width\",64*Ut(F.low/D)),_.o(\"#inform3val-no-score tspan\").text(y(F[\"no-score\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform3bar-no-score\").transition().duration(500).attr(\"width\",64*Ut(F[\"no-score\"]/D)),_.o(\"#hdi4val-very-high tspan\").text(Ut(v[\"very-high\"]/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi4bar-very-high\").transition().duration(500).attr(\"width\",70*Ut(v[\"very-high\"]/a)),_.o(\"#hdi4val-high tspan\").text(Ut(v.high/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi4bar-high\").transition().duration(500).attr(\"width\",70*Ut(v.high/a)),_.o(\"#hdi4val-medium tspan\").text(Ut(v.medium/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi4bar-medium\").transition().duration(500).attr(\"width\",70*Ut(v.medium/a)),_.o(\"#hdi4val-low tspan\").text(Ut(v.low/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi4bar-low\").transition().duration(500).attr(\"width\",70*Ut(v.low/a)),_.o(\"#inform4val-very-high tspan\").text(Ut(O[\"very-high\"]/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform4bar-very-high\").transition().duration(500).attr(\"width\",64*Ut(O[\"very-high\"]/a)),_.o(\"#inform4val-high tspan\").text(Ut(O.high/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform4bar-high\").transition().duration(500).attr(\"width\",64*Ut(O.high/a)),_.o(\"#inform4val-medium tspan\").text(Ut(O.medium/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform4bar-medium\").transition().duration(500).attr(\"width\",64*Ut(O.medium/a)),_.o(\"#inform4val-low tspan\").text(Ut(O.low/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform4bar-low\").transition().duration(500).attr(\"width\",64*Ut(O.low/a)),_.o(\"#inform4val-no-score tspan\").text(Ut(O[\"no-score\"]/a*100).toFixed(0)+\"%\").style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform4bar-no-score\").transition().duration(500).attr(\"width\",64*Ut(O[\"no-score\"]/a)),x.low=Math.round(_.i(x.low))||0,x.medium=Math.round(_.i(x.medium))||0,x.high=Math.round(_.i(x.high))||0,x[\"very-high\"]=Math.round(_.i(x[\"very-high\"]))||0,E[\"no-score\"]=Math.round(_.i(E[\"no-score\"]))||0,E.low=Math.round(_.i(E.low))||0,E.medium=Math.round(_.i(E.medium))||0,E.high=Math.round(_.i(E.high))||0,E[\"very-high\"]=Math.round(_.i(E[\"very-high\"]))||0;var M=_.h([x.low,x.medium,x.high,x[\"very-high\"]]),j=_.h([E.low,E.medium,E.high,E[\"very-high\"],E[\"no-score\"]]);_.o(\"#hdi5val-very-high tspan\").text(f(x[\"very-high\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi5bar-very-high\").transition().duration(500).attr(\"width\",70*Ut(x[\"very-high\"]/M)),_.o(\"#hdi5val-high tspan\").text(f(x.high)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi5bar-high\").transition().duration(500).attr(\"width\",70*Ut(x.high/M)),_.o(\"#hdi5val-medium tspan\").text(f(x.medium)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi5bar-medium\").transition().duration(500).attr(\"width\",70*Ut(x.medium/M)),_.o(\"#hdi5val-low tspan\").text(f(x.low)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#hdi5bar-low\").transition().duration(500).attr(\"width\",70*Ut(x.low/M)),_.o(\"#inform5val-very-high tspan\").text(f(E[\"very-high\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform5bar-very-high\").transition().duration(500).attr(\"width\",64*Ut(E[\"very-high\"]/j)),_.o(\"#inform5val-high tspan\").text(f(E.high)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform5bar-high\").transition().duration(500).attr(\"width\",64*Ut(E.high/j)),_.o(\"#inform5val-medium tspan\").text(f(E.medium)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform5bar-medium\").transition().duration(500).attr(\"width\",64*Ut(E.medium/j)),_.o(\"#inform5val-low tspan\").text(f(E.low)).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform5bar-low\").transition().duration(500).attr(\"width\",64*Ut(E.low/j)),_.o(\"#inform5val-no-score tspan\").text(f(E[\"no-score\"])).style(\"text-anchor\",\"end\").attr(\"dx\",\"\"),_.o(\"#inform5bar-no-score\").transition().duration(500).attr(\"width\",64*Ut(E[\"no-score\"]/j)),_.o(\"#countries_filtered tspan\").text(a+\" countries filtered\").style(\"text-anchor\",\"end\").attr(\"dx\",\"105\")}function b(t,e){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(l.a.mark((function t(e,a){var n,i,r,o,c,s,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(\"col0_sort\"==a.table_sort&&(n=\"country_name\"),\"col1_sort\"==a.table_sort&&(n=\"total_vaccinations_per_hundred\"),\"col2_sort\"==a.table_sort&&(n=\"people_vaccinated_per_hundred\"),\"col3_sort\"==a.table_sort&&(n=\"people_fully_vaccinated_per_hundred\"),\"col4_sort\"==a.table_sort&&(n=\"vaccine_acceptance_percent\"),\"col5_sort\"==a.table_sort&&(n=\"total_vaccinations\"),i=0;i<6;i++)_.o(\"#col\"+i+\"_sort_desc\").attr(\"opacity\",0),_.o(\"#col\"+i+\"_sort_asc\").attr(\"opacity\",0);_.o(\"#\"+a.table_sort+\"_\"+a.table_sort_direction).attr(\"opacity\",1),\"country_name\"==n?\"asc\"==a.table_sort_direction?e.country.sort((function(t,e){return e.country_name.localeCompare(t.country_name)})):e.country.sort((function(t,e){return t.country_name.localeCompare(e.country_name)})):\"desc\"==a.table_sort_direction?e.country.sort((function(t,e){return e[n]-t[n]})):e.country.sort((function(t,e){return t[n]-e[n]})),_.p(\".tablerow\").remove(),_.p(\".col1bar\").attr(\"opacity\",0),_.p(\".col2bar\").attr(\"opacity\",0),_.p(\".col3bar\").attr(\"opacity\",0),_.p(\".col4bar\").attr(\"opacity\",0),_.p(\".colbg\").attr(\"opacity\",0),_.p(\".table_country_name tspan\").text(\"\"),a.numPages=Math.ceil(e.country.length/10),_.o(\"#next\").attr(\"opacity\",(function(){return a.page==a.numPages?.5:1})),_.o(\"#prev\").attr(\"opacity\",(function(){return 1==a.page?.5:1})),_.o(\"#pagination_text\").attr(\"text-anchor\",\"end\"),_.o(\"#pagination_text tspan\").attr(\"x\",40),_.o(\"#pagination_text tspan\").text(\"Page \"+a.page+\" of \"+a.numPages),r=0,10,o=function(t){return new Promise((function(e){return setTimeout(e,t)}))},c=10*(a.page-1);case 26:if(!(c<10*a.page)){t.next=56;break}if(s=e.country[c],e.country[c]){t.next=34;break}return _.o(\"#col1bar\"+r).attr(\"width\",0),_.o(\"#col2bar\"+r).attr(\"width\",0),_.o(\"#col3bar\"+r).attr(\"width\",0),_.o(\"#col4bar\"+r).attr(\"width\",0),t.abrupt(\"continue\",53);case 34:return _.o(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow table_country_name\").text((function(){var t;return 17==(t=(t=s.country_name?s.country_name:s.country_code).substring(0,17)).length&&(t+=\".\"),t})).attr(\"x\",0).attr(\"y\",(function(){return 80+24.8*r})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.o(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow table_country_name\").text((function(){var t=parseFloat(s.total_vaccinations_per_hundred).toFixed(1);return isNaN(t)||0==t?\"\":t})).style(\"text-anchor\",\"end\").attr(\"x\",112).attr(\"y\",(function(){return 80+24.8*r})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.o(\"#col1bar\"+r).attr(\"opacity\",1).transition().duration(200).attr(\"width\",(function(){var t=s.total_vaccinations_per_hundred;return s.total_vaccinations_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),_.o(\"#col1bg\"+r).attr(\"opacity\",1),_.o(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=parseFloat(s.people_vaccinated_per_hundred).toFixed(1);return isNaN(t)||0==t?\"\":t+\"%\"})).style(\"text-anchor\",\"end\").attr(\"x\",223).attr(\"y\",(function(){return 80+24.8*r})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.o(\"#col2bar\"+r).attr(\"opacity\",1).transition().duration(200).attr(\"width\",(function(){var t=s.people_vaccinated_per_hundred;return s.people_vaccinated_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),_.o(\"#col2bg\"+r).attr(\"opacity\",1),_.o(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=parseFloat(s.people_fully_vaccinated_per_hundred).toFixed(1);return isNaN(t)||0==t?\"\":t+\"%\"})).style(\"text-anchor\",\"end\").attr(\"x\",335).attr(\"y\",(function(){return 80+24.8*r})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.o(\"#col3bar\"+r).attr(\"opacity\",1).transition().duration(200).attr(\"width\",(function(){var t=s.people_fully_vaccinated_per_hundred;return s.people_fully_vaccinated_per_hundred>100&&(t=100),isNaN(t)?0:t/100*68})),_.o(\"#col3bg\"+r).attr(\"opacity\",1),_.o(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=parseFloat(s.vaccine_acceptance_percent).toFixed(1);return isNaN(t)||0==t?\"\":t+\"%\"})).style(\"text-anchor\",\"end\").attr(\"x\",450).attr(\"y\",(function(){return 80+24.8*r})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.o(\"#col4bar\"+r).attr(\"opacity\",1).transition().duration(200).attr(\"width\",(function(){var t=s.vaccine_acceptance_percent;return s.vaccine_acceptance_percent>100&&(t=100),isNaN(t)?0:t/100*68})),_.o(\"#col4bg\"+r).attr(\"opacity\",1),u=_.r(\"%b %d\"),_.o(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=s.total_vaccinations;return isNaN(t)||0==t?\"\":y(t)})).style(\"text-anchor\",\"end\").attr(\"x\",572).attr(\"y\",(function(){return 80+24.8*r})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),_.o(\"#vac-tab\").append(\"text\").attr(\"class\",\"tablerow\").text((function(){var t=s.data_updated;return t?u(t):\"\"})).style(\"text-anchor\",\"end\").attr(\"x\",620).attr(\"y\",(function(){return 80+24.8*r})).style(\"fill\",\"#000\").style(\"font-size\",\"9px\"),r++,t.next=53,o(15);case 53:c++,t.next=26;break;case 56:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function w(){Ft()(\"#regionSelect\").select2({data:[{id:\"regions\",text:\"IFRC Regions\",children:Lt},{id:\"countries\",text:\"Countries\",children:Wt}],placeholder:\"\",scrollAfterSelect:!0,renderTemplate:function(t){return t.text||\"\\u200b\"},dropdownParent:Ft()(\"#regionDrop\"),shouldFocusInput:function(){return!1},templateResult:function(t){return Ft()(\"<span>\"+t.text+\"<span>\")}}).on(\"select2:unselecting\",(function(){Ft()(this).data(\"unselecting\",!0)})).on(\"select2:opening\",(function(t){Ft()(this).data(\"unselecting\")&&(Ft()(this).removeData(\"unselecting\"),t.preventDefault())})),Ft()(\"#regionSelect\").on(\"select2:select\",(function(t){m([t.params.data.id])})),Ft()(\"#regionSelect\").on(\"select2:unselect\",(function(t){m([t.params.data.id])})),_.o(\"#reset_locations\").style(\"cursor\",\"pointer\").on(\"click\",(function(){m(\"clear\")})),Ft()(\"#colorSelect\").select2({scrollAfterSelect:!0,minimumResultsForSearch:-1,renderTemplate:function(t){return t.text||\"\\u200b\"},dropdownParent:Ft()(\"#regionDrop\"),shouldFocusInput:function(){return!1},templateResult:function(t){return Ft()(\"<span>\"+t.text+\"<span>\")}}).on(\"select2:select\",(function(t){var e=t.params.data;xt.bubble_chart_color_by=e.id,bt(Rt,xt)})),Ft()(\"#ySelect\").select2({scrollAfterSelect:!0,minimumResultsForSearch:-1,renderTemplate:function(t){return t.text||\"\\u200b\"},dropdownParent:Ft()(\"#regionDrop\"),shouldFocusInput:function(){return!1},templateResult:function(t){return Ft()(\"<span>\"+t.text+\"<span>\")}}).on(\"select2:select\",(function(t){var e=t.params.data;xt.bubble_chart_y_axis=e.id,bt(Rt,xt)}))}return _.o(\"#prev\").style(\"cursor\",\"pointer\").attr(\"opacity\",.5).on(\"click\",(function(){if(1==xt.page)return!1;xt.page=xt.page-1,b(Rt,xt)})),_.o(\"#next\").style(\"cursor\",\"pointer\").on(\"click\",(function(){if(xt.page==xt.numPages)return!1;xt.page=xt.page+1,b(Rt,xt)})),Object(n.useEffect)((function(){!function(){p.apply(this,arguments)}()}),[]),Object(Mt.jsxs)(\"div\",{children:[Object(Mt.jsxs)(\"div\",{id:\"loaderDiv\",children:[Object(Mt.jsx)(\"div\",{id:\"loaderText\",children:c}),Object(Mt.jsx)(\"div\",{id:\"loaderBar\",children:Object(Mt.jsx)(\"div\",{id:\"loaderProgress\",style:{width:100*a+\"%\"}})})]}),Object(Mt.jsxs)(\"div\",{id:\"regionSelectContainer\",children:[Object(Mt.jsx)(\"select\",{id:\"regionSelect\",className:\"js-example-responsive\",name:\"region[]\",multiple:\"multiple\"}),Object(Mt.jsx)(\"div\",{id:\"regionDrop\"})]}),Object(Mt.jsxs)(\"div\",{id:\"bubbleSelectContainer\",children:[Object(Mt.jsxs)(\"div\",{id:\"colorSelectContainer\",children:[\"Color by\\xa0\\xa0\",Object(Mt.jsxs)(\"select\",{id:\"colorSelect\",className:\"js-example-responsive\",name:\"colorby[]\",defaultValue:\"hdi\",children:[Object(Mt.jsx)(\"option\",{value:\"region\",children:\"IFRC region\"}),Object(Mt.jsx)(\"option\",{value:\"hdi\",children:\"Human Development Index (HDI)\"}),Object(Mt.jsx)(\"option\",{value:\"inform-severity\",children:\"INFORM Severity Index\"})]}),Object(Mt.jsx)(\"div\",{id:\"colorDrop\"})]}),Object(Mt.jsxs)(\"div\",{id:\"ySelectContainer\",children:[\"y-Axis\\xa0\\xa0\",Object(Mt.jsxs)(\"select\",{id:\"ySelect\",className:\"js-example-responsive\",name:\"yaxis[]\",children:[Object(Mt.jsx)(\"option\",{value:\"percent-vaccinated-at-least-1-dose\",children:\"% vaccinated at least 1 dose\"}),Object(Mt.jsx)(\"option\",{value:\"percent-fully-vaccinated\",children:\"% fully vaccinated\"}),Object(Mt.jsx)(\"option\",{value:\"percent-vaccine-acceptance\",children:\"% vaccine acceptance\"})]}),Object(Mt.jsx)(\"div\",{id:\"yDrop\"})]})]}),Object(Mt.jsx)(\"div\",{id:\"svg_container\",className:\"App\"}),Object(Mt.jsx)(\"div\",{id:\"map_div_outer\",children:Object(Mt.jsx)(\"div\",{id:\"map_div\"})}),Object(Mt.jsxs)(\"div\",{id:\"footer\",children:[\"Data Sources - \",Object(Mt.jsx)(\"a\",{href:\"https://covid19.who.int/info/\",target:\"_blank\",children:\"WHO Daily cases and deaths by date, vaccination data\"}),\", \",Object(Mt.jsx)(\"a\",{href:\"https://github.com/owid/covid-19-data/tree/master/public/data/vaccinations\",target:\"_blank\",children:\"OWID vaccinations csv\"})]})]})},Vt=function(t){t&&t instanceof Function&&a.e(5).then(a.bind(null,512)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;a(t),n(t),i(t),r(t),o(t)}))};o.a.render(Object(Mt.jsx)(i.a.StrictMode,{children:Object(Mt.jsx)(Yt,{})}),document.getElementById(\"root\")),Vt()}},[[134,1,3]]]);","name":"static/js/main.4c649c30.chunk.js","map":{"version":3,"sources":["static/js/main.4c649c30.chunk.js"],"names":["this","push","128","module","exports","__webpack_require__","134","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","src","moment","moment_default","colors","hdi_category","very-high","high","medium","low","inform_severity","no-score","blue","lightblue","lightnavy","red","green","ifrcgreen","black","lightgrey","darkgrey","white","olive","purple","orange","pink","c","regions","AP","AM","EU","ME","AF","src_colors","addCommas","nStr","x","split","x1","x2","length","rgx","test","replace","nFormatter","num","digits","arguments","undefined","lookup","value","symbol","rx","item","slice","reverse","find","toFixed","yScaleCases","yScaleDeaths","yScaleVaccines","yAxisCases","yAxisDeaths","yAxisVaccines","yScaleCasesAxis","yScaleDeathsAxis","yScaleVaccinesAxis","xScale","xAxis","xScaleAxis","xScaleEvents","Timechart_maxDate","minDate","md","vgroupedData","d3_textwrap","just_clone","just_clone_default","drawTimechart","data","options","Date","min_date","max_date","groupedData","who_data","forEach","d","i","timeline_frequency","date","week_start","month_start","ifrc_region","new_cases","new_deaths","cumulative_cases","cumulative_deaths","dd","ii","hasOwnProperty","total_new_cases","OTH","total_cumulative_cases","total_new_deaths","total_cumulative_deaths","region","timeline_type","vaccines_data","new_vaccines","daily_vaccinations","cumulative_vaccines","total_new_vaccines","newVaccines","vData","endOfWeekDate","endOf","startOf","unix","maxDateUnix","endOfMonthDate","total_vaccinations","total_cumulative_vaccines","filter","el","numIntervals","maxCases","maxDeaths","maxVaccines","toDate","add","svg","selectAll","remove","append","attr","barWidth","barSpacing","range","domain","scale","tickSize","tickPadding","ticks","tickFormat","yAxisGroup","xAxisCases","call","xAxisDeaths","xAxisVaccines","xAxisTimeline","barGroups","enter","totalNewCases","parentNode","datum","dp","y","totalNewDeaths","next","offset","vbarGroups","totalNewVaccines","tData","timeline_data","document","getElementById","appendChild","node","timelineTooltip","eventTooltip","hoverBar","on","event","coords","xDate","invert","getTime","style","tooltipStr","format","text","groupedDataFiltered","vgroupedDataFiltered","deaths","cases","vaccines","ratio","brushR","brushL","events","subtract","select","wrap","Object","bounds","height","width","method","description","bbox","getBBox","ys","parseInt","circles","brush","extent","parseFloat","viewBoxW","Math","round","brushScale","viewBoxX","gBrush","move","updateTimechart","transition","duration","Regionchart_maxCases","Regionchart_maxDeaths","maxVaccinations","xScaleCases","xScaleDeaths","xScaleVaccines","labelWidth","rcSize","margin","Regionchart_groupedData","drawRegionchart","population","country","code","who_daily_latest","vaccine_daily_latest","cumulative_cases_per_100k","cumulative_deaths_per_100k","cumulative_vaccines_per_100k","isFinite","region_switch","regionChartContainer","rowHeight","rows","label","t","val","region_chart_toggle","isNaN","updateRegionchart","id","tween","floor","random","printing","tippy_esm","jspdf_es_min","html2canvas","html2canvas_default","selectedToggle","unselectedToggle","unselectedToggleText","selectedToggleText","src_Layout","updateTable","updateMap","bd","region_filter","map_toggle","content","placement","theme","arrow","delay","toggle","hdi_filter","inform_filter","tab_toggle","timechartContainer","tcSize","timechartSvg","layer1","tableRowHeight","tableBarYOffset","_loop","thisId","table_sort","table_sort_direction","page","setTimeout","querySelector","allowTaint","onclone","doc","useCORS","foreignObjectRendering","ignoreElements","element","scrollX","scrollY","logging","then","canvas","img","toDataURL","pdf","imgProps","getImageProperties","pdfWidth","internal","pageSize","getWidth","pdfHeight","addImage","save","link","createElement","download","href","click","collection","idx","indexOf","splice","Bubblechart_xScale","yScale","zScale","maxX","maxY","maxZ","drawBubblechart","gni_2017","bubble_chart_y_axis","nice","join","people_vaccinated_per_hundred","people_fully_vaccinated_per_hundred","vaccine_acceptance_percent","bubble_chart_color_by","update","exit","country_name","toElement","updateBubblechart","Options","country_filter","numPages","toConsumableArray","jquery","jquery_default","src_ParseData","_data$who_data","sort","a","b","equity_data","pop","vaccines_used","avg_tests_per_1000","number_vaccine_types_used","vaccines_per_100","vaccines_who_data","country_iso3","ISO3","NUMBER_VACCINES_TYPES_USED","TOTAL_VACCINATIONS_PER100","VACCINES_USED","map","trim","ns_involvement","self_assessment","vaccine_acceptance","iso3","indicator_value","vaccine_acceptance_population","population_size","contract_tracing","toLowerCase","match","maxDate","Date_reported","maxDateVaccines","min_vaccine_date","max_vaccine_date","country_code","Country_code","country_iso2","Cumulative_deaths","Cumulative_cases","New_cases","New_deaths","whoDataGrouped","datesToAdd","lastRecord","apply","dayTotal","dayCheck","weekTotal","weekCheck","monthTotal","monthCheck","whoCountryCodes","dayOfYear","week","isoWeek","month","getMonth","year","getFullYear","includes","Country","WHO_region","iso_code","vaccineDataByCountry","newDays","hasDays","vDataFlat","_d$","lastDate","data_updated","day","setDate","getDate","newDay","totalVac","totalVac100","countryName","total_vaccinations_per_hundred","dailyVac","whoDataByCountry","countryCode","who_daily_7_days","who_daily_14_days","who_daily_21_days","who_daily_28_days","cumulative_deaths_7_days","cumulative_deaths_14_days","cumulative_deaths_21_days","cumulative_deaths_28_days","cumulative_cases_7_days","cumulative_cases_14_days","cumulative_cases_21_days","cumulative_cases_28_days","percentChange","percent_change","original","mapbox_gl","mapbox_gl_default","accessToken","mapTooltip","createMap","setCenter","setZoom","Map","container","center","preserveDrawingBuffer","zoom","setRenderWorldCopies","addControl","NavigationControl","scrollZoom","disable","getCanvasContainer","e","setPaintProperty","Map_updateMap","setLayoutProperty","maxIncrease","maxDecrease","ceil","abs","colorScale","fillColorArray","maxValue","clamp","peoplevaccinated","features","queryRenderedFeatures","point","layer","properties","iso","countryfiltered","str","window","innerWidth","jsx_runtime","equityDataUrl","layoutUrl","whoDataUrl","vaccinesDataUrl","vaccinesWhoDataUrl","timelineDataUrl","selfAssessmentDataUrl","vaccineAcceptanceDataUrl","App_data","regionOptions","countryOptions","parse","p","src_App","_useState","_useState2","progress","setProgress","_useState3","_useState4","loaderText","setLoaderText","_init","mark","_callee","_context","prev","documentElement","createSelects","createCharts","stop","updateTotals","hdi_countries","inform_countries","substring","countryIds","mergeFilter","concat","trigger","values","select2","hide","css","show","handleSelectLength","numCountriesFiltered","totalCases","textTween","totalDeaths","totalVaccinations","vaccinesPer100","vaccine_population","vaccineAcceptance","numNsInvolvedCountres","vaccine_types","ddd","vaccinePer100ByPopulation","vaccineAcceptancePercent","vtooltipbbox","hdiData","hdiDataPopulation","hdiDataVaccines","hdiContactTracing","hdiTotalCasesData","hdiTestingData","informData","informDataPopulation","informDataVaccines","informContactTracing","informTotalCasesData","informTestingData","totalHdiPop","totalInformPop","maxhdivac","maxinformvac","maxhditest","maxinformtest","_x","_x2","_updateTable","_callee2","sortKey","timer","k","dayFormat","_context2","localeCompare","ms","Promise","res","abrupt","name","children","placeholder","scrollAfterSelect","renderTemplate","dropdownParent","shouldFocusInput","templateResult","removeData","preventDefault","params","minimumResultsForSearch","init","className","multiple","defaultValue","target","src_reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode"],"mappings":"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"},"input":"(this[\"webpackJsonpifrc-covid-dataviz\"] = this[\"webpackJsonpifrc-covid-dataviz\"] || []).push([[0],{\n\n/***/ 128:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 134:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(37);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(5);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/d3/src/index.js + 200 modules\nvar src = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(1);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ./src/colors.js\n// default options\nvar colors={hdi_category:{'very-high':'#D8EF8B','high':'#FDE08B','medium':'#FB8D59','low':'#D63127'},inform_severity:{'very-high':'#D63127','high':'#FB8D59','medium':'#FDE08B','low':'#D8EF8B','no-score':'#DAE0EA'},blue:'#1F558C',lightblue:'#62D7F7',lightnavy:'#799EAD',// red: '#E02225',\nred:'#EE3224',green:'#D8EF8B',ifrcgreen:'#87C400',black:'#595454',lightgrey:'#e8e8e8',darkgrey:'#c1c1c1',white:'#fff',olive:'#87C400',purple:'#771966',orange:'#FF3500',pink:'#FB0080'};// option 1\nvar c=['#00ADED','#003A5A','#62D7F7','#799EAD','#BCCED6'];// option 2\nvar c=['#00ADED','#62D7F7','#003A5A','#799EAD','#FFDD00'];// option 3\nvar reds=['#771912','#be281d','#ee3224','#f79992','#fcd6d3'];var blues=['#09192a','#163b62','#1f558c','#7999ba','#d2dde8'];colors.regions={'AP':colors.orange,'AM':colors.lightblue,'EU':colors.ifrcgreen,'ME':'#0A3248','AF':'#FCD204'};colors.regions={'AP':c[1],'AM':c[0],'EU':c[2],'ME':c[3],'AF':c[4]};// colors.regions = {\n//     'AP': reds[3], \n//     'AM': reds[0], \n//     'EU': reds[1], \n//     'ME': reds[2], \n//     'AF': reds[4], \n// }\n// colors.regions_blue = {\n//     'AP': blues[3], \n//     'AM': blues[0], \n//     'EU': blues[1], \n//     'ME': blues[2], \n//     'AF': blues[4], \n// }\n/* harmony default export */ var src_colors = (colors);\n// CONCATENATED MODULE: ./src/HelperFunctions.js\nfunction addCommas(nStr){nStr+='';var x=nStr.split('.');var x1=x[0];var x2=x.length>1?'.'+x[1]:'';var rgx=/(\\d+)(\\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,'$1'+','+'$2');}return x1+x2;}function nFormatter(num){var digits=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var lookup=[{value:1,symbol:\"\"},{value:1e3,symbol:\"k\"},{value:1e6,symbol:\"M\"},{value:1e9,symbol:\"B\"},{value:1e12,symbol:\"T\"},{value:1e15,symbol:\"P\"},{value:1e18,symbol:\"E\"}];var rx=/\\.0+$|(\\.[0-9]*[1-9])0+$/;var item=lookup.slice().reverse().find(function(item){return num>=item.value;});return item?(num/item.value).toFixed(digits).replace(rx,\"$1\")+item.symbol:\"0\";}\n// EXTERNAL MODULE: ./node_modules/d3-textwrap/build/d3-textwrap.js\nvar d3_textwrap = __webpack_require__(38);\n\n// EXTERNAL MODULE: ./node_modules/just-clone/index.js\nvar just_clone = __webpack_require__(10);\nvar just_clone_default = /*#__PURE__*/__webpack_require__.n(just_clone);\n\n// CONCATENATED MODULE: ./src/Timechart.js\nvar yScaleCases;var yScaleDeaths;var yScaleVaccines;var yAxisCases;var yAxisDeaths;var yAxisVaccines;var yScaleCasesAxis;var yScaleDeathsAxis;var yScaleVaccinesAxis;var xScale;var xAxis;var xScaleAxis;var xScaleEvents;var Timechart_maxDate;var minDate;var md;var vgroupedData;var regions=['AF','AP','ME','EU','AM','OTH'];function drawTimechart(data,options){minDate=new Date(data.min_date);Timechart_maxDate=new Date(data.max_date);var groupedData=[];data.who_data.forEach(function(d,i){if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')groupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')groupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')groupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases+=d.new_cases;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths+=d.new_deaths;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases=0;});// totals by date\ngroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d.hasOwnProperty(dd)){d[dd]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};}// if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\nif(i>0){d[dd].cumulative_cases=groupedData[i][dd].new_cases+groupedData[i-1][dd].cumulative_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths+groupedData[i-1][dd].cumulative_deaths;}else{d[dd].cumulative_cases=groupedData[i][dd].new_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths;}});d.total_new_cases=d.AF.new_cases+d.AP.new_cases+d.AM.new_cases+d.EU.new_cases+d.ME.new_cases+d.OTH.new_cases;d.total_cumulative_cases=d.AF.cumulative_cases+d.AP.cumulative_cases+d.AM.cumulative_cases+d.EU.cumulative_cases+d.ME.cumulative_cases+d.OTH.cumulative_cases;d.total_new_deaths=d.AF.new_deaths+d.AP.new_deaths+d.AM.new_deaths+d.EU.new_deaths+d.ME.new_deaths+d.OTH.new_deaths;d.total_cumulative_deaths=d.AF.cumulative_deaths+d.AP.cumulative_deaths+d.AM.cumulative_deaths+d.EU.cumulative_deaths+d.ME.cumulative_deaths+d.OTH.cumulative_deaths;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_cases':d[dd].new_cases,'new_deaths':d[dd].new_deaths,'cumulative_cases':d[dd].cumulative_cases,'cumulative_deaths':d[dd].cumulative_deaths});});});vgroupedData=[];if(options.timeline_type!='cumulative'){// cumulative and stacked\n// data.vaccines_data = data.vaccines_data_daily;\n// data.vaccines_data_daily = clone(data.vaccines_data);\ndata.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines+=d.daily_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={new_vaccines:0,cumulative_vaccines:0};}});d.total_new_vaccines=d.AF.new_vaccines+d.AP.new_vaccines+d.AM.new_vaccines+d.EU.new_vaccines+d.ME.new_vaccines+d.OTH.new_vaccines;d.region=[];regions.forEach(function(dd,ii){var newVaccines=0;if(d[dd].new_vaccines>0){newVaccines+=d[dd].new_vaccines;}d.region.push({'region':dd,'new_vaccines':newVaccines});});});}else{// cumulative only\nvar vData=[];if(options.timeline_frequency==='day'){vData=just_clone_default()(data.vaccines_data);}if(options.timeline_frequency==='week'){data.vaccines_data.forEach(function(d,i){var endOfWeekDate=moment_default()(d.date).endOf('isoWeek').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfWeekDate||date==moment_default()(data.max_date).startOf('day').unix()){vData.push(d);}});}if(options.timeline_frequency==='month'){var maxDateUnix=moment_default()(data.max_date).startOf('day').unix();data.vaccines_data.forEach(function(d,i){var endOfMonthDate=moment_default()(d.date).endOf('month').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfMonthDate||moment_default()(data.max_date).startOf('day').unix()!=endOfMonthDate&&date==maxDateUnix){vData.push(d);}});}vData.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={cumulative_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines+=d.total_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={cumulative_vaccines:0};}});d.total_cumulative_vaccines=d.AF.cumulative_vaccines+d.AP.cumulative_vaccines+d.AM.cumulative_vaccines+d.EU.cumulative_vaccines+d.ME.cumulative_vaccines+d.OTH.cumulative_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'cumulative_vaccines':d[dd].cumulative_vaccines});});});}vgroupedData=vgroupedData.filter(function(el){return el;});var numIntervals=src[\"h\" /* max */](data.who_data,function(d,i){return d[options.timeline_frequency+'Total'];});var maxCases=src[\"h\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_cases;if(options.timeline_type==='cumulative')return d.total_cumulative_cases;if(options.timeline_type==='stacked')return 100;});var maxDeaths=src[\"h\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_deaths;if(options.timeline_type==='cumulative')return d.total_cumulative_deaths;if(options.timeline_type==='stacked')return 100;});var maxVaccines=src[\"h\" /* max */](vgroupedData,function(d,i){if(d){if(options.timeline_type==='non-cumulative')return d.total_new_vaccines;if(options.timeline_type==='cumulative')return d.total_cumulative_vaccines;if(options.timeline_type==='stacked')return 100;}});// define date range\n// const minDate = groupedData[0].date;\n// const maxDate = groupedData[numIntervals].date;\n// const minDate = groupedData[0].date;\n// if(options.timeline_frequency==='month') md = md.add(1, 'months');\n// if(options.timeline_frequency==='week') md = md.add(1, 'weeks');\nif(options.timeline_frequency==='month')minDate=moment_default()(minDate).startOf('month').startOf('day').toDate();if(options.timeline_frequency==='month')Timechart_maxDate=moment_default()(Timechart_maxDate).endOf('month').startOf('day').toDate();if(options.timeline_frequency==='week')Timechart_maxDate=moment_default()(Timechart_maxDate).endOf('isoWeek').startOf('day').toDate();md=moment_default()(Timechart_maxDate);if(options.timeline_frequency==='day')md=new Date(moment_default()(Timechart_maxDate).add(1,'days').toDate());var svg=src[\"o\" /* select */]('#timechart_svg');svg.selectAll('g').remove();src[\"p\" /* selectAll */]('#layout .yAxis').remove();src[\"p\" /* selectAll */]('#yAxis').remove();src[\"p\" /* selectAll */]('#layout .xAxis').remove();//bg\nsvg.append('g').append('rect').attr('width',2000).attr('height','100%').attr('x',0).attr('y',0).attr('fill','#FFF').attr('opacity',0);var width=2000;var barWidth=width/numIntervals;var barSpacing=0.04;if(options.timeline_frequency==='month')barSpacing=0.03;if(options.timeline_frequency==='day')barSpacing=0.02;// define scales\nxScale=src[\"n\" /* scaleTime */]().range([0,width]).domain([minDate,md]);xScaleAxis=src[\"n\" /* scaleTime */]().range([0,596]).domain([minDate,md]);yScaleCases=src[\"l\" /* scaleLinear */]().range([0,140]).domain([0,maxCases]);yScaleCasesAxis=src[\"l\" /* scaleLinear */]().range([140,0]).domain([0,maxCases]);yScaleDeaths=src[\"l\" /* scaleLinear */]().range([0,140]).domain([0,maxDeaths]);yScaleDeathsAxis=src[\"l\" /* scaleLinear */]().range([140,0]).domain([0,maxDeaths]);yScaleVaccines=src[\"l\" /* scaleLinear */]().range([0,140]).domain([0,maxVaccines]);yScaleVaccinesAxis=src[\"l\" /* scaleLinear */]().range([140,0]).domain([0,maxVaccines]);// define axi\nxAxis=src[\"a\" /* axisBottom */]().scale(xScaleAxis).tickSize(2).tickPadding(3);// if(options.timeline_frequency=='month')\n// xAxis.ticks(d3.timeMonth.every(3)).tickFormat(d3.timeFormat(\"%b %Y\"));\n// if(options.timeline_frequency=='week')\n// xAxis.ticks(d3.timeWeek.every(10)).tickFormat(d3.timeFormat(\"%d %b %Y\"));\nyAxisCases=src[\"c\" /* axisRight */]().scale(yScaleCasesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisDeaths=src[\"c\" /* axisRight */]().scale(yScaleDeathsAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisVaccines=src[\"c\" /* axisRight */]().scale(yScaleVaccinesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});// y-axis cases\nvar yAxisGroup=src[\"o\" /* select */]('#layout').append(\"g\").attr('id','yAxis').attr('clip-path','url(#mask)');var yAxisCasesText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"casesAxis\").attr('transform','translate(620,363)').call(yAxisCases);// y-axis deaths\nvar yAxisDeathsText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"deathsAxis\").attr('transform','translate(620,534)').call(yAxisDeaths);// y-axis vaccines\nvar yAxisVaccinesText=yAxisGroup.append(\"g\").attr(\"class\",\"yAxis axis\").attr(\"id\",\"VaccinesAxis\").attr('transform','translate(620,707.5)').call(yAxisVaccines);// x-axis cases\nvar xAxisCases=yAxisGroup.append('g').attr(\"id\",\"casesXAxis\").attr('class','xAxis').attr('transform','translate(24,504)').call(xAxis);var xAxisDeaths=yAxisGroup.append('g').attr(\"id\",\"deathsXAxis\").attr('class','xAxis').attr('transform','translate(24,674)').call(xAxis);var xAxisVaccines=yAxisGroup.append('g').attr(\"id\",\"vaccinesXAxis\").attr('class','xAxis').attr('transform','translate(24,848)').call(xAxis);var xAxisTimeline=yAxisGroup.append('g').attr(\"id\",\"timelineXAxis\").attr('class','xAxis').attr('transform','translate(24,908)').call(xAxis);// CASES\n// loop through groupedData and draw bars\nvar barGroups=svg.selectAll('.bar_group').data(groupedData).enter().append('g').attr('class','bar_group').attr('transform',function(d,i){return'translate('+xScale(d.date)+')';});// CASES\nbarGroups.selectAll('.cases_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class',function(d,i){return'timeBar cases_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewCases=src[\"o\" /* select */](this.parentNode).datum().total_new_cases-src[\"o\" /* select */](this.parentNode).datum().OTH.new_cases;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].cumulative_cases;if(options.timeline_type==='non-cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_cases;if(options.timeline_type==='stacked')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_cases;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleCases(d.cumulative_cases)-yScaleCases(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleCases(d.new_cases)-yScaleCases(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_cases/totalNewCases)-140*(dp/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewCases=src[\"o\" /* select */](this.parentNode).datum().total_new_cases-src[\"o\" /* select */](this.parentNode).datum().OTH.new_cases;var y=0;if(options.timeline_type==='cumulative')y=yScaleCases(d.cumulative_cases);if(options.timeline_type==='non-cumulative')y=yScaleCases(d.new_cases);if(options.timeline_type==='stacked')y=140*(d.new_cases/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});// DEATHS\nbarGroups.selectAll('.deaths_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class',function(d,i){return'timeBar deaths_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewDeaths=src[\"o\" /* select */](this.parentNode).datum().total_new_deaths-src[\"o\" /* select */](this.parentNode).datum().OTH.new_deaths;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].cumulative_deaths;if(options.timeline_type==='non-cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;if(options.timeline_type==='stacked')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleDeaths(d.cumulative_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='non-cumulative')y=140-yScaleDeaths(d.new_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='stacked')y=140-140*(d.new_deaths/totalNewDeaths)-140*(dp/totalNewDeaths)+170;if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewDeaths=src[\"o\" /* select */](this.parentNode).datum().total_new_deaths-src[\"o\" /* select */](this.parentNode).datum().OTH.new_deaths;var y=0;if(options.timeline_type==='cumulative')y=yScaleDeaths(d.cumulative_deaths);if(options.timeline_type==='non-cumulative')y=yScaleDeaths(d.new_deaths);if(options.timeline_type==='stacked')y=140*(d.new_deaths/totalNewDeaths);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];});// bar size tweak for spacing\nif(options.timeline_frequency==='month'){barGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=src[\"o\" /* select */](this.parentNode).datum().date;var next=src[\"s\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=src[\"o\" /* select */](this.parentNode).datum().date;var next=src[\"s\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}// VACCINES\nvar vbarGroups=svg.selectAll('.vbar_group').data(vgroupedData).enter().append('g').attr('class','vbar_group').attr('transform',function(d,i){return'translate('+xScale(d.date)+', 344)';});vbarGroups.selectAll('.vaccines_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).enter().append('rect').attr('class','timeBar vaccines_bar').attr('class',function(d,i){return'timeBar vaccines_bar time_'+d.region;}).attr('x',barWidth*barSpacing).attr('y',function(d,i){var totalNewVaccines=src[\"o\" /* select */](this.parentNode).datum().total_new_vaccines-src[\"o\" /* select */](this.parentNode).datum().OTH.new_vaccines;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].cumulative_vaccines;if(options.timeline_type==='non-cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;if(options.timeline_type==='stacked')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleVaccines(d.cumulative_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleVaccines(d.new_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_vaccines/totalNewVaccines)-140*(dp/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('width',barWidth-barWidth*barSpacing*2).attr('height',function(d,i){var totalNewVaccines=src[\"o\" /* select */](this.parentNode).datum().total_new_vaccines-src[\"o\" /* select */](this.parentNode).datum().OTH.new_vaccines;var y=0;if(options.timeline_type==='cumulative')y=yScaleVaccines(d.cumulative_vaccines);if(options.timeline_type==='non-cumulative')y=yScaleVaccines(d.new_vaccines);if(options.timeline_type==='stacked')y=140*(d.new_vaccines/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];// return colors.regions_blue[d.region];\n});if(options.timeline_frequency==='month'){vbarGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=src[\"o\" /* select */](this.parentNode).datum().date;var next=src[\"s\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=src[\"o\" /* select */](this.parentNode).datum().date;var next=src[\"s\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}// bar size tweak for spacing\nif(options.timeline_frequency==='month'){barGroups.selectAll(\".timeBar\").attr(\"width\",function(d){var date=src[\"o\" /* select */](this.parentNode).datum().date;var next=src[\"s\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(1-barSpacing);}).attr(\"x\",function(d){var date=src[\"o\" /* select */](this.parentNode).datum().date;var next=src[\"s\" /* timeMonth */].offset(date,1);return(xScale(next)-xScale(date))*(barSpacing/2);});}// tooltips\n// events calendar timeline\nvar tData=data.timeline_data;xScaleEvents=src[\"n\" /* scaleTime */]().range([25,619]).domain([minDate,md]);// bring to front\ndocument.getElementById(\"svg\").appendChild(src[\"o\" /* select */]('#timeline_tooltip').node());document.getElementById(\"svg\").appendChild(src[\"o\" /* select */]('#event_tooltip').node());var timelineTooltip=src[\"o\" /* select */]('#timeline_tooltip').attr('opacity',0);var eventTooltip=src[\"o\" /* select */]('#event_tooltip').attr('opacity',0);// hover bar\nvar hoverBar=svg.append('rect').attr('id','timechart_hover').attr('width',barWidth).attr('x',0).attr('y',0).attr('opacity',0).attr('height','100%').attr('fill','rgb(221 221 221 / 40%)');src[\"o\" /* select */]('#timechart_svg').on('mouseover',function(event){var coords=src[\"k\" /* pointer */](event);hoverBar.attr('opacity',1);var xDate=xScale.invert(coords[0]);if(options.timeline_frequency=='week'){xDate=moment_default()(xDate).startOf('isoWeek');}if(options.timeline_frequency=='day'){xDate=moment_default()(xDate).startOf('day');}if(options.timeline_frequency=='month'){xDate=moment_default()(xDate).startOf('month');}if(coords[1]<470){timelineTooltip.attr('opacity',1).attr('display','inline');hoverBar.attr('height','100%');}else if(coords[1]>510){eventTooltip.attr('opacity',1);hoverBar.attr('height','90%');}else{eventTooltip.attr('opacity',0);timelineTooltip.attr('opacity',0);hoverBar.attr('height','100%');}if(xDate.toDate().getTime()<minDate.getTime()){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0);}src[\"o\" /* select */]('#svg_container').style('z-index',10);}).on('mouseout',function(event){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0).attr('display','none');// timelineTooltip.attr('opacity', 0).attr('transform', 'translate(0,0)');\nsrc[\"o\" /* select */]('#svg_container').style('z-index',1);eventTooltip.attr('opacity',0).attr('transform','translate(0,0)');src[\"p\" /* selectAll */]('.event_marker circle').style('stroke',src_colors.black);}).on('mousemove',function(event){var coords=src[\"k\" /* pointer */](event);var xDate=xScale.invert(coords[0]);var tooltipStr='';if(options.timeline_frequency=='week'){xDate=moment_default()(xDate).startOf('isoWeek');tooltipStr=xDate.format('ll');src[\"o\" /* select */]('#timeline_tooltip_date tspan').text(tooltipStr);}if(options.timeline_frequency=='day'){xDate=moment_default()(xDate).startOf('day');tooltipStr=xDate.format('ll');src[\"o\" /* select */]('#timeline_tooltip_date tspan').text(tooltipStr);}if(options.timeline_frequency=='month'){xDate=moment_default()(xDate).startOf('month');tooltipStr=xDate.format('MMMM YYYY');src[\"o\" /* select */]('#timeline_tooltip_date tspan').text(tooltipStr);}hoverBar.attr('x',xScale(xDate.toDate()));var groupedDataFiltered=groupedData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()==xDate.startOf('day').unix();});var vgroupedDataFiltered=vgroupedData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()==xDate.startOf('day').unix();});var deaths='-';var cases='-';var vaccines='-';if(options.timeline_type=='cumulative'){// cumulative\nif(groupedDataFiltered[0])cases=nFormatter(groupedDataFiltered[0].total_cumulative_cases,2);if(groupedDataFiltered[0])deaths=nFormatter(groupedDataFiltered[0].total_cumulative_deaths,2);if(vgroupedDataFiltered[0])vaccines=nFormatter(vgroupedDataFiltered[0].total_cumulative_vaccines,2);}else{// non-cumulative/stacked\nif(groupedDataFiltered[0])cases=nFormatter(groupedDataFiltered[0].total_new_cases,2);if(groupedDataFiltered[0])deaths=nFormatter(groupedDataFiltered[0].total_new_deaths,2);if(vgroupedDataFiltered[0])vaccines=nFormatter(vgroupedDataFiltered[0].total_new_vaccines,2);}src[\"o\" /* select */]('#tooltip_cases tspan').text(cases).attr(\"text-anchor\",\"end\").attr('dx',32);src[\"o\" /* select */]('#tooltip_deaths tspan').text(deaths).attr(\"text-anchor\",\"end\").attr('dx',32);src[\"o\" /* select */]('#tooltip_vaccines tspan').text(vaccines).attr(\"text-anchor\",\"end\").attr('dx',32);// if((xDate.toDate().getTime()>options.maxDate.getTime())){\n//     hoverBar.attr('opacity', 0);\n// // } else \nif(xDate.toDate().getTime()<minDate.getTime()&&options.timeline_frequency=='day'){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0);}if(options.timeline_frequency=='month'){hoverBar.attr('width',function(){return xScale(moment_default()(xDate).endOf('month'))-xScale(moment_default()(xDate).startOf('month'));});}timelineTooltip.attr('transform',function(){var bw=barWidth;var ratio=(options.brushR-options.brushL)/600;var offset=0;if(ratio<0.5)offset=3;if(ratio<0.3)offset=12;if(ratio<0.2)offset=20;if(ratio<0.15)offset=21;if(options.timeline_frequency=='month'){if(ratio<0.6)offset=20;if(ratio<0.5)offset=30;if(ratio<0.3)offset=50;if(ratio<0.2)offset=60;if(ratio<0.1)offset=70;return'translate('+(xScaleEvents(xDate.toDate())+barWidth/3+offset)+','+(coords[1]+353)+')';}return'translate('+(xScaleEvents(xDate.toDate())+18+offset)+','+(coords[1]+353)+')';});if(coords[1]<470){timelineTooltip.attr('opacity',1);hoverBar.attr('opacity',1);hoverBar.attr('height','100%');}else if(coords[1]>510){eventTooltip.attr('opacity',1);hoverBar.attr('height','90%');var x=moment_default()(xScale.invert(coords[0])).startOf('day');var xx=xScale.invert(coords[0]);eventTooltip.attr('transform',function(){return'translate('+(xScaleEvents(x.toDate())+-3)+','+817+')';});var events=tData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()==x.unix();});// select nearest neighbor for ux purposes \nif(events.length==0){events=tData.filter(function(d,i){return moment_default()(d.date).startOf('day').unix()<=moment_default()(x).add(1,'days').unix()&&moment_default()(d.date).startOf('day').unix()>=moment_default()(x).subtract(1,'days').unix();});}if(events.length>0){src[\"o\" /* select */]('#event-'+moment_default()(events[0].date).startOf('day').unix()).select('path').style('stroke','#000').attr('opacity',1);tooltipStr=moment_default()(events[0].date).startOf('day').format('ll');src[\"o\" /* select */]('#event_tooltip_date tspan').text(tooltipStr);var wrap=Object(d3_textwrap[\"textwrap\"])().bounds({height:200,width:230}).method('tspans');var event=src[\"o\" /* select */]('#event_tooltip_text').text(events[0].description).attr('y',18).attr('x',6);src[\"o\" /* select */]('#event_tooltip_text').call(wrap);src[\"p\" /* selectAll */]('#event_tooltip_text tspan').attr('dy','1.3em');var bbox=src[\"o\" /* select */]('#event_tooltip_text').node().getBBox();src[\"o\" /* select */]('#event_tooltip_rect').attr('width',bbox.width+17).attr('height',bbox.height+26);var h=src[\"o\" /* select */]('#event_tooltip_rect').attr('height');var ys=0;if(bbox.height<20){ys=19;}else if(bbox.height<30){ys=9;}else if(bbox.height<40){ys=0;}else if(bbox.height<50){ys=-20;}else if(bbox.height<60){ys=-20;}var y=src[\"o\" /* select */]('#event_tooltip_rect').attr('y');src[\"o\" /* select */]('#event_tooltip_rect').attr('y',ys);src[\"p\" /* selectAll */]('#event_tooltip_text').attr('y',function(d,i){return parseInt(src[\"o\" /* select */](this).attr('y'))+ys;});src[\"p\" /* selectAll */]('#event_tooltip_date tspan').attr('dy',function(d,i){return ys;});eventTooltip.attr('opacity',1);}else{src[\"p\" /* selectAll */]('.event_marker circle').style('stroke',src_colors.black);eventTooltip.attr('opacity',0);}}else{eventTooltip.attr('opacity',0);timelineTooltip.attr('opacity',0);hoverBar.attr('opacity',0);hoverBar.attr('height','100%');}if(options.timeline_frequency=='day'&&xDate.toDate().getTime()<minDate.getTime()){hoverBar.attr('opacity',0);timelineTooltip.attr('opacity',0);return false;}});tData=tData.filter(function(d){return d.date.length>0;});// event lin\nyAxisGroup.append('line').attr('id','event-line').attr('x1',0).attr('x2',620).attr('y1',893).attr('y2',893).attr('stroke-width',2.5).attr('stroke',src_colors.black);var circles=yAxisGroup.append('g').selectAll('.event_marker').data(tData).enter().append('g').attr('class','event_marker').attr('id',function(d,i){return'event-'+moment_default()(d.date).startOf('day').unix();}).attr('transform',function(d){var x=xScaleEvents(new Date(d.date));return'translate('+x+', 893)';}).style('cursor','pointer');// .append('path')\n// .attr('d', \"M0,-6L4,0 0,6 -4,0Z\")\ncircles.append(\"circle\").style('stroke',src_colors.black).attr('opacity',1).attr('r',6.5).attr('cx',0).attr('cy',0).style('stroke-width',2.2).style('fill','white');circles.append(\"circle\").attr('r',2).attr('cx',0).attr('cy',0).attr('fill',src_colors.black).style('stroke',src_colors.black);// create brush zoom\n// reset\n// options.brushL = 0;\n// options.brushR = 600;\nvar brush=src[\"d\" /* brushX */]().extent([[0,0],[600,20]]).on(\"start brush end\",brushed);src[\"o\" /* select */]('.brush').remove();;var gBrush=src[\"o\" /* select */]('#zoombar').append(\"g\").attr(\"class\",\"brush\").attr('opacity',0.1).call(brush);src[\"p\" /* selectAll */]('.handle rect').attr('fill-opacity','1').style('visibility','visible').attr('width',2).attr('fill','#000').style('stroke-opacity',0);var brushScale=src[\"l\" /* scaleLinear */]().domain([-3,597]).range([0,2000]);gBrush.call(brush.move,[options.brushL,options.brushR]);function brushed(){var x=parseFloat(src[\"o\" /* select */]('.handle--w').attr('x'));var x2=parseFloat(src[\"o\" /* select */]('.handle--e').attr('x'));if(x2-x<40)return false;var w=src[\"o\" /* select */]('.selection').attr('width');src[\"o\" /* select */]('#zoomL').attr('transform','translate('+x+',0)');src[\"o\" /* select */]('#zoomR').attr('transform','translate('+x2+',0)');src[\"o\" /* select */]('#zoomOverlay').attr('width',x2-x);src[\"o\" /* select */]('#zoomOverlay').attr('x',x);src[\"o\" /* select */]('#zoomOverlay').attr('transform','translate(3,0)');var viewBoxW=Math.round(brushScale(x2)-brushScale(x));var viewBoxX=Math.round(brushScale(x));options.brushL=x+3;options.brushR=x2+3;xScaleAxis=src[\"n\" /* scaleTime */]().range([0,596]).domain([new Date(xScale.invert(brushScale(x))),new Date(xScale.invert(brushScale(x2)))]);xScaleEvents=src[\"n\" /* scaleTime */]().range([25,619])// .domain([minDate,md]);\n.domain([new Date(xScale.invert(brushScale(x))),new Date(xScale.invert(brushScale(x2)))]);src[\"p\" /* selectAll */]('.event_marker').attr('transform',function(d){var x=xScaleEvents(new Date(d.date));return'translate('+x+', 893)';});xAxis=src[\"a\" /* axisBottom */]().ticks(5).scale(xScaleAxis);xAxisCases.call(xAxis);xAxisDeaths.call(xAxis);xAxisVaccines.call(xAxis);xAxisTimeline.call(xAxis);src[\"o\" /* select */]('#timechart_svg').attr('viewBox',viewBoxX+' 0 '+viewBoxW+' 553');}}function updateTimechart(data,options){var groupedData=[];data.who_data.forEach(function(d,i){if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')groupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')groupedData[d[options.timeline_frequency+'Total']].date=d.week_start;if(options.timeline_frequency==='month')groupedData[d[options.timeline_frequency+'Total']].date=d.month_start;if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases+=d.new_cases;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths+=d.new_deaths;groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases=0;});// totals by date\ngroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d.hasOwnProperty(dd)){d[dd]={new_cases:0,new_deaths:0,cumulative_cases:0,cumulative_deaths:0};}// if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\nif(i>0){d[dd].cumulative_cases=groupedData[i][dd].new_cases+groupedData[i-1][dd].cumulative_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths+groupedData[i-1][dd].cumulative_deaths;}else{d[dd].cumulative_cases=groupedData[i][dd].new_cases;d[dd].cumulative_deaths=groupedData[i][dd].new_deaths;}});d.total_new_cases=d.AF.new_cases+d.AP.new_cases+d.AM.new_cases+d.EU.new_cases+d.ME.new_cases+d.OTH.new_cases;d.total_cumulative_cases=d.AF.cumulative_cases+d.AP.cumulative_cases+d.AM.cumulative_cases+d.EU.cumulative_cases+d.ME.cumulative_cases+d.OTH.cumulative_cases;d.total_new_deaths=d.AF.new_deaths+d.AP.new_deaths+d.AM.new_deaths+d.EU.new_deaths+d.ME.new_deaths+d.OTH.new_deaths;d.total_cumulative_deaths=d.AF.cumulative_deaths+d.AP.cumulative_deaths+d.AM.cumulative_deaths+d.EU.cumulative_deaths+d.ME.cumulative_deaths+d.OTH.cumulative_deaths;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_cases':d[dd].new_cases,'new_deaths':d[dd].new_deaths,'cumulative_cases':d[dd].cumulative_cases,'cumulative_deaths':d[dd].cumulative_deaths});});});vgroupedData=[];if(options.timeline_type!='cumulative'){// non-cumulative and stacked\n// data.vaccines_data = data.vaccines_data_daily;\ndata.vaccines_data.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('isoWeek').toDate();if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('month').toDate();if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={new_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines+=d.daily_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={new_vaccines:0,cumulative_vaccines:0};}});d.total_new_vaccines=d.AF.new_vaccines+d.AP.new_vaccines+d.AM.new_vaccines+d.EU.new_vaccines+d.ME.new_vaccines+d.OTH.new_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'new_vaccines':d[dd].new_vaccines});});});}else{// cumulative only\nvar vData=[];if(options.timeline_frequency==='day'){vData=just_clone_default()(data.vaccines_data);}if(options.timeline_frequency==='week'){data.vaccines_data.forEach(function(d,i){var endOfWeekDate=moment_default()(d.date).endOf('isoWeek').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfWeekDate||date==moment_default()(data.max_date).startOf('day').unix()){vData.push(d);}});}if(options.timeline_frequency==='month'){var maxDateUnix=moment_default()(data.max_date).startOf('day').unix();data.vaccines_data.forEach(function(d,i){var endOfMonthDate=moment_default()(d.date).endOf('month').startOf('day').unix();var date=moment_default()(d.date).startOf('day').unix();if(date==endOfMonthDate||moment_default()(data.max_date).startOf('day').unix()!=endOfMonthDate&&date==maxDateUnix){vData.push(d);}});}vData.forEach(function(d,i){if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']]={};if(options.timeline_frequency==='day')vgroupedData[d[options.timeline_frequency+'Total']].date=d.date;if(options.timeline_frequency==='week')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('isoWeek').toDate();if(options.timeline_frequency==='month')vgroupedData[d[options.timeline_frequency+'Total']].date=moment_default()(d.date).startOf('month').toDate();if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region])vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]={cumulative_vaccines:0};vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines+=d.total_vaccinations;});// totals by date\nvgroupedData.forEach(function(d,i){regions.forEach(function(dd,ii){if(!d[dd]){d[dd]={cumulative_vaccines:0};}});d.total_cumulative_vaccines=d.AF.cumulative_vaccines+d.AP.cumulative_vaccines+d.AM.cumulative_vaccines+d.EU.cumulative_vaccines+d.ME.cumulative_vaccines+d.OTH.cumulative_vaccines;d.region=[];regions.forEach(function(dd,ii){d.region.push({'region':dd,'cumulative_vaccines':d[dd].cumulative_vaccines});});});}vgroupedData=vgroupedData.filter(function(el){return el;});var numIntervals=src[\"h\" /* max */](data.who_data,function(d,i){return d[options.timeline_frequency+'Total'];});var maxCases=src[\"h\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_cases;if(options.timeline_type==='cumulative')return d.total_cumulative_cases;if(options.timeline_type==='stacked')return 100;});var maxDeaths=src[\"h\" /* max */](groupedData,function(d,i){if(options.timeline_type==='non-cumulative')return d.total_new_deaths;if(options.timeline_type==='cumulative')return d.total_cumulative_deaths;if(options.timeline_type==='stacked')return 100;});var maxVaccines=src[\"h\" /* max */](vgroupedData,function(d,i){if(d){if(options.timeline_type==='non-cumulative')return d.total_new_vaccines;if(options.timeline_type==='cumulative')return d.total_cumulative_vaccines;if(options.timeline_type==='stacked')return 100;}});var svg=src[\"o\" /* select */]('#timechart_svg');var width=2000;var barWidth=width/numIntervals;var barSpacing=0.04;if(options.timeline_frequency==='month')barSpacing=0.03;if(options.timeline_frequency==='day')barSpacing=0;// define scales\n// xScale = d3.scaleTime()\n// .range([0,width])\n// .domain([minDate,md]);\n// xScaleAxis = d3.scaleTime()\n// .range([23,596])\n// .domain([minDate,md]);\nyScaleCases=src[\"l\" /* scaleLinear */]().range([0,140]).domain([0,maxCases]);yScaleCasesAxis=src[\"l\" /* scaleLinear */]().range([140,0]).domain([0,maxCases]);yScaleDeaths=src[\"l\" /* scaleLinear */]().range([0,140]).domain([0,maxDeaths]);yScaleDeathsAxis=src[\"l\" /* scaleLinear */]().range([140,0]).domain([0,maxDeaths]);yScaleVaccines=src[\"l\" /* scaleLinear */]().range([0,140]).domain([0,maxVaccines]);yScaleVaccinesAxis=src[\"l\" /* scaleLinear */]().range([140,0]).domain([0,maxVaccines]);// define axi\nyAxisCases=src[\"c\" /* axisRight */]().scale(yScaleCasesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisDeaths=src[\"c\" /* axisRight */]().scale(yScaleDeathsAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});yAxisVaccines=src[\"c\" /* axisRight */]().scale(yScaleVaccinesAxis).ticks(3).tickSize(3).tickPadding(3).tickFormat(function(d){if(options.timeline_type=='stacked')return nFormatter(d)+'%';return nFormatter(d);});// y-axis cases\nvar yAxisCasesText=src[\"o\" /* select */]('#casesAxis').transition().duration(500).call(yAxisCases);// y-axis deaths\nvar yAxisDeathsText=src[\"o\" /* select */]('#deathsAxis').transition().duration(500).call(yAxisDeaths);// y-axis vaccines\nvar yAxisVaccinesText=src[\"o\" /* select */]('#VaccinesAxis').transition().duration(500).call(yAxisVaccines);// CASES\n// loop through groupedData and draw bars\nvar barGroups=svg.selectAll('.bar_group').data(groupedData).attr('transform',function(d,i){return'translate('+xScale(d.date)+')';});// CASES\nbarGroups.selectAll('.cases_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewCases=src[\"o\" /* select */](this.parentNode).datum().total_new_cases-src[\"o\" /* select */](this.parentNode).datum().OTH.new_cases;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].cumulative_cases;if(options.timeline_type==='non-cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_cases;if(options.timeline_type==='stacked')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_cases;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleCases(d.cumulative_cases)-yScaleCases(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleCases(d.new_cases)-yScaleCases(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_cases/totalNewCases)-140*(dp/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewCases=src[\"o\" /* select */](this.parentNode).datum().total_new_cases-src[\"o\" /* select */](this.parentNode).datum().OTH.new_cases;var y=0;if(options.timeline_type==='cumulative')y=yScaleCases(d.cumulative_cases);if(options.timeline_type==='non-cumulative')y=yScaleCases(d.new_cases);if(options.timeline_type==='stacked')y=140*(d.new_cases/totalNewCases);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('fill',function(d,i){return src_colors.regions[d.region];return'blue';});// // DEATHS\nbarGroups.selectAll('.deaths_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewDeaths=src[\"o\" /* select */](this.parentNode).datum().total_new_deaths-src[\"o\" /* select */](this.parentNode).datum().OTH.new_deaths;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].cumulative_deaths;if(options.timeline_type==='non-cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;if(options.timeline_type==='stacked')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_deaths;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleDeaths(d.cumulative_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='non-cumulative')y=140-yScaleDeaths(d.new_deaths)-yScaleDeaths(dp)+170;if(options.timeline_type==='stacked')y=140-140*(d.new_deaths/totalNewDeaths)-140*(dp/totalNewDeaths)+170;// if(options.timeline_type==='non-cumulative') if(y>310) return 0;\nif(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewDeaths=src[\"o\" /* select */](this.parentNode).datum().total_new_deaths-src[\"o\" /* select */](this.parentNode).datum().OTH.new_deaths;var y=0;if(options.timeline_type==='cumulative')y=yScaleDeaths(d.cumulative_deaths);if(options.timeline_type==='non-cumulative')y=yScaleDeaths(d.new_deaths);if(options.timeline_type==='stacked')y=140*(d.new_deaths/totalNewDeaths);if(options.timeline_type==='non-cumulative')if(y<0)return 0;if(y){if(y>0){return y;}else{return 0;};}else{return 0;};});if(groupedData.length==0){src[\"p\" /* selectAll */]('.cases_bar').transition().duration(500).attr('y',140).attr('height',0);src[\"p\" /* selectAll */]('.deaths_bar').transition().duration(500).attr('y',140+170).attr('height',0);}// // VACCINES\nvar vbarGroups=svg.selectAll('.vbar_group').data(vgroupedData).attr('transform',function(d,i){return'translate('+xScale(d.date)+', 344)';});vbarGroups.selectAll('.vaccines_bar').data(function(d,i){return d.region.filter(function(dd,ii){return dd.region!=='OTH';});}).transition().duration(500).attr('y',function(d,i){var totalNewVaccines=src[\"o\" /* select */](this.parentNode).datum().total_new_vaccines-src[\"o\" /* select */](this.parentNode).datum().OTH.new_vaccines;var dp=0;if(i>0){for(var ii=1;ii<=i;ii++){if(options.timeline_type==='cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].cumulative_vaccines;if(options.timeline_type==='non-cumulative')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;if(options.timeline_type==='stacked')dp+=src[\"o\" /* select */](this.parentNode).datum().region[ii-1].new_vaccines;}}var y=0;if(options.timeline_type==='cumulative')y=140-yScaleVaccines(d.cumulative_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='non-cumulative')y=140-yScaleVaccines(d.new_vaccines)-yScaleVaccines(dp);if(options.timeline_type==='stacked')y=140-140*(d.new_vaccines/totalNewVaccines)-140*(dp/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};}).attr('height',function(d,i){var totalNewVaccines=src[\"o\" /* select */](this.parentNode).datum().total_new_vaccines-src[\"o\" /* select */](this.parentNode).datum().OTH.new_vaccines;var y=0;if(options.timeline_type==='cumulative')y=yScaleVaccines(d.cumulative_vaccines);if(options.timeline_type==='non-cumulative')y=yScaleVaccines(d.new_vaccines);if(options.timeline_type==='stacked')y=140*(d.new_vaccines/totalNewVaccines);if(y){if(y>0){return y;}else{return 0;};}else{return 0;};});if(vgroupedData.length==0){src[\"p\" /* selectAll */]('.vaccines_bar').transition().duration(500).attr('y',140).attr('height',0);}// // bar size tweak for spacing\n// if(options.timeline_frequency==='month'){\n//     barGroups.selectAll(\".timeBar\")\n//     .attr(\"width\", function(d) {\n//         var date = d3.select(this.parentNode).datum().date;\n//         var next = d3.timeMonth.offset(date, 1);\n//         return (xScale(next)- xScale(date))*(1-barSpacing);\n//       })\n//     .attr(\"x\", function(d) {\n//         var date = d3.select(this.parentNode).datum().date;\n//         var next = d3.timeMonth.offset(date, 1);\n//         return (xScale(next)- xScale(date))*(barSpacing/2);\n//       })\n//     }\n}/* harmony default export */ var Timechart = (drawTimechart);\n// CONCATENATED MODULE: ./src/Regionchart.js\nvar Regionchart_maxCases;var Regionchart_maxDeaths;var maxVaccinations;var xScaleCases;var xScaleDeaths;var xScaleVaccines;var labelWidth;var margin={left:20,top:0,right:58};var rcSize;var Regionchart_groupedData=[];function drawRegionchart(data,options,filter){var barSpacing=0.1;// reset region values to zero\ndata.regions.forEach(function(d,i){d.population=0;d.cumulative_deaths=0;d.cumulative_cases=0;d.cumulative_vaccines=0;});// loop through countries and calculate region totals\ndata.country.forEach(function(d,i){data.regions.forEach(function(dd,ii){if(dd.code==d.ifrc_region){if(d.population>0&&d.who_daily_latest){if(d.who_daily_latest.cumulative_cases>0)dd.cumulative_cases+=d.who_daily_latest.cumulative_cases;if(d.who_daily_latest.cumulative_deaths>0)dd.cumulative_deaths+=d.who_daily_latest.cumulative_deaths||0;dd.population+=d.population;}if(d.population>0&&d.vaccine_daily_latest){dd.cumulative_vaccines+=d.vaccine_daily_latest.total_vaccinations||0;}}});});// calculate regions per 100k values using total population for each region\ndata.regions.forEach(function(d,i){d.cumulative_cases_per_100k=d.cumulative_cases/(d.population/100000);d.cumulative_deaths_per_100k=d.cumulative_deaths/(d.population/100000);d.cumulative_vaccines_per_100k=d.cumulative_vaccines/(d.population/100000);if(!isFinite(d.cumulative_cases_per_100k))d.cumulative_cases_per_100k=0;if(!isFinite(d.cumulative_deaths_per_100k))d.cumulative_deaths_per_100k=0;if(!isFinite(d.cumulative_vaccines_per_100k))d.cumulative_vaccines_per_100k=0;});// get maximum values for each series\nif(options.region_switch=='per100'){// get maximum values for each series\nmaxVaccinations=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_vaccines_per_100k;});Regionchart_maxCases=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_cases_per_100k;});Regionchart_maxDeaths=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_deaths_per_100k;});}else{// get maximum values for each series\nmaxVaccinations=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_vaccines;});Regionchart_maxCases=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_cases;});Regionchart_maxDeaths=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_deaths;});}// append region chart container\nvar regionChartContainer=src[\"o\" /* select */]('#layout #region_chart_container').attr('opacity',0);// get dimensions\nrcSize={x:regionChartContainer.attr('x'),y:regionChartContainer.attr('y'),width:regionChartContainer.attr('width'),height:regionChartContainer.attr('height')};// create svg container\nvar svg=src[\"o\" /* select */]('#layout').append('g').attr('transform','translate('+rcSize.x+', '+rcSize.y+')').attr('id','region_chart');// calculate chart row height\nvar rowHeight=rcSize.height/(data.regions.length-1);// remove OTH\n// create rows\nvar rows=svg.selectAll('.bar-row').data(data.regions.filter(function(d){return d.code!=='OTH';})).enter().append('g').attr('class','bar-row').attr('transform',function(d,i){return'translate(0,'+(i*rowHeight+margin.top)+')';});// create region labels\nvar label=rows.append('text').attr('y',rowHeight/2).attr('x',margin.left-5).attr('class',function(d,i){return'bar-labels bar-label-'+d.code;}).style('alignment-baseline','middle').style('font-size','11px').attr('opacity',1).attr('fill','#000').text(function(d,i){if(d.code==='AM')return'Americas';if(d.code==='EU')return'Europe';if(d.code==='AF')return'Africa';if(d.code==='ME')return'Middle East and North Africa';if(d.code==='AP')return'Asia-Pacific';}).style('text-anchor','end');// get label node width for use in scale\nlabelWidth=rows.node().getBBox().width+margin.left;label.attr('x',labelWidth+89);labelWidth=labelWidth+94;src[\"p\" /* selectAll */]('.timeBar').attr('opacity',1);// create fading background click area\nvar rowBg=rows.append('rect').attr('y',0).attr('x',0).attr('width',labelWidth).attr('height',rowHeight-2).style('opacity',0).attr('fill','grey').style('cursor','pointer').attr('class',function(d,i){return'bar-bg-'+d.code;}).attr('data-id',function(d,i){return d.code;}).on('mouseover',function(d){src[\"o\" /* select */](this).style('opacity',0.1);}).on('mouseout',function(){src[\"o\" /* select */](this).style('opacity',0);}).on('click',function(d,i){var t=src[\"o\" /* select */](this).attr('data-id');filter([t],'regionchart');});// define scales\nxScaleCases=src[\"l\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxCases]);xScaleDeaths=src[\"l\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxDeaths]);xScaleVaccines=src[\"l\" /* scaleLinear */]().range([labelWidth,rcSize.width-margin.right-labelWidth]).domain([0,maxVaccinations]);var bars=rows.append('rect').attr('id',function(d,i){return'bar-'+d.code;}).attr('data-id',function(d,i){return d.code;}).attr('class','region-bar').attr('width',function(d,i){var val=0;if(options.region_switch=='per100'){if(options.region_chart_toggle=='cases')val=xScaleCases(d.cumulative_cases_per_100k);if(options.region_chart_toggle=='deaths')val=xScaleDeaths(d.cumulative_deaths_per_100k);if(options.region_chart_toggle=='vaccines')val=xScaleVaccines(d.cumulative_vaccines_per_100k);}else{if(options.region_chart_toggle=='cases')val=xScaleCases(d.cumulative_cases);if(options.region_chart_toggle=='deaths')val=xScaleDeaths(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')val=xScaleVaccines(d.cumulative_vaccines);}if(!isNaN(val)){return parseFloat(val);}else{return 0;}}).attr('x',labelWidth).style('outline','none').style('cursor','pointer').attr('y',rowHeight*barSpacing-1).attr('height',rowHeight-rowHeight*barSpacing*2).style('fill',function(d){return src_colors.regions[d.code];}).attr('opacity',1).on('click',function(d,i){var t=src[\"o\" /* select */](this).attr('data-id');filter([t],'regionchart');}).on('mouseover',function(d){var dat=src[\"o\" /* select */](this.parentNode).datum();// d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n// d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n}).on('mouseout',function(){// d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n});// create data value labels\nvar dataLabel=rows.append('text').text(function(d){var val=0;if(options.region_switch=='per100'){if(options.region_chart_toggle=='cases')val=Math.round(d.cumulative_cases_per_100k);if(options.region_chart_toggle=='deaths')val=Math.round(d.cumulative_deaths_per_100k);if(options.region_chart_toggle=='vaccines')val=Math.round(d.cumulative_vaccines_per_100k);}else{if(options.region_chart_toggle=='cases')val=Math.round(d.cumulative_cases);if(options.region_chart_toggle=='deaths')val=Math.round(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')val=Math.round(d.cumulative_vaccines);}return addCommas(val);}).attr('id',function(d,i){return'data-label'+d.code;}).attr('data-id',function(d,i){return d.code;}).attr('class','data-label').attr('y',rowHeight/2).style('alignment-baseline','middle').style('text-anchor','start').attr('x',function(d,i){var val=0;if(options.region_switch=='per100'){if(options.region_chart_toggle=='cases')val=xScaleCases(d.cumulative_cases_per_100k)+labelWidth+5;if(options.region_chart_toggle=='deaths')val=xScaleDeaths(d.cumulative_deaths_per_100k)+labelWidth+5;if(options.region_chart_toggle=='vaccines')val=xScaleVaccines(d.cumulative_vaccines_per_100k)+labelWidth+5;}else{if(options.region_chart_toggle=='cases')val=xScaleCases(d.cumulative_cases)+labelWidth+5;if(options.region_chart_toggle=='deaths')val=xScaleDeaths(d.cumulative_deaths)+labelWidth+5;if(options.region_chart_toggle=='vaccines')val=xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;}return val;}).attr('opacity',function(d,i){var val=0;if(options.region_switch=='per100'){if(options.region_chart_toggle=='cases')val=d.cumulative_cases_per_100k;if(options.region_chart_toggle=='deaths')val=d.cumulative_deaths_per_100k;if(options.region_chart_toggle=='vaccines')val=d.cumulative_vaccines_per_100k;}else{if(options.region_chart_toggle=='cases')val=d.cumulative_cases;if(options.region_chart_toggle=='deaths')val=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')val=d.cumulative_vaccines;}if(val>0){return 1;}else{return 0;}}).style('fill','#696969').style('font-weight','normal').style('font-size','10px');}function updateRegionchart(options,data){// reset region values to zero\ndata.regions.forEach(function(d,i){d.population=0;d.cumulative_deaths=0;d.cumulative_cases=0;d.cumulative_vaccines=0;});// loop through countries and calculate region totals\ndata.country.forEach(function(d,i){data.regions.forEach(function(dd,ii){if(dd.code==d.ifrc_region){if(d.population>0&&d.who_daily_latest){if(d.who_daily_latest.cumulative_cases>0)dd.cumulative_cases+=d.who_daily_latest.cumulative_cases;if(d.who_daily_latest.cumulative_deaths>0)dd.cumulative_deaths+=d.who_daily_latest.cumulative_deaths||0;dd.population+=d.population;}if(d.population>0&&d.vaccine_daily_latest){dd.cumulative_vaccines+=d.vaccine_daily_latest.total_vaccinations||0;}}});});// calculate regions per 100k values using total population for each region\ndata.regions.forEach(function(d,i){d.cumulative_cases_per_100k=d.cumulative_cases/(d.population/100000);d.cumulative_deaths_per_100k=d.cumulative_deaths/(d.population/100000);d.cumulative_vaccines_per_100k=d.cumulative_vaccines/(d.population/100000);if(!isFinite(d.cumulative_cases_per_100k))d.cumulative_cases_per_100k=0;if(!isFinite(d.cumulative_deaths_per_100k))d.cumulative_deaths_per_100k=0;if(!isFinite(d.cumulative_vaccines_per_100k))d.cumulative_vaccines_per_100k=0;});if(options.region_switch=='per100'){// get maximum values for each series\nmaxVaccinations=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_vaccines_per_100k;});Regionchart_maxCases=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_cases_per_100k;});Regionchart_maxDeaths=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_deaths_per_100k;});}else{// get maximum values for each series\nmaxVaccinations=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_vaccines;});Regionchart_maxCases=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_cases;});Regionchart_maxDeaths=src[\"h\" /* max */](data.regions,function(d,i){return d.cumulative_deaths;});}// redefine scales using new extent\nxScaleCases=src[\"l\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxCases]);xScaleDeaths=src[\"l\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,Regionchart_maxDeaths]);xScaleVaccines=src[\"l\" /* scaleLinear */]().range([0,rcSize.width-margin.right-labelWidth]).domain([0,maxVaccinations]);// update bars\nif(maxVaccinations==0&&Regionchart_maxCases==0&&Regionchart_maxDeaths==0){src[\"p\" /* selectAll */]('.region-bar').transition().duration(500).attr('width',0);src[\"p\" /* selectAll */]('.data-label').transition().duration(500).attr('x',labelWidth).attr('opacity',0);}else{src[\"p\" /* selectAll */]('.region-bar').transition().duration(500).style('fill',function(d){return src_colors.regions[d.code];if(options.region_chart_toggle=='vaccines'){return src_colors.regions_blue[d.code];}else{return src_colors.regions[d.code];}}).attr('width',function(d,i){var id=src[\"o\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.code==id){d=dd;}});var val=0;if(options.region_switch=='per100'){if(options.region_chart_toggle=='cases')val=xScaleCases(d.cumulative_cases_per_100k);if(options.region_chart_toggle=='deaths')val=xScaleDeaths(d.cumulative_deaths_per_100k);if(options.region_chart_toggle=='vaccines')val=xScaleVaccines(d.cumulative_vaccines_per_100k);}else{if(options.region_chart_toggle=='cases')val=xScaleCases(d.cumulative_cases);if(options.region_chart_toggle=='deaths')val=xScaleDeaths(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')val=xScaleVaccines(d.cumulative_vaccines);}if(!isNaN(val)){return parseFloat(val);}else{return 0;}});src[\"p\" /* selectAll */]('.data-label').transition().duration(500).tween(\"text\",function(d,i){var val=0;var id=src[\"o\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.code==id){d=dd;}});if(options.region_switch=='per100'){if(options.region_chart_toggle=='cases')val=Math.round(d.cumulative_cases_per_100k);if(options.region_chart_toggle=='deaths')val=Math.round(d.cumulative_deaths_per_100k);if(options.region_chart_toggle=='vaccines')val=Math.round(d.cumulative_vaccines_per_100k);}else{if(options.region_chart_toggle=='cases')val=Math.round(d.cumulative_cases);if(options.region_chart_toggle=='deaths')val=Math.round(d.cumulative_deaths);if(options.region_chart_toggle=='vaccines')val=Math.round(d.cumulative_vaccines);}var i=src[\"g\" /* interpolate */](Math.floor(Math.random()*2346+9345),val);return function(t){src[\"o\" /* select */](this).text(addCommas(Math.round(i(t))));};}).attr('x',function(d,i){var id=src[\"o\" /* select */](this).attr('data-id');var d;Regionchart_groupedData.forEach(function(dd,ii){if(dd.code==id){d=dd;}});var val=0;if(options.region_switch=='per100'){if(options.region_chart_toggle=='cases')val=xScaleCases(d.cumulative_cases_per_100k)+labelWidth+5;if(options.region_chart_toggle=='deaths')val=xScaleDeaths(d.cumulative_deaths_per_100k)+labelWidth+5;if(options.region_chart_toggle=='vaccines')val=xScaleVaccines(d.cumulative_vaccines_per_100k)+labelWidth+5;}else{if(options.region_chart_toggle=='cases')val=xScaleCases(d.cumulative_cases)+labelWidth+5;if(options.region_chart_toggle=='deaths')val=xScaleDeaths(d.cumulative_deaths)+labelWidth+5;if(options.region_chart_toggle=='vaccines')val=xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;}return val;}).attr('opacity',function(d,i){var d;var id=src[\"o\" /* select */](this).attr('data-id');Regionchart_groupedData.forEach(function(dd,ii){if(dd.code==id){d=dd;}});var val=0;if(options.region_switch=='per100'){if(options.region_chart_toggle=='cases')val=d.cumulative_cases_per_100k;if(options.region_chart_toggle=='deaths')val=d.cumulative_deaths_per_100k;if(options.region_chart_toggle=='vaccines')val=d.cumulative_vaccines_per_100k;}else{if(options.region_chart_toggle=='cases')val=d.cumulative_cases;if(options.region_chart_toggle=='deaths')val=d.cumulative_deaths;if(options.region_chart_toggle=='vaccines')val=d.cumulative_vaccines;}if(val>0){return 1;}else{return 0;}});}}/* harmony default export */ var Regionchart = (drawRegionchart);\n// EXTERNAL MODULE: ./node_modules/tippy.js/dist/tippy.esm.js + 52 modules\nvar tippy_esm = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/tippy.js/dist/svg-arrow.css\nvar svg_arrow = __webpack_require__(126);\n\n// EXTERNAL MODULE: ./node_modules/tippy.js/themes/light.css\nvar light = __webpack_require__(127);\n\n// EXTERNAL MODULE: ./node_modules/jspdf/dist/jspdf.es.min.js\nvar jspdf_es_min = __webpack_require__(39);\n\n// EXTERNAL MODULE: ./node_modules/html2canvas/dist/html2canvas.js\nvar html2canvas = __webpack_require__(17);\nvar html2canvas_default = /*#__PURE__*/__webpack_require__.n(html2canvas);\n\n// CONCATENATED MODULE: ./src/Layout.js\nvar selectedToggle='#595454';var unselectedToggle='#EAEAEA';var unselectedToggleText='#000';var selectedToggleText='#FFF';function Layout(svg,options,data,filter,updateTable,updateMap){// vaccine info\nsrc[\"o\" /* select */]('#vaccine_tooltip').attr('opacity',0).style('display','none');src[\"o\" /* select */]('#vaccine_info path').attr('fill',src_colors.black);svg.select('#vaccine_info').style('cursor','pointer').on('mouseover',function(event,bd){src[\"o\" /* select */]('#svg_container').style('z-index',10);src[\"o\" /* select */]('#vaccine_tooltip').style('display','inline').transition().duration(500).attr('opacity',1);src[\"o\" /* select */]('#vaccine_info path').transition().duration(200).attr('fill',src_colors.blue);}).on('mouseout',function(event,d){src[\"o\" /* select */]('#svg_container').style('z-index',1);src[\"o\" /* select */]('#vaccine_tooltip').style('display','none').attr('opacity',0);src[\"o\" /* select */]('#vaccine_info path').transition().duration(500).attr('fill',src_colors.black);});// region chart toggle\nsvg.select('#region_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){options.region_filter=[];filter('clear-region');});svg.select('#region_switch').style('cursor','pointer').on('click',function(d,i){if(options.region_switch=='total'){options.region_switch='per100';src[\"o\" /* select */]('#region_switch_toggle').transition().duration(200).attr('x',15.1);}else{options.region_switch='total';src[\"o\" /* select */]('#region_switch_toggle').transition().duration(200).attr('x',3.1);}updateRegionchart(options,data);});svg.select('#region-chart-toggle #region-chart-toggle-cases').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='cases')return false;options.region_chart_toggle='cases';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-cases rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-cases text').attr('fill',selectedToggleText);updateRegionchart(options,data);});svg.select('#region-chart-toggle #region-chart-toggle-deaths').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='deaths')return false;options.region_chart_toggle='deaths';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-deaths rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-deaths text').attr('fill',selectedToggleText);updateRegionchart(options,data);});svg.select('#region-chart-toggle #region-chart-toggle-vaccines').style('cursor','pointer').on('click',function(d){if(options.region_chart_toggle==='vaccines')return false;options.region_chart_toggle='vaccines';svg.selectAll('#region-chart-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#region-chart-toggle text').attr('fill',unselectedToggleText);svg.select('#region-chart-toggle-vaccines rect').attr('fill',selectedToggle);svg.select('#region-chart-toggle-vaccines text').attr('fill',selectedToggleText);updateRegionchart(options,data);});// map toggle\nsvg.select('#map-toggle #map-toggle-bi-weekly-change').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='bi-weekly-change')return false;options.map_toggle='bi-weekly-change';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-bi-weekly-change rect').attr('fill',selectedToggle);svg.select('#map-toggle-bi-weekly-change text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-cases').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='cases')return false;options.map_toggle='cases';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-cases rect').attr('fill',selectedToggle);svg.select('#map-toggle-cases text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-deaths').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='deaths')return false;options.map_toggle='deaths';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-deaths rect').attr('fill',selectedToggle);svg.select('#map-toggle-deaths text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-percent-fully-vaccinated').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='percent-fully-vaccinated')return false;options.map_toggle='percent-fully-vaccinated';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-percent-fully-vaccinated rect').attr('fill',selectedToggle);svg.select('#map-toggle-percent-fully-vaccinated text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});svg.select('#map-toggle #map-toggle-percent-vaccine-acceptance').style('cursor','pointer').on('click',function(d){if(options.map_toggle==='percent-vaccine-acceptance')return false;options.map_toggle='percent-vaccine-acceptance';svg.selectAll('#map-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#map-toggle text').attr('fill',unselectedToggleText);svg.select('#map-toggle-percent-vaccine-acceptance rect').attr('fill',selectedToggle);svg.select('#map-toggle-percent-vaccine-acceptance text').attr('fill',selectedToggleText);// update map legend\nupdateMap(data,options,700);});// time chart type \nsvg.select('#timechart-type-toggle #timechart-type-toggle-cumulative').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='cumulative')return false;options.timeline_type='cumulative';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-cumulative rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-cumulative polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggle);updateTimechart(data,options);});Object(tippy_esm[\"a\" /* default */])('#timechart-type-toggle-cumulative',{content:'Cumulative',duration:0,placement:'bottom',theme:'light',arrow:true,delay:[500,200]});svg.select('#timechart-type-toggle #timechart-type-toggle-non-cumulative').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='non-cumulative')return false;options.timeline_type='non-cumulative';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-non-cumulative rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-non-cumulative polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggle);updateTimechart(data,options);});Object(tippy_esm[\"a\" /* default */])('#timechart-type-toggle-non-cumulative',{content:'Non-cumulative',duration:0,placement:'bottom',theme:'light',arrow:true,delay:[500,200]});svg.select('#timechart-type-toggle #timechart-type-toggle-stacked').style('cursor','pointer').on('click',function(d){if(options.timeline_type==='stacked')return false;options.timeline_type='stacked';svg.selectAll('#timechart-type-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-type-toggle polyline').attr('stroke',unselectedToggleText);svg.select('#timechart-type-toggle-stacked rect').attr('fill',selectedToggle);svg.select('#timechart-type-toggle-stacked polyline').attr('stroke',selectedToggleText);svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill',selectedToggleText);updateTimechart(data,options);});Object(tippy_esm[\"a\" /* default */])('#timechart-type-toggle-stacked',{content:'Stacked 100%',duration:0,placement:'bottom',theme:'light',arrow:true,delay:[500,200]});// time chart frequency toggle\nsvg.select('#timechart-frequency-toggle #timechart-frequency-toggle-day').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='day')return false;options.timeline_frequency='day';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-day rect').attr('fill',selectedToggle);svg.select('#timechart-frequency-toggle-day text').attr('fill',selectedToggleText);svg.select('#tooltip_frequency tspan').attr('text-anchor','end').attr('dx',20).text('DAY');drawTimechart(data,options);});svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-week').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='week')return false;options.timeline_frequency='week';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-week rect').attr('fill',selectedToggle);svg.select('#tooltip_frequency tspan').attr('text-anchor','end').attr('dx',20).text('WEEK');svg.select('#timechart-frequency-toggle-week text').attr('fill',selectedToggleText);drawTimechart(data,options);});svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-month').style('cursor','pointer').on('click',function(d){if(options.timeline_frequency==='month')return false;options.timeline_frequency='month';svg.selectAll('#timechart-frequency-toggle rect').attr('fill',unselectedToggle);svg.selectAll('#timechart-frequency-toggle text').attr('fill',unselectedToggleText);svg.select('#timechart-frequency-toggle-month rect').attr('fill',selectedToggle);svg.select('#tooltip_frequency tspan').attr('text-anchor','end').attr('dx',20).text('MONTH');svg.select('#timechart-frequency-toggle-month text').attr('fill',selectedToggleText);drawTimechart(data,options);});// HDI toggle\nsvg.select('#hdi_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);filter('clear-hdi');});svg.select('#hdi-toggle #hdi-toggle-very-high').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'very-high');if(options.hdi_filter.length===4){options.hdi_filter=[];src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){src[\"o\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-high').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'high');if(options.hdi_filter.length===4){options.hdi_filter=[];src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){src[\"o\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-medium').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'medium');if(options.hdi_filter.length===4){options.hdi_filter=[];src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){src[\"o\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});svg.select('#hdi-toggle #hdi-toggle-low').style('cursor','pointer').on('click',function(d){toggle(options.hdi_filter,'low');if(options.hdi_filter.length===4){options.hdi_filter=[];src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length===0){src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',1);}else if(options.hdi_filter.length>0){src[\"p\" /* selectAll */]('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity',0.3);}if(options.hdi_filter.length>0){options.hdi_filter.forEach(function(d,i){src[\"o\" /* select */]('#hdi-toggle-'+d).attr('opacity',1);});}filter('hdi');});// inform severity toggle\nsvg.select('#inform_remove_filter').attr('opacity',0).style('cursor','pointer').on('click',function(d,i){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);filter('clear-inform');});svg.select('#inform-toggle #inform-toggle-no-score').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'no-score');if(options.inform_filter.length===5){options.inform_filter=[];src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){src[\"o\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-low').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'low');if(options.inform_filter.length===5){options.inform_filter=[];src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){src[\"o\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-medium').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'medium');if(options.inform_filter.length===5){options.inform_filter=[];src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){src[\"o\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-high').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'high');if(options.inform_filter.length===5){options.inform_filter=[];src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){src[\"o\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});svg.select('#inform-toggle #inform-toggle-very-high').style('cursor','pointer').on('click',function(d){toggle(options.inform_filter,'very-high');if(options.inform_filter.length===5){options.inform_filter=[];src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length===0){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',1);}else if(options.inform_filter.length>0){src[\"p\" /* selectAll */]('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity',0.3);}if(options.inform_filter.length>0){options.inform_filter.forEach(function(d,i){src[\"o\" /* select */]('#inform-toggle-'+d).attr('opacity',1);});}filter('inform');});// tabs\nsrc[\"o\" /* select */]('#additional-indicators-tab').attr('opacity',0).select('#additional-indicators-tab-content').attr('display','none');src[\"o\" /* select */]('#vac-tab').attr('opacity',1).select('#vac-tab-content').attr('display','inline');src[\"o\" /* select */]('#bubblechart-tab').attr('opacity',0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display','none');src[\"o\" /* select */]('#bubbleSelectContainer').style('display','none');svg.select('#tabs #vaccination-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='vaccination-data')return false;options.tab_toggle='vaccination-data';src[\"o\" /* select */]('#additional-indicators-tab').attr('opacity',0).select('#additional-indicators-tab-content').attr('display','none');src[\"o\" /* select */]('#vac-tab').attr('opacity',1).select('#vac-tab-content').attr('display','inline');src[\"o\" /* select */]('#bubblechart-tab').attr('opacity',0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display','none');svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#vaccination-tab rect').attr('fill',selectedToggle);svg.select('#vaccination-tab text').attr('fill',selectedToggleText);src[\"o\" /* select */]('#bubbleSelectContainer').style('display','none');});svg.select('#tabs #indicators-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='indicators')return false;options.tab_toggle='indicators';src[\"o\" /* select */]('#additional-indicators-tab').attr('opacity',1).select('#additional-indicators-tab-content').attr('display','inline');src[\"o\" /* select */]('#vac-tab').attr('opacity',0).select('#vac-tab-content').attr('display','none');src[\"o\" /* select */]('#bubblechart-tab').attr('opacity',0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display','none');svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#indicators-tab rect').attr('fill',selectedToggle);svg.select('#indicators-tab text').attr('fill',selectedToggleText);src[\"o\" /* select */]('#bubbleSelectContainer').style('display','none');});svg.select('#tabs #bubble-chart-tab').style('cursor','pointer').on('click',function(d){if(options.tab_toggle==='bubble-chartt')return false;options.tab_toggle='bubble-chart';src[\"o\" /* select */]('#additional-indicators-tab').attr('opacity',0).select('#additional-indicators-tab-content').attr('display','none');src[\"o\" /* select */]('#vac-tab').attr('opacity',0).select('#vac-tab-content').attr('display','none');src[\"o\" /* select */]('#bubblechart-tab').attr('opacity',1).selectAll('#bubblechart, #bubblechart-tab-content').attr('display','inline');svg.selectAll('#tabs rect').attr('fill',unselectedToggle);svg.selectAll('#tabs text').attr('fill',unselectedToggleText);svg.select('#bubble-chart-tab rect').attr('fill',selectedToggle);svg.select('#bubble-chart-tab text').attr('fill',selectedToggleText);src[\"o\" /* select */]('#bubbleSelectContainer').style('display','inline-block');});// time chart mask\nsrc[\"o\" /* select */]('#svg defs').append('clipPath').attr('id','mask').append('rect').attr('y',340).attr('height',590).attr('width',660).attr('x',22);// append timechart svg\nvar timechartContainer=svg.select('#timechart_container').attr('opacity',0);var tcSize={x:timechartContainer.attr('x'),y:timechartContainer.attr('y'),width:timechartContainer.attr('width'),height:timechartContainer.attr('height')};var timechartSvg=svg.append('svg').attr('id','timechart_svg').attr('viewBox','0 0 '+2000+' '+tcSize.height).attr('preserveAspectRatio',\"none\").attr('x',tcSize.x).attr('y',tcSize.y).attr('width',tcSize.width).attr('height',tcSize.height);var layer1=timechartSvg.append('g').attr('id','layer1');var timechartBg=timechartSvg.append('g').attr('id','layer0');layer1.append('rect').attr('x',0).attr('y',0).attr('width','100%').attr('height','100%').attr('opacity',0).style('fill','transparent');// table bars\nvar tableRowHeight=18;var tableBarYOffset=68;var _loop=function _loop(i){// col 1 bg\nsrc[\"o\" /* select */]('#vac-tab').append('rect').attr('class','col1bg colbg').attr('id','col1bg'+i).attr('x',120).attr('y',function(){return tableBarYOffset+i*24.8;}).attr('height',tableRowHeight).attr('width',68).attr('fill',src_colors.lightgrey);// col 1 bar\nsrc[\"o\" /* select */]('#vac-tab').append('rect').attr('class','col1bar').attr('id','col1bar'+i).attr('x',120).attr('y',function(){return tableBarYOffset+i*24.8;}).attr('height',tableRowHeight).attr('width',0).attr('fill',src_colors.blue);// col 2 bg\nsrc[\"o\" /* select */]('#vac-tab').append('rect').attr('class','col2bg colbg').attr('id','col2bg'+i).attr('x',230).attr('y',function(){return tableBarYOffset+i*24.8;}).attr('height',tableRowHeight).attr('width',68).attr('fill',src_colors.lightgrey);// col 2 bar\nsrc[\"o\" /* select */]('#vac-tab').append('rect').attr('class','col2bar').attr('id','col2bar'+i).attr('x',230).attr('y',function(){return tableBarYOffset+i*24.8;}).attr('height',tableRowHeight).attr('width',0).attr('fill',src_colors.blue);// col 3 bg\nsrc[\"o\" /* select */]('#vac-tab').append('rect').attr('class','col3bg colbg').attr('id','col3bg'+i).attr('x',340).attr('y',function(){return tableBarYOffset+i*24.8;}).attr('height',tableRowHeight).attr('width',68).attr('fill',src_colors.lightgrey);// col 3 bar\nsrc[\"o\" /* select */]('#vac-tab').append('rect').attr('class','col3bar').attr('id','col3bar'+i).attr('x',340).attr('y',function(){return tableBarYOffset+i*24.8;}).attr('height',tableRowHeight).attr('width',0).attr('fill',src_colors.blue);// col 4 bg\nsrc[\"o\" /* select */]('#vac-tab').append('rect').attr('class','col4bg colbg').attr('id','col4bg'+i).attr('x',454).attr('y',function(){return 67+i*24.8;}).attr('height',tableRowHeight).attr('width',68).attr('fill',src_colors.lightgrey);// col 3 bar\nsrc[\"o\" /* select */]('#vac-tab').append('rect').attr('class','col4bar').attr('id','col4bar'+i).attr('x',454).attr('y',function(){return 67+i*24.8;}).attr('height',tableRowHeight).attr('width',0).attr('fill',src_colors.blue);for(x=0;x<6;x++){src[\"o\" /* select */]('#col'+x+'_sort_desc').attr('opacity',0);src[\"o\" /* select */]('#col'+x+'_sort_asc').attr('opacity',0);src[\"o\" /* select */]('#col'+x+'_sort').style('cursor','pointer').on('click',function(){var thisId=src[\"o\" /* select */](this).attr('id');if(options.table_sort==thisId){if(options.table_sort_direction=='desc'){options.table_sort_direction='asc';}else{options.table_sort_direction='desc';}}else{options.table_sort=thisId;options.table_sort_direction='desc';}options.page=1;updateTable(data,options);});// d3.select('#col1_sort_desc').attr('opacity', 1);\n}};for(var i=0;i<10;i++){var x;_loop(i);}src[\"o\" /* select */]('#reset_locations').attr('display','none');printCopySave();}// print copy save\nvar printing;function printCopySave(){Object(tippy_esm[\"a\" /* default */])('#button-png',{content:'Save as PNG',duration:0,placement:'bottom',theme:'light',arrow:true,delay:[500,200]});Object(tippy_esm[\"a\" /* default */])('#button-copy',{content:'Copy to clipboard',duration:0,placement:'bottom',theme:'light',arrow:true,delay:[500,200]});Object(tippy_esm[\"a\" /* default */])('#button-print',{content:'Print to PDF',duration:0,placement:'bottom',theme:'light',arrow:true,delay:[500,200]});src[\"o\" /* select */]('#button-print').on('click',function(){if(printing)return false;printing=true;setTimeout(function(){html2canvas_default()(document.querySelector(\"#root\"),{allowTaint:true,onclone:function onclone(doc){},useCORS:false,foreignObjectRendering:true,ignoreElements:function ignoreElements(element){// if(element.id=='adm-toggle') return true;\n// if($(element).hasClass('select2')) return true;\nreturn false;},scale:2,x:0,y:0,scrollX:0,scrollY:0,logging:false}).then(function(canvas){var img=canvas.toDataURL(\"image/png\");var pdf=new jspdf_es_min[\"a\" /* jsPDF */](\"l\",\"mm\",\"a4\");var imgProps=pdf.getImageProperties(img);var pdfWidth=pdf.internal.pageSize.getWidth();var pdfHeight=imgProps.height*pdfWidth/imgProps.width;pdf.addImage(img,'JPEG',10,10,pdfWidth-20,pdfHeight-30);pdf.save('deep-pdf-export.pdf');printing=false;},200);});});src[\"o\" /* select */]('#button-png').on('click',function(){if(printing)return false;printing=true;setTimeout(function(){html2canvas_default()(document.querySelector(\"#root\"),{allowTaint:true,onclone:function onclone(doc){},useCORS:false,foreignObjectRendering:true,ignoreElements:function ignoreElements(element){// if(element.id=='adm-toggle') return true;\n// if($(element).hasClass('select2')) return true;\nreturn false;},scale:2,x:0,y:0,scrollX:0,scrollY:0,logging:false}).then(function(canvas){var img=canvas.toDataURL(\"image/png\").replace(\"image/png\",\"image/octet-stream\");var link=document.createElement('a');link.download='dashboard-export.png';link.href=img;link.click();link.remove();printing=false;},200);});});//   d3.select('#button-copy').on('click',function(){\n//     if(printing) return false;\n//     printing = true;\n//     setTimeout(function(){\n//       html2canvas(document.querySelector(\"#root\"),{\n//             allowTaint: true,\n//             onclone: function(doc){\n//             },\n//             useCORS: false,\n//             foreignObjectRendering: true,\n//             ignoreElements: function(element){\n//               // if(element.id=='adm-toggle') return true;\n//               // if($(element).hasClass('select2')) return true;\n//             return false;\n//             },\n//             scale: 1.8,\n//             windowWidth: 2800,\n//             windowHeight: 2000,\n//             logging: false\n//         }).then(canvas => {\n//           canvas.toBlob(blob, function(){\n//             navigator.clipboard.write([\n//               new ClipboardItem({\n//                 [blob.type]: blob\n//               })\n//             ]).then(() => {\n//             })\n//           })\n//         // copied to clipboard\n//         printing = false;\n//       });\n//       },200);\n//     });\n}/* harmony default export */ var src_Layout = (Layout);function toggle(collection,item){var idx=collection.indexOf(item);if(idx!==-1){collection.splice(idx,1);}else{collection.push(item);}}/*\n\n#timechart-type-toggle #timechart-type-toggle-stacked\n#timechart-type-toggle #timechart-type-toggle-non-cumulative\n#timechart-type-toggle #timechart-type-toggle-cumulative\n\n#timechart-frequency-toggle #timechart-frequency-toggle-day\n#timechart-frequency-toggle #timechart-frequency-toggle-week\n#timechart-frequency-toggle #timechart-frequency-toggle-month\n\n#map-toggle #map-toggle-bi-weekly-change\n#map-toggle #map-toggle-deaths\n#map-toggle #map-toggle-percent-fully-vaccinated\n#map-toggle #map-toggle-percent-vaccine-acceptance\n#map-toggle #map-toggle-cases\n\n#tabs #bubble-chart-tab\n#tabs #indicators-tab\n#tabs #vaccination-tab\n\n#hdi-toggle #hdi-toggle-very-high\n#hdi-toggle #hdi-toggle-high\n#hdi-toggle #hdi-toggle-medium\n#hdi-toggle #hdi-toggle-low\n\n\n#inform-toggle #inform-toggle-no-score\n#inform-toggle #inform-toggle-low\n#inform-toggle #inform-toggle-medium\n#inform-toggle #inform-toggle-high\n#inform-toggle #inform-toggle-very-high\n\n*/\n// CONCATENATED MODULE: ./src/Bubblechart.js\nvar maxX=1000;var maxY=100;var maxZ=1000000;var Bubblechart_xScale;var yScale;var zScale;var Bubblechart_groupedData=[];var Bubblechart_width=600;var height=233;var Bubblechart_x=35;var Bubblechart_y=58;var bubbles;function drawBubblechart(data,options,filter){maxX=src[\"h\" /* max */](data.country,function(d,i){return parseFloat(d.gni_2017);});maxY=src[\"h\" /* max */](data.country,function(d,i){// if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return parseFloat(d.people_vaccinated_per_hundred);\nif(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return 100;// if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return parseFloat(d.people_fully_vaccinated_per_hundred);\nif(options.bubble_chart_y_axis=='percent-fully-vaccinated')return 100;if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return 100;});maxZ=src[\"h\" /* max */](data.country,function(d,i){return parseFloat(d.population);});Bubblechart_xScale=src[\"l\" /* scaleLinear */]().range([0,Bubblechart_width]).domain([0,maxX]).nice();yScale=src[\"l\" /* scaleLinear */]().range([height,0]).domain([0,maxY]);zScale=src[\"m\" /* scaleSqrt */]().domain([0,maxZ]).range([1,20]);var svg=src[\"o\" /* select */]('#bubblechart-tab').append('g').attr('transform','translate('+Bubblechart_x+', '+Bubblechart_y+')').attr('id','bubblechart');// create y-axis\nsvg.append(\"g\").attr('id','bubbley').call(src[\"b\" /* axisLeft */](yScale).ticks(3).tickSize(3));// create x-axis\nsvg.append(\"g\").attr('id','bubblex').attr('class','xAxis').attr(\"transform\",\"translate(0,\"+height+\")\").call(src[\"a\" /* axisBottom */](Bubblechart_xScale).ticks(4).tickSize(3));// Add dots\nbubbles=src[\"o\" /* select */]('#bubblechart').selectAll(\".bubble\").data(data.country).join(function(enter){enter.append(\"circle\").attr(\"class\",function(d){return\"bubble\";}).attr(\"cx\",function(d){return Bubblechart_xScale(parseFloat(d.gni_2017));}).attr(\"cy\",function(d){if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return yScale(parseFloat(d.vaccine_acceptance_percent));}).attr(\"r\",function(d){return zScale(parseFloat(d.population));}).style(\"fill\",function(d){if(options.bubble_chart_color_by=='region'){if(src_colors.regions[d.ifrc_region])return src_colors.regions[d.ifrc_region];}if(options.bubble_chart_color_by=='hdi'){if(src_colors.hdi_category[d.hdi_category])return src_colors.hdi_category[d.hdi_category];}if(options.bubble_chart_color_by=='inform-severity'){if(src_colors.inform_severity[d.inform_severity])return src_colors.inform_severity[d.inform_severity];}return'transparent';}).style(\"stroke\",function(d){// if(options.bubble_chart_color_by == 'region') {\n//    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n// } \n// if(options.bubble_chart_color_by == 'hdi') {\n//     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n//  }\n//  if(options.bubble_chart_color_by == 'inform-severity') {\n//     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n//  }\n// return  'transparent';\nreturn'#FFF';}).style(\"stroke-width\",1)// .style(\"fill-opacity\", 0.8)\n.attr('display',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return'none';return'inline';}).attr('opacity',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return 0;return 1;});},function(update){update.transition().duration(800).attr(\"cx\",function(d){return Bubblechart_xScale(parseFloat(d.gni_2017));}).attr(\"cy\",function(d){if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return yScale(parseFloat(d.vaccine_acceptance_percent));}).attr(\"r\",function(d){return zScale(parseFloat(d.population));}).style(\"fill\",function(d){if(options.bubble_chart_color_by=='region'){if(src_colors.regions[d.ifrc_region])return src_colors.regions[d.ifrc_region];}if(options.bubble_chart_color_by=='hdi'){if(src_colors.hdi_category[d.hdi_category])return src_colors.hdi_category[d.hdi_category];}if(options.bubble_chart_color_by=='inform-severity'){if(src_colors.inform_severity[d.inform_severity])return src_colors.inform_severity[d.inform_severity];}return'transparent';}).style(\"stroke\",function(d){// if(options.bubble_chart_color_by == 'region') {\n//    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n// } \n// if(options.bubble_chart_color_by == 'hdi') {\n//     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n//  }\n//  if(options.bubble_chart_color_by == 'inform-severity') {\n//     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n//  }\n// return  'transparent';\nreturn'#FFF';}).attr('display',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return'none';return'inline';}).attr('opacity',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return 0;return 1;});},function(exit){exit.remove();});src[\"o\" /* select */]('#bubblechart').selectAll(\".bubble\").on('mousemove',function(event,d){src[\"o\" /* select */]('#bubbleSelectContainer').style('z-index',1);src[\"o\" /* select */]('#bubblechart_tooltip_title tspan').text(d.country_name);if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){src[\"o\" /* select */]('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');src[\"o\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){src[\"o\" /* select */]('#bubblechart_tooltip_label tspan').text('% fully vaccinated');src[\"o\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){src[\"o\" /* select */]('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');src[\"o\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.vaccine_acceptance_percent).toFixed(2)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}src[\"o\" /* select */]('#bubblechart_tooltip_gni tspan').text('$'+addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\",\"end\").attr('dx',37);src[\"o\" /* select */]('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\",\"end\").attr('dx',37);var coords=src[\"k\" /* pointer */](event,src[\"o\" /* select */]('#svg').node());if(coords[0]<1110){src[\"o\" /* select */]('#bubblechart_tooltip').attr('transform','translate('+(coords[0]+20)+','+(coords[1]+Bubblechart_y-90)+')').attr('display','inline');src[\"o\" /* select */]('#bubblechart_tooltip_arrow_left').attr('display','inline');src[\"o\" /* select */]('#bubblechart_tooltip_arrow_right').attr('display','none');}else{src[\"o\" /* select */]('#bubblechart_tooltip').attr('transform','translate('+(coords[0]-220)+','+(coords[1]+Bubblechart_y-90)+')').attr('display','inline');src[\"o\" /* select */]('#bubblechart_tooltip_arrow_left').attr('display','none');src[\"o\" /* select */]('#bubblechart_tooltip_arrow_right').attr('display','inline');}src[\"p\" /* selectAll */](\".bubble\").attr('opacity',0.4);src[\"o\" /* select */](this).attr('opacity',1).style('stroke-width',2);}).on('mouseout',function(event){if(event.toElement=='tspan')return false;src[\"o\" /* select */]('#bubbleSelectContainer').style('z-index',2);// mapTooltip.attr('display', 'none');\nsrc[\"o\" /* select */]('#bubblechart_tooltip').attr('display','none');src[\"p\" /* selectAll */](\".bubble\").attr('opacity',1).style('stroke-width',1);});src[\"o\" /* select */]('#bubblechart_tooltip').attr('display','none');src[\"o\" /* select */]('#bubble_y_axis_label').attr('text-anchor','middle').select('tspan').attr('dx',50);if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){src[\"o\" /* select */]('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');}if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){src[\"o\" /* select */]('#bubble_y_axis_label tspan').text('% fully vaccinated');}if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){src[\"o\" /* select */]('#bubble_y_axis_label tspan').text('% vaccine acceptance');}}function updateBubblechart(data,options,filter){maxX=src[\"h\" /* max */](data.country,function(d,i){return parseFloat(d.gni_2017);});maxY=src[\"h\" /* max */](data.country,function(d,i){if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return parseFloat(d.people_vaccinated_per_hundred);if(options.bubble_chart_y_axis=='percent-fully-vaccinated')return parseFloat(d.people_fully_vaccinated_per_hundred);if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return parseFloat(d.vaccine_acceptance_percent);});maxZ=src[\"h\" /* max */](data.country,function(d,i){return parseFloat(d.population);});Bubblechart_xScale=src[\"l\" /* scaleLinear */]().range([0,Bubblechart_width]).domain([0,maxX]);yScale=src[\"l\" /* scaleLinear */]().range([height,0]).domain([0,maxY]);zScale=src[\"m\" /* scaleSqrt */]().domain([0,maxZ]).range([1,20]);var svg=src[\"o\" /* select */]('#bubblechart');// create y-axis\nsvg.select('#bubbley').transition().duration(800).call(src[\"b\" /* axisLeft */](yScale).ticks(3));// create x-axis\nsvg.select('#bubblex').transition().duration(800).call(src[\"a\" /* axisBottom */](Bubblechart_xScale).ticks(3));bubbles=src[\"o\" /* select */]('#bubblechart').selectAll(\".bubble\").data(data.country).join(function(enter){enter.append(\"circle\").attr(\"cx\",function(d){return Bubblechart_xScale(maxX);}).attr(\"cy\",function(d){return yScale(maxY);}).attr(\"class\",function(d){return\"bubble\";}).transition().duration(800).attr(\"cx\",function(d){return Bubblechart_xScale(parseFloat(d.gni_2017));}).attr(\"cy\",function(d){if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return yScale(parseFloat(d.vaccine_acceptance_percent));}).attr(\"r\",function(d){return zScale(parseFloat(d.population));}).style(\"fill\",function(d){if(options.bubble_chart_color_by=='region'){if(src_colors.regions[d.ifrc_region])return src_colors.regions[d.ifrc_region];}if(options.bubble_chart_color_by=='hdi'){if(src_colors.hdi_category[d.hdi_category])return src_colors.hdi_category[d.hdi_category];}if(options.bubble_chart_color_by=='inform-severity'){if(src_colors.inform_severity[d.inform_severity])return src_colors.inform_severity[d.inform_severity];}return'transparent';}).style(\"stroke\",function(d){// if(options.bubble_chart_color_by == 'region') {\n//    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n// } \n// if(options.bubble_chart_color_by == 'hdi') {\n//     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n//  }\n//  if(options.bubble_chart_color_by == 'inform-severity') {\n//     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n//  }\n// return  'transparent';\nreturn'#FFF';}).style(\"stroke-width\",1)// .style(\"fill-opacity\", 0.8)\n.attr('display',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return'none';return'inline';}).attr('opacity',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return 0;return 1;});},function(update){update.attr('display',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return'none';if(yScale.invert(val)==0)return'none';return'inline';}).attr('opacity',function(d,i){var val=0;if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')val=yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')val=yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')val=yScale(parseFloat(d.vaccine_acceptance_percent));if(isNaN(val))return 0;return 1;}).style(\"fill\",function(d){if(options.bubble_chart_color_by=='region'){if(src_colors.regions[d.ifrc_region])return src_colors.regions[d.ifrc_region];}if(options.bubble_chart_color_by=='hdi'){if(src_colors.hdi_category[d.hdi_category])return src_colors.hdi_category[d.hdi_category];}if(options.bubble_chart_color_by=='inform-severity'){if(src_colors.inform_severity[d.inform_severity])return src_colors.inform_severity[d.inform_severity];}return'transparent';}).transition().duration(800).attr(\"cx\",function(d){return Bubblechart_xScale(parseFloat(d.gni_2017));}).attr(\"cy\",function(d){if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose')return yScale(parseFloat(d.people_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-fully-vaccinated')return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));if(options.bubble_chart_y_axis=='percent-vaccine-acceptance')return yScale(parseFloat(d.vaccine_acceptance_percent));}).attr(\"r\",function(d){return zScale(parseFloat(d.population));});},function(exit){exit.remove();});src[\"o\" /* select */]('#bubblechart').selectAll(\".bubble\").on('mousemove',function(event,d){src[\"o\" /* select */]('#bubbleSelectContainer').style('z-index',1);src[\"o\" /* select */]('#bubblechart_tooltip_title tspan').text(d.country_name);if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){src[\"o\" /* select */]('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');src[\"o\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){src[\"o\" /* select */]('#bubblechart_tooltip_label tspan').text('% fully vaccinated');src[\"o\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){src[\"o\" /* select */]('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');src[\"o\" /* select */]('#bubblechart_tooltip_value tspan').text(parseFloat(d.vaccine_acceptance_percent).toFixed(2)+'%').attr(\"text-anchor\",\"end\").attr('dx',37);}src[\"o\" /* select */]('#bubblechart_tooltip_gni tspan').text('$'+addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\",\"end\").attr('dx',37);src[\"o\" /* select */]('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\",\"end\").attr('dx',37);var coords=src[\"k\" /* pointer */](event,src[\"o\" /* select */]('#svg').node());if(coords[0]<1110){src[\"o\" /* select */]('#bubblechart_tooltip').attr('transform','translate('+(coords[0]+20)+','+(coords[1]+Bubblechart_y-90)+')').attr('display','inline');src[\"o\" /* select */]('#bubblechart_tooltip_arrow_left').attr('display','inline');src[\"o\" /* select */]('#bubblechart_tooltip_arrow_right').attr('display','none');}else{src[\"o\" /* select */]('#bubblechart_tooltip').attr('transform','translate('+(coords[0]-220)+','+(coords[1]+Bubblechart_y-90)+')').attr('display','inline');src[\"o\" /* select */]('#bubblechart_tooltip_arrow_left').attr('display','none');src[\"o\" /* select */]('#bubblechart_tooltip_arrow_right').attr('display','inline');}src[\"p\" /* selectAll */](\".bubble\").attr('opacity',0.4);src[\"o\" /* select */](this).attr('opacity',1).style('stroke-width',2);}).on('mouseout',function(event){if(event.toElement=='tspan')return false;src[\"o\" /* select */]('#bubbleSelectContainer').style('z-index',2);// mapTooltip.attr('display', 'none');\nsrc[\"o\" /* select */]('#bubblechart_tooltip').attr('display','none');src[\"p\" /* selectAll */](\".bubble\").attr('opacity',1).style('stroke-width',1);});if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){src[\"o\" /* select */]('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');}if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){src[\"o\" /* select */]('#bubble_y_axis_label tspan').text('% fully vaccinated');}if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){src[\"o\" /* select */]('#bubble_y_axis_label tspan').text('% vaccine acceptance');}}/* harmony default export */ var Bubblechart = (drawBubblechart);\n// CONCATENATED MODULE: ./src/Options.js\n// default options\nvar Options_options={region_chart_toggle:'cases',// cases, deaths, vaccines\nregion_switch:'total',// total, per100\nregion_filter:[],country_filter:[],hdi_filter:[],// very-high, high, medium, low\ninform_filter:[],// no-score, low, medium, high, very-high\ntimeline_type:'non-cumulative',// cumulative, non-cumulative, stacked \ntimeline_frequency:'week',// day, week, month\nmap_toggle:'cases',// bi-weekly-change, cases, deaths, percent-fully-vaccinated, percent-vaccine-acceptance\ntab_toggle:'vaccination-data',// vaccination-data, indicators, bubble-chart\ntable_sort:'col1_sort',table_sort_direction:'desc',bubble_chart_color_by:'hdi',// hdi, inform-severity, region\nbubble_chart_y_axis:'percent-vaccinated-at-least-1-dose',// percent-vaccinated-at-least-1-dose, percent-fully-vaccinated, percent-vaccine-acceptance\nbrushL:0,brushR:600,page:1,numPages:1};/* harmony default export */ var Options = (Options_options);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/jquery/dist/jquery.js\nvar jquery = __webpack_require__(3);\nvar jquery_default = /*#__PURE__*/__webpack_require__.n(jquery);\n\n// CONCATENATED MODULE: ./src/ParseData.js\nfunction ParseData(data,options){var _data$who_data;//*********************\n// create regions\n//*********************\ndata.regions=[{sort:5,'code':'AF',cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0},{sort:3,'code':'ME',cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0},{sort:4,'code':'AP',cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0},{sort:2,'code':'EU',cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0},{sort:1,'code':'AM',cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0},{sort:6,'code':'OTH',cumulative_cases:0,cumulative_deaths:0,cumulative_vaccines:0,population:0}];data.regions.sort(function(a,b){return a.sort-b.sort;});//*********************\n// clean up country data\n//*********************\ndata.country=data.equity_data;data.country.forEach(function(d,i){// if not an IFRC region then set to OTH\nif(d.ifrc_region!='AF'&&d.ifrc_region!='ME'&&d.ifrc_region!='AP'&&d.ifrc_region!='EU'&&d.ifrc_region!='AM'){d.ifrc_region='OTH';}// parse country population\nd.population=parseInt(d.population)||0;var pop=0;if(d.population>0)pop=d.population;// sum up ifrc region population \ndata.regions.forEach(function(dd,ii){if(dd.code==d.ifrc_region){dd.population+=pop;}});// get WHO vaccine data (vaccine types used, vaccines_per_100\nd.vaccines_used=[];d.avg_tests_per_1000=parseFloat(d.avg_tests_per_1000)||0;d.number_vaccine_types_used=0;d.vaccines_per_100=0;d.number_vaccine_types_used=parseInt(d.avg_tests_per_1000);data.vaccines_who_data.forEach(function(dd,ii){if(d.country_iso3==dd.ISO3){// d.data_updated = moment(dd.DATE_UPDATED).startOf('day').toDate();\nd.number_vaccine_types_used=parseInt(dd.NUMBER_VACCINES_TYPES_USED);d.vaccines_per_100=parseFloat(dd.TOTAL_VACCINATIONS_PER100);if(isNaN(d.vaccines_per_100))d.vaccines_per_100=0;d.vaccines_used=dd.VACCINES_USED.split(',').map(function(item){return item.trim();});}});// get ns involvement in activities\nd.ns_involvement=0;data.self_assessment.forEach(function(dd,ii){if(d.country_iso3==dd.ISO3){if(dd['Final involvement']=='Yes')d.ns_involvement=1;}});d.vaccine_acceptance_percent=0;// get vaccine acceptance\ndata.vaccine_acceptance.forEach(function(dd,ii){if(d.country_iso3==dd.iso3){// if(dd['Final involvement']=='Yes') d.ns_involvement = 1;\nd.vaccine_acceptance_percent=parseFloat(dd.indicator_value)*100;d.vaccine_acceptance_population=parseInt(dd.population_size);}});// get contrat tracing\nif(d.contract_tracing.toLowerCase()=='all'||d.contract_tracing.toLowerCase()=='some'){d.contract_tracing=1;}else{d.contract_tracing=0;}// parse equity data inform/hdi indexes\nif(d.hdi_category.match(/very high/i)){d.hdi_category='very-high';}else if(d.hdi_category.match(/high/i)){d.hdi_category='high';}else if(d.hdi_category.match(/medium/i)){d.hdi_category='medium';}else if(d.hdi_category.match(/low/i)){d.hdi_category='low';}if(d.inform_severity.match(/very high/i)){d.inform_severity='very-high';}else if(d.inform_severity.match(/high/i)){d.inform_severity='high';}else if(d.inform_severity.match(/medium/i)){d.inform_severity='medium';}else if(d.inform_severity.match(/low/i)){d.inform_severity='low';}else if(d.inform_severity.match(/no/i)){d.inform_severity='no-score';}});//*********************\n// get min/max dates\n//*********************\n// get min and max dates from daily who data\nvar maxDate=moment_default()(new Date(Object(src[\"h\" /* max */])(data.who_data,function(d){return d.Date_reported;}))).startOf('day');// override min date to week start\ndata.min_date=moment_default()('2019-12-31').startOf('day').toDate();var maxDateVaccines=moment_default()(new Date(Object(src[\"h\" /* max */])(data.vaccines_data,function(d){return d.date;}))).startOf('day');data.min_vaccine_date=moment_default()(new Date(Object(src[\"j\" /* min */])(data.vaccines_data,function(d){return d.date;}))).startOf('day').toDate();data.max_vaccine_date=maxDateVaccines.toDate();if(maxDateVaccines.unix()>maxDate.unix()){maxDate=maxDateVaccines;}data.max_date=maxDate.toDate();//*********************\n// parse who data\n//*********************\ndata.who_data.forEach(function(d,i){// parse dates\nd.date=moment_default()(d.Date_reported).startOf('day').toDate();// override country name and code\nd.country_code=d.Country_code;d.country_name=null;data.country.forEach(function(dd,ii){if(dd.country_iso2===d.country_code){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;}});// parse cases and deaths\nd.cumulative_deaths=parseInt(d.Cumulative_deaths);d.cumulative_cases=parseInt(d.Cumulative_cases);d.new_cases=parseInt(d.New_cases);d.new_deaths=parseInt(d.New_deaths);});// sort by date\ndata.who_data.sort(function(a,b){return new Date(a.date)-new Date(b.Date_reported);});//*************************\n// check for missing who dates and fill in the max date\n//*************************\n// group by country\nvar whoDataGrouped=Object(src[\"f\" /* flatGroup */])(data.who_data,function(d){return d.country_code;});var datesToAdd=[];whoDataGrouped.forEach(function(d,i){var maxDate=moment_default()(Object(src[\"h\" /* max */])(d[1],function(d){return d.date;})).startOf('day');var lastRecord=just_clone_default()(d[1][d[1].length-1]);if(maxDate.unix()!=data.max_date.getTime()){lastRecord.date=new Date(data.max_date);lastRecord.new_cases=0;lastRecord.new_deaths=0;datesToAdd.push(lastRecord);}});(_data$who_data=data.who_data).push.apply(_data$who_data,datesToAdd);data.who_data.sort(function(a,b){return new Date(a.date)-new Date(b.date);});// set count for incremental day/week/month numbers\nvar dayTotal=-1;var dayCheck=0;var weekTotal=-1;var weekCheck=-1;var monthTotal=0;var monthCheck=0;// parse and clean up WHO data\nvar whoCountryCodes=[];data.who_data.forEach(function(d,i){// parse dates\n// d.date = moment(d.Date_reported).startOf('day').toDate();\nd.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').startOf('day').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').startOf('day').toDate());// set negative values to zero for new cases/deaths\nif(d.new_deaths<0)d.new_deaths=0;if(d.new_cases<0)d.new_cases=0;if(d.ifrc_region==undefined)d.ifrc_region='OTH';// add country code to array so we know it is used\nif(!whoCountryCodes.includes(d.country_code)&&d.country_code.length>1){whoCountryCodes.push(d.country_code);}// delete old unused keys\ndelete d.Date_reported;delete d.Country;delete d.New_cases;delete d.New_deaths;delete d.Country_code;delete d.Cumulative_deaths;delete d.Cumulative_cases;delete d.Country_code;delete d.WHO_region;delete d.Country;// set incremental count\ndayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;});//*********************\n// parse vaccine cumulative data\n//*********************\n// clean up values\ndata.vaccines_data.forEach(function(d,i){d.date=moment_default()(d.date).startOf('day').toDate();});data.vaccines_data.sort(function(a,b){return new Date(a.date)-new Date(b.date);});// filter out vaccine data to only include records with ISO3 country codes\ndata.vaccines_data=data.vaccines_data.filter(function(d,i){return d.iso_code.length===3&&d.total_vaccinations>0;});var vaccineDataByCountry=Object(src[\"f\" /* flatGroup */])(data.vaccines_data,function(d){return d.iso_code;});// fill out missing vaccinations date records (extend cumulative from last data date)\nvar newDays=[];var hasDays=[];var lastRecord={};var vDataFlat=[];vaccineDataByCountry.forEach(function(d,i){var _d$;var minDt=new Date(data.min_date);var maxDt=new Date(data.max_date);hasDays=[];newDays=[];// set the last recorded date fo this country\nd.lastDate=moment_default()(Object(src[\"h\" /* max */])(d[1],function(d,i){return d.date;})).startOf('day').toDate();// reset country name and code using country table\ndata.country.forEach(function(dd,ii){if(dd.country_iso3===d[0]){d.ifrc_region=dd.ifrc_region;d.country_name=dd.country_name;d.country_code=dd.country_iso2;dd.data_updated=d.lastDate;}});// loop through all date records for this country and add to hasDays array\nd[1].forEach(function(dd,ii){dd.total_vaccinations=parseInt(dd.total_vaccinations);dd.daily_vaccinations=parseInt(dd.daily_vaccinations);hasDays.push(new Date(dd.date).getTime());});// fill in missing dates\n// d[1].forEach(function(dd,ii){\nfor(var day=new Date(data.min_vaccine_date);day<=data.max_date;day.setDate(day.getDate()+1)){var newDay=new Date(day).getTime();if(!hasDays.includes(newDay)){newDays.push({date:new Date(day),total_vaccinations:null,daily_vaccinations:0});}}// });\n(_d$=d[1]).push.apply(_d$,Object(toConsumableArray[\"a\" /* default */])(newDays));d[1].sort(function(a,b){return new Date(a.date)-new Date(b.date);});// loop through dates and fill in missing cumulative values\nvar totalVac=0;var totalVac100=0;var people_vaccinated_per_hundred=0;var people_fully_vaccinated_per_hundred=0;d[1].forEach(function(dd,ii){if(dd.total_vaccinations){totalVac=dd.total_vaccinations;}else{dd.total_vaccinations=totalVac;}if(dd.total_vaccinations_per_hundred){totalVac100=dd.total_vaccinations_per_hundred;}else{dd.total_vaccinations_per_hundred=totalVac100;}if(dd.people_vaccinated_per_hundred){people_vaccinated_per_hundred=dd.people_vaccinated_per_hundred;}else{dd.people_vaccinated_per_hundred=people_vaccinated_per_hundred;}if(dd.people_fully_vaccinated_per_hundred){people_fully_vaccinated_per_hundred=dd.people_fully_vaccinated_per_hundred;}else{dd.people_fully_vaccinated_per_hundred=people_fully_vaccinated_per_hundred;}var countryName;if(d.country_name==null){countryName=d[0];}else{countryName=d.country_name;}var dailyVac=0;if(dd.daily_vaccinations&&dd.daily_vaccinations>0)dailyVac=dd.daily_vaccinations;vDataFlat.push({date:new Date(dd.date),lastDate:d.lastDate,total_vaccinations_per_hundred:parseFloat(totalVac100),people_vaccinated_per_hundred:parseFloat(people_vaccinated_per_hundred),people_fully_vaccinated_per_hundred:parseFloat(people_fully_vaccinated_per_hundred),iso_code:d[0],ifrc_region:d.ifrc_region,country_name:countryName,country_code:d.country_code,total_vaccinations:totalVac,daily_vaccinations:dailyVac});});});data.vaccines_data=vDataFlat;data.vaccines_data.sort(function(a,b){return new Date(a.date)-new Date(b.date);});// reset count for incremental day/week/month numbers\ndayTotal=-1;dayCheck=0;weekTotal=-1;weekCheck=-1;monthTotal=0;monthCheck=0;data.vaccines_data.forEach(function(d,i){if(d.ifrc_region==undefined)d.ifrc_region='OTH';d.dayOfYear=moment_default()(d.date).dayOfYear();if(d.dayOfYear!==dayCheck)dayTotal++;d.dayTotal=dayTotal;d.week=moment_default()(d.date).isoWeek();if(d.week!==weekCheck)weekTotal++;d.weekTotal=weekTotal;d.month=d.date.getMonth();if(d.month!==monthCheck)monthTotal++;d.monthTotal=monthTotal;d.year=d.date.getFullYear();dayCheck=d.dayOfYear;weekCheck=d.week;monthCheck=d.month;d.week_start=new Date(moment_default()(d.date).startOf('isoWeek').toDate());d.month_start=new Date(moment_default()(d.date).startOf('month').toDate());});//*********************\n// add most recent owid vaccine data record to data.country\n//*********************\n// group who data by country\nvar vaccineDataByCountry=Object(src[\"f\" /* flatGroup */])(data.vaccines_data,function(d){return d.country_code;});//*********************\n// add most recent records from both datasets to data.country\n//*********************\n// first group who data by country\nvar whoDataByCountry=Object(src[\"f\" /* flatGroup */])(data.who_data,function(d){return d.country_code;});data.country.forEach(function(d,i){d.cumulative_cases_per_100k=0;d.cumulative_deaths_per_100k=0;d.cumulative_vaccines_per_100k=0;d.people_fully_vaccinated_per_hundred=0;d.people_vaccinated_per_hundred=0;d.total_vaccinations_per_hundred=0;var countryCode=d.country_iso2;// calculate latest date and at weekly intervals (for bi-weekly percent change calculation)\nwhoDataByCountry.forEach(function(dd,ii){if(dd[0]==countryCode){d.who_daily_latest=dd[1][dd[1].length-1];d.who_daily_7_days=dd[1][dd[1].length-8];d.who_daily_14_days=dd[1][dd[1].length-15];d.who_daily_21_days=dd[1][dd[1].length-22];d.who_daily_28_days=dd[1][dd[1].length-29];d.cumulative_cases_per_100k=d.who_daily_latest.cumulative_cases/(d.population/100000);d.cumulative_deaths_per_100k=d.who_daily_latest.cumulative_deaths/(d.population/100000);d.cumulative_cases=d.who_daily_latest.cumulative_cases;d.cumulative_deaths=d.who_daily_latest.cumulative_deaths;d.cumulative_deaths_7_days=d.who_daily_7_days.cumulative_deaths;d.cumulative_deaths_14_days=d.who_daily_14_days.cumulative_deaths;d.cumulative_deaths_21_days=d.who_daily_21_days.cumulative_deaths;d.cumulative_deaths_28_days=d.who_daily_28_days.cumulative_deaths;d.cumulative_cases_7_days=d.who_daily_7_days.cumulative_cases;d.cumulative_cases_14_days=d.who_daily_14_days.cumulative_cases;d.cumulative_cases_21_days=d.who_daily_21_days.cumulative_cases;d.cumulative_cases_28_days=d.who_daily_28_days.cumulative_cases;var percentChange=parseFloat((d.cumulative_cases-d.cumulative_cases_14_days-(d.cumulative_cases_14_days-d.cumulative_cases_28_days))/(d.cumulative_cases_14_days-d.cumulative_cases_28_days));if(isFinite(percentChange)){d.percent_change=percentChange;}else{d.percent_change=0;}}});vaccineDataByCountry.forEach(function(dd,ii){if(dd[0]==countryCode){if(typeof(dd[0]!='undefined')){d.vaccine_daily_latest=dd[1][dd[1].length-1];d.cumulative_vaccines_per_100k=d.vaccine_daily_latest.total_vaccinations/(d.population/100000);d.people_fully_vaccinated_per_hundred=d.vaccine_daily_latest.people_fully_vaccinated_per_hundred;d.people_vaccinated_per_hundred=d.vaccine_daily_latest.people_vaccinated_per_hundred;d.total_vaccinations_per_hundred=d.vaccine_daily_latest.total_vaccinations_per_hundred;d.total_vaccinations=d.vaccine_daily_latest.total_vaccinations;}}});if(!isFinite(d.cumulative_cases_per_100k))d.cumulative_cases_per_100k=0;if(!isFinite(d.cumulative_deaths_per_100k))d.cumulative_deaths_per_100k=0;if(!isFinite(d.cumulative_vaccines_per_100k))d.cumulative_vaccines_per_100k=0;d.country_code=d.country_iso2;});data.original=just_clone_default()(data);}/* harmony default export */ var src_ParseData = (ParseData);\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(128);\n\n// EXTERNAL MODULE: ./node_modules/select2/dist/js/select2.js\nvar select2 = __webpack_require__(129);\n\n// EXTERNAL MODULE: ./node_modules/select2/dist/css/select2.min.css\nvar select2_min = __webpack_require__(130);\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.js\nvar mapbox_gl = __webpack_require__(19);\nvar mapbox_gl_default = /*#__PURE__*/__webpack_require__.n(mapbox_gl);\n\n// EXTERNAL MODULE: ./node_modules/mapbox-gl/dist/mapbox-gl.css\nvar dist_mapbox_gl = __webpack_require__(131);\n\n// CONCATENATED MODULE: ./src/Map.js\n// eslint-disable-line import/no-webpack-loader-syntax\nmapbox_gl_default.a.accessToken='pk.eyJ1IjoiZ28taWZyYyIsImEiOiJjams3b2ZhZWswMGFvM3hxeHp2ZHFhOTRrIn0._pqO9OQ2iNeDGrpopJNjpg';var mapboxStyle='mapbox://styles/go-ifrc/ckqrsg27f1cwu17pex8w2de2e';var map;var dots;var maxSize=15;var mapTooltip;function createMap(data,options,filter){src[\"o\" /* select */]('#map-refresh').attr('display','none').style('cursor','pointer').on('click',function(d,i){map.setCenter([8,22]);map.setZoom(0);src[\"o\" /* select */]('#map-refresh').attr('display','none');});map=new mapbox_gl_default.a.Map({container:'map_div',// container ID\nstyle:mapboxStyle,// style URL\ncenter:[8,22],// starting position [lng, lat]\npreserveDrawingBuffer:true,zoom:0// starting zoom\n});map.setRenderWorldCopies(false);map.addControl(new mapbox_gl_default.a.NavigationControl());// disable map zoom when using scroll\nmap.scrollZoom.disable();map.on('zoom',function(){src[\"o\" /* select */]('#map_tooltip').attr('display','none');src[\"o\" /* select */]('#map-refresh').attr('display','inline');});map.on('touchmove',function(){src[\"o\" /* select */]('#map_tooltip').attr('display','none');src[\"o\" /* select */]('#map-refresh').attr('display','inline');});map.on('wheel',function(){src[\"o\" /* select */]('#map_tooltip').attr('display','none');src[\"o\" /* select */]('#map-refresh').attr('display','inline');});map.on('drag',function(){src[\"o\" /* select */]('#map_tooltip').attr('display','none');src[\"o\" /* select */]('#map-refresh').attr('display','inline');});var container=map.getCanvasContainer();var svg=src[\"o\" /* select */](container).append(\"svg\").attr('id','mapoverlay').attr(\"width\",\"100%\").attr(\"height\",\"24vw\").style(\"position\",\"absolute\").style(\"z-index\",2);mapTooltip=src[\"o\" /* select */]('#map_tooltip').attr('opacity',1).attr('transform','translate(0,0)').attr('display','inline');// dots = svg\n// .selectAll(\".country-map\")\n// .data(data.world)\n// .enter()\n// .append(\"circle\")\n// .attr('class', 'country-map')\n// .attr('id', function(d,i){ return 'country-map-'+d.iso2 })\n// .attr(\"r\", 0)\n// var maxValue = d3.max(data.country, function(d,i){\n//     return d[1].cumulative_cases;\n// })\n// var rScale = d3.scalePow().exponent(0.5)\n//   .domain([0, maxValue])\n//   .range([0, 15]);\n// data.country.forEach(function(d,i){\n//     d3.select('#country-'+d[0]).attr('r', rScale(d[1].cumulative_cases))\n//     .attr('data-name', d[1].country)\n// })\nsrc[\"o\" /* select */](\"#map_div\").append('svg').attr('width','18vw').attr('height','1.5vw').attr('id','maplegend').attr('viewBox','-3 0 227 18').style('background-color','rgba(255,255,255,0.8)');document.getElementById(\"maplegend\").appendChild(src[\"o\" /* select */]('#red_legend').node());document.getElementById(\"maplegend\").appendChild(src[\"o\" /* select */]('#blue_legend').node());document.getElementById(\"maplegend\").appendChild(src[\"o\" /* select */]('#bi_legend').node());src[\"o\" /* select */]('#red_legend').attr('transform','translate(20,0)');src[\"o\" /* select */]('#blue_legend').attr('transform','translate(20,0)');src[\"o\" /* select */]('#bi_legend').attr('transform','translate(0,0)');src[\"o\" /* select */]('#bi_legend').attr('display','none');src[\"o\" /* select */]('#blue_legend').attr('display','none');document.getElementById(\"mapoverlay\").appendChild(src[\"o\" /* select */]('#map_tooltip').node());mapTooltip.attr('display','none');map.on('load',function(e){map.setPaintProperty('countries','fill-opacity-transition',{duration:0,delay:0});Map_updateMap(data,options);});}function Map_updateMap(data,options){var duration=800;var delay=10;map.setLayoutProperty('countries','visibility','none');if(options.map_toggle=='bi-weekly-change'){var maxIncrease=src[\"h\" /* max */](data.country,function(d,i){return d.percent_change;});var maxDecrease=src[\"j\" /* min */](data.country,function(d,i){return d.percent_change;});src[\"o\" /* select */]('#bi_legend').attr('display','inline');src[\"o\" /* select */]('#blue_legend').attr('display','none');src[\"o\" /* select */]('#red_legend').attr('display','none');maxIncrease=Math.ceil(maxIncrease/0.1)*0.1;maxDecrease=Math.floor(maxDecrease/0.1)*0.1;if(maxIncrease>1)maxIncrease=1;if(maxDecrease<-1)maxDecrease=-1;src[\"o\" /* select */]('#bi_legend_dec_val').attr('text-anchor','end');if(maxIncrease<1){src[\"o\" /* select */]('#bi_legend_inc_val tspan').text(Math.round(maxIncrease*100)+'%');}else{src[\"o\" /* select */]('#bi_legend_inc_val tspan').text(Math.round(maxIncrease*100)+'% +');}if(maxDecrease>-1){src[\"o\" /* select */]('#bi_legend_dec_val tspan').text(Math.round(Math.abs(maxDecrease)*100)+'%').attr('dx',14);}else{src[\"o\" /* select */]('#bi_legend_dec_val tspan').text(Math.round(Math.abs(maxDecrease)*100)+'% +').attr('dx',14);}// var rScale = d3.scalePow().exponent(0.5)\n// .domain([-1, 0, 1])\n// .range([maxSize, 0, maxSize])\n// .clamp(true);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.country.forEach(function(d,i){\n//     d3.select('#country-map-'+d[0])\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(d[1].percent_change))\n//     .style('stroke', function(){\n//         // if(d[1].percent_change>1){ return '#E02225'} else { return '#1F558C'}\n//         return '#FFF'\n//     }).style('fill', function(){\n//         if(d[1].percent_change>0){ return colors.red } else { return colors.blue}\n//     })\n// })\nvar colorScale=src[\"l\" /* scaleLinear */]()// .domain([-1, 0, 1])\n.domain([maxDecrease,0,maxIncrease]).range([src_colors.blue,src_colors.lightgrey,src_colors.red]);// .clamp(true);\nvar fillColorArray=['case'];data.country.forEach(function(d,i){if(isFinite(d.percent_change)){fillColorArray.push(['==',['get',\"iso\"],d.country_code]);fillColorArray.push(colorScale(d.percent_change));}});if(fillColorArray.length>1){fillColorArray.push(src_colors.darkgrey);map.setPaintProperty('countries','fill-color',fillColorArray);}}if(options.map_toggle=='cases'){var maxValue=src[\"h\" /* max */](data.country,function(d,i){return d.cumulative_cases_per_100k;});src[\"o\" /* select */]('#bi_legend').attr('display','none');src[\"o\" /* select */]('#blue_legend').attr('display','none');src[\"o\" /* select */]('#red_legend').attr('display','inline');src[\"o\" /* select */]('#red_legend_title tspan').text('Cases per 100k');if(maxValue>1000){maxValue=Math.ceil(maxValue/100)*100;}else{maxValue=Math.ceil(maxValue/10)*10;}src[\"o\" /* select */]('#red_legend_val tspan').text(addCommas(maxValue));// var rScale = d3.scalePow().exponent(0.5)\n// .domain([0, maxValue])\n// .range([0, maxSize]);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.country.forEach(function(d,i){\n//     d3.select('#country-map-'+d[0])\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(d[1].cumulative_cases))\n//     .style('fill', colors.red)\n//     .style('stroke', '#FFF');\n// })\nvar colorScale=src[\"l\" /* scaleLinear */]().domain([0,maxValue]).range([src_colors.lightgrey,src_colors.red]);var fillColorArray=['case'];data.country.forEach(function(d,i){fillColorArray.push(['==',['get',\"iso\"],d.country_code]);fillColorArray.push(colorScale(d.cumulative_cases_per_100k));});if(fillColorArray.length>1){fillColorArray.push(src_colors.darkgrey);map.setPaintProperty('countries','fill-color',fillColorArray);}}if(options.map_toggle=='deaths'){var maxValue=src[\"h\" /* max */](data.country,function(d,i){return d.cumulative_deaths_per_100k;});src[\"o\" /* select */]('#bi_legend').attr('display','none');src[\"o\" /* select */]('#blue_legend').attr('display','none');src[\"o\" /* select */]('#red_legend').attr('display','inline');src[\"o\" /* select */]('#red_legend_title tspan').text('Deaths per 100k');if(maxValue>1000){maxValue=Math.ceil(maxValue/100)*100;}else{maxValue=Math.ceil(maxValue/10)*10;}src[\"o\" /* select */]('#red_legend_val tspan').text(addCommas(maxValue));// var rScale = d3.scalePow().exponent(0.5)\n// .domain([0, maxValue])\n// .range([0, maxSize]);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.country.forEach(function(d,i){\n//     d3.select('#country-map-'+d[0])\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(d[1].cumulative_deaths))\n//     .style('fill', colors.red)\n//     .style('stroke', '#FFF');\n// })\nvar colorScale=src[\"l\" /* scaleLinear */]().domain([0,maxValue]).range([src_colors.lightgrey,src_colors.red]);var fillColorArray=['case'];data.country.forEach(function(d,i){fillColorArray.push(['==',['get',\"iso\"],d.country_code]);fillColorArray.push(colorScale(d.cumulative_deaths_per_100k));});if(fillColorArray.length>1){fillColorArray.push(src_colors.darkgrey);map.setPaintProperty('countries','fill-color',fillColorArray);}}if(options.map_toggle=='percent-fully-vaccinated'){src[\"o\" /* select */]('#bi_legend').attr('display','none');src[\"o\" /* select */]('#blue_legend').attr('display','inline');src[\"o\" /* select */]('#red_legend').attr('display','none');src[\"o\" /* select */]('#blue_legend_title tspan').text('Percent fully vaccinated');src[\"o\" /* select */]('#blue_legend_val tspan').text('100%');// var rScale = d3.scalePow().exponent(0.55)\n// .domain([0, 1])\n// .range([1, maxSize])\n// .clamp(true);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.vGroup.forEach(function(d,i){\n//     var peoplevaccinated = parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;\n//     if(isNaN(peoplevaccinated)) peoplevaccinated = 0;\n//     d3.select('#country-map-'+d[1][0].country_code)\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(peoplevaccinated))\n//     .style('stroke', '#FFF')\n//     .style('fill', function(){\n//         return colors.blue;\n//     })\n// })\nvar colorScale=src[\"l\" /* scaleLinear */]().domain([0,1]).range([src_colors.lightgrey,src_colors.blue]).clamp(true);var fillColorArray=['case'];data.country.forEach(function(d,i){var peoplevaccinated=parseFloat(d.people_fully_vaccinated_per_hundred)/100;if(isNaN(peoplevaccinated))peoplevaccinated=0;if(peoplevaccinated>0){if(d.country_code)fillColorArray.push(['==',['get',\"iso\"],d.country_code]);if(d.country_code)fillColorArray.push(colorScale(peoplevaccinated));}});if(fillColorArray.length>1){fillColorArray.push(src_colors.darkgrey);map.setPaintProperty('countries','fill-color',fillColorArray);}else{map.setPaintProperty('countries','fill-color',src_colors.darkgrey);}}if(options.map_toggle=='percent-vaccine-acceptance'){src[\"o\" /* select */]('#bi_legend').attr('display','none');src[\"o\" /* select */]('#blue_legend').attr('display','inline');src[\"o\" /* select */]('#red_legend').attr('display','none');src[\"o\" /* select */]('#blue_legend_title tspan').text('% vaccine acceptance');src[\"o\" /* select */]('#blue_legend_val tspan').text('100%');// var rScale = d3.scalePow().exponent(1)\n// .domain([0, 1])\n// .range([1, maxSize*.7])\n// // .clamp(true);\n// d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n// data.vGroup.forEach(function(d,i){\n//     var vaccine_acceptance_percent = parseFloat(d[1][0].vaccine_acceptance_percent/100);\n//     if(isNaN(vaccine_acceptance_percent)) vaccine_acceptance_percent = 0;\n//     d3.select('#country-map-'+d[1][0].country_code)\n//     .transition('c').duration(duration).delay(delay)\n//     .attr('r', rScale(vaccine_acceptance_percent))\n//     .style('stroke', '#FFF')\n//     .style('fill', function(){\n//         return colors.blue;\n//     })\n// })\nvar colorScale=src[\"l\" /* scaleLinear */]().domain([0,1]).range([src_colors.lightgrey,src_colors.blue]).clamp(true);var fillColorArray=['case'];data.country.forEach(function(d,i){var vaccine_acceptance_percent=parseFloat(d.vaccine_acceptance_percent)/100;if(isNaN(vaccine_acceptance_percent))vaccine_acceptance_percent=0;if(vaccine_acceptance_percent>0){if(d.country_code)fillColorArray.push(['==',['get',\"iso\"],d.country_code]);if(d.country_code)fillColorArray.push(colorScale(vaccine_acceptance_percent));}});if(fillColorArray.length>1){fillColorArray.push(src_colors.darkgrey);map.setPaintProperty('countries','fill-color',fillColorArray);}else{map.setPaintProperty('countries','fill-color',src_colors.darkgrey);}}mapTooltip.attr('display','none');map.on('mousemove',function(e){var features=map.queryRenderedFeatures(e.point);var displayProperties=['type','properties','id','layer','source','sourceLayer','state'];if(features.length==1&&features[0].layer.id=='countries'){var id=features[0].properties.iso;var countryfiltered=data.equity_data.filter(function(d){return d.country_iso2==id;});var countryName;if(countryfiltered[0])countryName=countryfiltered[0].country_name;mapTooltip.select('#map_tooltip_name tspan').text(countryName);if(mapTooltip.select('#map_tooltip_name tspan').text().length==0){mapTooltip.attr('display','none');};if(options.map_toggle=='cases'){var country=data.country.filter(function(d){return d.country_code==id;})[0];if(!country||country.length==0)return false;mapTooltip.select('#map_tooltip_val tspan').text(addCommas(Math.round(country.cumulative_cases_per_100k))+' cases per 100k');}if(options.map_toggle=='deaths'){var country=data.country.filter(function(d){return d.country_code==id;})[0];if(!country||country.length==0)return false;mapTooltip.select('#map_tooltip_val tspan').text(addCommas(Math.round(country.cumulative_deaths_per_100k))+' deaths per 100k');}if(options.map_toggle=='bi-weekly-change'){var country=data.country.filter(function(d){return d.country_code==id;});if(!country||country.length==0)return false;var val=(country[0].percent_change*100).toFixed(1);var str='';if(val>=0){str='% increase';}else{str='% decrease';}mapTooltip.select('#map_tooltip_val tspan').text(Math.abs(val)+str);}if(options.map_toggle=='percent-fully-vaccinated'){var country=data.country.filter(function(d){return d.country_code==id;});if(!country||country.length==0)return false;var val=parseFloat(country[0].people_fully_vaccinated_per_hundred).toFixed(1);if(isNaN(val)){val='-';}else{val=val+'% fully vaccinated';}mapTooltip.select('#map_tooltip_val tspan').text(val);}if(options.map_toggle=='percent-vaccine-acceptance'){var country=data.country.filter(function(d){return d.country_code==id;});if(!country||country.length==0)return false;var val=parseFloat(country[0].vaccine_acceptance_percent).toFixed(1);if(isNaN(val)){val='-';}else{val=val+'% vaccine acceptance';}mapTooltip.select('#map_tooltip_val tspan').text(val);}var str=mapTooltip.select('#map_tooltip_val tspan').text();if(str.includes('NaN'))mapTooltip.attr('display','none');src[\"o\" /* select */]('#map_tooltip_bg').attr('width',20);var scale=window.innerWidth/1329;mapTooltip.attr('display','inline').attr('transform','translate('+(e.point.x+20)+','+e.point.y+')scale('+scale+')');var heightOffset=mapTooltip.node().getBBox();var bbox=src[\"o\" /* select */]('#map_tooltip').node().getBBox();src[\"o\" /* select */]('#map_tooltip_bg').attr('width',parseFloat(bbox.width)+2);if(mapTooltip.select('#map_tooltip_name tspan').text().length==0){mapTooltip.attr('display','none');};// mapTooltip.attr('transform', 'translate('+(project(([d.lng, d.lat])).x+3)+','+(project(([d.lng, d.lat])).y+2-heightOffset.height/2)+')scale('+scale+')');\n}else{mapTooltip.attr('display','none');}}).on('mouseout',function(event){if(event.toElement=='tspan')return false;mapTooltip.attr('display','none');});// function render() {\n//     dots\n//       .attr(\"cx\", function(d) {\n//         return project(([d.lng, d.lat])).x;\n//       })\n//       .attr(\"cy\", function(d) {\n//         return project(([d.lng, d.lat])).y;\n//       });\n//   }\n// map.on(\"viewreset\", render);\n// map.on(\"move\", render);\n// map.on(\"moveend\", render);\n// render(); // Call once to render\n// tooltips\n// var mapTooltip = d3.select('#map_tooltip').attr('opacity', 1).attr('transform', 'translate(0,0)').attr('display', 'none');\n// d3.selectAll('.country-map').on('mousemove', function(event, d){\n//     var id = d3.select(this).attr('id').substr(12,2);\n//     var countryfiltered = data.equity_data.filter(d=>d.country_iso2 == id);\n//     var countryName;\n//     if(countryfiltered[0]) countryName = countryfiltered[0].country_name;\n//     mapTooltip.select('#map_tooltip_name tspan').text(countryName);\n//     if(options.map_toggle=='cases'){\n//         var country = data.country.filter(d=>d.country_code == id)[0];\n//         if((!country)||(country.length==0)) return false;\n//         mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_cases)+' cases');\n//     }\n//     if(options.map_toggle=='deaths'){\n//         var country = data.country.filter(d=>d.country_code == id)[0];\n//         if((!country)||(country.length==0)) return false;\n//         mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_deaths)+' deaths');\n//     }\n//     if(options.map_toggle=='bi-weekly-change'){\n//         var country = data.country.filter(d=>d.country_code == id)[0];\n//         if((!country)||(country.length==0)) return false;\n//         var val = ((country[1].percent_change)*100).toFixed(1);\n//         var str = '';\n//         if(val>=0){\n//             str = '% increase';\n//         } else {\n//             str = '% decrease';\n//         }\n//         mapTooltip.select('#map_tooltip_val tspan').text(Math.abs(val)+str);\n//     }\n//     if(options.map_toggle=='percent-fully-vaccinated'){\n//         var country = data.vGroup.filter(d=>d[1][0].country_code == id)[0][1];\n//         if((!country)||(country.length==0)) return false;\n//         mapTooltip.select('#map_tooltip_val tspan').text(parseFloat(country[0].people_fully_vaccinated_per_hundred).toFixed(1)+'% fully vaccinated');\n//     }\n//     if(options.map_toggle=='percent-vaccine-acceptance'){\n//         var country = data.vGroup.filter(d=>d[1][0].country_code == id)[0][1];\n//         if((!country)||(country.length==0)) return false;\n//         mapTooltip.select('#map_tooltip_val tspan').text(parseFloat(country[0].vaccine_acceptance_percent).toFixed(1)+'% vaccine acceptance');\n//     }\n//     d3.select('#map_tooltip_bg').attr('width', 0)\n//     var bbox = mapTooltip.node().getBBox();\n//     d3.select('#map_tooltip_bg').attr('width', (parseFloat(bbox.width)+2))\n//     var scale = window.innerWidth/1329;\n//     mapTooltip\n//     .attr('display', 'inline')\n//     .attr('transform', 'translate('+project(([d.lng, d.lat])).x+','+project(([d.lng, d.lat])).y+')scale('+scale+')');\n//     var heightOffset = mapTooltip.node().getBBox();\n//     mapTooltip.attr('transform', 'translate('+(project(([d.lng, d.lat])).x+3)+','+(project(([d.lng, d.lat])).y+2-heightOffset.height/2)+')scale('+scale+')');\nmap.setLayoutProperty('countries','visibility','visible');}// function project(d) {\n//     return map.project(new mapboxgl.LngLat(d[0], d[1]));\n// }\n/* harmony default export */ var Map = (createMap);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/App.js\n/* \n  add this attribute to package.json when deploying to github pages.\n \"homepage\": \"https://ifrcgo.github.io/ifrc-covid-dataviz\", \n  */var equityDataUrl='./data/equity_data.csv';var layoutUrl=\"./images/layout.svg\";// const whoDataUrl = \"./data/who_global_cases.csv\";\nvar whoDataUrl=\"https://covid19.who.int/WHO-COVID-19-global-data.csv\";// const vaccinesDataUrl = \"./data/owid_vaccinations.csv\";\nvar vaccinesDataUrl=\"https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.csv\";// const vaccinesWhoDataUrl = \"./data/who_vaccination_data.csv\";\nvar vaccinesWhoDataUrl=\"https://covid19.who.int/who-data/vaccination-data.csv\";var timelineDataUrl=\"./data/timeline.csv\";var selfAssessmentDataUrl=\"./data/self_assessment.csv\";var vaccineAcceptanceDataUrl=\"./data/vaccine_acceptance.csv\";var App_data={};var regionOptions=[{id:'AM',text:'Americas'},{id:'EU',text:'Europe'},{id:'AP',text:'Asia-Pacific'},{id:'ME',text:'Middle East and North Africa'},{id:'AF',text:'Africa'}];var countryOptions=[];function App_App(){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),progress=_useState2[0],setProgress=_useState2[1];var _useState3=Object(react[\"useState\"])('Loading SVG layout...'),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),loaderText=_useState4[0],setLoaderText=_useState4[1];function init(){return _init.apply(this,arguments);}function _init(){_init=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var layout;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// data source 1: layout.svg\nlayout=src[\"t\" /* xml */](layoutUrl);layout.then(function(d){src[\"o\" /* select */]('#svg_container').node().append(src[\"o\" /* select */](d.documentElement).attr('width','100%').attr('height','100%').node());var svg=src[\"o\" /* select */]('#svg_container svg');svg.select('title').remove();svg.attr('id','svg');src_Layout(svg,Options,App_data,filter,updateTable,Map_updateMap);setProgress(0.1);setLoaderText('Loading equity data CSV...');// data source 2: equity_data.csv\nvar equityData=src[\"e\" /* csv */](equityDataUrl);equityData.then(function(d){App_data.equity_data=d;d.forEach(function(d,i){countryOptions.push({'text':d.country_name,'id':'Country-'+d.country_iso2});});createSelects();setProgress(0.1);setLoaderText('Loading WHO data CSV...');// data source 1: owid_vaccines.csv\nvar vaccinesData=src[\"e\" /* csv */](vaccinesDataUrl);vaccinesData.then(function(d){App_data.vaccines_data=d;setProgress(0.07);setLoaderText('Loading OWID vaccines data...');// data source 2: vaccinesWhoData.csv\nvar vaccinesWhoData=src[\"e\" /* csv */](vaccinesWhoDataUrl);vaccinesWhoData.then(function(d){App_data.vaccines_who_data=d;setProgress(0.15);setLoaderText('Loading OWID vaccines data...');// data source 3: self_assessment.csv\nvar selfAssessmentData=src[\"e\" /* csv */](selfAssessmentDataUrl);selfAssessmentData.then(function(d){App_data.self_assessment=d;setProgress(0.22);setLoaderText('Loading self assessment...');// data source 4: vaccine_acceptance.csv\nvar vaccineAcceptanceData=src[\"e\" /* csv */](vaccineAcceptanceDataUrl);vaccineAcceptanceData.then(function(d){App_data.vaccine_acceptance=d;setProgress(0.3);setLoaderText('Loading vaccine acceptance data...');// data source 3: timeline.csv\nvar timelineData=src[\"e\" /* csv */](timelineDataUrl);timelineData.then(function(d){App_data.timeline_data=d;setProgress(0.4);setLoaderText('Loading WHO daily data...');// data source 5: who_global_cases.csv\nvar whoData=src[\"e\" /* csv */](whoDataUrl);whoData.then(function(d){App_data.who_data=d;setProgress(0.8);setLoaderText('Loading complete.');setProgress(1);src_ParseData(App_data,Options);createCharts();src[\"o\" /* select */]('#loaderDiv').transition().duration(1000).style('opacity',0).on(\"end\",function(){return src[\"o\" /* select */]('#loaderDiv').remove();});});});});});});});});});case 2:case\"end\":return _context.stop();}}},_callee);}));return _init.apply(this,arguments);}function createCharts(){src[\"o\" /* select */]('#who_data_date tspan').text(moment_default()(App_data.max_date).format('ll'));src[\"o\" /* select */]('#owid_data_date tspan').text(moment_default()(App_data.max_vaccine_date).format('ll'));drawTimechart(App_data,Options);drawRegionchart(App_data,Options,filter);updateTable(App_data,Options);updateTotals(App_data,Options);createMap(App_data,Options,filter);drawBubblechart(App_data,Options,filter);}function filter(id,e){Options.page=1;if(id=='clear'){Options.region_filter=[];Options.country_filter=[];src[\"o\" /* select */]('#reset_locations').attr('display','none');}if(id=='clear-region'){Options.region_filter=[];}if(id=='clear-hdi'){Options.hdi_filter=[];}if(id=='clear-inform'){Options.inform_filter=[];}if(id.length==1&&id[0].length==2&&id!='filter'){if(Options.region_filter.includes(id[0])){Options.region_filter=Options.region_filter.filter(function(d){return d!==id[0];});}else{Options.region_filter.push(id[0]);}}if(Options.region_filter.length==5)Options.region_filter=[];if(Options.region_filter.length>0){src[\"o\" /* select */]('#region_remove_filter').attr('opacity',1);src[\"p\" /* selectAll */]('.bar-labels').attr('opacity',0.5);Options.region_filter.forEach(function(d,i){src[\"o\" /* select */]('.bar-label-'+d).attr('opacity',1);});}else{src[\"o\" /* select */]('#region_remove_filter').attr('opacity',0);src[\"p\" /* selectAll */]('.bar-labels').attr('opacity',1);}App_data.country=App_data.original.country;var hdi_countries=[];if(Options.hdi_filter.length>0){src[\"o\" /* select */]('#hdi_remove_filter').attr('opacity',1);App_data.country.forEach(function(d,i){if(Options.hdi_filter.includes(d.hdi_category)){hdi_countries.push(d.country_iso2);}});}else{src[\"o\" /* select */]('#hdi_remove_filter').attr('opacity',0);}var inform_countries=[];if(Options.inform_filter.length>0){src[\"o\" /* select */]('#inform_remove_filter').attr('opacity',1);App_data.country.forEach(function(d,i){if(Options.inform_filter.includes(d.inform_severity)){inform_countries.push(d.country_iso2);}});}else{src[\"o\" /* select */]('#inform_remove_filter').attr('opacity',0);}if(id.length==1&&id[0].length>2){var code=id[0].substring(8);if(Options.country_filter.includes(code)){Options.country_filter=Options.country_filter.filter(function(d){return d!==code;});}else{Options.country_filter.push(code);}}if(Options.region_filter.length==0&&Options.country_filter.length==0){src[\"o\" /* select */]('#reset_locations').attr('display','none');}var countryIds=[];Options.country_filter.forEach(function(d,i){countryIds.push('Country-'+d);});if(Options.region_filter.length>0||Options.country_filter.length>0){src[\"o\" /* select */]('#reset_locations').attr('display','inline');}else{src[\"o\" /* select */]('#reset_locations').attr('display','none');}var mergeFilter=Options.region_filter.concat(countryIds);jquery_default()('#regionSelect').val(mergeFilter);jquery_default()('#regionSelect').trigger('change');// update data\nApp_data.who_data=App_data.original.who_data;if(inform_countries.length>0){App_data.who_data=App_data.who_data.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.who_data=App_data.who_data.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}App_data.vaccines_data=App_data.original.vaccines_data;if(inform_countries.length>0){App_data.vaccines_data=App_data.vaccines_data.filter(function(d,i){return inform_countries.includes(d.country_code);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.vaccines_data=App_data.vaccines_data.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code))&&hdi_countries.includes(d.country_code);}else{return hdi_countries.includes(d.country_code);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_code);}});}if(inform_countries.length>0){App_data.country=App_data.country.filter(function(d,i){return inform_countries.includes(d.country_iso2);});}if(Options.region_filter.length>0||Options.country_filter.length>0||hdi_countries.length>0){App_data.country=App_data.country.filter(function(d,i){if(hdi_countries.length>0){if(Options.region_filter.length>0||Options.country_filter.length>0){return(Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_iso2))&&hdi_countries.includes(d.country_iso2);}else{return hdi_countries.includes(d.country_iso2);}}else{return Options.region_filter.includes(d.ifrc_region)||Options.country_filter.includes(d.country_iso2);}});}handleSelectLength();updateCharts();}function updateCharts(){updateRegionchart(Options,App_data);updateTable(App_data,Options);updateTotals(App_data,Options);updateTimechart(App_data,Options);Map_updateMap(App_data,Options);updateBubblechart(App_data,Options,filter);}function updateTotals(data,options){var numCountriesFiltered=data.country.length;// total cases\nvar totalCases=src[\"q\" /* sum */](data.country,function(d){return d.cumulative_cases;});src[\"o\" /* select */]('#total_cases tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(src[\"g\" /* interpolate */](0,totalCases)(t));};});// hide bars when zero cases\nif(totalCases==0){src[\"p\" /* selectAll */]('.bar_group').attr('opacity',0);}else{src[\"p\" /* selectAll */]('.bar_group').attr('opacity',1);}// total new cases\nvar totalNewCases=totalCases-src[\"q\" /* sum */](data.country,function(d){return d.cumulative_cases_7_days;});src[\"o\" /* select */]('#total_new_cases tspan').text('-');src[\"o\" /* select */]('#total_new_cases tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(src[\"g\" /* interpolate */](0,totalNewCases)(t));};});// total deaths\nvar totalDeaths=src[\"q\" /* sum */](data.country,function(d){return d.cumulative_deaths;});src[\"o\" /* select */]('#total_deaths tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(src[\"g\" /* interpolate */](0,totalDeaths)(t));};});var totalVaccinations=src[\"q\" /* sum */](data.country,function(d){return d.total_vaccinations;});src[\"o\" /* select */]('#total_vaccines tspan').transition().duration(500).textTween(function(){return function(t){return nFormatter(src[\"g\" /* interpolate */](0,totalVaccinations)(t));};});//***************************\n// vaccies per 100 / acceptance / vaccine types / ns involvemnt\n//***************************\nvar vaccinesPer100={population:0,vaccine_population:0};var vaccineAcceptance={population:0,vaccine_acceptance_population:0};var numNsInvolvedCountres=0;data.vaccine_types=[];data.country.forEach(function(dd,ii){// vaccine per 100 including country population weight\nif(dd.vaccines_per_100>0&&dd.population>0){vaccinesPer100.population+=dd.population;vaccinesPer100.vaccine_population+=dd.population*dd.vaccines_per_100;}// vaccine acceptance including country population weight\nif(dd.vaccine_acceptance_population>0){vaccineAcceptance.population+=dd.vaccine_acceptance_population;vaccineAcceptance.vaccine_acceptance_population+=dd.vaccine_acceptance_population*dd.vaccine_acceptance_percent;}// vacine types data\ndd.vaccines_used.forEach(function(ddd){if(!data.vaccine_types.includes(ddd)&&ddd.length>1&&!ddd.includes('nactiv'))data.vaccine_types.push(ddd);});// ns involved countries\nnumNsInvolvedCountres+=dd.ns_involvement;});// update total doses per 100 total\nsrc[\"o\" /* select */]('#total_vac_100 tspan').text('-');var vaccinePer100ByPopulation=vaccinesPer100.vaccine_population/vaccinesPer100.population;if(vaccinePer100ByPopulation){src[\"o\" /* select */]('#total_vac_100 tspan').transition().duration(500).textTween(function(){return function(t){return src[\"g\" /* interpolate */](0,vaccinePer100ByPopulation)(t).toFixed(1);};});}// update vaccine acceptance percent total\nsrc[\"o\" /* select */]('#percent_acceptance tspan').text('-');var vaccineAcceptancePercent=vaccineAcceptance.vaccine_acceptance_population/vaccineAcceptance.population;if(vaccineAcceptancePercent){src[\"o\" /* select */]('#percent_acceptance tspan').transition().duration(500).textTween(function(){return function(t){return Math.round(src[\"g\" /* interpolate */](0,Math.round(vaccineAcceptancePercent))(t))+'%';};});}// update ns involved total\nsrc[\"o\" /* select */]('#total_ns_countries tspan').transition().duration(500).textTween(function(){return function(t){return Math.round(src[\"g\" /* interpolate */](0,numNsInvolvedCountres)(t));};});// update num types of vaccines total\nsrc[\"o\" /* select */]('#num_vaccines tspan').transition().duration(500).textTween(function(){return function(t){return Math.round(src[\"g\" /* interpolate */](0,data.vaccine_types.length)(t));};});// vaccine type tooltip list\nsrc[\"p\" /* selectAll */]('.vaccine_type').remove();src[\"o\" /* select */]('#vaccine_tooltip_bg').attr('height',1);data.vaccine_types.forEach(function(d,i){src[\"o\" /* select */](\"#vaccine_tooltip\").append('text').attr('font-size',9).attr('fill','#000').attr('class','vaccine_type').append('tspan').text(d).attr('dx',6).attr('dy',i*1.3+1.8+'em');});var vtooltipbbox=src[\"o\" /* select */]('#vaccine_tooltip').node().getBBox();src[\"o\" /* select */]('#vaccine_tooltip_bg').attr('height',vtooltipbbox.height+6);//***************************\n// update hdi / inform numbers\n//***************************\n// define empty objects\nvar hdiData={'very-high':0,'high':0,'medium':0,'low':0};var hdiDataPopulation={'very-high':0,'high':0,'medium':0,'low':0};var hdiDataVaccines={'very-high':0,'high':0,'medium':0,'low':0};var hdiContactTracing={'very-high':0,'high':0,'medium':0,'low':0};var hdiTotalCasesData={'very-high':0,'high':0,'medium':0,'low':0};var hdiTestingData={'very-high':[],'high':[],'medium':[],'low':[]};var informData={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informDataPopulation={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informDataVaccines={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informContactTracing={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informTotalCasesData={'very-high':0,'high':0,'medium':0,'low':0,'no-score':0};var informTestingData={'very-high':[],'high':[],'medium':[],'low':[],'no-score':[]};var totalRecordedPopulation=0;if(totalCases>0){data.country.forEach(function(dd,ii){hdiData[dd.hdi_category]+=1;hdiDataPopulation[dd.hdi_category]+=parseInt(dd.population);hdiDataVaccines[dd.hdi_category]+=parseInt(dd.total_vaccinations)||0;informData[dd.inform_severity]+=1;informContactTracing[dd.inform_severity]+=dd.contract_tracing;hdiContactTracing[dd.hdi_category]+=dd.contract_tracing;if(dd.hdi_category=='very-high'||dd.hdi_category=='high'||dd.hdi_category=='medium'||dd.hdi_category=='low')hdiTestingData[dd.hdi_category].push(dd.avg_tests_per_1000);if(dd.inform_severity=='very-high'||dd.inform_severity=='high'||dd.inform_severity=='medium'||dd.inform_severity=='low'||dd.inform_severity=='no-score')informTestingData[dd.inform_severity].push(dd.avg_tests_per_1000);informDataPopulation[dd.inform_severity]+=parseInt(dd.population);informDataVaccines[dd.inform_severity]+=parseInt(dd.total_vaccinations)||0;// hdi index\nhdiTotalCasesData[dd.hdi_category]+=dd.cumulative_cases||0;informTotalCasesData[dd.inform_severity]+=dd.cumulative_cases||0;});}var totalHdiPop=hdiDataPopulation['very-high']+hdiDataPopulation['high']+hdiDataPopulation['medium']+hdiDataPopulation['low'];var totalInformPop=informDataPopulation['very-high']+informDataPopulation['high']+informDataPopulation['medium']+informDataPopulation['low']+informDataPopulation['no-score'];// update additional indicators\n// row 0 percent of vaccinations by hdi\nsrc[\"o\" /* select */]('#hdi-percent-val-very-high tspan').text(parse(hdiTotalCasesData['very-high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');src[\"o\" /* select */]('#hdi-percent-bar-very-high').transition().duration(500).attr('width',parse(hdiTotalCasesData['very-high']/totalCases)*70);src[\"o\" /* select */]('#hdi-percent-val-high tspan').text(parse(hdiTotalCasesData['high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');src[\"o\" /* select */]('#hdi-percent-bar-high').transition().duration(500).attr('width',parse(hdiTotalCasesData['high']/totalCases)*70);src[\"o\" /* select */]('#hdi-percent-val-medium tspan').text(parse(hdiTotalCasesData['medium']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');src[\"o\" /* select */]('#hdi-percent-bar-medium').transition().duration(500).attr('width',parse(hdiTotalCasesData['medium']/totalCases)*70);src[\"o\" /* select */]('#hdi-percent-val-low tspan').text(parse(hdiTotalCasesData['low']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');src[\"o\" /* select */]('#hdi-percent-bar-low').transition().duration(500).attr('width',parse(hdiTotalCasesData['low']/totalCases)*70);src[\"o\" /* select */]('#inform-percent-val-very-high tspan').text(parse(informTotalCasesData['very-high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');src[\"o\" /* select */]('#inform-percent-bar-very-high').transition().duration(500).attr('width',parse(informTotalCasesData['very-high']/totalCases)*64);src[\"o\" /* select */]('#inform-percent-val-high tspan').text(parse(informTotalCasesData['high']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');src[\"o\" /* select */]('#inform-percent-bar-high').transition().duration(500).attr('width',parse(informTotalCasesData['high']/totalCases)*64);src[\"o\" /* select */]('#inform-percent-val-medium tspan').text(parse(informTotalCasesData['medium']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');src[\"o\" /* select */]('#inform-percent-bar-medium').transition().duration(500).attr('width',parse(informTotalCasesData['medium']/totalCases)*64);src[\"o\" /* select */]('#inform-percent-val-low tspan').text(parse(informTotalCasesData['low']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');src[\"o\" /* select */]('#inform-percent-bar-low').transition().duration(500).attr('width',parse(informTotalCasesData['low']/totalCases)*64);src[\"o\" /* select */]('#inform-percent-val-no-score tspan').text(parse(informTotalCasesData['no-score']/totalCases*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','16');src[\"o\" /* select */]('#inform-percent-bar-no-score').transition().duration(500).attr('width',parse(informTotalCasesData['no-score']/totalCases)*64);src[\"o\" /* select */]('#hdi-toggle-very-high-val tspan').text(hdiData['very-high']).style('text-anchor','end').attr('dx','10');src[\"o\" /* select */]('#hdi-toggle-high-val tspan').text(hdiData['high']).style('text-anchor','end').attr('dx','10');src[\"o\" /* select */]('#hdi-toggle-medium-val tspan').text(hdiData['medium']).style('text-anchor','end').attr('dx','10');src[\"o\" /* select */]('#hdi-toggle-low-val tspan').text(hdiData['low']).style('text-anchor','end').attr('dx','10');src[\"o\" /* select */]('#inform-toggle-very-high-val tspan').text(informData['very-high']).style('text-anchor','end').attr('dx','6');src[\"o\" /* select */]('#inform-toggle-high-val tspan').text(informData['high']).style('text-anchor','end').attr('dx','10');src[\"o\" /* select */]('#inform-toggle-medium-val tspan').text(informData['medium']).style('text-anchor','end').attr('dx','9');src[\"o\" /* select */]('#inform-toggle-low-val tspan').text(informData['low']).style('text-anchor','end').attr('dx','7');src[\"o\" /* select */]('#inform-toggle-no-score-val tspan').text(informData['no-score']).style('text-anchor','end').attr('dx','13');// row 1 percnet of vaccinations by hdi\nsrc[\"o\" /* select */]('#hdi1val-very-high tspan').text(parse(hdiDataPopulation['very-high']/totalHdiPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi1bar-very-high').transition().duration(500).attr('width',parse(hdiDataPopulation['very-high']/totalHdiPop)*70);src[\"o\" /* select */]('#hdi1val-high tspan').text(parse(hdiDataPopulation['high']/totalHdiPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi1bar-high').transition().duration(500).attr('width',parse(hdiDataPopulation['high']/totalHdiPop)*70);src[\"o\" /* select */]('#hdi1val-medium tspan').text(parse(hdiDataPopulation['medium']/totalHdiPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi1bar-medium').transition().duration(500).attr('width',parse(hdiDataPopulation['medium']/totalHdiPop)*70);src[\"o\" /* select */]('#hdi1val-low tspan').text(parse(hdiDataPopulation['low']/totalHdiPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi1bar-low').transition().duration(500).attr('width',parse(hdiDataPopulation['low']/totalHdiPop)*70);src[\"o\" /* select */]('#inform1val-very-high tspan').text(parse(informDataPopulation['very-high']/totalInformPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform1bar-very-high').transition().duration(500).attr('width',parse(informDataPopulation['very-high']/totalInformPop)*64);src[\"o\" /* select */]('#inform1val-high tspan').text(parse(informDataPopulation['high']/totalInformPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform1bar-high').transition().duration(500).attr('width',parse(informDataPopulation['high']/totalInformPop)*64);src[\"o\" /* select */]('#inform1val-medium tspan').text(parse(informDataPopulation['medium']/totalInformPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform1bar-medium').transition().duration(500).attr('width',parse(informDataPopulation['medium']/totalInformPop)*64);src[\"o\" /* select */]('#inform1val-low tspan').text(parse(informDataPopulation['low']/totalInformPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform1bar-low').transition().duration(500).attr('width',parse(informDataPopulation['low']/totalInformPop)*64);src[\"o\" /* select */]('#inform1val-no-score tspan').text(parse(informDataPopulation['no-score']/totalInformPop*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform1bar-no-score').transition().duration(500).attr('width',parse(informDataPopulation['no-score']/totalInformPop)*64);// row 2 percent of total vaccinations\nsrc[\"o\" /* select */]('#hdi2val-very-high tspan').text(parse(hdiDataVaccines['very-high']/totalVaccinations*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi2bar-very-high').transition().duration(500).attr('width',parse(hdiDataVaccines['very-high']/totalVaccinations)*70);src[\"o\" /* select */]('#hdi2val-high tspan').text(parse(hdiDataVaccines['high']/totalVaccinations*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi2bar-high').transition().duration(500).attr('width',parse(hdiDataVaccines['high']/totalVaccinations)*70);src[\"o\" /* select */]('#hdi2val-medium tspan').text(parse(hdiDataVaccines['medium']/totalVaccinations*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi2bar-medium').transition().duration(500).attr('width',parse(hdiDataVaccines['medium']/totalVaccinations)*70);src[\"o\" /* select */]('#hdi2val-low tspan').text(parse(hdiDataVaccines['low']/totalVaccinations*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi2bar-low').transition().duration(500).attr('width',parse(hdiDataVaccines['low']/totalVaccinations)*70);src[\"o\" /* select */]('#inform2val-very-high tspan').text(parse(informDataVaccines['very-high']/totalVaccinations*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform2bar-very-high').transition().duration(500).attr('width',parse(informDataVaccines['very-high']/totalVaccinations)*64);src[\"o\" /* select */]('#inform2val-high tspan').text(parse(informDataVaccines['high']/totalVaccinations*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform2bar-high').transition().duration(500).attr('width',parse(informDataVaccines['high']/totalVaccinations)*64);src[\"o\" /* select */]('#inform2val-medium tspan').text(parse(informDataVaccines['medium']/totalVaccinations*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform2bar-medium').transition().duration(500).attr('width',parse(informDataVaccines['medium']/totalVaccinations)*64);src[\"o\" /* select */]('#inform2val-low tspan').text(parse(informDataVaccines['low']/totalVaccinations*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform2bar-low').transition().duration(500).attr('width',parse(informDataVaccines['low']/totalVaccinations)*64);src[\"o\" /* select */]('#inform2val-no-score tspan').text(parse(informDataVaccines['no-score']/totalVaccinations*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform2bar-no-score').transition().duration(500).attr('width',parse(informDataVaccines['no-score']/totalVaccinations)*64);// row 3 total doses by hdi/inform\nvar maxhdivac=src[\"h\" /* max */]([hdiDataVaccines['low'],hdiDataVaccines['medium'],hdiDataVaccines['high'],hdiDataVaccines['very-high']]);var maxinformvac=src[\"h\" /* max */]([informDataVaccines['low'],informDataVaccines['medium'],informDataVaccines['high'],informDataVaccines['very-high'],informDataVaccines['no-score']]);src[\"o\" /* select */]('#hdi3val-very-high tspan').text(nFormatter(hdiDataVaccines['very-high'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi3bar-very-high').transition().duration(500).attr('width',parse(hdiDataVaccines['very-high']/maxhdivac)*70);src[\"o\" /* select */]('#hdi3val-high tspan').text(nFormatter(hdiDataVaccines['high'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi3bar-high').transition().duration(500).attr('width',parse(hdiDataVaccines['high']/maxhdivac)*70);src[\"o\" /* select */]('#hdi3val-medium tspan').text(nFormatter(hdiDataVaccines['medium'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi3bar-medium').transition().duration(500).attr('width',parse(hdiDataVaccines['medium']/maxhdivac)*70);src[\"o\" /* select */]('#hdi3val-low tspan').text(nFormatter(hdiDataVaccines['low'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi3bar-low').transition().duration(500).attr('width',parse(hdiDataVaccines['low']/maxhdivac)*70);src[\"o\" /* select */]('#inform3val-very-high tspan').text(nFormatter(informDataVaccines['very-high'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform3bar-very-high').transition().duration(500).attr('width',parse(informDataVaccines['very-high']/maxinformvac)*64);src[\"o\" /* select */]('#inform3val-high tspan').text(nFormatter(informDataVaccines['high'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform3bar-high').transition().duration(500).attr('width',parse(informDataVaccines['high']/maxinformvac)*64);src[\"o\" /* select */]('#inform3val-medium tspan').text(nFormatter(informDataVaccines['medium'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform3bar-medium').transition().duration(500).attr('width',parse(informDataVaccines['medium']/maxinformvac)*64);src[\"o\" /* select */]('#inform3val-low tspan').text(nFormatter(informDataVaccines['low'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform3bar-low').transition().duration(500).attr('width',parse(informDataVaccines['low']/maxinformvac)*64);src[\"o\" /* select */]('#inform3val-no-score tspan').text(nFormatter(informDataVaccines['no-score'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform3bar-no-score').transition().duration(500).attr('width',parse(informDataVaccines['no-score']/maxinformvac)*64);// row 4 total vaccinations\nsrc[\"o\" /* select */]('#hdi4val-very-high tspan').text(parse(hdiContactTracing['very-high']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi4bar-very-high').transition().duration(500).attr('width',parse(hdiContactTracing['very-high']/numCountriesFiltered)*70);src[\"o\" /* select */]('#hdi4val-high tspan').text(parse(hdiContactTracing['high']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi4bar-high').transition().duration(500).attr('width',parse(hdiContactTracing['high']/numCountriesFiltered)*70);src[\"o\" /* select */]('#hdi4val-medium tspan').text(parse(hdiContactTracing['medium']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi4bar-medium').transition().duration(500).attr('width',parse(hdiContactTracing['medium']/numCountriesFiltered)*70);src[\"o\" /* select */]('#hdi4val-low tspan').text(parse(hdiContactTracing['low']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi4bar-low').transition().duration(500).attr('width',parse(hdiContactTracing['low']/numCountriesFiltered)*70);src[\"o\" /* select */]('#inform4val-very-high tspan').text(parse(informContactTracing['very-high']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform4bar-very-high').transition().duration(500).attr('width',parse(informContactTracing['very-high']/numCountriesFiltered)*64);src[\"o\" /* select */]('#inform4val-high tspan').text(parse(informContactTracing['high']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform4bar-high').transition().duration(500).attr('width',parse(informContactTracing['high']/numCountriesFiltered)*64);src[\"o\" /* select */]('#inform4val-medium tspan').text(parse(informContactTracing['medium']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform4bar-medium').transition().duration(500).attr('width',parse(informContactTracing['medium']/numCountriesFiltered)*64);src[\"o\" /* select */]('#inform4val-low tspan').text(parse(informContactTracing['low']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform4bar-low').transition().duration(500).attr('width',parse(informContactTracing['low']/numCountriesFiltered)*64);src[\"o\" /* select */]('#inform4val-no-score tspan').text(parse(informContactTracing['no-score']/numCountriesFiltered*100).toFixed(0)+'%').style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform4bar-no-score').transition().duration(500).attr('width',parse(informContactTracing['no-score']/numCountriesFiltered)*64);// row 5 average testing\nhdiTestingData['low']=Math.round(src[\"i\" /* mean */](hdiTestingData['low']))||0;hdiTestingData['medium']=Math.round(src[\"i\" /* mean */](hdiTestingData['medium']))||0;hdiTestingData['high']=Math.round(src[\"i\" /* mean */](hdiTestingData['high']))||0;hdiTestingData['very-high']=Math.round(src[\"i\" /* mean */](hdiTestingData['very-high']))||0;informTestingData['no-score']=Math.round(src[\"i\" /* mean */](informTestingData['no-score']))||0;informTestingData['low']=Math.round(src[\"i\" /* mean */](informTestingData['low']))||0;informTestingData['medium']=Math.round(src[\"i\" /* mean */](informTestingData['medium']))||0;informTestingData['high']=Math.round(src[\"i\" /* mean */](informTestingData['high']))||0;informTestingData['very-high']=Math.round(src[\"i\" /* mean */](informTestingData['very-high']))||0;var maxhditest=src[\"h\" /* max */]([hdiTestingData['low'],hdiTestingData['medium'],hdiTestingData['high'],hdiTestingData['very-high']]);var maxinformtest=src[\"h\" /* max */]([informTestingData['low'],informTestingData['medium'],informTestingData['high'],informTestingData['very-high'],informTestingData['no-score']]);src[\"o\" /* select */]('#hdi5val-very-high tspan').text(addCommas(hdiTestingData['very-high'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi5bar-very-high').transition().duration(500).attr('width',parse(hdiTestingData['very-high']/maxhditest)*70);src[\"o\" /* select */]('#hdi5val-high tspan').text(addCommas(hdiTestingData['high'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi5bar-high').transition().duration(500).attr('width',parse(hdiTestingData['high']/maxhditest)*70);src[\"o\" /* select */]('#hdi5val-medium tspan').text(addCommas(hdiTestingData['medium'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi5bar-medium').transition().duration(500).attr('width',parse(hdiTestingData['medium']/maxhditest)*70);src[\"o\" /* select */]('#hdi5val-low tspan').text(addCommas(hdiTestingData['low'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#hdi5bar-low').transition().duration(500).attr('width',parse(hdiTestingData['low']/maxhditest)*70);src[\"o\" /* select */]('#inform5val-very-high tspan').text(addCommas(informTestingData['very-high'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform5bar-very-high').transition().duration(500).attr('width',parse(informTestingData['very-high']/maxinformtest)*64);src[\"o\" /* select */]('#inform5val-high tspan').text(addCommas(informTestingData['high'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform5bar-high').transition().duration(500).attr('width',parse(informTestingData['high']/maxinformtest)*64);src[\"o\" /* select */]('#inform5val-medium tspan').text(addCommas(informTestingData['medium'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform5bar-medium').transition().duration(500).attr('width',parse(informTestingData['medium']/maxinformtest)*64);src[\"o\" /* select */]('#inform5val-low tspan').text(addCommas(informTestingData['low'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform5bar-low').transition().duration(500).attr('width',parse(informTestingData['low']/maxinformtest)*64);src[\"o\" /* select */]('#inform5val-no-score tspan').text(addCommas(informTestingData['no-score'])).style('text-anchor','end').attr('dx','');src[\"o\" /* select */]('#inform5bar-no-score').transition().duration(500).attr('width',parse(informTestingData['no-score']/maxinformtest)*64);// num countries filtered (table)\nsrc[\"o\" /* select */]('#countries_filtered tspan').text(numCountriesFiltered+' countries filtered').style('text-anchor','end').attr('dx','105');}src[\"o\" /* select */]('#prev').style('cursor','pointer').attr('opacity',0.5).on('click',function(){if(Options.page==1)return false;Options.page=Options.page-1;updateTable(App_data,Options);});src[\"o\" /* select */]('#next').style('cursor','pointer').on('click',function(){if(Options.page==Options.numPages)return false;Options.page=Options.page+1;updateTable(App_data,Options);});function updateTable(_x,_x2){return _updateTable.apply(this,arguments);}function _updateTable(){_updateTable=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(data,options){var sortKey,x,i,delay,timer,k,d,dayFormat;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// var lastRecord = data.vaccines_data_cumulative.filter(d=>d.date.getTime()==data.max_date.getTime());\n// var vGroup = d3.flatGroup(lastRecord, d => d.iso_code);\n// data.country.forEach(function(d,i){\n//   var vaccine_acceptance_percent = (d.vaccine_acceptance_percent) || 0\n//   if(!vGroup.some(item => item[0] === d.country_iso3)){\n//     vGroup.push([d.country_iso3, [{\n//       country_name: d.country_name,\n//       country_code: d.country_iso2,\n//       vaccine_acceptance_percent: vaccine_acceptance_percent\n//     }]])\n//   }\n//   vGroup.forEach(function(dd,ii){\n//     if(dd[0]==d.country_iso3){\n//       dd[1][0].vaccine_acceptance_percent = vaccine_acceptance_percent;\n//       dd[1][0].country_name = d.country_name;\n//       dd[1][0].country_code = d.country_iso2;\n//     }\n//   })\n// })\nif(options.table_sort=='col0_sort')sortKey='country_name';if(options.table_sort=='col1_sort')sortKey='total_vaccinations_per_hundred';if(options.table_sort=='col2_sort')sortKey='people_vaccinated_per_hundred';if(options.table_sort=='col3_sort')sortKey='people_fully_vaccinated_per_hundred';if(options.table_sort=='col4_sort')sortKey='vaccine_acceptance_percent';if(options.table_sort=='col5_sort')sortKey='total_vaccinations';for(x=0;x<6;x++){src[\"o\" /* select */]('#col'+x+'_sort_desc').attr('opacity',0);src[\"o\" /* select */]('#col'+x+'_sort_asc').attr('opacity',0);}src[\"o\" /* select */]('#'+options.table_sort+'_'+options.table_sort_direction).attr('opacity',1);if(sortKey=='country_name'){if(options.table_sort_direction=='asc'){data.country.sort(function(b,a){return a.country_name.localeCompare(b.country_name);});}else{data.country.sort(function(a,b){return a.country_name.localeCompare(b.country_name);});}}else{if(options.table_sort_direction=='desc'){data.country.sort(function(a,b){return b[sortKey]-a[sortKey];});}else{data.country.sort(function(b,a){return b[sortKey]-a[sortKey];});}}//   data.vGroup = vGroup;\n//   data.vGroup.forEach(function(d,i){\n//     data.equity_data.forEach(function(dd,ii){\n//         if(d[0] == dd.country_iso3){\n//             dd.people_fully_vaccinated_per_hundred = parseFloat(d[1][0].people_fully_vaccinated_per_hundred);\n//             dd.people_vaccinated_per_hundred = parseFloat(d[1][0].people_vaccinated_per_hundred);\n//             dd.total_vaccinations = parseFloat(d[1][0].total_vaccinations);\n//             dd.total_vaccinations_per_hundred = parseFloat(d[1][0].total_vaccinations_per_hundred);\n//         }\n//     })\n// })\nsrc[\"p\" /* selectAll */]('.tablerow').remove();src[\"p\" /* selectAll */]('.col1bar').attr('opacity',0);src[\"p\" /* selectAll */]('.col2bar').attr('opacity',0);src[\"p\" /* selectAll */]('.col3bar').attr('opacity',0);src[\"p\" /* selectAll */]('.col4bar').attr('opacity',0);src[\"p\" /* selectAll */]('.colbg').attr('opacity',0);src[\"p\" /* selectAll */]('.table_country_name tspan').text('');options.numPages=Math.ceil(data.country.length/10);src[\"o\" /* select */]('#next').attr('opacity',function(){if(options.page==options.numPages)return 0.5;return 1;});src[\"o\" /* select */]('#prev').attr('opacity',function(){if(options.page==1)return 0.5;return 1;});src[\"o\" /* select */]('#pagination_text').attr('text-anchor','end');src[\"o\" /* select */]('#pagination_text tspan').attr('x',40);src[\"o\" /* select */]('#pagination_text tspan').text('Page '+options.page+' of '+options.numPages);i=0;delay=10;timer=function timer(ms){return new Promise(function(res){return setTimeout(res,ms);});};k=(options.page-1)*10;case 26:if(!(k<options.page*10)){_context2.next=56;break;}d=data.country[k];if(data.country[k]){_context2.next=34;break;}src[\"o\" /* select */]('#col1bar'+i).attr('width',0);src[\"o\" /* select */]('#col2bar'+i).attr('width',0);src[\"o\" /* select */]('#col3bar'+i).attr('width',0);src[\"o\" /* select */]('#col4bar'+i).attr('width',0);return _context2.abrupt(\"continue\",53);case 34:src[\"o\" /* select */]('#vac-tab').append('text').attr('class','tablerow table_country_name').text(function(){var name;if(d.country_name){name=d.country_name;}else{name=d.country_code;}name=name.substring(0,17);if(name.length==17)name=name+'.';return name;}).attr('x',0).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 1 val\nsrc[\"o\" /* select */]('#vac-tab').append('text').attr('class','tablerow table_country_name').text(function(){var val=parseFloat(d.total_vaccinations_per_hundred).toFixed(1);if(isNaN(val)||val==0){return'';}else{return val;}}).style('text-anchor','end').attr('x',112).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 1 bar\nsrc[\"o\" /* select */]('#col1bar'+i).attr('opacity',1).transition().duration(200).attr('width',function(){var val=d.total_vaccinations_per_hundred;if(d.total_vaccinations_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});src[\"o\" /* select */]('#col1bg'+i).attr('opacity',1);// col 2 val\nsrc[\"o\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=parseFloat(d.people_vaccinated_per_hundred).toFixed(1);if(isNaN(val)||val==0){return'';}else{return val+'%';}}).style('text-anchor','end').attr('x',223).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 2 bar\nsrc[\"o\" /* select */]('#col2bar'+i).attr('opacity',1).transition().duration(200).attr('width',function(){var val=d.people_vaccinated_per_hundred;if(d.people_vaccinated_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});src[\"o\" /* select */]('#col2bg'+i).attr('opacity',1);// col 3 val\nsrc[\"o\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=parseFloat(d.people_fully_vaccinated_per_hundred).toFixed(1);if(isNaN(val)||val==0){return'';}else{return val+'%';}}).style('text-anchor','end').attr('x',335).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 3 bar\nsrc[\"o\" /* select */]('#col3bar'+i).attr('opacity',1).transition().duration(200).attr('width',function(){var val=d.people_fully_vaccinated_per_hundred;if(d.people_fully_vaccinated_per_hundred>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});src[\"o\" /* select */]('#col3bg'+i).attr('opacity',1);// col 4 val\nsrc[\"o\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=parseFloat(d.vaccine_acceptance_percent).toFixed(1);if(isNaN(val)||val==0){return'';}else{return val+'%';}}).style('text-anchor','end').attr('x',450).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 4 bar\nsrc[\"o\" /* select */]('#col4bar'+i).attr('opacity',1).transition().duration(200).attr('width',function(){var val=d.vaccine_acceptance_percent;if(d.vaccine_acceptance_percent>100){val=100;}if(isNaN(val)){return 0;}else{return 68*(val/100);}});src[\"o\" /* select */]('#col4bg'+i).attr('opacity',1);dayFormat=src[\"r\" /* timeFormat */](\"%b %d\");// col 5 val\nsrc[\"o\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=d.total_vaccinations;if(isNaN(val)||val==0){return'';}else{return nFormatter(val);}}).style('text-anchor','end').attr('x',572).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');// col 6 val\nsrc[\"o\" /* select */]('#vac-tab').append('text').attr('class','tablerow').text(function(){var val=d.data_updated;if(val){return dayFormat(val);}else{return'';}}).style('text-anchor','end').attr('x',620).attr('y',function(){return 80+i*24.8;}).style('fill','#000').style('font-size','9px');i++;_context2.next=53;return timer(15);case 53:k++;_context2.next=26;break;case 56:case\"end\":return _context2.stop();}}},_callee2);}));return _updateTable.apply(this,arguments);}function createSelects(){// region select\njquery_default()('#regionSelect').select2({data:[{id:'regions',text:'IFRC Regions',children:regionOptions},{id:'countries',text:'Countries',children:countryOptions}],placeholder:'',scrollAfterSelect:true,renderTemplate:function renderTemplate(item){return item.text||\"\\u200B\";},dropdownParent:jquery_default()('#regionDrop'),shouldFocusInput:function shouldFocusInput(){return false;},templateResult:function templateResult(data){var $state=jquery_default()('<span>'+data.text+'<span>');return $state;}}).on('select2:unselecting',function(){jquery_default()(this).data('unselecting',true);}).on('select2:opening',function(e){if(jquery_default()(this).data('unselecting')){jquery_default()(this).removeData('unselecting');e.preventDefault();}});jquery_default()('#regionSelect').on('select2:select',function(e){var data=e.params.data;filter([data.id]);});jquery_default()('#regionSelect').on('select2:unselect',function(e){var data=e.params.data;filter([data.id]);});// reset locations\nsrc[\"o\" /* select */]('#reset_locations').style('cursor','pointer').on('click',function(){filter('clear');});// bubble map select color by\njquery_default()('#colorSelect').select2({scrollAfterSelect:true,minimumResultsForSearch:-1,renderTemplate:function renderTemplate(item){return item.text||\"\\u200B\";},dropdownParent:jquery_default()('#regionDrop'),shouldFocusInput:function shouldFocusInput(){return false;},templateResult:function templateResult(data){var $state=jquery_default()('<span>'+data.text+'<span>');return $state;}}).on('select2:select',function(e){var d=e.params.data;Options.bubble_chart_color_by=d.id;updateBubblechart(App_data,Options,filter);});// bubble map select y-axis\njquery_default()('#ySelect').select2({scrollAfterSelect:true,minimumResultsForSearch:-1,renderTemplate:function renderTemplate(item){return item.text||\"\\u200B\";},dropdownParent:jquery_default()('#regionDrop'),shouldFocusInput:function shouldFocusInput(){return false;},templateResult:function templateResult(data){var $state=jquery_default()('<span>'+data.text+'<span>');return $state;}}).on('select2:select',function(e){var d=e.params.data;Options.bubble_chart_y_axis=d.id;updateBubblechart(App_data,Options,filter);});}function handleSelectLength(){var values=jquery_default()('#regionSelect').select2('data');// handle height for many selections\nvar select2HeightRatio=jquery_default()('#regionSelectContainer').width()/jquery_default()('#regionSelectContainer').height();if(select2HeightRatio<10){jquery_default()('.select2-selection__choice').hide();jquery_default()('.select2-search__field').attr('placeholder',values.length+' LOCATIONS SELECTED').css('width','100%');}else{jquery_default()('.select2-search__field').attr('placeholder','');jquery_default()('.select2-selection__choice').show();}}Object(react[\"useEffect\"])(function(){init();},[]);var selectStyle={control:function control(base,state){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},base),{},{border:'1px solid #D8D8D8',boxShadow:'none','&:hover':{border:'1px solid #D8D8D8'}});}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"loaderDiv\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderText\",children:loaderText}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderBar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"loaderProgress\",style:{width:progress*100+'%'}})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"regionSelectContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"select\",{id:\"regionSelect\",className:\"js-example-responsive\",name:\"region[]\",multiple:\"multiple\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"regionDrop\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"bubbleSelectContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"colorSelectContainer\",children:[\"Color by\\xA0\\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{id:\"colorSelect\",className:\"js-example-responsive\",name:\"colorby[]\",defaultValue:\"hdi\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"region\",children:\"IFRC region\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"hdi\",children:\"Human Development Index (HDI)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"inform-severity\",children:\"INFORM Severity Index\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"colorDrop\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"ySelectContainer\",children:[\"y-Axis\\xA0\\xA0\",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{id:\"ySelect\",className:\"js-example-responsive\",name:\"yaxis[]\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"percent-vaccinated-at-least-1-dose\",children:\"% vaccinated at least 1 dose\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"percent-fully-vaccinated\",children:\"% fully vaccinated\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"percent-vaccine-acceptance\",children:\"% vaccine acceptance\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"yDrop\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"svg_container\",className:\"App\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"map_div_outer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"map_div\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"footer\",children:[\"Data Sources - \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://covid19.who.int/info/\",target:\"_blank\",children:\"WHO Daily cases and deaths by date, vaccination data\"}),\", \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"https://github.com/owid/covid-19-data/tree/master/public/data/vaccinations\",target:\"_blank\",children:\"OWID vaccinations csv\"})]})]});}function parse(p){if(isNaN(p)){return 0;}else{return p;}}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 5).then(__webpack_require__.bind(null, 512)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[134,1,3]]]);","inputSourceMap":{"version":3,"sources":["/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/matthewsmawfield/www/ifrc-covid-dataviz/node_modules/postcss-loader/src/index.js??postcss!/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/App.css","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/colors.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/HelperFunctions.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Timechart.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Regionchart.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Layout.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Bubblechart.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Options.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/ParseData.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/Map.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/App.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/reportWebVitals.js","/Users/matthewsmawfield/www/ifrc-covid-dataviz/src/index.js"],"names":["colors","hdi_category","inform_severity","blue","lightblue","lightnavy","red","green","ifrcgreen","black","lightgrey","darkgrey","white","olive","purple","orange","pink","c","reds","blues","regions","addCommas","nStr","x","split","x1","x2","length","rgx","test","replace","nFormatter","num","digits","lookup","value","symbol","rx","item","slice","reverse","find","toFixed","yScaleCases","yScaleDeaths","yScaleVaccines","yAxisCases","yAxisDeaths","yAxisVaccines","yScaleCasesAxis","yScaleDeathsAxis","yScaleVaccinesAxis","xScale","xAxis","xScaleAxis","xScaleEvents","maxDate","minDate","md","vgroupedData","drawTimechart","data","options","Date","min_date","max_date","groupedData","who_data","forEach","d","i","timeline_frequency","date","week_start","month_start","ifrc_region","new_cases","new_deaths","cumulative_cases","cumulative_deaths","dd","ii","hasOwnProperty","total_new_cases","AF","AP","AM","EU","ME","OTH","total_cumulative_cases","total_new_deaths","total_cumulative_deaths","region","push","timeline_type","vaccines_data","new_vaccines","daily_vaccinations","cumulative_vaccines","total_new_vaccines","newVaccines","vData","clone","endOfWeekDate","moment","endOf","startOf","unix","maxDateUnix","endOfMonthDate","total_vaccinations","total_cumulative_vaccines","filter","el","numIntervals","d3","maxCases","maxDeaths","maxVaccines","toDate","add","svg","selectAll","remove","append","attr","width","barWidth","barSpacing","range","domain","scale","tickSize","tickPadding","ticks","tickFormat","yAxisGroup","yAxisCasesText","call","yAxisDeathsText","yAxisVaccinesText","xAxisCases","xAxisDeaths","xAxisVaccines","xAxisTimeline","barGroups","enter","totalNewCases","parentNode","datum","dp","y","totalNewDeaths","next","offset","vbarGroups","totalNewVaccines","tData","timeline_data","document","getElementById","appendChild","node","timelineTooltip","eventTooltip","hoverBar","on","event","coords","xDate","invert","getTime","style","tooltipStr","format","text","groupedDataFiltered","vgroupedDataFiltered","deaths","cases","vaccines","bw","ratio","brushR","brushL","xx","events","subtract","select","wrap","textwrap","bounds","height","method","description","bbox","getBBox","h","ys","parseInt","circles","brush","extent","brushed","gBrush","brushScale","move","parseFloat","w","viewBoxW","Math","round","viewBoxX","updateTimechart","transition","duration","maxVaccinations","xScaleCases","xScaleDeaths","xScaleVaccines","labelWidth","margin","left","top","right","rcSize","drawRegionchart","population","country","code","who_daily_latest","vaccine_daily_latest","cumulative_cases_per_100k","cumulative_deaths_per_100k","cumulative_vaccines_per_100k","isFinite","region_switch","regionChartContainer","rowHeight","rows","label","rowBg","t","bars","val","region_chart_toggle","isNaN","dat","dataLabel","updateRegionchart","regions_blue","id","tween","floor","random","selectedToggle","unselectedToggle","unselectedToggleText","selectedToggleText","Layout","updateTable","updateMap","bd","region_filter","map_toggle","tippy","content","placement","theme","arrow","delay","toggle","hdi_filter","inform_filter","tab_toggle","timechartContainer","tcSize","timechartSvg","layer1","timechartBg","tableRowHeight","tableBarYOffset","thisId","table_sort","table_sort_direction","page","printCopySave","printing","setTimeout","html2canvas","querySelector","allowTaint","onclone","doc","useCORS","foreignObjectRendering","ignoreElements","element","scrollX","scrollY","logging","then","canvas","img","toDataURL","pdf","jsPDF","imgProps","getImageProperties","pdfWidth","internal","pageSize","getWidth","pdfHeight","addImage","save","link","createElement","download","href","click","collection","idx","indexOf","splice","maxX","maxY","maxZ","yScale","zScale","bubbles","drawBubblechart","gni_2017","bubble_chart_y_axis","nice","join","people_vaccinated_per_hundred","people_fully_vaccinated_per_hundred","vaccine_acceptance_percent","bubble_chart_color_by","update","exit","country_name","toElement","updateBubblechart","country_filter","numPages","ParseData","sort","a","b","equity_data","pop","vaccines_used","avg_tests_per_1000","number_vaccine_types_used","vaccines_per_100","vaccines_who_data","country_iso3","ISO3","NUMBER_VACCINES_TYPES_USED","TOTAL_VACCINATIONS_PER100","VACCINES_USED","map","trim","ns_involvement","self_assessment","vaccine_acceptance","iso3","indicator_value","vaccine_acceptance_population","population_size","contract_tracing","toLowerCase","match","max","Date_reported","maxDateVaccines","min_vaccine_date","min","max_vaccine_date","country_code","Country_code","country_iso2","Cumulative_deaths","Cumulative_cases","New_cases","New_deaths","whoDataGrouped","flatGroup","datesToAdd","lastRecord","dayTotal","dayCheck","weekTotal","weekCheck","monthTotal","monthCheck","whoCountryCodes","dayOfYear","week","isoWeek","month","getMonth","year","getFullYear","undefined","includes","Country","WHO_region","iso_code","vaccineDataByCountry","newDays","hasDays","vDataFlat","minDt","maxDt","lastDate","data_updated","day","setDate","getDate","newDay","totalVac","totalVac100","total_vaccinations_per_hundred","countryName","dailyVac","whoDataByCountry","countryCode","who_daily_7_days","who_daily_14_days","who_daily_21_days","who_daily_28_days","cumulative_deaths_7_days","cumulative_deaths_14_days","cumulative_deaths_21_days","cumulative_deaths_28_days","cumulative_cases_7_days","cumulative_cases_14_days","cumulative_cases_21_days","cumulative_cases_28_days","percentChange","percent_change","original","mapboxgl","accessToken","mapboxStyle","dots","maxSize","mapTooltip","createMap","setCenter","setZoom","Map","container","center","preserveDrawingBuffer","zoom","setRenderWorldCopies","addControl","NavigationControl","scrollZoom","disable","getCanvasContainer","e","setPaintProperty","setLayoutProperty","maxIncrease","maxDecrease","ceil","abs","colorScale","fillColorArray","maxValue","clamp","peoplevaccinated","features","queryRenderedFeatures","point","displayProperties","layer","properties","iso","countryfiltered","str","window","innerWidth","heightOffset","equityDataUrl","layoutUrl","whoDataUrl","vaccinesDataUrl","vaccinesWhoDataUrl","timelineDataUrl","selfAssessmentDataUrl","vaccineAcceptanceDataUrl","regionOptions","countryOptions","App","useState","progress","setProgress","loaderText","setLoaderText","init","layout","documentElement","equityData","createSelects","vaccinesData","vaccinesWhoData","selfAssessmentData","vaccineAcceptanceData","timelineData","whoData","createCharts","updateTotals","hdi_countries","inform_countries","substring","countryIds","mergeFilter","concat","$","trigger","handleSelectLength","updateCharts","numCountriesFiltered","totalCases","textTween","totalDeaths","totalVaccinations","vaccinesPer100","vaccine_population","vaccineAcceptance","numNsInvolvedCountres","vaccine_types","ddd","vaccinePer100ByPopulation","vaccineAcceptancePercent","vtooltipbbox","hdiData","hdiDataPopulation","hdiDataVaccines","hdiContactTracing","hdiTotalCasesData","hdiTestingData","informData","informDataPopulation","informDataVaccines","informContactTracing","informTotalCasesData","informTestingData","totalRecordedPopulation","totalHdiPop","totalInformPop","parse","maxhdivac","maxinformvac","maxhditest","maxinformtest","sortKey","localeCompare","timer","ms","Promise","res","k","name","dayFormat","select2","children","placeholder","scrollAfterSelect","renderTemplate","dropdownParent","shouldFocusInput","templateResult","$state","removeData","preventDefault","params","minimumResultsForSearch","values","select2HeightRatio","hide","css","show","useEffect","selectStyle","control","base","state","border","boxShadow","p","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// default options\nconst colors = {\n    hdi_category: {\n        'very-high': '#D8EF8B', \n        'high': '#FDE08B', \n        'medium': '#FB8D59', \n        'low': '#D63127'\n    },\n    inform_severity: {\n        'very-high': '#D63127', \n        'high': '#FB8D59', \n        'medium': '#FDE08B', \n        'low': '#D8EF8B', \n        'no-score': '#DAE0EA', \n    },\n    blue: '#1F558C',\n    lightblue: '#62D7F7',\n    lightnavy: '#799EAD',\n    // red: '#E02225',\n    red: '#EE3224',\n    green: '#D8EF8B',\n    ifrcgreen: '#87C400',\n    black: '#595454',\n    lightgrey: '#e8e8e8',\n    darkgrey: '#c1c1c1',\n    white: '#fff',\n    olive: '#87C400',\n    purple: '#771966',\n    orange: '#FF3500',\n    pink: '#FB0080'\n}\n\n// option 1\nvar c = ['#00ADED','#003A5A','#62D7F7','#799EAD','#BCCED6']\n// option 2\nvar c = ['#00ADED','#62D7F7','#003A5A','#799EAD','#FFDD00'];\n// option 3\nvar reds = ['#771912','#be281d','#ee3224','#f79992','#fcd6d3'];\nvar blues = ['#09192a','#163b62','#1f558c','#7999ba','#d2dde8'];\n\n\ncolors.regions = {\n        'AP': colors.orange, \n        'AM': colors.lightblue, \n        'EU': colors.ifrcgreen, \n        'ME': '#0A3248', \n        'AF': '#FCD204', \n    }\n\n    colors.regions = {\n        'AP': c[1], \n        'AM': c[0], \n        'EU': c[2], \n        'ME': c[3], \n        'AF': c[4], \n    }\n\n    // colors.regions = {\n    //     'AP': reds[3], \n    //     'AM': reds[0], \n    //     'EU': reds[1], \n    //     'ME': reds[2], \n    //     'AF': reds[4], \n    // }\n\n    // colors.regions_blue = {\n    //     'AP': blues[3], \n    //     'AM': blues[0], \n    //     'EU': blues[1], \n    //     'ME': blues[2], \n    //     'AF': blues[4], \n    // }\n\n\n\nexport default colors;\n","export function addCommas(nStr){\n    nStr += '';\n    let x = nStr.split('.');\n    let x1 = x[0];\n    let x2 = x.length > 1 ? '.' + x[1] : '';\n    var rgx = /(\\d+)(\\d{3})/;\n    while (rgx.test(x1)) {\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n    return x1 + x2;\n}\n\nexport function nFormatter(num, digits = 1) {\n    const lookup = [\n      { value: 1, symbol: \"\" },\n      { value: 1e3, symbol: \"k\" },\n      { value: 1e6, symbol: \"M\" },\n      { value: 1e9, symbol: \"B\" },\n      { value: 1e12, symbol: \"T\" },\n      { value: 1e15, symbol: \"P\" },\n      { value: 1e18, symbol: \"E\" }\n    ];\n    const rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\n    var item = lookup.slice().reverse().find(function(item) {\n      return num >= item.value;\n    });\n    return item ? (num / item.value).toFixed(digits).replace(rx, \"$1\") + item.symbol : \"0\";\n\n\n  }\n  \n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {nFormatter} from './HelperFunctions';\nimport { selection, textwrap } from 'd3-textwrap';\nimport clone from 'just-clone';\n\nlet yScaleCases;\nlet yScaleDeaths;\nlet yScaleVaccines;\nlet yAxisCases;\nlet yAxisDeaths;\nlet yAxisVaccines;\nlet yScaleCasesAxis;\nlet yScaleDeathsAxis;\nlet yScaleVaccinesAxis;\nlet xScale;\nlet xAxis; \nlet xScaleAxis;\nlet xScaleEvents;\nlet maxDate; \nlet minDate;\nlet md; \nlet vgroupedData;\n\nconst regions = ['AF', 'AP', 'ME', 'EU', 'AM', 'OTH'];\n\nexport function drawTimechart(data, options) {\n\n    minDate = new Date(data.min_date);\n    maxDate = new Date(data.max_date);\n\n    const groupedData = [];\n\n    data.who_data.forEach(function(d,i){\n        if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']] = {};\n        if(options.timeline_frequency==='day') groupedData[d[options.timeline_frequency+'Total']].date = d.date;\n        if(options.timeline_frequency==='week') groupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n        if(options.timeline_frequency==='month') groupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n        if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases += d.new_cases;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths += d.new_deaths;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases = 0;\n    });\n\n    // totals by date\n    groupedData.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if(!d.hasOwnProperty(dd)){\n               d[dd] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n            }\n            // if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n            if(i>0){\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases + groupedData[i-1][dd].cumulative_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths + groupedData[i-1][dd].cumulative_deaths;\n            } else {\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths;\n            }\n        })\n\n        d.total_new_cases = d.AF.new_cases + d.AP.new_cases + d.AM.new_cases + d.EU.new_cases + d.ME.new_cases + d.OTH.new_cases; \n        d.total_cumulative_cases = d.AF.cumulative_cases + d.AP.cumulative_cases + d.AM.cumulative_cases + d.EU.cumulative_cases + d.ME.cumulative_cases + d.OTH.cumulative_cases; \n        d.total_new_deaths = d.AF.new_deaths + d.AP.new_deaths + d.AM.new_deaths + d.EU.new_deaths + d.ME.new_deaths + d.OTH.new_deaths; \n        d.total_cumulative_deaths = d.AF.cumulative_deaths + d.AP.cumulative_deaths + d.AM.cumulative_deaths + d.EU.cumulative_deaths + d.ME.cumulative_deaths + d.OTH.cumulative_deaths; \n        d.region = [];\n\n        regions.forEach(function(dd,ii){\n            d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n        })\n\n    });\n\n    vgroupedData = [];\n\n    if(options.timeline_type!='cumulative'){ // cumulative and stacked\n        // data.vaccines_data = data.vaccines_data_daily;\n        // data.vaccines_data_daily = clone(data.vaccines_data);\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines += d.daily_vaccinations;\n        });\n\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {new_vaccines: 0, cumulative_vaccines: 0}\n                }\n            });\n            d.total_new_vaccines = d.AF.new_vaccines + d.AP.new_vaccines + d.AM.new_vaccines + d.EU.new_vaccines + d.ME.new_vaccines + d.OTH.new_vaccines; \n            d.region = [];\n\n            regions.forEach(function(dd,ii){\n                var newVaccines = 0;\n                if(d[dd].new_vaccines>0){\n                    newVaccines += d[dd].new_vaccines\n                }\n                d.region.push({'region': dd, 'new_vaccines': newVaccines });\n            })\n        });\n\n    } else{ // cumulative only\n        var vData = [];\n        if(options.timeline_frequency==='day') {\n            vData = clone(data.vaccines_data);\n        }\n        if(options.timeline_frequency==='week') {\n            data.vaccines_data.forEach(function(d,i){\n                var endOfWeekDate = moment(d.date).endOf('isoWeek').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfWeekDate)||(date==moment(data.max_date).startOf('day').unix())){\n                    vData.push(d);\n                }\n            })\n        }\n        if(options.timeline_frequency==='month') {\n            var maxDateUnix = moment(data.max_date).startOf('day').unix();\n            data.vaccines_data.forEach(function(d,i){\n                var endOfMonthDate = moment(d.date).endOf('month').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfMonthDate)||((moment(data.max_date).startOf('day').unix()!=endOfMonthDate)&&(date==maxDateUnix))){\n                    vData.push(d);\n                }\n            })\n        }\n\n        vData.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {cumulative_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines += d.total_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {cumulative_vaccines: 0}\n                }\n            });\n            d.total_cumulative_vaccines = d.AF.cumulative_vaccines + d.AP.cumulative_vaccines + d.AM.cumulative_vaccines + d.EU.cumulative_vaccines + d.ME.cumulative_vaccines + d.OTH.cumulative_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'cumulative_vaccines': d[dd].cumulative_vaccines});\n            })\n        });\n    }\n\n    vgroupedData = vgroupedData.filter(function(el) { return el; });\n\n    const numIntervals = d3.max(data.who_data, function(d,i){\n        return d[options.timeline_frequency+'Total'];\n    });\n\n    const maxCases = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_cases;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_cases;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxDeaths = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_deaths;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_deaths;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxVaccines = d3.max(vgroupedData, function(d,i){\n        if(d){\n            if(options.timeline_type==='non-cumulative') return d.total_new_vaccines;\n            if(options.timeline_type==='cumulative') return d.total_cumulative_vaccines;\n            if(options.timeline_type==='stacked') return 100;\n        }\n    })\n\n    // define date range\n    // const minDate = groupedData[0].date;\n    // const maxDate = groupedData[numIntervals].date;\n    // const minDate = groupedData[0].date;\n\n    // if(options.timeline_frequency==='month') md = md.add(1, 'months');\n    // if(options.timeline_frequency==='week') md = md.add(1, 'weeks');\n    if(options.timeline_frequency==='month') minDate = moment(minDate).startOf('month').startOf('day').toDate();\n    if(options.timeline_frequency==='month') maxDate = moment(maxDate).endOf('month').startOf('day').toDate();\n    if(options.timeline_frequency==='week') maxDate = moment(maxDate).endOf('isoWeek').startOf('day').toDate();\n\n    md = moment(maxDate);\n    if(options.timeline_frequency==='day') md = new Date(moment(maxDate).add(1, 'days').toDate());\n\n    const svg = d3.select('#timechart_svg');\n    svg.selectAll('g').remove();\n    d3.selectAll('#layout .yAxis').remove();\n    d3.selectAll('#yAxis').remove();\n    d3.selectAll('#layout .xAxis').remove();\n\n    //bg\n    svg.append('g').append('rect')\n    .attr('width', 2000)\n    .attr('height', '100%')\n    .attr('x', 0)\n    .attr('y', 0)\n    .attr('fill', '#FFF')\n    .attr('opacity', 0);\n\n    const width = 2000;\n    const barWidth = width/numIntervals;\n\n    let barSpacing = 0.04; \n    if(options.timeline_frequency==='month') barSpacing = 0.03;\n    if(options.timeline_frequency==='day') barSpacing = 0.02;\n\n    // define scales\n\n    xScale = d3.scaleTime()\n    .range([0,width])\n    .domain([minDate,md]);\n\n    xScaleAxis = d3.scaleTime()\n    .range([0,596])\n    .domain([minDate,md]);\n\n    yScaleCases = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxCases]);\n\n    yScaleCasesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxCases]);\n\n    yScaleDeaths = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxDeaths]);\n\n    yScaleDeathsAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxDeaths]);\n\n    yScaleVaccines = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxVaccines]);\n\n    yScaleVaccinesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxVaccines]);\n\n    // define axi\n    \n    xAxis = d3.axisBottom()\n    .scale(xScaleAxis)\n    .tickSize(2)\n    .tickPadding(3);\n\n    // if(options.timeline_frequency=='month')\n    // xAxis.ticks(d3.timeMonth.every(3)).tickFormat(d3.timeFormat(\"%b %Y\"));\n\n    // if(options.timeline_frequency=='week')\n    // xAxis.ticks(d3.timeWeek.every(10)).tickFormat(d3.timeFormat(\"%d %b %Y\"));\n\n    yAxisCases = d3.axisRight()\n    .scale(yScaleCasesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisDeaths = d3.axisRight()\n    .scale(yScaleDeathsAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisVaccines = d3.axisRight()\n    .scale(yScaleVaccinesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    // y-axis cases\n    var yAxisGroup = d3.select('#layout').append(\"g\").attr('id', 'yAxis').attr('clip-path', 'url(#mask)');\n\n    var yAxisCasesText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"casesAxis\")\n    .attr('transform', 'translate(620,363)')\n    .call(yAxisCases);\n\n    // y-axis deaths\n    var yAxisDeathsText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"deathsAxis\")\n    .attr('transform', 'translate(620,534)')\n    .call(yAxisDeaths);\n\n    // y-axis vaccines\n    var yAxisVaccinesText = yAxisGroup.append(\"g\")\n    .attr(\"class\", \"yAxis axis\")\n    .attr(\"id\", \"VaccinesAxis\")\n    .attr('transform', 'translate(620,707.5)')\n    .call(yAxisVaccines);\n\n    // x-axis cases\n    var xAxisCases = yAxisGroup.append('g')\n    .attr(\"id\", \"casesXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,504)')\n    .call(xAxis);\n\n    var xAxisDeaths = yAxisGroup.append('g')\n    .attr(\"id\", \"deathsXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,674)')\n    .call(xAxis);\n\n    var xAxisVaccines = yAxisGroup.append('g')\n    .attr(\"id\", \"vaccinesXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,848)')\n    .call(xAxis);\n\n    var xAxisTimeline = yAxisGroup.append('g')\n    .attr(\"id\", \"timelineXAxis\")\n    .attr('class', 'xAxis')\n    .attr('transform', 'translate(24,908)')\n    .call(xAxis);\n\n    // CASES\n    // loop through groupedData and draw bars\n    const barGroups = svg.selectAll('.bar_group')\n    .data(groupedData)\n    .enter()\n    .append('g')\n    .attr('class', 'bar_group')\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+')'\n    })\n\n    // CASES\n    barGroups.selectAll('.cases_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', function(d,i) { return 'timeBar cases_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_cases;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleCases(d.cumulative_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleCases(d.new_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_cases/totalNewCases))-((140*(dp/totalNewCases))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleCases(d.cumulative_cases);\n        if(options.timeline_type==='non-cumulative') y = yScaleCases(d.new_cases);\n        if(options.timeline_type==='stacked') y = (140*(d.new_cases/totalNewCases));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    })\n\n    // DEATHS\n    barGroups.selectAll('.deaths_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', function(d,i) { return 'timeBar deaths_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_deaths;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleDeaths(d.cumulative_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleDeaths(d.new_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_deaths/totalNewDeaths))-((140*(dp/totalNewDeaths)))+170)\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleDeaths(d.cumulative_deaths);\n        if(options.timeline_type==='non-cumulative') y = yScaleDeaths(d.new_deaths);\n        if(options.timeline_type==='stacked') y = (140*(d.new_deaths/totalNewDeaths));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n    });\n\n    // bar size tweak for spacing\n    if(options.timeline_frequency==='month'){\n        barGroups.selectAll(\".timeBar\")\n        .attr(\"width\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(1-barSpacing);\n            })\n        .attr(\"x\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(barSpacing/2);\n            })\n        }\n\n    // VACCINES\n\n    const vbarGroups = svg.selectAll('.vbar_group')\n    .data(vgroupedData)\n    .enter()\n    .append('g')\n    .attr('class', 'vbar_group')\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+', 344)'\n    })\n  \n    vbarGroups.selectAll('.vaccines_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .enter()\n    .append('rect')\n    .attr('class', 'timeBar vaccines_bar')\n    .attr('class', function(d,i) { return 'timeBar vaccines_bar time_'+d.region })\n    .attr('x', (barWidth*barSpacing))\n    .attr('y', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_vaccines;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleVaccines(d.cumulative_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleVaccines(d.new_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_vaccines/totalNewVaccines))-((140*(dp/totalNewVaccines))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('width', barWidth-(barWidth*barSpacing*2))\n    .attr('height', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleVaccines(d.cumulative_vaccines);\n        if(options.timeline_type==='non-cumulative') y = yScaleVaccines(d.new_vaccines);\n        if(options.timeline_type==='stacked') y = (140*(d.new_vaccines/totalNewVaccines));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n        // return colors.regions_blue[d.region];\n    });\n\n    if(options.timeline_frequency==='month'){\n    vbarGroups.selectAll(\".timeBar\")\n    .attr(\"width\", function(d) {\n        var date = d3.select(this.parentNode).datum().date;\n        var next = d3.timeMonth.offset(date, 1);\n        return (xScale(next)- xScale(date))*(1-barSpacing);\n        })\n    .attr(\"x\", function(d) {\n        var date = d3.select(this.parentNode).datum().date;\n        var next = d3.timeMonth.offset(date, 1);\n        return (xScale(next)- xScale(date))*(barSpacing/2);\n        })\n    }\n\n    // bar size tweak for spacing\n    if(options.timeline_frequency==='month'){\n        barGroups.selectAll(\".timeBar\")\n        .attr(\"width\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(1-barSpacing);\n          })\n        .attr(\"x\", function(d) {\n            var date = d3.select(this.parentNode).datum().date;\n            var next = d3.timeMonth.offset(date, 1);\n            return (xScale(next)- xScale(date))*(barSpacing/2);\n          })\n        }\n\n        // tooltips\n\n        // events calendar timeline\n        var tData = data.timeline_data;\n\n        xScaleEvents = d3.scaleTime()\n        .range([25,619])\n        .domain([minDate,md]);\n        \n        // bring to front\n       document.getElementById(\"svg\").appendChild(d3.select('#timeline_tooltip').node());\n       document.getElementById(\"svg\").appendChild(d3.select('#event_tooltip').node());\n       var timelineTooltip = d3.select('#timeline_tooltip').attr('opacity', 0);\n       var eventTooltip = d3.select('#event_tooltip').attr('opacity', 0);\n\n        // hover bar\n        var hoverBar = svg.append('rect')\n        .attr('id','timechart_hover')\n        .attr('width', barWidth)\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('opacity', 0)\n        .attr('height', '100%')\n        .attr('fill', 'rgb(221 221 221 / 40%)')\n\n        d3.select('#timechart_svg').on('mouseover',  (event) => {\n\n            var coords = d3.pointer( event );\n            hoverBar.attr('opacity', 1)\n\n            var xDate = xScale.invert(coords[0]);\n\n            if(options.timeline_frequency=='week') {\n                xDate = moment(xDate).startOf('isoWeek');\n            }\n            if(options.timeline_frequency=='day') {\n                xDate = moment(xDate).startOf('day');\n            }\n            if(options.timeline_frequency=='month') {\n                xDate = moment(xDate).startOf('month');\n            }\n\n            if(coords[1]<470){\n                timelineTooltip.attr('opacity', 1).attr('display', 'inline');\n                hoverBar.attr('height', '100%');\n            } else if(coords[1]>510){\n                eventTooltip.attr('opacity', 1);\n                hoverBar.attr('height', '90%');\n            } else {\n                eventTooltip.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n                hoverBar.attr('height', '100%');\n            }\n\n            if((xDate.toDate().getTime()<minDate.getTime())){\n                hoverBar.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n            }\n\n            d3.select('#svg_container').style('z-index', 10);\n\n        }).on('mouseout',  (event) => {\n            hoverBar.attr('opacity', 0)\n            timelineTooltip.attr('opacity', 0).attr('display', 'none');\n            // timelineTooltip.attr('opacity', 0).attr('transform', 'translate(0,0)');\n            d3.select('#svg_container').style('z-index', 1);\n            eventTooltip.attr('opacity', 0).attr('transform', 'translate(0,0)');\n            d3.selectAll('.event_marker circle').style('stroke', colors.black);\n        })\n        .on('mousemove', (event) => {\n            var coords = d3.pointer( event );\n\n            var xDate = xScale.invert(coords[0]);\n\n            var tooltipStr = '';\n            if(options.timeline_frequency=='week') {\n                xDate = moment(xDate).startOf('isoWeek');\n                tooltipStr = xDate.format('ll');\n                d3.select('#timeline_tooltip_date tspan').text(tooltipStr);\n            }\n            if(options.timeline_frequency=='day') {\n                xDate = moment(xDate).startOf('day');\n                tooltipStr = xDate.format('ll');\n                d3.select('#timeline_tooltip_date tspan').text(tooltipStr);\n            }\n            if(options.timeline_frequency=='month') {\n                xDate = moment(xDate).startOf('month');\n                tooltipStr = xDate.format('MMMM YYYY');\n                d3.select('#timeline_tooltip_date tspan').text(tooltipStr);\n            }\n            hoverBar.attr('x', xScale(xDate.toDate()));\n\n            var groupedDataFiltered = groupedData.filter(function(d,i){\n                return moment(d.date).startOf('day').unix() == xDate.startOf('day').unix();\n            });\n            var vgroupedDataFiltered = vgroupedData.filter(function(d,i){\n                return moment(d.date).startOf('day').unix() == xDate.startOf('day').unix();\n            });\n\n            var deaths = '-';\n            var cases = '-';\n            var vaccines = '-';\n            if(options.timeline_type=='cumulative'){ \n                // cumulative\n                if(groupedDataFiltered[0]) cases = nFormatter(groupedDataFiltered[0].total_cumulative_cases, 2);\n                if(groupedDataFiltered[0]) deaths = nFormatter(groupedDataFiltered[0].total_cumulative_deaths, 2);\n                if(vgroupedDataFiltered[0]) vaccines = nFormatter(vgroupedDataFiltered[0].total_cumulative_vaccines, 2);\n            } else {\n                // non-cumulative/stacked\n                if(groupedDataFiltered[0]) cases = nFormatter(groupedDataFiltered[0].total_new_cases, 2);\n                if(groupedDataFiltered[0]) deaths = nFormatter(groupedDataFiltered[0].total_new_deaths, 2);\n                if(vgroupedDataFiltered[0]) vaccines = nFormatter(vgroupedDataFiltered[0].total_new_vaccines, 2);\n            }\n\n            d3.select('#tooltip_cases tspan').text((cases)).attr(\"text-anchor\", \"end\").attr('dx', 32)\n            d3.select('#tooltip_deaths tspan').text((deaths)).attr(\"text-anchor\", \"end\").attr('dx', 32)\n            d3.select('#tooltip_vaccines tspan').text((vaccines)).attr(\"text-anchor\", \"end\").attr('dx', 32)\n\n            // if((xDate.toDate().getTime()>options.maxDate.getTime())){\n            //     hoverBar.attr('opacity', 0);\n            // // } else \n            if(((xDate.toDate().getTime()<minDate.getTime()))&&(options.timeline_frequency=='day')){\n                hoverBar.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n            }\n\n            if(options.timeline_frequency=='month'){\n                hoverBar.attr('width', function(){\n                   return xScale(moment(xDate).endOf('month')) - xScale(moment(xDate).startOf('month'));\n                })\n            }\n            timelineTooltip.attr('transform', function(){\n                var bw = barWidth;\n                var ratio = (options.brushR - options.brushL)/600;\n                var offset = 0;\n                if(ratio<0.5) offset = 3;\n                if(ratio<0.3) offset = 12;\n                if(ratio<0.2) offset = 20;\n                if(ratio<0.15) offset = 21;\n                if(options.timeline_frequency=='month') { \n                    if(ratio<0.6) offset = 20;\n                    if(ratio<0.5) offset = 30;\n                    if(ratio<0.3) offset = 50;\n                    if(ratio<0.2) offset = 60;\n                    if(ratio<0.1) offset = 70;\n                    return 'translate('+(((xScaleEvents(xDate.toDate()))+(barWidth/3))+offset)+','+(coords[1]+353)+')';\n                }\n                return 'translate('+((xScaleEvents(xDate.toDate())+(18))+offset)+','+(coords[1]+353)+')';\n            })\n\n            if(coords[1]<470){\n                timelineTooltip.attr('opacity', 1);\n                hoverBar.attr('opacity', 1);\n                hoverBar.attr('height', '100%');\n            } else if(coords[1]>510){\n                eventTooltip.attr('opacity', 1);\n                hoverBar.attr('height', '90%');\n                var x = moment(xScale.invert(coords[0])).startOf('day');\n                var xx = (xScale.invert(coords[0]))\n                eventTooltip.attr('transform', function(){\n                    return 'translate('+(xScaleEvents(x.toDate())+(-3))+','+(817)+')';\n                });\n\n                var events = tData.filter(function(d,i){\n                    return moment(d.date).startOf('day').unix() == x.unix()\n                });\n\n                // select nearest neighbor for ux purposes \n                if(events.length==0){\n                    events = tData.filter(function(d,i){\n                        return ((moment(d.date).startOf('day').unix() <= moment(x).add(1, 'days').unix())&&(moment(d.date).startOf('day').unix() >= moment(x).subtract(1, 'days').unix()))\n                    });\n                }\n                \n                if(events.length>0){\n\n                    d3.select('#event-'+moment(events[0].date).startOf('day').unix()).select('path').style('stroke', '#000').attr('opacity', 1);\n                    tooltipStr = moment(events[0].date).startOf('day').format('ll');\n                    d3.select('#event_tooltip_date tspan').text(tooltipStr);\n\n                    var wrap = textwrap().bounds({height: 200, width: 230}).method('tspans');\n                    var event = d3.select('#event_tooltip_text').text(events[0].description)\n                    .attr('y', 18)\n                    .attr('x', 6)\n                    d3.select('#event_tooltip_text').call(wrap);\n\n                    d3.selectAll('#event_tooltip_text tspan').attr('dy', '1.3em');\n                    var bbox = d3.select('#event_tooltip_text').node().getBBox();\n                    d3.select('#event_tooltip_rect').attr('width', bbox.width+17)\n                    .attr('height', bbox.height +26 );\n\n                    var h = d3.select('#event_tooltip_rect').attr('height');\n                    var ys = 0;\n\n                    if(bbox.height<20){\n                        ys = 19;\n                    } else if(bbox.height<30){\n                        ys = 9;\n                    } else if(bbox.height<40){\n                        ys = 0;\n                    } else if(bbox.height<50){\n                        ys = -20;\n                    } else if(bbox.height<60){\n                        ys = -20;\n                    }\n\n                    var y = d3.select('#event_tooltip_rect').attr('y');\n\n                    d3.select('#event_tooltip_rect').attr('y', ys);\n                    \n                    d3.selectAll('#event_tooltip_text').attr('y', function(d,i){\n                        return parseInt(d3.select(this).attr('y')) + ys;\n                    });\n\n                    d3.selectAll('#event_tooltip_date tspan').attr('dy', function(d,i){\n                        return ys;\n                    });\n\n                    eventTooltip.attr('opacity', 1);\n\n                } else {\n                    d3.selectAll('.event_marker circle').style('stroke', colors.black)\n                    eventTooltip.attr('opacity', 0);\n                }\n            } else {\n                eventTooltip.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n                hoverBar.attr('opacity', 0);\n                hoverBar.attr('height', '100%');\n            }\n\n            if((options.timeline_frequency=='day')&&((xDate.toDate().getTime()<minDate.getTime()))){\n                hoverBar.attr('opacity', 0);\n                timelineTooltip.attr('opacity', 0);\n                return false;\n            }\n        });\n\n        tData = tData.filter(d => d.date.length > 0);\n\n        // event lin\n\n        yAxisGroup.append('line')\n        .attr('id', 'event-line')\n        .attr('x1', 0)\n        .attr('x2', 620)\n        .attr('y1', 893)\n        .attr('y2', 893)\n        .attr('stroke-width', 2.5)\n        .attr('stroke', colors.black);\n\n        var circles = yAxisGroup.append('g').selectAll('.event_marker')\n        .data(tData)\n        .enter()\n        .append('g')\n        .attr('class', 'event_marker')\n        .attr('id', function(d,i){\n            return 'event-'+moment(d.date).startOf('day').unix();\n        })\n        .attr('transform', function(d){\n            var x = xScaleEvents(new Date(d.date));\n            return 'translate('+(x)+', 893)';\n        })\n        .style('cursor', 'pointer');\n        // .append('path')\n        // .attr('d', \"M0,-6L4,0 0,6 -4,0Z\")\n        \n        circles.append(\"circle\")\n        .style('stroke', colors.black)\n        .attr('opacity', 1)\n        .attr('r', 6.5)\n        .attr('cx', 0)\n        .attr('cy', 0)\n        .style('stroke-width',2.2)\n        .style('fill', 'white');\n        circles\n        .append(\"circle\")\n        .attr('r', 2)\n        .attr('cx', 0)\n        .attr('cy', 0)\n        .attr('fill', colors.black)\n        .style('stroke', colors.black);\n\n\n        // create brush zoom\n        // reset\n        // options.brushL = 0;\n        // options.brushR = 600;\n        const brush = d3.brushX()\n        .extent([[0,0],[600,20]])\n        .on(\"start brush end\", brushed);\n\n        d3.select('.brush').remove();\n;\n        var gBrush = d3.select('#zoombar').append(\"g\")\n        .attr(\"class\", \"brush\")\n        .attr('opacity', 0.1)\n        .call(brush);\n\n\t\td3.selectAll('.handle rect').attr('fill-opacity', '1').style('visibility', 'visible').attr('width', 2).attr('fill', '#000').style('stroke-opacity', 0);\n\n        var brushScale = d3.scaleLinear()\n        .domain([-3, 597])\n        .range([0,2000]);\n\n        gBrush.call(brush.move, [options.brushL,options.brushR]);\n\n        function brushed(){\n            var x = parseFloat(d3.select('.handle--w').attr('x'));\n            var x2 = parseFloat(d3.select('.handle--e').attr('x'));\n            if((x2-x)<40) return false;\n            var w = d3.select('.selection').attr('width');\n            d3.select('#zoomL').attr('transform', 'translate('+x+',0)');\n            d3.select('#zoomR').attr('transform', 'translate('+(x2)+',0)');\n            d3.select('#zoomOverlay').attr('width', (x2-x));\n            d3.select('#zoomOverlay').attr('x', (x));\n            d3.select('#zoomOverlay').attr('transform', 'translate(3,0)');\n            var viewBoxW = Math.round(brushScale(x2)-brushScale(x));\n            var viewBoxX = Math.round(brushScale(x));\n            options.brushL = x+3;\n            options.brushR = x2+3;\n\n            xScaleAxis = d3.scaleTime()\n            .range([0,596])\n            .domain([new Date(xScale.invert(brushScale(x))),new Date(xScale.invert(brushScale(x2)))]);\n\n            xScaleEvents = d3.scaleTime()\n            .range([25,619])\n            // .domain([minDate,md]);\n            .domain([new Date(xScale.invert(brushScale(x))),new Date(xScale.invert(brushScale(x2)))]);\n\n            d3.selectAll('.event_marker')\n            .attr('transform', function(d){\n                var x = xScaleEvents(new Date(d.date));\n                return 'translate('+(x)+', 893)';\n            });\n\n            xAxis = d3.axisBottom()\n            .ticks(5)\n            .scale(xScaleAxis);\n\n            xAxisCases.call(xAxis);\n            xAxisDeaths.call(xAxis);\n            xAxisVaccines.call(xAxis);\n            xAxisTimeline.call(xAxis);\n            \n            d3.select('#timechart_svg').attr('viewBox', viewBoxX + ' 0 '+ viewBoxW + ' 553')\n        }\n\n}\n\nexport function updateTimechart(data, options) {\n\n    const groupedData = [];\n\n    data.who_data.forEach(function(d,i){\n        if(!groupedData[d[options.timeline_frequency+'Total']])groupedData[d[options.timeline_frequency+'Total']] = {};\n        if(options.timeline_frequency==='day') groupedData[d[options.timeline_frequency+'Total']].date = d.date;\n        if(options.timeline_frequency==='week') groupedData[d[options.timeline_frequency+'Total']].date = d.week_start;\n        if(options.timeline_frequency==='month') groupedData[d[options.timeline_frequency+'Total']].date = d.month_start;\n        if(!groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_cases += d.new_cases;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_deaths += d.new_deaths;\n        groupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_cases = 0;\n    });\n\n    // totals by date\n    groupedData.forEach(function(d,i){\n        regions.forEach(function(dd,ii){\n            if(!d.hasOwnProperty(dd)){\n               d[dd] = {new_cases: 0, new_deaths: 0, cumulative_cases: 0, cumulative_deaths: 0};\n            }\n            // if(dd!=='OTH') d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n            if(i>0){\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases + groupedData[i-1][dd].cumulative_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths + groupedData[i-1][dd].cumulative_deaths;\n            } else {\n                d[dd].cumulative_cases = groupedData[i][dd].new_cases;\n                d[dd].cumulative_deaths = groupedData[i][dd].new_deaths;\n            }\n        })\n\n        d.total_new_cases = d.AF.new_cases + d.AP.new_cases + d.AM.new_cases + d.EU.new_cases + d.ME.new_cases + d.OTH.new_cases; \n        d.total_cumulative_cases = d.AF.cumulative_cases + d.AP.cumulative_cases + d.AM.cumulative_cases + d.EU.cumulative_cases + d.ME.cumulative_cases + d.OTH.cumulative_cases; \n        d.total_new_deaths = d.AF.new_deaths + d.AP.new_deaths + d.AM.new_deaths + d.EU.new_deaths + d.ME.new_deaths + d.OTH.new_deaths; \n        d.total_cumulative_deaths = d.AF.cumulative_deaths + d.AP.cumulative_deaths + d.AM.cumulative_deaths + d.EU.cumulative_deaths + d.ME.cumulative_deaths + d.OTH.cumulative_deaths; \n        d.region = [];\n\n        regions.forEach(function(dd,ii){\n            d.region.push({'region': dd, 'new_cases': d[dd].new_cases, 'new_deaths': d[dd].new_deaths, 'cumulative_cases': d[dd].cumulative_cases, 'cumulative_deaths': d[dd].cumulative_deaths});\n        })\n    });\n\n    vgroupedData = [];\n\n    if(options.timeline_type!='cumulative'){ // non-cumulative and stacked\n        // data.vaccines_data = data.vaccines_data_daily;\n        data.vaccines_data.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('isoWeek').toDate();\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('month').toDate();\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {new_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].new_vaccines += d.daily_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {new_vaccines: 0, cumulative_vaccines: 0}\n                }\n            });\n            d.total_new_vaccines = d.AF.new_vaccines + d.AP.new_vaccines + d.AM.new_vaccines + d.EU.new_vaccines + d.ME.new_vaccines + d.OTH.new_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'new_vaccines': d[dd].new_vaccines});\n            })\n        });\n\n    } else{ // cumulative only\n        var vData = [];\n        if(options.timeline_frequency==='day') {\n            vData = clone(data.vaccines_data);\n        }\n        if(options.timeline_frequency==='week') {\n            data.vaccines_data.forEach(function(d,i){\n                var endOfWeekDate = moment(d.date).endOf('isoWeek').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfWeekDate)||(date==moment(data.max_date).startOf('day').unix())){\n                    vData.push(d);\n                }\n            })\n        }\n        if(options.timeline_frequency==='month') {\n            var maxDateUnix = moment(data.max_date).startOf('day').unix();\n            data.vaccines_data.forEach(function(d,i){\n                var endOfMonthDate = moment(d.date).endOf('month').startOf('day').unix();\n                var date = moment(d.date).startOf('day').unix();\n                if((date==endOfMonthDate)||((moment(data.max_date).startOf('day').unix()!=endOfMonthDate)&&(date==maxDateUnix))){\n                    vData.push(d);\n                }\n            })\n        }\n\n        vData.forEach(function(d,i){\n            if(!vgroupedData[d[options.timeline_frequency+'Total']])vgroupedData[d[options.timeline_frequency+'Total']] = {};\n            if(options.timeline_frequency==='day') vgroupedData[d[options.timeline_frequency+'Total']].date = d.date;\n            if(options.timeline_frequency==='week') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('isoWeek').toDate();\n            if(options.timeline_frequency==='month') vgroupedData[d[options.timeline_frequency+'Total']].date = moment(d.date).startOf('month').toDate();\n            if(!vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region]) vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region] = {cumulative_vaccines: 0};\n            vgroupedData[d[options.timeline_frequency+'Total']][d.ifrc_region].cumulative_vaccines += d.total_vaccinations;\n        });\n        // totals by date\n        vgroupedData.forEach(function(d,i){\n            regions.forEach(function(dd,ii){\n                if(!d[dd]){\n                    d[dd] = {cumulative_vaccines: 0}\n                }\n            });\n            d.total_cumulative_vaccines = d.AF.cumulative_vaccines + d.AP.cumulative_vaccines + d.AM.cumulative_vaccines + d.EU.cumulative_vaccines + d.ME.cumulative_vaccines + d.OTH.cumulative_vaccines; \n            d.region = [];\n            regions.forEach(function(dd,ii){\n                d.region.push({'region': dd, 'cumulative_vaccines': d[dd].cumulative_vaccines});\n            })\n        });\n    }\n\n    vgroupedData = vgroupedData.filter(function(el) { return el; });\n\n    const numIntervals = d3.max(data.who_data, function(d,i){\n        return d[options.timeline_frequency+'Total'];\n    });\n\n    const maxCases = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_cases;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_cases;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxDeaths = d3.max(groupedData, function(d,i){\n        if(options.timeline_type==='non-cumulative') return d.total_new_deaths;\n        if(options.timeline_type==='cumulative') return d.total_cumulative_deaths;\n        if(options.timeline_type==='stacked') return 100;\n    })\n\n    const maxVaccines = d3.max(vgroupedData, function(d,i){\n        if(d){\n            if(options.timeline_type==='non-cumulative') return d.total_new_vaccines;\n            if(options.timeline_type==='cumulative') return d.total_cumulative_vaccines;\n            if(options.timeline_type==='stacked') return 100;\n        }\n    })\n\n    const svg = d3.select('#timechart_svg');\n\n    const width = 2000;\n    const barWidth = width/numIntervals;\n\n    let barSpacing = 0.04; \n    if(options.timeline_frequency==='month') barSpacing = 0.03;\n    if(options.timeline_frequency==='day') barSpacing = 0;\n\n    // define scales\n\n    // xScale = d3.scaleTime()\n    // .range([0,width])\n    // .domain([minDate,md]);\n\n    // xScaleAxis = d3.scaleTime()\n    // .range([23,596])\n    // .domain([minDate,md]);\n\n    yScaleCases = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxCases]);\n\n    yScaleCasesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxCases]);\n\n    yScaleDeaths = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxDeaths]);\n\n    yScaleDeathsAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxDeaths]);\n\n    yScaleVaccines = d3.scaleLinear()\n    .range([0,140])\n    .domain([0,maxVaccines]);\n\n    yScaleVaccinesAxis = d3.scaleLinear()\n    .range([140,0])\n    .domain([0,maxVaccines]);\n\n    // define axi\n    yAxisCases = d3.axisRight()\n    .scale(yScaleCasesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisDeaths = d3.axisRight()\n    .scale(yScaleDeathsAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    yAxisVaccines = d3.axisRight()\n    .scale(yScaleVaccinesAxis)\n    .ticks(3)\n    .tickSize(3)\n    .tickPadding(3)\n    .tickFormat(function(d){\n        if(options.timeline_type=='stacked') return nFormatter(d)+'%';\n        return nFormatter(d);\n    })\n\n    // y-axis cases\n    var yAxisCasesText = d3.select('#casesAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisCases);\n\n    // y-axis deaths\n    var yAxisDeathsText = d3.select('#deathsAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisDeaths);\n\n    // y-axis vaccines\n    var yAxisVaccinesText = d3.select('#VaccinesAxis')\n    .transition()\n    .duration(500)\n    .call(yAxisVaccines);\n\n    // CASES\n    // loop through groupedData and draw bars\n    const barGroups = svg.selectAll('.bar_group')\n    .data(groupedData)\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+')'\n    })\n\n    // CASES\n    barGroups.selectAll('.cases_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_cases;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_cases;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleCases(d.cumulative_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleCases(d.new_cases)-(yScaleCases(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_cases/totalNewCases))-((140*(dp/totalNewCases))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewCases = d3.select(this.parentNode).datum().total_new_cases - d3.select(this.parentNode).datum().OTH.new_cases;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleCases(d.cumulative_cases);\n        if(options.timeline_type==='non-cumulative') y = yScaleCases(d.new_cases);\n        if(options.timeline_type==='stacked') y = (140*(d.new_cases/totalNewCases));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('fill', function(d,i){\n        return colors.regions[d.region];\n        return 'blue'\n    })\n\n    // // DEATHS\n    barGroups.selectAll('.deaths_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_deaths;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_deaths;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleDeaths(d.cumulative_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleDeaths(d.new_deaths)-(yScaleDeaths(dp))+170)\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_deaths/totalNewDeaths))-((140*(dp/totalNewDeaths)))+170)\n        // if(options.timeline_type==='non-cumulative') if(y>310) return 0;\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewDeaths = d3.select(this.parentNode).datum().total_new_deaths - d3.select(this.parentNode).datum().OTH.new_deaths;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleDeaths(d.cumulative_deaths);\n        if(options.timeline_type==='non-cumulative') y = yScaleDeaths(d.new_deaths);\n        if(options.timeline_type==='stacked') y = (140*(d.new_deaths/totalNewDeaths));\n        if(options.timeline_type==='non-cumulative') if(y<0) return 0;\n\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n\n    if(groupedData.length==0){\n        d3.selectAll('.cases_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140)\n        .attr('height', 0)\n\n        d3.selectAll('.deaths_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140+170)\n        .attr('height', 0)\n        \n    }\n    // // VACCINES\n\n    const vbarGroups = svg.selectAll('.vbar_group')\n    .data(vgroupedData)\n    .attr('transform', function(d,i){ \n        return 'translate('+xScale(d.date)+', 344)'\n    })\n\n    vbarGroups.selectAll('.vaccines_bar')\n    .data(function(d,i){ return d.region.filter(function(dd,ii){\n        return dd.region!=='OTH';\n    })})\n    .transition()\n    .duration(500)\n    .attr('y', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let dp = 0;\n        if(i>0){\n            for(let ii=1;ii<=i;ii++){\n                if(options.timeline_type==='cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].cumulative_vaccines;\n                if(options.timeline_type==='non-cumulative') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n                if(options.timeline_type==='stacked') dp += d3.select(this.parentNode).datum().region[ii-1].new_vaccines;\n            }\n        }\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = (140-yScaleVaccines(d.cumulative_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='non-cumulative') y = (140-yScaleVaccines(d.new_vaccines)-(yScaleVaccines(dp)))\n        if(options.timeline_type==='stacked') y = (140-(140*(d.new_vaccines/totalNewVaccines))-((140*(dp/totalNewVaccines))))\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    })\n    .attr('height', function(d,i){\n        const totalNewVaccines = d3.select(this.parentNode).datum().total_new_vaccines - d3.select(this.parentNode).datum().OTH.new_vaccines;\n        let y = 0;\n        if(options.timeline_type==='cumulative') y = yScaleVaccines(d.cumulative_vaccines);\n        if(options.timeline_type==='non-cumulative') y = yScaleVaccines(d.new_vaccines);\n        if(options.timeline_type==='stacked') y = (140*(d.new_vaccines/totalNewVaccines));\n        if(y){ if(y>0) { return y} else { return 0}; } else { return 0};\n    });\n\n    if(vgroupedData.length==0){\n        d3.selectAll('.vaccines_bar')\n        .transition()\n        .duration(500)\n        .attr('y', 140)\n        .attr('height', 0)\n    }\n   \n    // // bar size tweak for spacing\n    // if(options.timeline_frequency==='month'){\n    //     barGroups.selectAll(\".timeBar\")\n    //     .attr(\"width\", function(d) {\n    //         var date = d3.select(this.parentNode).datum().date;\n    //         var next = d3.timeMonth.offset(date, 1);\n    //         return (xScale(next)- xScale(date))*(1-barSpacing);\n    //       })\n    //     .attr(\"x\", function(d) {\n    //         var date = d3.select(this.parentNode).datum().date;\n    //         var next = d3.timeMonth.offset(date, 1);\n    //         return (xScale(next)- xScale(date))*(barSpacing/2);\n    //       })\n    //     }\n\n}\n\nexport default drawTimechart;\n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {addCommas} from './HelperFunctions';\nimport {filter} from './App';\n\nlet maxCases;\nlet maxDeaths;\nlet maxVaccinations;\nlet xScaleCases; \nlet xScaleDeaths;\nlet xScaleVaccines;\nlet labelWidth; \nconst margin = { left: 20, top: 0, right: 58 };\nlet rcSize; \nlet groupedData = [];\n\nexport function drawRegionchart(data, options, filter) {\n\n    const barSpacing = 0.1;\n\n    // reset region values to zero\n    data.regions.forEach(function(d,i){\n        d.population = 0;\n        d.cumulative_deaths = 0;\n        d.cumulative_cases = 0;\n        d.cumulative_vaccines = 0;\n    })\n\n    // loop through countries and calculate region totals\n    data.country.forEach(function(d,i){\n        data.regions.forEach(function(dd,ii){\n            if((dd.code==d.ifrc_region)){ \n                if((d.population>0)&&(d.who_daily_latest)){\n                    if(d.who_daily_latest.cumulative_cases>0)\n                    dd.cumulative_cases += d.who_daily_latest.cumulative_cases;\n                    if(d.who_daily_latest.cumulative_deaths>0)\n                    dd.cumulative_deaths += d.who_daily_latest.cumulative_deaths||0;\n                    dd.population += d.population;\n                }\n                if((d.population>0)&&(d.vaccine_daily_latest)){\n                    dd.cumulative_vaccines += (d.vaccine_daily_latest.total_vaccinations)||0;\n                }\n            }\n        });\n    });\n\n    // calculate regions per 100k values using total population for each region\n    data.regions.forEach(function(d,i){\n        d.cumulative_cases_per_100k = d.cumulative_cases/(d.population/100000)\n        d.cumulative_deaths_per_100k = d.cumulative_deaths/(d.population/100000);\n        d.cumulative_vaccines_per_100k = d.cumulative_vaccines/(d.population/100000);\n        if(!isFinite(d.cumulative_cases_per_100k)) d.cumulative_cases_per_100k = 0;\n        if(!isFinite(d.cumulative_deaths_per_100k)) d.cumulative_deaths_per_100k = 0;\n        if(!isFinite(d.cumulative_vaccines_per_100k)) d.cumulative_vaccines_per_100k = 0;\n    })\n\n    // get maximum values for each series\n    if(options.region_switch=='per100'){\n        // get maximum values for each series\n        maxVaccinations = d3.max(data.regions, function(d,i){\n            return d.cumulative_vaccines_per_100k;\n        })\n\n        maxCases = d3.max(data.regions, function(d,i){\n            return d.cumulative_cases_per_100k;\n        })\n\n        maxDeaths = d3.max(data.regions, function(d,i){\n            return d.cumulative_deaths_per_100k;\n        });\n    } else {\n         // get maximum values for each series\n         maxVaccinations = d3.max(data.regions, function(d,i){\n            return d.cumulative_vaccines;\n        })\n\n        maxCases = d3.max(data.regions, function(d,i){\n            return d.cumulative_cases;\n        })\n\n        maxDeaths = d3.max(data.regions, function(d,i){\n            return d.cumulative_deaths;\n        });\n    }\n\n    // append region chart container\n    const regionChartContainer = d3.select('#layout #region_chart_container').attr('opacity', 0);\n\n    // get dimensions\n    rcSize = {\n        x: regionChartContainer.attr('x'), y: regionChartContainer.attr('y'), width: regionChartContainer.attr('width'), height: regionChartContainer.attr('height')\n    }\n\n    // create svg container\n    const svg = d3.select('#layout').append('g').attr('transform', 'translate('+rcSize.x+', '+rcSize.y+')')\n    .attr('id', 'region_chart');\n\n    // calculate chart row height\n\tvar rowHeight = rcSize.height/(data.regions.length-1); // remove OTH\n\n    // create rows\n    var rows = svg.selectAll('.bar-row')\n\t.data(data.regions.filter(d=>d.code!=='OTH'))\n\t.enter()\n\t.append('g')\n\t.attr('class', 'bar-row')\n\t.attr('transform', function(d,i){\n\t\treturn 'translate(0,' + ((i*rowHeight) + margin.top) + ')';\n\t});\n\n    // create region labels\n    var label = rows.append('text')\n\t.attr('y', rowHeight/2 )\n    .attr('x', margin.left-5)\n\t.attr('class', function(d,i){ return 'bar-labels bar-label-'+d.code })\n\t.style('alignment-baseline', 'middle')\n\t.style('font-size', '11px')\n    .attr('opacity', 1)\n\t.attr('fill', '#000')\n\t.text(function(d,i){\n\t\tif(d.code==='AM') return 'Americas';\n\t\tif(d.code==='EU') return 'Europe';\n\t\tif(d.code==='AF') return 'Africa';\n\t\tif(d.code==='ME') return 'Middle East and North Africa';\n\t\tif(d.code==='AP') return 'Asia-Pacific';\n\t}).style('text-anchor', 'end');\n\n    // get label node width for use in scale\n    labelWidth = rows.node().getBBox().width + margin.left;\n\tlabel.attr('x', labelWidth+89);\n\tlabelWidth = labelWidth + 94;\n    d3.selectAll('.timeBar').attr('opacity',1);\n    \n    // create fading background click area\n    var rowBg = rows.append('rect')\n\t.attr('y', 0)\n\t.attr('x', 0)\n\t.attr('width', labelWidth)\n\t.attr('height', rowHeight-2)\n\t.style('opacity', 0)\n    .attr('fill', 'grey')\n\t.style('cursor', 'pointer')\n\t.attr('class', function(d,i){ return 'bar-bg-'+d.code })\n\t.attr('data-id', function(d,i){ return d.code })\n\t.on('mouseover', function(d){\n\t\td3.select(this).style('opacity', 0.1);\n\t})\n\t.on('mouseout', function(){\n\t\td3.select(this).style('opacity', 0);\n\t})\n\t.on('click', function(d,i){\n        var t = d3.select(this).attr('data-id');\n        filter([t],'regionchart');\n    });\n\n    // define scales\n    xScaleCases = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxCases]);\n\n    xScaleDeaths = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxDeaths]);\n\n    xScaleVaccines = d3.scaleLinear()\n\t.range([labelWidth, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxVaccinations]);\n\n    var bars = rows.append('rect')\n    .attr('id', function(d,i){\n        return 'bar-'+d.code;\n    })\n\t.attr('data-id', function(d,i){ return d.code })\n    .attr('class', 'region-bar')\n    .attr('width', function(d,i){\n        var val = 0;\n        if(options.region_switch=='per100'){\n            if(options.region_chart_toggle == 'cases') val = xScaleCases(d.cumulative_cases_per_100k);\n            if(options.region_chart_toggle == 'deaths') val = xScaleDeaths(d.cumulative_deaths_per_100k);\n            if(options.region_chart_toggle == 'vaccines') val = xScaleVaccines(d.cumulative_vaccines_per_100k);\n        } else {\n            if(options.region_chart_toggle == 'cases') val = xScaleCases(d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') val = xScaleDeaths(d.cumulative_deaths);\n            if(options.region_chart_toggle == 'vaccines') val = xScaleVaccines(d.cumulative_vaccines);                \n        }\n        if(!isNaN(val)) { return parseFloat(val) } else { return 0}\n    })\n    .attr('x', labelWidth)\n    .style('outline', 'none')\n    .style('cursor', 'pointer')\n    .attr('y', rowHeight*barSpacing - 1)\n    .attr('height', rowHeight-((rowHeight*barSpacing)*2))\n    .style('fill', function(d){\n        return colors.regions[d.code]\n    })\n    .attr('opacity',1)\n    .on('click', function(d,i){\n        var t = d3.select(this).attr('data-id');\n        filter([t],'regionchart');\n    })\n    .on('mouseover', function(d){\n        var dat = d3.select(this.parentNode).datum();\n        // d3.selectAll('.timeBar:not(.time_'+dat.region).transition().duration(500).attr('opacity', 0.3);\n        // d3.selectAll('.time_'+dat.region).attr('opacity', 1);\n\t})\n\t.on('mouseout', function(){\n        // d3.selectAll('.timeBar').transition().duration(500).attr('opacity', 1);\n\t})\n\n    // create data value labels\n    var dataLabel = rows.append('text')\n\t.text(function(d){\n        var val = 0;\n        if(options.region_switch=='per100'){\n            if(options.region_chart_toggle == 'cases') val = (Math.round(d.cumulative_cases_per_100k));\n            if(options.region_chart_toggle == 'deaths') val = (Math.round(d.cumulative_deaths_per_100k));\n            if(options.region_chart_toggle == 'vaccines') val = (Math.round(d.cumulative_vaccines_per_100k));\n        } else {\n            if(options.region_chart_toggle == 'cases') val = (Math.round(d.cumulative_cases));\n            if(options.region_chart_toggle == 'deaths') val = (Math.round(d.cumulative_deaths));\n            if(options.region_chart_toggle == 'vaccines') val = (Math.round(d.cumulative_vaccines));             \n        }\n        return addCommas(val);\n    })\n\t.attr('id', function(d,i){\n\t\treturn 'data-label'+d.code;\n\t})\n    .attr('data-id', function(d,i){ return d.code })\n\t.attr('class', 'data-label')\n\t.attr('y', rowHeight/2)\n\t.style('alignment-baseline', 'middle')\n\t.style('text-anchor', 'start')\n\t.attr('x', function(d,i){\n        var val = 0;\n        if(options.region_switch=='per100'){\n            if(options.region_chart_toggle == 'cases') val = xScaleCases(d.cumulative_cases_per_100k)+labelWidth+5;\n            if(options.region_chart_toggle == 'deaths') val = xScaleDeaths(d.cumulative_deaths_per_100k)+labelWidth+5;\n            if(options.region_chart_toggle == 'vaccines') val = xScaleVaccines(d.cumulative_vaccines_per_100k)+labelWidth+5;\n        } else {\n            if(options.region_chart_toggle == 'cases') val = xScaleCases(d.cumulative_cases)+labelWidth+5;\n            if(options.region_chart_toggle == 'deaths') val = xScaleDeaths(d.cumulative_deaths)+labelWidth+5;\n            if(options.region_chart_toggle == 'vaccines') val = xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;               \n        }\n        return val;\n    })\n    .attr('opacity', function(d,i){\n        var val = 0;\n        if(options.region_switch=='per100'){\n            if(options.region_chart_toggle == 'cases') val = (d.cumulative_cases_per_100k);\n            if(options.region_chart_toggle == 'deaths') val = (d.cumulative_deaths_per_100k);\n            if(options.region_chart_toggle == 'vaccines') val = (d.cumulative_vaccines_per_100k);\n        } else {\n            if(options.region_chart_toggle == 'cases') val = (d.cumulative_cases);\n            if(options.region_chart_toggle == 'deaths') val = (d.cumulative_deaths);\n            if(options.region_chart_toggle == 'vaccines') val = (d.cumulative_vaccines);\n        }\n        if(val>0){ return 1 } else { return 0}\n    })\n\t.style('fill', '#696969')\n\t.style('font-weight', 'normal')\n\t.style('font-size', '10px');\n\n}\n\nexport function updateRegionchart(options,data) {\n    \n    // reset region values to zero\n    data.regions.forEach(function(d,i){\n        d.population = 0;\n        d.cumulative_deaths = 0;\n        d.cumulative_cases = 0;\n        d.cumulative_vaccines = 0;\n    })\n\n    // loop through countries and calculate region totals\n    data.country.forEach(function(d,i){\n        data.regions.forEach(function(dd,ii){\n            if((dd.code==d.ifrc_region)){ \n                if((d.population>0)&&(d.who_daily_latest)){\n                    if(d.who_daily_latest.cumulative_cases>0)\n                    dd.cumulative_cases += d.who_daily_latest.cumulative_cases;\n                    if(d.who_daily_latest.cumulative_deaths>0)\n                    dd.cumulative_deaths += d.who_daily_latest.cumulative_deaths||0;\n                    dd.population += d.population;\n                }\n                if((d.population>0)&&(d.vaccine_daily_latest)){\n                    dd.cumulative_vaccines += (d.vaccine_daily_latest.total_vaccinations)||0;\n                }\n            }\n        });\n    });\n\n    // calculate regions per 100k values using total population for each region\n    data.regions.forEach(function(d,i){\n        d.cumulative_cases_per_100k = d.cumulative_cases/(d.population/100000)\n        d.cumulative_deaths_per_100k = d.cumulative_deaths/(d.population/100000);\n        d.cumulative_vaccines_per_100k = d.cumulative_vaccines/(d.population/100000);\n        if(!isFinite(d.cumulative_cases_per_100k)) d.cumulative_cases_per_100k = 0;\n        if(!isFinite(d.cumulative_deaths_per_100k)) d.cumulative_deaths_per_100k = 0;\n        if(!isFinite(d.cumulative_vaccines_per_100k)) d.cumulative_vaccines_per_100k = 0;\n    })\n\n    if(options.region_switch=='per100'){\n        // get maximum values for each series\n        maxVaccinations = d3.max(data.regions, function(d,i){\n            return d.cumulative_vaccines_per_100k;\n        })\n\n        maxCases = d3.max(data.regions, function(d,i){\n            return d.cumulative_cases_per_100k;\n        })\n\n        maxDeaths = d3.max(data.regions, function(d,i){\n            return d.cumulative_deaths_per_100k;\n        });\n    } else {\n         // get maximum values for each series\n         maxVaccinations = d3.max(data.regions, function(d,i){\n            return d.cumulative_vaccines;\n        })\n\n        maxCases = d3.max(data.regions, function(d,i){\n            return d.cumulative_cases;\n        })\n\n        maxDeaths = d3.max(data.regions, function(d,i){\n            return d.cumulative_deaths;\n        });\n    }\n\n    // redefine scales using new extent\n    xScaleCases = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxCases]);\n\n    xScaleDeaths = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxDeaths]);\n\n    xScaleVaccines = d3.scaleLinear()\n\t.range([0, rcSize.width - margin.right - labelWidth])\n\t.domain([0, maxVaccinations]);\n\n    // update bars\n    if((maxVaccinations==0)&&(maxCases==0)&&(maxDeaths==0)){\n        d3.selectAll('.region-bar')\n        .transition().duration(500)\n        .attr('width', 0);\n\n        d3.selectAll('.data-label')\n        .transition()\n          .duration(500) \n          .attr('x', labelWidth)\n          .attr('opacity', 0);\n    } else {\n        d3.selectAll('.region-bar')\n        .transition().duration(500)\n        .style('fill', function(d){\n            return colors.regions[d.code];\n            if(options.region_chart_toggle=='vaccines'){\n                return colors.regions_blue[d.code]\n            } else {\n                return colors.regions[d.code]\n            }\n        })\n        .attr('width', function(d,i){\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.code == id){\n                    d = dd;\n                }\n            })\n            var val = 0;\n            if(options.region_switch=='per100'){\n                if(options.region_chart_toggle == 'cases') val = xScaleCases(d.cumulative_cases_per_100k);\n                if(options.region_chart_toggle == 'deaths') val = xScaleDeaths(d.cumulative_deaths_per_100k);\n                if(options.region_chart_toggle == 'vaccines') val = xScaleVaccines(d.cumulative_vaccines_per_100k);\n            } else {\n                if(options.region_chart_toggle == 'cases') val = xScaleCases(d.cumulative_cases);\n                if(options.region_chart_toggle == 'deaths') val = xScaleDeaths(d.cumulative_deaths);\n                if(options.region_chart_toggle == 'vaccines') val = xScaleVaccines(d.cumulative_vaccines);                \n            }\n            if(!isNaN(val)) { return parseFloat(val) } else { return 0}\n        })   \n        d3.selectAll('.data-label')\n        .transition()\n          .duration(500)\n          .tween(\"text\", function(d,i) {\n            var val = 0;\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.code == id){\n                    d = dd;\n                }\n            })\n            if(options.region_switch=='per100'){\n                if(options.region_chart_toggle == 'cases') val = (Math.round(d.cumulative_cases_per_100k));\n                if(options.region_chart_toggle == 'deaths') val = (Math.round(d.cumulative_deaths_per_100k));\n                if(options.region_chart_toggle == 'vaccines') val = (Math.round(d.cumulative_vaccines_per_100k));\n            } else {\n                if(options.region_chart_toggle == 'cases') val = (Math.round(d.cumulative_cases));\n                if(options.region_chart_toggle == 'deaths') val = (Math.round(d.cumulative_deaths));\n                if(options.region_chart_toggle == 'vaccines') val = (Math.round(d.cumulative_vaccines));             \n            }\n            var i = d3.interpolate(Math.floor((Math.random() * 2346) + 9345), val);\n            return function(t) {\n              d3.select(this).text(addCommas(Math.round(i(t))));\n            };\n          })\n        .attr('x', function(d,i){\n            var id = d3.select(this).attr('data-id');\n            var d;\n            groupedData.forEach(function(dd,ii){\n                if(dd.code == id){\n                    d = dd;\n                }\n            })\n            var val = 0;\n            if(options.region_switch=='per100'){\n                if(options.region_chart_toggle == 'cases') val = xScaleCases(d.cumulative_cases_per_100k)+labelWidth+5;\n                if(options.region_chart_toggle == 'deaths') val = xScaleDeaths(d.cumulative_deaths_per_100k)+labelWidth+5;\n                if(options.region_chart_toggle == 'vaccines') val = xScaleVaccines(d.cumulative_vaccines_per_100k)+labelWidth+5;\n            } else {\n                if(options.region_chart_toggle == 'cases') val = xScaleCases(d.cumulative_cases)+labelWidth+5;\n                if(options.region_chart_toggle == 'deaths') val = xScaleDeaths(d.cumulative_deaths)+labelWidth+5;\n                if(options.region_chart_toggle == 'vaccines') val = xScaleVaccines(d.cumulative_vaccines)+labelWidth+5;               \n            }\n            return val;\n        })\n        .attr('opacity', function(d,i){\n            var d;\n            var id = d3.select(this).attr('data-id');\n            groupedData.forEach(function(dd,ii){\n                if(dd.code == id){\n                    d = dd;\n                }\n            })\n            var val = 0;\n            if(options.region_switch=='per100'){\n                if(options.region_chart_toggle == 'cases') val = (d.cumulative_cases_per_100k);\n                if(options.region_chart_toggle == 'deaths') val = (d.cumulative_deaths_per_100k);\n                if(options.region_chart_toggle == 'vaccines') val = (d.cumulative_vaccines_per_100k);\n            } else {\n                if(options.region_chart_toggle == 'cases') val = (d.cumulative_cases);\n                if(options.region_chart_toggle == 'deaths') val = (d.cumulative_deaths);\n                if(options.region_chart_toggle == 'vaccines') val = (d.cumulative_vaccines);\n            }\n            if(val>0){ return 1 } else { return 0}\n        })\n\n    }\n\n}\n\nexport default drawRegionchart;\n","import * as d3 from \"d3\";\nimport {drawTimechart, updateTimechart} from './Timechart';\nimport {updateRegionchart} from './Regionchart';\nimport colors from './colors';\nimport tippy from 'tippy.js';\nimport 'tippy.js/dist/svg-arrow.css';\nimport 'tippy.js/themes/light.css';\nimport { jsPDF } from \"jspdf\";\nimport html2canvas from 'html2canvas';\n\nconst selectedToggle = '#595454';\nconst unselectedToggle = '#EAEAEA';\nconst unselectedToggleText = '#000';\nconst selectedToggleText = '#FFF';\n\nfunction Layout(svg, options, data, filter, updateTable, updateMap) {\n\n  // vaccine info\n  d3.select('#vaccine_tooltip').attr('opacity', 0).style('display', 'none');\n  d3.select('#vaccine_info path').attr('fill', colors.black);\n\n  svg.select('#vaccine_info').style('cursor', 'pointer')\n  .on('mouseover', function(event, bd){\n    d3.select('#svg_container').style('z-index', 10);\n    d3.select('#vaccine_tooltip').style('display', 'inline').transition().duration(500).attr('opacity', 1);\n    d3.select('#vaccine_info path').transition().duration(200).attr('fill', colors.blue);\n  }).on('mouseout', function(event, d){\n    d3.select('#svg_container').style('z-index', 1);\n    d3.select('#vaccine_tooltip').style('display', 'none').attr('opacity', 0);\n    d3.select('#vaccine_info path').transition().duration(500).attr('fill', colors.black);\n  })\n\n  // region chart toggle\n  svg.select('#region_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n    options.region_filter = []; \n    filter('clear-region');\n  });\n\n  svg.select('#region_switch').style('cursor', 'pointer').on('click', function(d,i){\n    if(options.region_switch=='total'){\n      options.region_switch = 'per100';\n      d3.select('#region_switch_toggle').transition().duration(200).attr('x', 15.1);\n    } else {\n      options.region_switch = 'total';\n      d3.select('#region_switch_toggle').transition().duration(200).attr('x', 3.1);\n    }\n    updateRegionchart(options,data);\n  })\n\n  svg.select('#region-chart-toggle #region-chart-toggle-cases').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'cases') return false;\n    options.region_chart_toggle = 'cases';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-cases rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-cases text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-deaths').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'deaths') return false;\n    options.region_chart_toggle = 'deaths';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-deaths rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-deaths text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  svg.select('#region-chart-toggle #region-chart-toggle-vaccines').style('cursor', 'pointer').on('click', function(d){\n    if(options.region_chart_toggle === 'vaccines') return false;\n    options.region_chart_toggle = 'vaccines';\n    svg.selectAll('#region-chart-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#region-chart-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#region-chart-toggle-vaccines rect').attr('fill', selectedToggle);\n    svg.select('#region-chart-toggle-vaccines text').attr('fill', selectedToggleText);\n    updateRegionchart(options,data);\n  });\n\n  // map toggle\n  svg.select('#map-toggle #map-toggle-bi-weekly-change').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'bi-weekly-change') return false;\n    options.map_toggle = 'bi-weekly-change';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-bi-weekly-change rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-bi-weekly-change text').attr('fill', selectedToggleText);\n    // update map legend\n\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-cases').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'cases') return false;\n    options.map_toggle = 'cases';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-cases rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-cases text').attr('fill', selectedToggleText);\n    // update map legend\n\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-deaths').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'deaths') return false;\n    options.map_toggle = 'deaths';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-deaths rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-deaths text').attr('fill', selectedToggleText);\n    // update map legend\n\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-percent-fully-vaccinated').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'percent-fully-vaccinated') return false;\n    options.map_toggle = 'percent-fully-vaccinated';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-percent-fully-vaccinated rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-percent-fully-vaccinated text').attr('fill', selectedToggleText);\n    // update map legend\n    updateMap(data, options, 700);\n  });\n\n  svg.select('#map-toggle #map-toggle-percent-vaccine-acceptance').style('cursor', 'pointer').on('click', function(d){\n    if(options.map_toggle === 'percent-vaccine-acceptance') return false;\n    options.map_toggle = 'percent-vaccine-acceptance';\n    svg.selectAll('#map-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#map-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#map-toggle-percent-vaccine-acceptance rect').attr('fill', selectedToggle);\n    svg.select('#map-toggle-percent-vaccine-acceptance text').attr('fill', selectedToggleText);\n    // update map legend\n    updateMap(data, options, 700);\n  });\n\n    // time chart type \n    svg.select('#timechart-type-toggle #timechart-type-toggle-cumulative').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'cumulative') return false;\n      options.timeline_type = 'cumulative';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-cumulative rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-cumulative polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggle);\n      updateTimechart(data, options);\n    });\n  \n    tippy('#timechart-type-toggle-cumulative', {\n      content: 'Cumulative',\n      duration: 0,\n      placement: 'bottom',\n      theme: 'light',\n      arrow: true,\n      delay: [500, 200],\n    });\n\n    svg.select('#timechart-type-toggle #timechart-type-toggle-non-cumulative').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'non-cumulative') return false;\n      options.timeline_type = 'non-cumulative';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-non-cumulative rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-non-cumulative polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggle);\n      updateTimechart(data, options);\n    });\n\n    tippy('#timechart-type-toggle-non-cumulative', {\n      content: 'Non-cumulative',\n      duration: 0,\n      placement: 'bottom',\n      theme: 'light',\n      arrow: true,\n      delay: [500, 200],\n    });\n\n    svg.select('#timechart-type-toggle #timechart-type-toggle-stacked').style('cursor', 'pointer').on('click', function(d){\n      if(options.timeline_type === 'stacked') return false;\n      options.timeline_type = 'stacked';\n      svg.selectAll('#timechart-type-toggle rect').attr('fill', unselectedToggle);\n      svg.selectAll('#timechart-type-toggle polyline').attr('stroke', unselectedToggleText);\n      svg.select('#timechart-type-toggle-stacked rect').attr('fill', selectedToggle);\n      svg.select('#timechart-type-toggle-stacked polyline').attr('stroke', selectedToggleText);\n      svg.selectAll('#timechart-type-toggle-stacked polygon').attr('fill', selectedToggleText);\n      updateTimechart(data, options);\n    });\n\n    tippy('#timechart-type-toggle-stacked', {\n      content: 'Stacked 100%',\n      duration: 0,\n      placement: 'bottom',\n      theme: 'light',\n      arrow: true,\n      delay: [500, 200],\n    });\n\n  // time chart frequency toggle\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-day').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'day') return false;\n    options.timeline_frequency = 'day';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-day rect').attr('fill', selectedToggle);\n    svg.select('#timechart-frequency-toggle-day text').attr('fill', selectedToggleText);\n    svg.select('#tooltip_frequency tspan').attr('text-anchor', 'end').attr('dx', 20).text('DAY');\n    drawTimechart(data, options);\n  });\n\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-week').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'week') return false;\n    options.timeline_frequency = 'week';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-week rect').attr('fill', selectedToggle);\n    svg.select('#tooltip_frequency tspan').attr('text-anchor', 'end').attr('dx', 20).text('WEEK');\n    svg.select('#timechart-frequency-toggle-week text').attr('fill', selectedToggleText);\n    drawTimechart(data, options);\n  });\n\n  svg.select('#timechart-frequency-toggle #timechart-frequency-toggle-month').style('cursor', 'pointer').on('click', function(d){\n    if(options.timeline_frequency === 'month') return false;\n    options.timeline_frequency = 'month';\n    svg.selectAll('#timechart-frequency-toggle rect').attr('fill', unselectedToggle);\n    svg.selectAll('#timechart-frequency-toggle text').attr('fill', unselectedToggleText);\n    svg.select('#timechart-frequency-toggle-month rect').attr('fill', selectedToggle);\n    svg.select('#tooltip_frequency tspan').attr('text-anchor', 'end').attr('dx', 20).text('MONTH');\n    svg.select('#timechart-frequency-toggle-month text').attr('fill', selectedToggleText);\n    drawTimechart(data, options);\n  });\n\n    // HDI toggle\n\n    svg.select('#hdi_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n      d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);\n      filter('clear-hdi');\n    });\n\n    svg.select('#hdi-toggle #hdi-toggle-very-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'very-high');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n\n    svg.select('#hdi-toggle #hdi-toggle-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'high');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n    svg.select('#hdi-toggle #hdi-toggle-medium').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'medium');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1); }\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n    svg.select('#hdi-toggle #hdi-toggle-low').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.hdi_filter, 'low');\n      if(options.hdi_filter.length === 4) { options.hdi_filter = []; d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length === 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 1);}\n      else if(options.hdi_filter.length > 0) { d3.selectAll('#hdi-toggle-very-high, #hdi-toggle-high, #hdi-toggle-medium, #hdi-toggle-low').attr('opacity', 0.3);}\n      if(options.hdi_filter.length > 0){\n        options.hdi_filter.forEach(function(d,i){\n          d3.select('#hdi-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('hdi');\n    });\n\n    // inform severity toggle\n\n    svg.select('#inform_remove_filter').attr('opacity', 0).style('cursor', 'pointer').on('click', function(d,i){\n      d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);\n      filter('clear-inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-no-score').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'no-score');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-low').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'low');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-medium').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'medium');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'high');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n\n    svg.select('#inform-toggle #inform-toggle-very-high').style('cursor', 'pointer').on('click', function(d){\n      toggle(options.inform_filter, 'very-high');\n      if(options.inform_filter.length === 5) { options.inform_filter = []; d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length === 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 1);}\n      else if(options.inform_filter.length > 0) { d3.selectAll('#inform-toggle-very-high, #inform-toggle-high, #inform-toggle-medium, #inform-toggle-low, #inform-toggle-no-score').attr('opacity', 0.3);}\n      if(options.inform_filter.length > 0){\n        options.inform_filter.forEach(function(d,i){\n          d3.select('#inform-toggle-'+d).attr('opacity', 1);\n        })\n      }\n      filter('inform');\n    });\n  \n  // tabs\n\n  d3.select('#additional-indicators-tab').attr('opacity', 0).select('#additional-indicators-tab-content').attr('display', 'none');\n  d3.select('#vac-tab').attr('opacity', 1).select('#vac-tab-content').attr('display', 'inline');\n  d3.select('#bubblechart-tab').attr('opacity', 0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display', 'none');\n  d3.select('#bubbleSelectContainer').style('display', 'none');\n\n  svg.select('#tabs #vaccination-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'vaccination-data') return false;\n    options.tab_toggle = 'vaccination-data';\n    d3.select('#additional-indicators-tab').attr('opacity', 0).select('#additional-indicators-tab-content').attr('display', 'none');\n    d3.select('#vac-tab').attr('opacity', 1).select('#vac-tab-content').attr('display', 'inline');\n    d3.select('#bubblechart-tab').attr('opacity', 0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display', 'none');\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#vaccination-tab rect').attr('fill', selectedToggle);\n    svg.select('#vaccination-tab text').attr('fill', selectedToggleText);\n    d3.select('#bubbleSelectContainer').style('display', 'none');\n\n  });\n\n  svg.select('#tabs #indicators-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'indicators') return false;\n    options.tab_toggle = 'indicators';\n    d3.select('#additional-indicators-tab').attr('opacity', 1).select('#additional-indicators-tab-content').attr('display', 'inline');\n    d3.select('#vac-tab').attr('opacity', 0).select('#vac-tab-content').attr('display', 'none');\n    d3.select('#bubblechart-tab').attr('opacity', 0).selectAll('#bubblechart, #bubblechart-tab-content').attr('display', 'none');\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#indicators-tab rect').attr('fill', selectedToggle);\n    svg.select('#indicators-tab text').attr('fill', selectedToggleText);\n    d3.select('#bubbleSelectContainer').style('display', 'none');\n\n  });\n\n  svg.select('#tabs #bubble-chart-tab').style('cursor', 'pointer').on('click', function(d){\n    if(options.tab_toggle === 'bubble-chartt') return false;\n    options.tab_toggle = 'bubble-chart';\n    d3.select('#additional-indicators-tab').attr('opacity', 0).select('#additional-indicators-tab-content').attr('display', 'none');\n    d3.select('#vac-tab').attr('opacity', 0).select('#vac-tab-content').attr('display', 'none');\n    d3.select('#bubblechart-tab').attr('opacity', 1).selectAll('#bubblechart, #bubblechart-tab-content').attr('display', 'inline');\n    svg.selectAll('#tabs rect').attr('fill', unselectedToggle);\n    svg.selectAll('#tabs text').attr('fill', unselectedToggleText);\n    svg.select('#bubble-chart-tab rect').attr('fill', selectedToggle);\n    svg.select('#bubble-chart-tab text').attr('fill', selectedToggleText);\n    d3.select('#bubbleSelectContainer').style('display', 'inline-block');\n\n  });\n\n  // time chart mask\n    d3.select('#svg defs').append('clipPath').attr('id', 'mask')\n    .append('rect')\n    .attr('y', 340)\n    .attr('height', 590)\n    .attr('width', 660)\n    .attr('x', 22);\n\n  \n  // append timechart svg\n  const timechartContainer = svg.select('#timechart_container').attr('opacity', 0);\n  const tcSize = {\n    x: timechartContainer.attr('x'), y: timechartContainer.attr('y'), width: timechartContainer.attr('width'), height: timechartContainer.attr('height')\n  }\n\n  const timechartSvg = svg.append('svg').attr('id', 'timechart_svg').attr('viewBox', '0 0 '+2000 +' '+ tcSize.height)\n  .attr('preserveAspectRatio', \"none\")\n  .attr('x', tcSize.x)\n  .attr('y', tcSize.y)\n  .attr('width', tcSize.width)\n  .attr('height', tcSize.height)\n\n  const layer1 = timechartSvg\n  .append('g')\n  .attr('id', 'layer1')\n\n  const timechartBg = timechartSvg.append('g').attr('id', 'layer0');\n\n  layer1.append('rect')\n  .attr('x', 0)\n  .attr('y', 0)\n  .attr('width', '100%')\n  .attr('height', '100%')\n  .attr('opacity', 0)\n  .style('fill', 'transparent');\n  \n  // table bars\n\n  var tableRowHeight = 18;\n  var tableBarYOffset = 68;\n\n  for(let i = 0; i < 10; i++){\n\n    // col 1 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col1bg colbg')\n    .attr('id','col1bg'+i)\n    .attr('x', 120)\n    .attr('y', function(){\n      return tableBarYOffset+(i*24.8);\n    })\n    .attr('height', tableRowHeight)\n    .attr('width', 68)\n    .attr('fill', colors.lightgrey)\n\n    // col 1 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col1bar')\n    .attr('id','col1bar'+i)\n    .attr('x', 120)\n    .attr('y', function(){\n      return tableBarYOffset+(i*24.8);\n    })\n    .attr('height', tableRowHeight)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    // col 2 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col2bg colbg')\n    .attr('id','col2bg'+i)\n    .attr('x', 230)\n    .attr('y', function(){\n      return tableBarYOffset+(i*24.8);\n    })\n    .attr('height', tableRowHeight)\n    .attr('width', 68)\n    .attr('fill', colors.lightgrey)\n\n    // col 2 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col2bar')\n    .attr('id','col2bar'+i)\n    .attr('x', 230)\n    .attr('y', function(){\n      return tableBarYOffset+(i*24.8);\n    })\n    .attr('height', tableRowHeight)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    // col 3 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col3bg colbg')\n    .attr('id','col3bg'+i)\n    .attr('x', 340)\n    .attr('y', function(){\n      return tableBarYOffset+(i*24.8);\n    })\n    .attr('height', tableRowHeight)\n    .attr('width', 68)\n    .attr('fill', colors.lightgrey)\n\n    // col 3 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col3bar')\n    .attr('id','col3bar'+i)\n    .attr('x', 340)\n    .attr('y', function(){\n      return tableBarYOffset+(i*24.8);\n    })\n    .attr('height', tableRowHeight)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    // col 4 bg\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col4bg colbg')\n    .attr('id','col4bg'+i)\n    .attr('x', 454)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', tableRowHeight)\n    .attr('width', 68)\n    .attr('fill', colors.lightgrey)\n\n    // col 3 bar\n    d3.select('#vac-tab').append('rect')\n    .attr('class','col4bar')\n    .attr('id','col4bar'+i)\n    .attr('x', 454)\n    .attr('y', function(){\n      return 67+(i*24.8);\n    })\n    .attr('height', tableRowHeight)\n    .attr('width', 0)\n    .attr('fill', colors.blue);\n\n    for(var x = 0; x<6; x++){\n      d3.select('#col'+x+'_sort_desc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort_asc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort').style('cursor', 'pointer')\n      .on('click', function(){\n        var thisId = d3.select(this).attr('id');\n        if(options.table_sort==thisId){\n          if(options.table_sort_direction=='desc'){\n            options.table_sort_direction = 'asc';\n          } else {\n            options.table_sort_direction = 'desc';\n          }\n        } else {\n          options.table_sort = thisId;\n          options.table_sort_direction = 'desc';\n        }\n        options.page = 1;\n        updateTable(data, options);\n    })\n    // d3.select('#col1_sort_desc').attr('opacity', 1);\n    }\n  }\n\n  d3.select('#reset_locations').attr('display', 'none');\n\n  printCopySave();\n\n}\n\n// print copy save\n\nvar printing;\n\nfunction printCopySave(){\n\n  tippy('#button-png', {\n    content: 'Save as PNG',\n    duration: 0,\n    placement: 'bottom',\n    theme: 'light',\n    arrow: true,\n    delay: [500, 200],\n  });\n\n  tippy('#button-copy', {\n    content: 'Copy to clipboard',\n    duration: 0,\n    placement: 'bottom',\n    theme: 'light',\n    arrow: true,\n    delay: [500, 200],\n  });\n\n  tippy('#button-print', {\n    content: 'Print to PDF',\n    duration: 0,\n    placement: 'bottom',\n    theme: 'light',\n    arrow: true,\n    delay: [500, 200],\n  });\n\n  d3.select('#button-print').on('click', function(){\n\n    if(printing) return false;\n    printing = true;\n\n    setTimeout(function(){\n      html2canvas(document.querySelector(\"#root\"),{\n            allowTaint: true,\n            onclone: function(doc){\n\n            },\n            useCORS: false,\n            foreignObjectRendering: true,\n            ignoreElements: function(element){\n              // if(element.id=='adm-toggle') return true;\n              // if($(element).hasClass('select2')) return true;\n            return false;\n            },\n            scale: 2,\n            x: 0,\n            y: 0,\n            scrollX: 0,\n            scrollY: 0,\n            logging: false\n        }).then(canvas => {\n          var img = canvas.toDataURL(\"image/png\");\n          var pdf = new jsPDF(\"l\", \"mm\", \"a4\");\n          var imgProps= pdf.getImageProperties(img);\n          var pdfWidth = pdf.internal.pageSize.getWidth();\n          var pdfHeight = (imgProps.height * pdfWidth) / imgProps.width;\n          pdf.addImage(img, 'JPEG', 10, 10, pdfWidth-20, pdfHeight-30);\n          pdf.save('deep-pdf-export.pdf');\n          printing = false;\n      },200);\n    });\n  });\n\n  d3.select('#button-png').on('click',function(){\n\n    if(printing) return false;\n    printing = true;\n\n    setTimeout(function(){\n      html2canvas(document.querySelector(\"#root\"),{\n            allowTaint: true,\n            onclone: function(doc){\n\n            },\n            useCORS: false,\n            foreignObjectRendering: true,\n            ignoreElements: function(element){\n              // if(element.id=='adm-toggle') return true;\n              // if($(element).hasClass('select2')) return true;\n            return false;\n            },\n            scale: 2,\n            x: 0,\n            y: 0,\n            scrollX: 0,\n            scrollY: 0,\n            logging: false\n        }).then(canvas => {\n\n      var img = canvas.toDataURL(\"image/png\").replace(\"image/png\", \"image/octet-stream\");\n      var link = document.createElement('a');\n      link.download = 'dashboard-export.png';\n      link.href = img;\n      link.click();\n      link.remove();\n\n      printing = false;\n      },200);\n    });\n  });\n\n  \n//   d3.select('#button-copy').on('click',function(){\n\n//     if(printing) return false;\n//     printing = true;\n\n//     setTimeout(function(){\n//       html2canvas(document.querySelector(\"#root\"),{\n//             allowTaint: true,\n//             onclone: function(doc){\n\n//             },\n//             useCORS: false,\n//             foreignObjectRendering: true,\n//             ignoreElements: function(element){\n//               // if(element.id=='adm-toggle') return true;\n//               // if($(element).hasClass('select2')) return true;\n//             return false;\n//             },\n//             scale: 1.8,\n//             windowWidth: 2800,\n//             windowHeight: 2000,\n//             logging: false\n//         }).then(canvas => {\n//           canvas.toBlob(blob, function(){\n//             navigator.clipboard.write([\n//               new ClipboardItem({\n//                 [blob.type]: blob\n//               })\n//             ]).then(() => {\n\n//             })\n//           })\n//         // copied to clipboard\n//         printing = false;\n//       });\n//       },200);\n//     });\n}\n\n\nexport default Layout;\n\nfunction toggle(collection, item) {\n  var idx = collection.indexOf(item);\n  if (idx !== -1) {\n    collection.splice(idx, 1);\n  } else {\n    collection.push(item);\n  }\n}\n\n/*\n\n#timechart-type-toggle #timechart-type-toggle-stacked\n#timechart-type-toggle #timechart-type-toggle-non-cumulative\n#timechart-type-toggle #timechart-type-toggle-cumulative\n\n#timechart-frequency-toggle #timechart-frequency-toggle-day\n#timechart-frequency-toggle #timechart-frequency-toggle-week\n#timechart-frequency-toggle #timechart-frequency-toggle-month\n\n#map-toggle #map-toggle-bi-weekly-change\n#map-toggle #map-toggle-deaths\n#map-toggle #map-toggle-percent-fully-vaccinated\n#map-toggle #map-toggle-percent-vaccine-acceptance\n#map-toggle #map-toggle-cases\n\n#tabs #bubble-chart-tab\n#tabs #indicators-tab\n#tabs #vaccination-tab\n\n#hdi-toggle #hdi-toggle-very-high\n#hdi-toggle #hdi-toggle-high\n#hdi-toggle #hdi-toggle-medium\n#hdi-toggle #hdi-toggle-low\n\n\n#inform-toggle #inform-toggle-no-score\n#inform-toggle #inform-toggle-low\n#inform-toggle #inform-toggle-medium\n#inform-toggle #inform-toggle-high\n#inform-toggle #inform-toggle-very-high\n\n*/","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {addCommas, nFormatter} from './HelperFunctions';\nimport {filter} from './App';\n\nlet maxX =1000;\nlet maxY = 100;\nlet maxZ = 1000000;\nlet xScale; \nlet yScale; \nlet zScale; \nlet groupedData = [];\nlet width = 600;\nlet height = 233;\nlet x = 35;\nlet y = 58;\nlet bubbles;\n\nexport function drawBubblechart(data, options, filter) {\n\n    maxX = d3.max(data.country, function(d,i){\n        return parseFloat(d.gni_2017);\n    })\n\n    maxY = d3.max(data.country, function(d,i){\n        // if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return parseFloat(d.people_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return 100;\n        // if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return parseFloat(d.people_fully_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return 100;\n        if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return 100;\n    });\n\n    maxZ = d3.max(data.country, function(d,i){\n        return parseFloat(d.population);\n    });\n\n    xScale = d3.scaleLinear()\n\t.range([0, width])\n\t.domain([0, maxX]).nice();\n\n    yScale = d3.scaleLinear()\n\t.range([height, 0])\n\t.domain([0, maxY]);\n\n    zScale = d3.scaleSqrt()\n    .domain([0, maxZ])\n    .range([1, 20]);\n\n    const svg = d3.select('#bubblechart-tab').append('g').attr('transform', 'translate('+x+', '+y+')')\n    .attr('id', 'bubblechart');\n\n    // create y-axis\n    svg.append(\"g\")\n    .attr('id', 'bubbley')\n    .call(d3.axisLeft(yScale).ticks(3).tickSize(3));\n\n    // create x-axis\n    svg.append(\"g\")\n    .attr('id', 'bubblex')\n    .attr('class', 'xAxis')\n    .attr(\"transform\", \"translate(0,\" + height + \")\")\n    .call(d3.axisBottom(xScale).ticks(4).tickSize(3));\n\n    // Add dots\n    bubbles = d3.select('#bubblechart').selectAll(\".bubble\")\n    .data(data.country)\n    .join(function(enter){\n        enter.append(\"circle\")\n        .attr(\"class\", function(d) { return \"bubble\" })\n        .attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .style(\"stroke\", function (d) { \n            // if(options.bubble_chart_color_by == 'region') {\n            //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            // } \n            // if(options.bubble_chart_color_by == 'hdi') {\n            //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n            //  }\n            //  if(options.bubble_chart_color_by == 'inform-severity') {\n            //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n            //  }\n            // return  'transparent';\n            return '#FFF';\n        })\n        .style(\"stroke-width\", 1)\n        // .style(\"fill-opacity\", 0.8)\n        .attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        })\n        .attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n    }, function(update){\n        update.transition().duration(800).attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .style(\"stroke\", function (d) { \n            // if(options.bubble_chart_color_by == 'region') {\n            //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            // } \n            // if(options.bubble_chart_color_by == 'hdi') {\n            //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n            //  }\n            //  if(options.bubble_chart_color_by == 'inform-severity') {\n            //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n            //  }\n            // return  'transparent';\n            return '#FFF';\n        }).attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        })\n        .attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n    },function(exit){\n        exit.remove();\n    });\n\n    d3.select('#bubblechart').selectAll(\".bubble\").on('mousemove', function(event, d){\n        d3.select('#bubbleSelectContainer').style('z-index', 1);\n        d3.select('#bubblechart_tooltip_title tspan').text(d.country_name);\n        if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% fully vaccinated');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat((d.vaccine_acceptance_percent)).toFixed(2)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        d3.select('#bubblechart_tooltip_gni tspan').text('$'+addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n        d3.select('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n\n        var coords = d3.pointer( event, (d3.select('#svg').node()));\n        if(coords[0]<1110){\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]+20)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'none');\n        } else {\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]-220)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'none');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'inline');\n        }\n        d3.selectAll(\".bubble\").attr('opacity', 0.4);\n        d3.select(this).attr('opacity', 1).style('stroke-width', 2);\n    }).on('mouseout', function(event){\n        if(event.toElement=='tspan') return false;\n        d3.select('#bubbleSelectContainer').style('z-index', 2);\n\n        // mapTooltip.attr('display', 'none');\n        d3.select('#bubblechart_tooltip').attr('display', 'none');\n        d3.selectAll(\".bubble\").attr('opacity', 1).style('stroke-width', 1);\n    });\n\n    d3.select('#bubblechart_tooltip').attr('display', 'none');\n\n    d3.select('#bubble_y_axis_label').attr('text-anchor', 'middle').select('tspan').attr('dx', 50);\n    if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');\n    }\n    if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n        d3.select('#bubble_y_axis_label tspan').text('% fully vaccinated');\n    }\n    if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccine acceptance');\n    }\n\n\n}\n\nexport function updateBubblechart(data,options,filter) {\n    \n    maxX = d3.max(data.country, function(d,i){\n        return parseFloat(d.gni_2017);\n    })\n\n    maxY = d3.max(data.country, function(d,i){\n        if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return parseFloat(d.people_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return parseFloat(d.people_fully_vaccinated_per_hundred);\n        if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return parseFloat(d.vaccine_acceptance_percent);\n    });\n\n    maxZ = d3.max(data.country, function(d,i){\n        return parseFloat(d.population);\n    });\n\n    xScale = d3.scaleLinear()\n\t.range([0, width])\n\t.domain([0, maxX]);\n\n    yScale = d3.scaleLinear()\n\t.range([height, 0])\n\t.domain([0, maxY]);\n\n    zScale = d3.scaleSqrt()\n    .domain([0, maxZ])\n    .range([1, 20]);\n\n    const svg = d3.select('#bubblechart');\n\n    // create y-axis\n    svg.select('#bubbley')\n    .transition().duration(800)\n    .call(d3.axisLeft(yScale).ticks(3));\n\n    // create x-axis\n    svg.select('#bubblex')\n    .transition().duration(800)\n    .call(d3.axisBottom(xScale).ticks(3));\n\n    bubbles = d3.select('#bubblechart').selectAll(\".bubble\")\n    .data(data.country)\n    .join(function(enter){\n        enter.append(\"circle\")\n        .attr(\"cx\", function (d) { return xScale(maxX)})\n        .attr(\"cy\", function (d) { return yScale(maxY)})\n        .attr(\"class\", function(d) { return \"bubble\" })\n        .transition().duration(800)\n        .attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .style(\"stroke\", function (d) { \n            // if(options.bubble_chart_color_by == 'region') {\n            //    if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            // } \n            // if(options.bubble_chart_color_by == 'hdi') {\n            //     if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n            //  }\n            //  if(options.bubble_chart_color_by == 'inform-severity') {\n            //     if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n            //  }\n            // return  'transparent';\n            return '#FFF';\n        })\n        .style(\"stroke-width\", 1)\n        // .style(\"fill-opacity\", 0.8)\n        .attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            return 'inline';\n        })\n        .attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n    }, function(update){\n        update\n        .attr('display', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 'none'\n            if(yScale.invert(val)==0) return 'none';\n            return 'inline';\n        }).attr('opacity', function(d,i){\n            var val = 0;\n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') val = yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') val = yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') val = yScale(parseFloat(d.vaccine_acceptance_percent));\n            if(isNaN(val))return 0;\n            return 1;\n        })\n        .style(\"fill\", function (d) { \n            if(options.bubble_chart_color_by == 'region') {\n               if(colors.regions[d.ifrc_region]) return colors.regions[d.ifrc_region];\n            } \n            if(options.bubble_chart_color_by == 'hdi') {\n                if(colors.hdi_category[d.hdi_category]) return colors.hdi_category[d.hdi_category];\n             }\n             if(options.bubble_chart_color_by == 'inform-severity') {\n                if(colors.inform_severity[d.inform_severity]) return colors.inform_severity[d.inform_severity];\n             }\n            return  'transparent';\n        })\n        .transition().duration(800).attr(\"cx\", function (d) { return xScale(parseFloat(d.gni_2017)); } )\n        .attr(\"cy\", function (d) { \n            if(options.bubble_chart_y_axis == 'percent-vaccinated-at-least-1-dose') return yScale(parseFloat(d.people_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-fully-vaccinated') return yScale(parseFloat(d.people_fully_vaccinated_per_hundred));\n            if(options.bubble_chart_y_axis == 'percent-vaccine-acceptance') return yScale(parseFloat(d.vaccine_acceptance_percent));\n        })\n        .attr(\"r\", function (d) { return zScale(parseFloat(d.population)); } )\n        \n        \n    },function(exit){\n        exit.remove();\n    });\n\n    d3.select('#bubblechart').selectAll(\".bubble\").on('mousemove', function(event, d){\n        d3.select('#bubbleSelectContainer').style('z-index', 1);\n        d3.select('#bubblechart_tooltip_title tspan').text(d.country_name);\n        if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccinated at least 1 dose');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% fully vaccinated');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat(d.people_fully_vaccinated_per_hundred)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n            d3.select('#bubblechart_tooltip_label tspan').text('% vaccine acceptance');\n            d3.select('#bubblechart_tooltip_value tspan').text(parseFloat((d.vaccine_acceptance_percent)).toFixed(2)+'%')\n            .attr(\"text-anchor\", \"end\").attr('dx', 37)\n        }\n        d3.select('#bubblechart_tooltip_gni tspan').text('$'+addCommas(Math.round(parseFloat(d.gni_2017)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n        d3.select('#bubblechart_tooltip_population tspan').text(nFormatter(Math.round(parseInt(d.population)))).attr(\"text-anchor\", \"end\").attr('dx', 37)\n        var coords = d3.pointer( event, (d3.select('#svg').node()));\n        if(coords[0]<1110){\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]+20)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'none');\n        } else {\n            d3.select('#bubblechart_tooltip').attr('transform', 'translate('+(coords[0]-220)+','+(coords[1]+y-90)+')').attr('display', 'inline');\n            d3.select('#bubblechart_tooltip_arrow_left').attr('display', 'none');\n            d3.select('#bubblechart_tooltip_arrow_right').attr('display', 'inline');\n        }\n        d3.selectAll(\".bubble\").attr('opacity', 0.4);\n        d3.select(this).attr('opacity', 1).style('stroke-width', 2);\n    }).on('mouseout', function(event){\n        if(event.toElement=='tspan') return false;\n        d3.select('#bubbleSelectContainer').style('z-index', 2);\n\n        // mapTooltip.attr('display', 'none');\n        d3.select('#bubblechart_tooltip').attr('display', 'none');\n        d3.selectAll(\".bubble\").attr('opacity', 1).style('stroke-width', 1);\n    });\n\n    if(options.bubble_chart_y_axis=='percent-vaccinated-at-least-1-dose'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccinated at least 1 dose');\n    }\n    if(options.bubble_chart_y_axis=='percent-fully-vaccinated'){\n        d3.select('#bubble_y_axis_label tspan').text('% fully vaccinated');\n    }\n    if(options.bubble_chart_y_axis=='percent-vaccine-acceptance'){\n        d3.select('#bubble_y_axis_label tspan').text('% vaccine acceptance');\n    }\n    \n    \n\n\n}\n\nexport default drawBubblechart;\n","// default options\nconst options = {\n    region_chart_toggle: 'cases', // cases, deaths, vaccines\n    region_switch: 'total', // total, per100\n    region_filter: [],\n    country_filter: [],\n    hdi_filter: [], // very-high, high, medium, low\n    inform_filter: [], // no-score, low, medium, high, very-high\n    timeline_type: 'non-cumulative', // cumulative, non-cumulative, stacked \n    timeline_frequency: 'week', // day, week, month\n    map_toggle: 'cases', // bi-weekly-change, cases, deaths, percent-fully-vaccinated, percent-vaccine-acceptance\n    tab_toggle: 'vaccination-data', // vaccination-data, indicators, bubble-chart\n    table_sort: 'col1_sort',\n    table_sort_direction: 'desc',\n    bubble_chart_color_by: 'hdi', // hdi, inform-severity, region\n    bubble_chart_y_axis: 'percent-vaccinated-at-least-1-dose', // percent-vaccinated-at-least-1-dose, percent-fully-vaccinated, percent-vaccine-acceptance\n    brushL: 0,\n    brushR: 600,\n    page: 1,\n    numPages: 1\n}\n\nexport default options;\n","import {min,max,group,flatGroup} from \"d3\";\nimport moment from 'moment';\nimport clone from 'just-clone';\nimport { data } from \"jquery\";\n\nexport function ParseData(data, options) {\n\n    //*********************\n    // create regions\n    //*********************\n    data.regions = [\n        {sort: 5, 'code': 'AF', cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0, population: 0},\n        {sort: 3, 'code': 'ME', cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0, population: 0},\n        {sort: 4, 'code': 'AP', cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0, population: 0},\n        {sort: 2, 'code': 'EU', cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0, population: 0},\n        {sort: 1, 'code': 'AM', cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0, population: 0},\n        {sort: 6, 'code': 'OTH', cumulative_cases: 0, cumulative_deaths: 0, cumulative_vaccines: 0, population: 0}\n    ]\n\n    data.regions.sort(function(a,b){\n        return (a.sort) - (b.sort);\n    });\n\n    //*********************\n    // clean up country data\n    //*********************\n    data.country = data.equity_data;\n    data.country.forEach(function(d,i){\n\n        // if not an IFRC region then set to OTH\n        if((d.ifrc_region!='AF')&&(d.ifrc_region!='ME')&&(d.ifrc_region!='AP')&&(d.ifrc_region!='EU')&&(d.ifrc_region!='AM')){\n            d.ifrc_region = 'OTH';\n        }\n        \n        // parse country population\n        d.population = parseInt(d.population)||0;\n        var pop = 0;\n        if(d.population>0) pop = d.population;\n\n        // sum up ifrc region population \n        data.regions.forEach(function(dd,ii){\n            if(dd.code==d.ifrc_region){\n                dd.population += pop\n            }\n        });\n\n        // get WHO vaccine data (vaccine types used, vaccines_per_100\n        d.vaccines_used = [];\n        d.avg_tests_per_1000 = parseFloat(d.avg_tests_per_1000)||0;\n        d.number_vaccine_types_used = 0;\n        d.vaccines_per_100 = 0;\n        d.number_vaccine_types_used = parseInt(d.avg_tests_per_1000);\n        data.vaccines_who_data.forEach(function(dd,ii){\n            if(d.country_iso3==dd.ISO3){\n                // d.data_updated = moment(dd.DATE_UPDATED).startOf('day').toDate();\n                d.number_vaccine_types_used = parseInt(dd.NUMBER_VACCINES_TYPES_USED);\n                d.vaccines_per_100 = parseFloat(dd.TOTAL_VACCINATIONS_PER100);\n                if(isNaN(d.vaccines_per_100))d.vaccines_per_100 = 0;\n                d.vaccines_used = dd.VACCINES_USED.split(',').map(function(item) {\n                    return item.trim();\n                  });\n            }\n        })\n\n        // get ns involvement in activities\n        d.ns_involvement = 0;\n        data.self_assessment.forEach(function(dd,ii){\n            if(d.country_iso3==dd.ISO3){\n                if(dd['Final involvement']=='Yes') d.ns_involvement = 1;\n            }\n        })\n\n        d.vaccine_acceptance_percent = 0;\n        // get vaccine acceptance\n        data.vaccine_acceptance.forEach(function(dd,ii){\n            if(d.country_iso3==dd.iso3){\n                // if(dd['Final involvement']=='Yes') d.ns_involvement = 1;\n                d.vaccine_acceptance_percent = parseFloat(dd.indicator_value)*100;\n                d.vaccine_acceptance_population = parseInt(dd.population_size);\n            }\n        })\n\n        // get contrat tracing\n        if((d.contract_tracing.toLowerCase()=='all')||(d.contract_tracing.toLowerCase()=='some')){\n            d.contract_tracing = 1;\n        } else {\n            d.contract_tracing = 0\n        }\n\n        // parse equity data inform/hdi indexes\n        if(d.hdi_category.match(/very high/i)){\n            d.hdi_category = 'very-high'\n        }\n        else if(d.hdi_category.match(/high/i)){\n            d.hdi_category = 'high'\n        }\n        else if(d.hdi_category.match(/medium/i)){\n            d.hdi_category = 'medium'\n        }\n        else if(d.hdi_category.match(/low/i)){\n            d.hdi_category = 'low'\n        }\n        if(d.inform_severity.match(/very high/i)){\n            d.inform_severity = 'very-high'\n        }\n        else if(d.inform_severity.match(/high/i)){\n            d.inform_severity = 'high'\n        }\n        else if(d.inform_severity.match(/medium/i)){\n            d.inform_severity = 'medium'\n        }\n        else if(d.inform_severity.match(/low/i)){\n            d.inform_severity = 'low'\n        }\n        else if(d.inform_severity.match(/no/i)){\n            d.inform_severity = 'no-score'\n        }\n\n    });\n\n    //*********************\n    // get min/max dates\n    //*********************\n\n    // get min and max dates from daily who data\n    let maxDate = moment(new Date(max(data.who_data, function(d){\n        return d.Date_reported;\n    }))).startOf('day');\n\n    // override min date to week start\n    data.min_date = moment('2019-12-31').startOf('day').toDate();\n\n    let maxDateVaccines = moment(new Date(max(data.vaccines_data, function(d){\n        return d.date;\n    }))).startOf('day');\n\n    data.min_vaccine_date = moment(new Date(min(data.vaccines_data, function(d){\n        return d.date;\n    }))).startOf('day').toDate();\n\n    data.max_vaccine_date = maxDateVaccines.toDate();\n\n    if(maxDateVaccines.unix()>maxDate.unix()) {\n        maxDate = maxDateVaccines;\n    }\n\n    data.max_date = maxDate.toDate();\n\n    //*********************\n    // parse who data\n    //*********************\n\n    data.who_data.forEach(function(d,i){\n        // parse dates\n        d.date = moment(d.Date_reported).startOf('day').toDate();\n        // override country name and code\n        d.country_code = d.Country_code;\n        d.country_name = null;\n        data.country.forEach(function(dd,ii){\n            if(dd.country_iso2===d.country_code){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n            }\n        })\n\n        // parse cases and deaths\n        d.cumulative_deaths = parseInt(d.Cumulative_deaths);\n        d.cumulative_cases = parseInt(d.Cumulative_cases);\n        d.new_cases = parseInt(d.New_cases);\n        d.new_deaths = parseInt(d.New_deaths);\n        \n    });\n\n    // sort by date\n    data.who_data.sort(function(a,b){\n        return new Date(a.date) - new Date(b.Date_reported);\n    });\n    \n    //*************************\n    // check for missing who dates and fill in the max date\n    //*************************\n\n    // group by country\n    var whoDataGrouped = flatGroup(data.who_data, d => d.country_code);\n\n    var datesToAdd = [];\n\n    whoDataGrouped.forEach(function(d,i){\n        \n        var maxDate = moment(max(d[1], d=>d.date)).startOf('day');\n        \n        var lastRecord = clone(d[1][d[1].length-1]);\n\n        if(maxDate.unix()!=data.max_date.getTime()){\n            lastRecord.date = new Date(data.max_date);\n            lastRecord.new_cases = 0;\n            lastRecord.new_deaths = 0;\n            datesToAdd.push(lastRecord);\n        }\n\n    })\n\n    data.who_data.push(...datesToAdd);\n\n    data.who_data.sort(function(a,b){\n        return new Date(a.date) - new Date(b.date);\n    });\n\n    // set count for incremental day/week/month numbers\n    let dayTotal = -1;\n    let dayCheck = 0;\n    let weekTotal = -1;\n    let weekCheck = -1;\n    let monthTotal = 0;\n    let monthCheck = 0;\n\n    // parse and clean up WHO data\n    let whoCountryCodes = [];\n    data.who_data.forEach(function(d,i){\n        // parse dates\n        // d.date = moment(d.Date_reported).startOf('day').toDate();\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').startOf('day').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').startOf('day').toDate());\n\n        // set negative values to zero for new cases/deaths\n        if(d.new_deaths<0)d.new_deaths = 0;\n        if(d.new_cases<0)d.new_cases = 0;\n\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n\n        // add country code to array so we know it is used\n        if((!whoCountryCodes.includes(d.country_code))&&(d.country_code.length>1)) {\n            whoCountryCodes.push(d.country_code);\n        }\n\n        // delete old unused keys\n        delete d.Date_reported;\n        delete d.Country;\n        delete d.New_cases;\n        delete d.New_deaths;\n        delete d.Country_code;\n        delete d.Cumulative_deaths;\n        delete d.Cumulative_cases;\n        delete d.Country_code;\n        delete d.WHO_region;\n        delete d.Country;\n        \n        // set incremental count\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n    })\n   \n    //*********************\n    // parse vaccine cumulative data\n    //*********************\n\n    // clean up values\n    data.vaccines_data.forEach(function(d,i){\n        d.date = moment(d.date).startOf('day').toDate();\n    });\n    \n    data.vaccines_data.sort(function(a,b){\n        return new Date(a.date) - new Date(b.date);\n    });\n\n    // filter out vaccine data to only include records with ISO3 country codes\n    data.vaccines_data = data.vaccines_data.filter(function(d,i){\n        return d.iso_code.length===3 && d.total_vaccinations > 0;\n    })\n\n    var vaccineDataByCountry = flatGroup(data.vaccines_data, d => d.iso_code);\n\n    // fill out missing vaccinations date records (extend cumulative from last data date)\n    var newDays = [];\n    var hasDays = [];\n    var lastRecord = {};\n    var vDataFlat = [];\n\n    vaccineDataByCountry.forEach(function(d,i){\n\n        var minDt = new Date(data.min_date);\n        var maxDt = new Date(data.max_date);\n\n        hasDays = [];\n        newDays = [];\n\n        // set the last recorded date fo this country\n        d.lastDate = moment(max(d[1], function(d,i){ return d.date })).startOf('day').toDate();\n        \n        // reset country name and code using country table\n        data.country.forEach(function(dd,ii){\n            if(dd.country_iso3===d[0]){\n                d.ifrc_region = dd.ifrc_region;\n                d.country_name = dd.country_name;\n                d.country_code = dd.country_iso2;\n                dd.data_updated = d.lastDate;\n\n            }\n        })\n\n        // loop through all date records for this country and add to hasDays array\n        d[1].forEach(function(dd,ii){\n            dd.total_vaccinations = parseInt(dd.total_vaccinations);\n            dd.daily_vaccinations = parseInt(dd.daily_vaccinations);\n            hasDays.push(new Date(dd.date).getTime());\n        })\n\n        // fill in missing dates\n        // d[1].forEach(function(dd,ii){\n            for (var day = new Date(data.min_vaccine_date);day <= data.max_date; day.setDate(day.getDate() + 1)) {\n                var newDay = new Date(day).getTime();\n                if(!hasDays.includes(newDay)){\n                    newDays.push({date: new Date(day), total_vaccinations: null, daily_vaccinations: 0})\n                }\n            }\n        // });\n\n        d[1].push(...newDays);\n        d[1].sort(function(a,b){\n            return new Date(a.date) - new Date(b.date);\n        });\n\n        // loop through dates and fill in missing cumulative values\n        var totalVac = 0;\n        var totalVac100 = 0;\n        var people_vaccinated_per_hundred = 0;\n        var people_fully_vaccinated_per_hundred = 0;\n        d[1].forEach(function(dd,ii){\n            if(dd.total_vaccinations){\n                totalVac = dd.total_vaccinations;\n            } else {\n                dd.total_vaccinations = totalVac;\n            }\n            if(dd.total_vaccinations_per_hundred){\n                totalVac100 = dd.total_vaccinations_per_hundred\n            } else {\n                dd.total_vaccinations_per_hundred = totalVac100;\n            }\n            if(dd.people_vaccinated_per_hundred){\n                people_vaccinated_per_hundred = dd.people_vaccinated_per_hundred;\n            } else {\n                dd.people_vaccinated_per_hundred = people_vaccinated_per_hundred;\n            }\n            if(dd.people_fully_vaccinated_per_hundred){\n                people_fully_vaccinated_per_hundred = dd.people_fully_vaccinated_per_hundred;\n            } else {\n                dd.people_fully_vaccinated_per_hundred = people_fully_vaccinated_per_hundred;\n            }\n\n            var countryName;\n            if(d.country_name==null) { countryName = d[0];\n            } else {\n                countryName = d.country_name\n            }\n            var dailyVac = 0;\n            if((dd.daily_vaccinations)&&(dd.daily_vaccinations>0)) dailyVac = dd.daily_vaccinations;\n\n            vDataFlat.push({\n                date: new Date(dd.date),\n                lastDate: d.lastDate,\n                total_vaccinations_per_hundred: parseFloat(totalVac100),\n                people_vaccinated_per_hundred: parseFloat(people_vaccinated_per_hundred),\n                people_fully_vaccinated_per_hundred: parseFloat(people_fully_vaccinated_per_hundred),\n                iso_code: d[0], \n                ifrc_region: d.ifrc_region,\n                country_name: countryName,\n                country_code: d.country_code, \n                total_vaccinations: totalVac,\n                daily_vaccinations: dailyVac\n            })\n        })\n    });\n\n    data.vaccines_data = vDataFlat;\n\n    data.vaccines_data.sort(function(a,b){\n        return new Date(a.date) - new Date(b.date);\n    });\n\n    // reset count for incremental day/week/month numbers\n    dayTotal = -1;\n    dayCheck = 0;\n    weekTotal = -1;\n    weekCheck = -1;\n    monthTotal = 0;\n    monthCheck = 0;\n    \n    data.vaccines_data.forEach(function(d,i){\n        if(d.ifrc_region==undefined) d.ifrc_region = 'OTH';\n        d.dayOfYear =  moment(d.date).dayOfYear();\n        if(d.dayOfYear!==dayCheck) dayTotal++;\n        d.dayTotal = dayTotal;\n        d.week = moment(d.date).isoWeek();\n        if(d.week!==weekCheck) weekTotal++;\n        d.weekTotal = weekTotal;\n        d.month = d.date.getMonth();\n        if(d.month!==monthCheck) monthTotal++;\n        d.monthTotal = monthTotal;\n        d.year = d.date.getFullYear();\n        dayCheck = d.dayOfYear;\n        weekCheck = d.week;\n        monthCheck = d.month;\n        d.week_start = new Date(moment(d.date).startOf('isoWeek').toDate());\n        d.month_start = new Date(moment(d.date).startOf('month').toDate());\n    })\n\n    //*********************\n    // add most recent owid vaccine data record to data.country\n    //*********************\n\n    // group who data by country\n    var vaccineDataByCountry = flatGroup(data.vaccines_data, d => d.country_code);\n\n    //*********************\n    // add most recent records from both datasets to data.country\n    //*********************\n\n    // first group who data by country\n    var whoDataByCountry = flatGroup(data.who_data, d => d.country_code);\n\n    data.country.forEach(function(d,i){\n        d.cumulative_cases_per_100k = 0;\n        d.cumulative_deaths_per_100k = 0;\n        d.cumulative_vaccines_per_100k = 0;\n        d.people_fully_vaccinated_per_hundred = 0;\n        d.people_vaccinated_per_hundred = 0;\n        d.total_vaccinations_per_hundred = 0;\n        var countryCode = d.country_iso2;\n\n        // calculate latest date and at weekly intervals (for bi-weekly percent change calculation)\n        whoDataByCountry.forEach(function(dd,ii){\n            if(dd[0]==countryCode){\n                d.who_daily_latest = dd[1][dd[1].length-1];\n                d.who_daily_7_days = dd[1][dd[1].length-8];\n                d.who_daily_14_days = dd[1][dd[1].length-15];\n                d.who_daily_21_days = dd[1][dd[1].length-22];\n                d.who_daily_28_days = dd[1][dd[1].length-29];\n                d.cumulative_cases_per_100k = (d.who_daily_latest.cumulative_cases/(d.population/100000));\n                d.cumulative_deaths_per_100k = (d.who_daily_latest.cumulative_deaths/(d.population/100000));\n                d.cumulative_cases = d.who_daily_latest.cumulative_cases;\n                d.cumulative_deaths = d.who_daily_latest.cumulative_deaths;\n                d.cumulative_deaths_7_days = d.who_daily_7_days.cumulative_deaths;\n                d.cumulative_deaths_14_days = d.who_daily_14_days.cumulative_deaths;\n                d.cumulative_deaths_21_days = d.who_daily_21_days.cumulative_deaths;\n                d.cumulative_deaths_28_days = d.who_daily_28_days.cumulative_deaths;\n                d.cumulative_cases_7_days = d.who_daily_7_days.cumulative_cases;\n                d.cumulative_cases_14_days = d.who_daily_14_days.cumulative_cases;\n                d.cumulative_cases_21_days = d.who_daily_21_days.cumulative_cases;\n                d.cumulative_cases_28_days = d.who_daily_28_days.cumulative_cases;\n                var percentChange = parseFloat(((d.cumulative_cases - d.cumulative_cases_14_days)-(d.cumulative_cases_14_days-d.cumulative_cases_28_days))/(d.cumulative_cases_14_days-d.cumulative_cases_28_days));\n                if(isFinite(percentChange)) { d.percent_change = percentChange; } else { d.percent_change = 0 }\n            }\n        })\n\n        vaccineDataByCountry.forEach(function(dd,ii){\n            if(dd[0]==countryCode){\n                if(typeof(dd[0]!='undefined')){\n                    d.vaccine_daily_latest = dd[1][dd[1].length-1];\n                    d.cumulative_vaccines_per_100k = (d.vaccine_daily_latest.total_vaccinations/(d.population/100000));\n                    d.people_fully_vaccinated_per_hundred = d.vaccine_daily_latest.people_fully_vaccinated_per_hundred;\n                    d.people_vaccinated_per_hundred = d.vaccine_daily_latest.people_vaccinated_per_hundred;\n                    d.total_vaccinations_per_hundred = d.vaccine_daily_latest.total_vaccinations_per_hundred;\n                    d.total_vaccinations = d.vaccine_daily_latest.total_vaccinations;\n                }\n            }\n        })\n\n        if(!isFinite(d.cumulative_cases_per_100k))d.cumulative_cases_per_100k = 0;\n        if(!isFinite(d.cumulative_deaths_per_100k))d.cumulative_deaths_per_100k = 0;\n        if(!isFinite(d.cumulative_vaccines_per_100k))d.cumulative_vaccines_per_100k = 0;\n        d.country_code = d.country_iso2;\n\n    })\n\n    data.original = clone(data);\n\n}\n\nexport default ParseData;\n","import * as d3 from \"d3\";\nimport moment from 'moment';\nimport colors from './colors';\nimport {filter} from './App';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport {addCommas} from './HelperFunctions';\n\nmapboxgl.accessToken = 'pk.eyJ1IjoiZ28taWZyYyIsImEiOiJjams3b2ZhZWswMGFvM3hxeHp2ZHFhOTRrIn0._pqO9OQ2iNeDGrpopJNjpg';\nvar mapboxStyle = 'mapbox://styles/go-ifrc/ckqrsg27f1cwu17pex8w2de2e';\n\nlet map;\nlet dots; \nlet maxSize = 15; \nlet mapTooltip;\n\nexport function createMap(data, options, filter) {\n\n    d3.select('#map-refresh').attr('display', 'none').style('cursor', 'pointer')\n    .on('click', function(d,i){\n        map.setCenter([8, 22]);\n        map.setZoom(0);\n        d3.select('#map-refresh').attr('display', 'none');\n    })\n    \n    map = new mapboxgl.Map({\n        container: 'map_div', // container ID\n        style: mapboxStyle, // style URL\n        center: [8, 22], // starting position [lng, lat]\n        preserveDrawingBuffer: true,\n        zoom: 0 // starting zoom\n    });\n\n    map.setRenderWorldCopies(false);\n    map.addControl(new mapboxgl.NavigationControl());\n    \n    // disable map zoom when using scroll\n    map.scrollZoom.disable();\n\n    map.on('zoom', function() {\n        d3.select('#map_tooltip').attr('display', 'none');\n        d3.select('#map-refresh').attr('display', 'inline');\n    });\n\n    map.on('touchmove', function() {\n        d3.select('#map_tooltip').attr('display', 'none');\n        d3.select('#map-refresh').attr('display', 'inline');\n    });\n\n    map.on('wheel', function() {\n        d3.select('#map_tooltip').attr('display', 'none');\n        d3.select('#map-refresh').attr('display', 'inline');\n    });\n\n    map.on('drag', function() {\n        d3.select('#map_tooltip').attr('display', 'none');\n        d3.select('#map-refresh').attr('display', 'inline');\n    });\n\n    var container = map.getCanvasContainer();\n\n    var svg = d3\n    .select(container)\n    .append(\"svg\")\n    .attr('id', 'mapoverlay')\n    .attr(\"width\", \"100%\")\n    .attr(\"height\", \"24vw\")\n    .style(\"position\", \"absolute\")\n    .style(\"z-index\", 2);\n\n    mapTooltip = d3.select('#map_tooltip').attr('opacity', 1).attr('transform', 'translate(0,0)').attr('display', 'inline');\n\n    // dots = svg\n    // .selectAll(\".country-map\")\n    // .data(data.world)\n    // .enter()\n    // .append(\"circle\")\n    // .attr('class', 'country-map')\n    // .attr('id', function(d,i){ return 'country-map-'+d.iso2 })\n    // .attr(\"r\", 0)\n    \n\n    // var maxValue = d3.max(data.country, function(d,i){\n    //     return d[1].cumulative_cases;\n    // })\n\n    // var rScale = d3.scalePow().exponent(0.5)\n    //   .domain([0, maxValue])\n    //   .range([0, 15]);\n\n    // data.country.forEach(function(d,i){\n    //     d3.select('#country-'+d[0]).attr('r', rScale(d[1].cumulative_cases))\n    //     .attr('data-name', d[1].country)\n    // })\n    \n    d3.select(\"#map_div\").append('svg')\n    .attr('width', '18vw')\n    .attr('height', '1.5vw')\n    .attr('id', 'maplegend')\n    .attr('viewBox', '-3 0 227 18')\n    .style('background-color', 'rgba(255,255,255,0.8)')\n\n    document.getElementById(\"maplegend\").appendChild(d3.select('#red_legend').node());\n    document.getElementById(\"maplegend\").appendChild(d3.select('#blue_legend').node());\n    document.getElementById(\"maplegend\").appendChild(d3.select('#bi_legend').node());\n\n    d3.select('#red_legend').attr('transform', 'translate(20,0)');\n    d3.select('#blue_legend').attr('transform', 'translate(20,0)');\n    d3.select('#bi_legend').attr('transform', 'translate(0,0)');\n\n    d3.select('#bi_legend').attr('display', 'none');\n    d3.select('#blue_legend').attr('display', 'none');\n\n    document.getElementById(\"mapoverlay\").appendChild(d3.select('#map_tooltip').node());\n    mapTooltip.attr('display', 'none')  \n\n    map.on('load', function (e) {\n\n        map.setPaintProperty('countries', 'fill-opacity-transition', {duration: 0, delay: 0});\n\n        updateMap(data, options) ;\n\n    });\n\n}\n\nexport function updateMap(data, options) {\n   \n    var duration = 800;\n    var delay = 10;\n\n    map.setLayoutProperty(\n        'countries',\n        'visibility',\n        'none'\n    );\n\n    if(options.map_toggle == 'bi-weekly-change'){\n        \n        var maxIncrease = d3.max(data.country, function(d,i){\n            return d.percent_change;\n        })\n\n        var maxDecrease = d3.min(data.country, function(d,i){\n            return d.percent_change;\n        })\n\n        d3.select('#bi_legend').attr('display', 'inline');\n        d3.select('#blue_legend').attr('display', 'none');\n        d3.select('#red_legend').attr('display', 'none');\n\n        maxIncrease = (Math.ceil(maxIncrease/0.1))*0.1;\n        maxDecrease = (Math.floor(maxDecrease/0.1))*0.1;\n\n        if(maxIncrease>1) maxIncrease = 1;\n        if(maxDecrease<-1) maxDecrease = -1;\n\n        d3.select('#bi_legend_dec_val').attr('text-anchor', 'end');\n        if(maxIncrease<1){\n            d3.select('#bi_legend_inc_val tspan').text(Math.round(maxIncrease*100)+'%');\n        } else {\n            d3.select('#bi_legend_inc_val tspan').text(Math.round(maxIncrease*100)+'% +');\n        }\n        if(maxDecrease>-1){\n            d3.select('#bi_legend_dec_val tspan').text(Math.round(Math.abs(maxDecrease)*100)+'%').attr('dx', 14);\n        } else {\n            d3.select('#bi_legend_dec_val tspan').text(Math.round(Math.abs(maxDecrease)*100)+'% +').attr('dx', 14);\n        }\n\n        // var rScale = d3.scalePow().exponent(0.5)\n        // .domain([-1, 0, 1])\n        // .range([maxSize, 0, maxSize])\n        // .clamp(true);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.country.forEach(function(d,i){\n        //     d3.select('#country-map-'+d[0])\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(d[1].percent_change))\n        //     .style('stroke', function(){\n        //         // if(d[1].percent_change>1){ return '#E02225'} else { return '#1F558C'}\n        //         return '#FFF'\n        //     }).style('fill', function(){\n        //         if(d[1].percent_change>0){ return colors.red } else { return colors.blue}\n        //     })\n        // })\n\n        var colorScale = d3.scaleLinear()\n        // .domain([-1, 0, 1])\n        .domain([maxDecrease, 0, maxIncrease])\n        .range([colors.blue, colors.lightgrey, colors.red])\n        // .clamp(true);\n\n        var fillColorArray = ['case']\n        data.country.forEach(function(d,i){\n            if(isFinite(d.percent_change)){\n                fillColorArray.push(['==', ['get', \"iso\"], d.country_code]);\n                fillColorArray.push(colorScale(d.percent_change));\n            }\n        });\n\n        if(fillColorArray.length>1){\n            fillColorArray.push(colors.darkgrey)\n            map.setPaintProperty(\n                'countries', \n                'fill-color', fillColorArray\n            );\n        }\n        \n    }\n\n    if(options.map_toggle == 'cases'){\n\n        var maxValue = d3.max(data.country, function(d,i){\n            return d.cumulative_cases_per_100k;\n        });\n\n        d3.select('#bi_legend').attr('display', 'none');\n        d3.select('#blue_legend').attr('display', 'none');\n        d3.select('#red_legend').attr('display', 'inline');\n\n        d3.select('#red_legend_title tspan').text('Cases per 100k');\n\n        if(maxValue>1000){\n            maxValue = (Math.ceil(maxValue/100))*100;\n        } else {\n            maxValue = (Math.ceil(maxValue/10))*10;\n        }\n\n        d3.select('#red_legend_val tspan').text(addCommas(maxValue));\n\n        // var rScale = d3.scalePow().exponent(0.5)\n        // .domain([0, maxValue])\n        // .range([0, maxSize]);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.country.forEach(function(d,i){\n        //     d3.select('#country-map-'+d[0])\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(d[1].cumulative_cases))\n        //     .style('fill', colors.red)\n        //     .style('stroke', '#FFF');\n        // })\n\n        var colorScale = d3.scaleLinear()\n        .domain([0, maxValue])\n        .range([colors.lightgrey, colors.red]);\n\n        var fillColorArray = ['case']\n        data.country.forEach(function(d,i){\n            fillColorArray.push(['==', ['get', \"iso\"], d.country_code]);\n            fillColorArray.push(colorScale(d.cumulative_cases_per_100k));\n        });\n\n        if(fillColorArray.length>1){\n            fillColorArray.push(colors.darkgrey)\n            map.setPaintProperty(\n                'countries', \n                'fill-color', fillColorArray\n            );\n        }\n\n    }\n    \n    if(options.map_toggle == 'deaths'){\n\n        var maxValue = d3.max(data.country, function(d,i){\n            return d.cumulative_deaths_per_100k;\n        })\n\n        d3.select('#bi_legend').attr('display', 'none');\n        d3.select('#blue_legend').attr('display', 'none');\n        d3.select('#red_legend').attr('display', 'inline');\n\n        d3.select('#red_legend_title tspan').text('Deaths per 100k');\n\n        if(maxValue>1000){\n            maxValue = (Math.ceil(maxValue/100))*100;\n        } else {\n            maxValue = (Math.ceil(maxValue/10))*10;\n        }\n\n        d3.select('#red_legend_val tspan').text(addCommas(maxValue));\n\n        // var rScale = d3.scalePow().exponent(0.5)\n        // .domain([0, maxValue])\n        // .range([0, maxSize]);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.country.forEach(function(d,i){\n        //     d3.select('#country-map-'+d[0])\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(d[1].cumulative_deaths))\n        //     .style('fill', colors.red)\n        //     .style('stroke', '#FFF');\n        // })\n\n        var colorScale = d3.scaleLinear()\n        .domain([0, maxValue])\n        .range([colors.lightgrey, colors.red]);\n\n        var fillColorArray = ['case']\n\n        data.country.forEach(function(d,i){\n            fillColorArray.push(['==', ['get', \"iso\"], d.country_code]);\n            fillColorArray.push(colorScale(d.cumulative_deaths_per_100k));\n        });\n\n        if(fillColorArray.length>1){\n            fillColorArray.push(colors.darkgrey)\n            map.setPaintProperty(\n                'countries', \n                'fill-color', fillColorArray\n            );\n        }\n    }\n\n    if(options.map_toggle == 'percent-fully-vaccinated'){\n\n        d3.select('#bi_legend').attr('display', 'none');\n        d3.select('#blue_legend').attr('display', 'inline');\n        d3.select('#red_legend').attr('display', 'none');\n        d3.select('#blue_legend_title tspan').text('Percent fully vaccinated');\n        d3.select('#blue_legend_val tspan').text('100%');\n\n        // var rScale = d3.scalePow().exponent(0.55)\n        // .domain([0, 1])\n        // .range([1, maxSize])\n        // .clamp(true);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.vGroup.forEach(function(d,i){\n        //     var peoplevaccinated = parseFloat(d[1][0].people_fully_vaccinated_per_hundred)/100;\n        //     if(isNaN(peoplevaccinated)) peoplevaccinated = 0;\n        //     d3.select('#country-map-'+d[1][0].country_code)\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(peoplevaccinated))\n        //     .style('stroke', '#FFF')\n        //     .style('fill', function(){\n        //         return colors.blue;\n        //     })\n        // })\n\n        var colorScale = d3.scaleLinear()\n        .domain([0, 1])\n        .range([colors.lightgrey, colors.blue])\n        .clamp(true);\n\n        var fillColorArray = ['case']\n        data.country.forEach(function(d,i){\n            var peoplevaccinated = parseFloat(d.people_fully_vaccinated_per_hundred)/100;\n            if(isNaN(peoplevaccinated)) peoplevaccinated = 0;\n            if(peoplevaccinated>0){\n                if(d.country_code) fillColorArray.push(['==', ['get', \"iso\"], d.country_code]);\n                if(d.country_code) fillColorArray.push(colorScale(peoplevaccinated));\n            }\n        });\n\n        if(fillColorArray.length>1){\n            fillColorArray.push(colors.darkgrey)\n            map.setPaintProperty(\n                'countries', \n                'fill-color', fillColorArray\n            );\n        } else {\n            map.setPaintProperty(\n                'countries', \n                'fill-color',\n                colors.darkgrey\n            );\n        }\n        \n    }\n\n    if(options.map_toggle == 'percent-vaccine-acceptance'){\n\n        d3.select('#bi_legend').attr('display', 'none');\n        d3.select('#blue_legend').attr('display', 'inline');\n        d3.select('#red_legend').attr('display', 'none');\n        d3.select('#blue_legend_title tspan').text('% vaccine acceptance');\n        d3.select('#blue_legend_val tspan').text('100%');\n        \n        // var rScale = d3.scalePow().exponent(1)\n        // .domain([0, 1])\n        // .range([1, maxSize*.7])\n        // // .clamp(true);\n\n        // d3.selectAll('.country-map').transition('c').duration(duration/1.7).attr('r',0);\n\n        // data.vGroup.forEach(function(d,i){\n        //     var vaccine_acceptance_percent = parseFloat(d[1][0].vaccine_acceptance_percent/100);\n            \n        //     if(isNaN(vaccine_acceptance_percent)) vaccine_acceptance_percent = 0;\n\n        //     d3.select('#country-map-'+d[1][0].country_code)\n        //     .transition('c').duration(duration).delay(delay)\n        //     .attr('r', rScale(vaccine_acceptance_percent))\n        //     .style('stroke', '#FFF')\n        //     .style('fill', function(){\n        //         return colors.blue;\n        //     })\n        // })\n\n        var colorScale = d3.scaleLinear()\n        .domain([0, 1])\n        .range([colors.lightgrey, colors.blue])\n        .clamp(true);\n\n        var fillColorArray = ['case']\n        data.country.forEach(function(d,i){\n            var vaccine_acceptance_percent = parseFloat(d.vaccine_acceptance_percent)/100;\n            if(isNaN(vaccine_acceptance_percent)) vaccine_acceptance_percent = 0;\n            if(vaccine_acceptance_percent>0){\n                if(d.country_code) fillColorArray.push(['==', ['get', \"iso\"], d.country_code]);\n                if(d.country_code) fillColorArray.push(colorScale(vaccine_acceptance_percent));\n            }\n        });\n\n        if(fillColorArray.length>1){\n            fillColorArray.push(colors.darkgrey)\n            map.setPaintProperty(\n                'countries', \n                'fill-color', fillColorArray\n            );\n        } else {\n            map.setPaintProperty(\n                'countries', \n                'fill-color',\n                colors.darkgrey\n            );\n        }\n\n    }\n\n    mapTooltip.attr('display', 'none')  \n\n    map.on('mousemove', function (e) {\n        var features = map.queryRenderedFeatures(e.point);\n         \n        var displayProperties = [\n        'type',\n        'properties',\n        'id',\n        'layer',\n        'source',\n        'sourceLayer',\n        'state'\n        ];\n         \n        if((features.length==1)&&(features[0].layer.id=='countries')){\n\n            var id = features[0].properties.iso;\n            var countryfiltered = data.equity_data.filter(d=>d.country_iso2 == id);\n            var countryName;\n            if(countryfiltered[0]) countryName = countryfiltered[0].country_name;\n    \n            mapTooltip.select('#map_tooltip_name tspan').text(countryName);\n  \n            if(mapTooltip.select('#map_tooltip_name tspan').text().length==0){\n                mapTooltip\n                .attr('display', 'none');\n            };\n            \n            if(options.map_toggle=='cases'){\n                var country = data.country.filter(d=>d.country_code == id)[0];\n                if((!country)||(country.length==0)) return false;\n                mapTooltip.select('#map_tooltip_val tspan').text(addCommas(Math.round(country.cumulative_cases_per_100k))+' cases per 100k');\n            }\n    \n            if(options.map_toggle=='deaths'){\n                var country = data.country.filter(d=>d.country_code == id)[0];\n                if((!country)||(country.length==0)) return false;\n                mapTooltip.select('#map_tooltip_val tspan').text(addCommas(Math.round(country.cumulative_deaths_per_100k))+' deaths per 100k');\n            }\n    \n            if(options.map_toggle=='bi-weekly-change'){\n                var country = data.country.filter(d=>d.country_code == id);\n                if((!country)||(country.length==0)) return false;\n                var val = ((country[0].percent_change)*100).toFixed(1);\n                var str = '';\n                if(val>=0){\n                    str = '% increase';\n                } else {\n                    str = '% decrease';\n                }\n                mapTooltip.select('#map_tooltip_val tspan').text(Math.abs(val)+str);\n            }\n    \n            if(options.map_toggle=='percent-fully-vaccinated'){\n                var country = data.country.filter(d=>d.country_code == id);\n                if((!country)||(country.length==0)) return false;\n                var val = parseFloat(country[0].people_fully_vaccinated_per_hundred).toFixed(1)\n                if(isNaN(val)){ val = '-' } else { val = val + '% fully vaccinated'}\n                mapTooltip.select('#map_tooltip_val tspan').text(val);\n            }\n    \n            if(options.map_toggle=='percent-vaccine-acceptance'){\n                var country = data.country.filter(d=>d.country_code == id);\n                if((!country)||(country.length==0)) return false;\n                var val = parseFloat(country[0].vaccine_acceptance_percent).toFixed(1)\n                if(isNaN(val)){ val = '-' } else { val = val + '% vaccine acceptance'}\n                mapTooltip.select('#map_tooltip_val tspan').text(val);\n            }\n    \n            var str = mapTooltip.select('#map_tooltip_val tspan').text();\n            if(str.includes('NaN')) mapTooltip.attr('display', 'none')\n\n            d3.select('#map_tooltip_bg').attr('width', 20)\n\n            var scale = window.innerWidth/1329;\n            mapTooltip\n            .attr('display', 'inline')\n            .attr('transform', 'translate('+(e.point.x+20)+','+e.point.y+')scale('+scale+')');\n            var heightOffset = mapTooltip.node().getBBox();\n\n            var bbox = d3.select('#map_tooltip').node().getBBox();\n            d3.select('#map_tooltip_bg').attr('width', (parseFloat(bbox.width)+2))\n\n            if(mapTooltip.select('#map_tooltip_name tspan').text().length==0){\n                mapTooltip\n                .attr('display', 'none');\n            };\n\n            // mapTooltip.attr('transform', 'translate('+(project(([d.lng, d.lat])).x+3)+','+(project(([d.lng, d.lat])).y+2-heightOffset.height/2)+')scale('+scale+')');\n        } else {\n            mapTooltip.attr('display', 'none')\n        }\n    }).on('mouseout', function(event){\n        if(event.toElement=='tspan') return false;\n        mapTooltip.attr('display', 'none');\n    })\n\n\n    // function render() {\n    //     dots\n    //       .attr(\"cx\", function(d) {\n    //         return project(([d.lng, d.lat])).x;\n    //       })\n    //       .attr(\"cy\", function(d) {\n    //         return project(([d.lng, d.lat])).y;\n    //       });\n    //   }\n\n    // map.on(\"viewreset\", render);\n    // map.on(\"move\", render);\n    // map.on(\"moveend\", render);\n    // render(); // Call once to render\n\n    // tooltips\n\n    // var mapTooltip = d3.select('#map_tooltip').attr('opacity', 1).attr('transform', 'translate(0,0)').attr('display', 'none');\n\n    // d3.selectAll('.country-map').on('mousemove', function(event, d){\n\n    //     var id = d3.select(this).attr('id').substr(12,2);\n    //     var countryfiltered = data.equity_data.filter(d=>d.country_iso2 == id);\n    //     var countryName;\n    //     if(countryfiltered[0]) countryName = countryfiltered[0].country_name;\n\n    //     mapTooltip.select('#map_tooltip_name tspan').text(countryName);\n\n    //     if(options.map_toggle=='cases'){\n    //         var country = data.country.filter(d=>d.country_code == id)[0];\n    //         if((!country)||(country.length==0)) return false;\n    //         mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_cases)+' cases');\n    //     }\n\n    //     if(options.map_toggle=='deaths'){\n    //         var country = data.country.filter(d=>d.country_code == id)[0];\n    //         if((!country)||(country.length==0)) return false;\n    //         mapTooltip.select('#map_tooltip_val tspan').text(addCommas(country[1].cumulative_deaths)+' deaths');\n    //     }\n\n    //     if(options.map_toggle=='bi-weekly-change'){\n    //         var country = data.country.filter(d=>d.country_code == id)[0];\n    //         if((!country)||(country.length==0)) return false;\n    //         var val = ((country[1].percent_change)*100).toFixed(1);\n    //         var str = '';\n    //         if(val>=0){\n    //             str = '% increase';\n    //         } else {\n    //             str = '% decrease';\n    //         }\n    //         mapTooltip.select('#map_tooltip_val tspan').text(Math.abs(val)+str);\n    //     }\n\n    //     if(options.map_toggle=='percent-fully-vaccinated'){\n    //         var country = data.vGroup.filter(d=>d[1][0].country_code == id)[0][1];\n    //         if((!country)||(country.length==0)) return false;\n    //         mapTooltip.select('#map_tooltip_val tspan').text(parseFloat(country[0].people_fully_vaccinated_per_hundred).toFixed(1)+'% fully vaccinated');\n    //     }\n\n    //     if(options.map_toggle=='percent-vaccine-acceptance'){\n    //         var country = data.vGroup.filter(d=>d[1][0].country_code == id)[0][1];\n    //         if((!country)||(country.length==0)) return false;\n    //         mapTooltip.select('#map_tooltip_val tspan').text(parseFloat(country[0].vaccine_acceptance_percent).toFixed(1)+'% vaccine acceptance');\n    //     }\n\n\n    //     d3.select('#map_tooltip_bg').attr('width', 0)\n\n    //     var bbox = mapTooltip.node().getBBox();\n    //     d3.select('#map_tooltip_bg').attr('width', (parseFloat(bbox.width)+2))\n    //     var scale = window.innerWidth/1329;\n    //     mapTooltip\n    //     .attr('display', 'inline')\n    //     .attr('transform', 'translate('+project(([d.lng, d.lat])).x+','+project(([d.lng, d.lat])).y+')scale('+scale+')');\n\n    //     var heightOffset = mapTooltip.node().getBBox();\n    //     mapTooltip.attr('transform', 'translate('+(project(([d.lng, d.lat])).x+3)+','+(project(([d.lng, d.lat])).y+2-heightOffset.height/2)+')scale('+scale+')');\n\n   \n\n    map.setLayoutProperty(\n        'countries',\n        'visibility',\n        'visible'\n    );\n\n}\n\n// function project(d) {\n//     return map.project(new mapboxgl.LngLat(d[0], d[1]));\n// }\n\nexport default createMap;\n","import React, { useEffect, useState } from \"react\";\nimport * as d3 from \"d3\";\nimport Layout from './Layout';\nimport {drawTimechart, updateTimechart} from './Timechart';\nimport {drawRegionchart, updateRegionchart} from './Regionchart';\nimport {drawBubblechart, updateBubblechart} from './Bubblechart';\nimport options from './Options';\nimport ParseData from './ParseData';\nimport './App.css'\nimport $ from \"jquery\";\nimport select2 from 'select2';\nimport 'select2/dist/css/select2.min.css'\nimport {addCommas, nFormatter} from './HelperFunctions';\nimport { createMap, updateMap } from './Map';\nimport moment from 'moment';\n\n  /* \n  add this attribute to package.json when deploying to github pages.\n \"homepage\": \"https://ifrcgo.github.io/ifrc-covid-dataviz\", \n  */\n\nconst equityDataUrl = './data/equity_data.csv';\nconst layoutUrl = \"./images/layout.svg\";\n// const whoDataUrl = \"./data/who_global_cases.csv\";\nconst whoDataUrl = \"https://covid19.who.int/WHO-COVID-19-global-data.csv\";\n// const vaccinesDataUrl = \"./data/owid_vaccinations.csv\";\nconst vaccinesDataUrl = \"https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.csv\";\n// const vaccinesWhoDataUrl = \"./data/who_vaccination_data.csv\";\nconst vaccinesWhoDataUrl = \"https://covid19.who.int/who-data/vaccination-data.csv\";\nconst timelineDataUrl = \"./data/timeline.csv\";\nconst selfAssessmentDataUrl = \"./data/self_assessment.csv\";\nconst vaccineAcceptanceDataUrl = \"./data/vaccine_acceptance.csv\";\n\nconst data = {};\n\nconst regionOptions = [\n  { id: 'AM', text: 'Americas' },\n  { id: 'EU', text: 'Europe' },\n  { id: 'AP', text: 'Asia-Pacific' },\n  { id: 'ME', text: 'Middle East and North Africa'},\n  { id: 'AF', text: 'Africa' }\n]\n\nconst countryOptions = [];\n\nfunction App() {\n\n  const [progress, setProgress] = useState(0);\n  const [loaderText, setLoaderText] = useState('Loading SVG layout...');\n\n  async function init(){\n\n    // data source 1: layout.svg\n    const layout = d3.xml(layoutUrl);\n    layout.then(function(d){\n      d3.select('#svg_container').node().append(d3.select(d.documentElement).attr('width', '100%').attr('height', '100%').node());\n      const svg = d3.select('#svg_container svg');\n      svg.select('title').remove();\n      svg.attr('id', 'svg');\n      Layout(svg, options, data, filter, updateTable, updateMap);\n      setProgress(0.1);\n      setLoaderText('Loading equity data CSV...');\n      // data source 2: equity_data.csv\n      const equityData = d3.csv(equityDataUrl);\n      equityData.then(function(d){\n        data.equity_data = d;\n        d.forEach(function(d,i){\n          countryOptions.push({'text': d.country_name, 'id': 'Country-'+d.country_iso2 })\n        })\n        createSelects();\n        setProgress(0.1);\n        setLoaderText('Loading WHO data CSV...');\n        // data source 1: owid_vaccines.csv\n        const vaccinesData = d3.csv(vaccinesDataUrl);\n          vaccinesData.then(function(d){\n            data.vaccines_data = d;\n            setProgress(0.07);\n            setLoaderText('Loading OWID vaccines data...');\n             // data source 2: vaccinesWhoData.csv\n             const vaccinesWhoData = d3.csv(vaccinesWhoDataUrl);\n             vaccinesWhoData.then(function(d){\n               data.vaccines_who_data = d;\n               setProgress(0.15);\n               setLoaderText('Loading OWID vaccines data...');\n                // data source 3: self_assessment.csv\n                const selfAssessmentData = d3.csv(selfAssessmentDataUrl);\n                selfAssessmentData.then(function(d){\n                  data.self_assessment = d;\n                  setProgress(0.22);\n                  setLoaderText('Loading self assessment...');\n                  // data source 4: vaccine_acceptance.csv\n                  const vaccineAcceptanceData = d3.csv(vaccineAcceptanceDataUrl);\n                  vaccineAcceptanceData.then(function(d){\n                    data.vaccine_acceptance = d;\n                    setProgress(0.3);\n                      setLoaderText('Loading vaccine acceptance data...');\n                      // data source 3: timeline.csv\n                      const timelineData = d3.csv(timelineDataUrl);\n                      timelineData.then(function(d){\n                        data.timeline_data = d;\n                        setProgress(0.4);\n                        setLoaderText('Loading WHO daily data...');\n                          // data source 5: who_global_cases.csv\n                          const whoData = d3.csv(whoDataUrl);\n                          whoData.then(function(d){\n                            data.who_data = d;\n                            setProgress(0.8);\n                              setLoaderText('Loading complete.');\n                              setProgress(1);\n                              ParseData(data, options);\n                              createCharts();\n                              d3.select('#loaderDiv').transition().duration(1000).style('opacity', 0).on(\"end\", () => d3.select('#loaderDiv').remove());\n                    });\n                  });\n                });\n              });\n            });\n          });\n      });\n    })\n  }\n  \n  function createCharts(){\n    d3.select('#who_data_date tspan').text(moment(data.max_date).format('ll'));\n    d3.select('#owid_data_date tspan').text(moment(data.max_vaccine_date).format('ll'));\n    drawTimechart(data, options);\n    drawRegionchart(data, options, filter);\n    updateTable(data, options);\n    updateTotals(data, options);\n    createMap(data, options, filter);\n    drawBubblechart(data, options, filter);\n  }\n\n  function filter(id,e){\n    options.page = 1;\n    if(id=='clear'){\n      options.region_filter = [];\n      options.country_filter = [];\n      d3.select('#reset_locations').attr('display', 'none');\n    } \n    if(id=='clear-region'){\n      options.region_filter = [];\n    } \n\n    if(id=='clear-hdi'){\n      options.hdi_filter = [];\n    } \n\n    if(id=='clear-inform'){\n      options.inform_filter = [];\n    } \n\n    if((id.length==1)&&(id[0].length==2)&&(id!='filter')){\n      if(options.region_filter.includes(id[0])){\n        options.region_filter = options.region_filter.filter(d=>d!==id[0])\n      } else {\n        options.region_filter.push(id[0]);\n      }\n    }\n\n    if(options.region_filter.length==5) options.region_filter = [];\n\n    if(options.region_filter.length>0){\n      d3.select('#region_remove_filter').attr('opacity', 1);\n\n      d3.selectAll('.bar-labels').attr('opacity', 0.5);\n      options.region_filter.forEach(function(d,i){\n        d3.select('.bar-label-'+d).attr('opacity', 1);\n      })\n    } else {\n        d3.select('#region_remove_filter').attr('opacity', 0);\n        d3.selectAll('.bar-labels').attr('opacity', 1);\n    }\n\n    data.country = data.original.country;\n\n    var hdi_countries = [];\n    if(options.hdi_filter.length>0){\n      d3.select('#hdi_remove_filter').attr('opacity', 1);\n      data.country.forEach(function(d,i){\n        if(options.hdi_filter.includes(d.hdi_category)){\n          hdi_countries.push(d.country_iso2);\n        }\n      })\n    } else {\n      d3.select('#hdi_remove_filter').attr('opacity', 0);\n    }\n\n    var inform_countries = [];\n    if(options.inform_filter.length>0){\n      d3.select('#inform_remove_filter').attr('opacity', 1);\n      data.country.forEach(function(d,i){\n        if(options.inform_filter.includes(d.inform_severity)){\n          inform_countries.push(d.country_iso2);\n        }\n      })\n    } else {\n      d3.select('#inform_remove_filter').attr('opacity', 0);\n    }\n\n    if((id.length==1)&&(id[0].length>2)){\n      var code = id[0].substring(8);\n      if(options.country_filter.includes(code)){\n        options.country_filter = options.country_filter.filter(d=>d!==code)\n      } else {\n        options.country_filter.push(code);\n      }\n    }\n\n    if((options.region_filter.length==0)&&(options.country_filter.length==0)){\n      d3.select('#reset_locations').attr('display', 'none');\n    }\n\n    var countryIds = [];\n    options.country_filter.forEach(function(d,i){\n      countryIds.push('Country-'+d);\n    })\n\n    if((options.region_filter.length>0)||(options.country_filter.length>0)) {\n        d3.select('#reset_locations').attr('display', 'inline')\n      } else {\n        d3.select('#reset_locations').attr('display', 'none')\n      }\n\n    var mergeFilter = options.region_filter.concat(countryIds);\n    $('#regionSelect').val(mergeFilter)\n    $('#regionSelect').trigger('change');\n\n    // update data\n    data.who_data = data.original.who_data;\n\n    if(inform_countries.length>0){\n      data.who_data = data.who_data.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    \n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.who_data = data.who_data.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }\n    data.vaccines_data = data.original.vaccines_data;\n\n    if(inform_countries.length>0){\n      data.vaccines_data = data.vaccines_data.filter(function(d,i){\n        return inform_countries.includes(d.country_code)\n      })\n    }\n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.vaccines_data = data.vaccines_data.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code)))&&(hdi_countries.includes(d.country_code))\n          } else {\n            return (hdi_countries.includes(d.country_code))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_code))\n        }\n      })\n    }\n\n    if(inform_countries.length>0){\n      data.country = data.country.filter(function(d,i){\n        return inform_countries.includes(d.country_iso2)\n      })\n    } \n    if((options.region_filter.length>0)||(options.country_filter.length>0)||(hdi_countries.length>0)){\n      data.country = data.country.filter(function(d,i){\n        if(hdi_countries.length>0){\n          if((options.region_filter.length>0)||(options.country_filter.length>0)){\n            return (options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_iso2)))&&(hdi_countries.includes(d.country_iso2))\n          } else {\n            return (hdi_countries.includes(d.country_iso2))\n          }\n        } else {\n          return options.region_filter.includes(d.ifrc_region)||(options.country_filter.includes(d.country_iso2))\n        }\n      })\n    }\n\n    handleSelectLength();\n    updateCharts();\n\n  }\n  function updateCharts(){\n    updateRegionchart(options,data);\n    updateTable(data, options);\n    updateTotals(data, options);\n    updateTimechart(data, options);\n    updateMap(data,options);\n    updateBubblechart(data, options, filter);\n  }\n\n  function updateTotals(data,options){\n\n    var numCountriesFiltered = data.country.length;\n\n    // total cases\n    var totalCases = d3.sum(data.country, d => d.cumulative_cases);\n    d3.select('#total_cases tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalCases)(t))\n      };\n    });\n\n    // hide bars when zero cases\n    if(totalCases==0){\n      d3.selectAll('.bar_group').attr('opacity',0);\n    } else {\n      d3.selectAll('.bar_group').attr('opacity',1);\n    }\n\n    // total new cases\n    var totalNewCases = totalCases - d3.sum(data.country, d => d.cumulative_cases_7_days);\n    d3.select('#total_new_cases tspan').text('-');\n    d3.select('#total_new_cases tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalNewCases)(t))\n      };\n    })\n\n    // total deaths\n    var totalDeaths = d3.sum(data.country, d => d.cumulative_deaths);\n    d3.select('#total_deaths tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalDeaths)(t))\n      };\n    })\n\n    var totalVaccinations = d3.sum(data.country, d => d.total_vaccinations);\n    d3.select('#total_vaccines tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return nFormatter(d3.interpolate(0, totalVaccinations)(t))\n      };\n    })\n\n    //***************************\n    // vaccies per 100 / acceptance / vaccine types / ns involvemnt\n    //***************************\n    var vaccinesPer100 = {population: 0, vaccine_population: 0};\n    var vaccineAcceptance = {population: 0, vaccine_acceptance_population: 0};\n    var numNsInvolvedCountres = 0;\n    data.vaccine_types = [];\n    data.country.forEach(function(dd,ii){\n      // vaccine per 100 including country population weight\n      if((dd.vaccines_per_100>0)&&(dd.population>0)) {\n        vaccinesPer100.population += dd.population;\n        vaccinesPer100.vaccine_population += dd.population*dd.vaccines_per_100;\n      }\n      // vaccine acceptance including country population weight\n      if(dd.vaccine_acceptance_population>0) {\n        vaccineAcceptance.population += dd.vaccine_acceptance_population;\n        vaccineAcceptance.vaccine_acceptance_population += dd.vaccine_acceptance_population*dd.vaccine_acceptance_percent;\n      }\n      // vacine types data\n      dd.vaccines_used.forEach(function(ddd){\n        if((!data.vaccine_types.includes(ddd))&&(ddd.length>1)&&(!ddd.includes('nactiv'))) data.vaccine_types.push(ddd);\n      })\n      // ns involved countries\n      numNsInvolvedCountres += dd.ns_involvement;\n    });\n\n    // update total doses per 100 total\n    d3.select('#total_vac_100 tspan').text('-');\n    var vaccinePer100ByPopulation = vaccinesPer100.vaccine_population / vaccinesPer100.population;\n    if(vaccinePer100ByPopulation){\n      d3.select('#total_vac_100 tspan').transition().duration(500)\n      .textTween(function() {\n        return function(t) {\n          return (d3.interpolate(0, vaccinePer100ByPopulation)(t).toFixed(1))\n        };\n      })\n    }\n\n    // update vaccine acceptance percent total\n    d3.select('#percent_acceptance tspan').text('-');\n    var vaccineAcceptancePercent = vaccineAcceptance.vaccine_acceptance_population / vaccineAcceptance.population;\n    if(vaccineAcceptancePercent){\n      d3.select('#percent_acceptance tspan').transition().duration(500)\n      .textTween(function() {\n        return function(t) {\n          return Math.round(d3.interpolate(0, Math.round(vaccineAcceptancePercent))(t))+'%';\n        };\n      })\n    }\n\n    // update ns involved total\n    d3.select('#total_ns_countries tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return Math.round(d3.interpolate(0, numNsInvolvedCountres)(t))\n      };\n    })\n\n    // update num types of vaccines total\n    d3.select('#num_vaccines tspan').transition().duration(500)\n    .textTween(function() {\n      return function(t) {\n        return Math.round(d3.interpolate(0, data.vaccine_types.length)(t))\n      };\n    })\n\n    // vaccine type tooltip list\n    d3.selectAll('.vaccine_type').remove();\n    d3.select('#vaccine_tooltip_bg').attr('height', 1);\n    data.vaccine_types.forEach(function(d,i){\n      d3.select(\"#vaccine_tooltip\").append('text')\n      .attr('font-size', 9)\n      .attr('fill', '#000')\n      .attr('class', 'vaccine_type')\n      .append('tspan').text(d)\n      .attr('dx', 6)\n      .attr('dy',((i*1.3)+1.8)+'em')\n    });\n\n    var vtooltipbbox = d3.select('#vaccine_tooltip').node().getBBox();\n    d3.select('#vaccine_tooltip_bg').attr('height', vtooltipbbox.height+6);\n\n    //***************************\n    // update hdi / inform numbers\n    //***************************\n\n    // define empty objects\n    var hdiData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiDataPopulation = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiDataVaccines = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiContactTracing = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiTotalCasesData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0};\n    var hdiTestingData = {'very-high':[], 'high': [], 'medium': [], 'low': []};\n    var informData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informDataPopulation = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informDataVaccines = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informContactTracing = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informTotalCasesData = {'very-high':0, 'high': 0, 'medium': 0, 'low': 0, 'no-score': 0};\n    var informTestingData = {'very-high':[], 'high': [], 'medium': [], 'low': [], 'no-score': []};\n    var totalRecordedPopulation = 0;\n\n    if(totalCases>0){\n      data.country.forEach(function(dd,ii){\n          \n          hdiData[dd.hdi_category] += 1;\n          hdiDataPopulation[dd.hdi_category] += parseInt(dd.population);\n          hdiDataVaccines[dd.hdi_category] += parseInt(dd.total_vaccinations)||0;\n\n          informData[dd.inform_severity] += 1;\n          \n          informContactTracing[dd.inform_severity] += dd.contract_tracing;\n          hdiContactTracing[dd.hdi_category] += dd.contract_tracing;\n\n          if((dd.hdi_category=='very-high')||(dd.hdi_category=='high')||(dd.hdi_category=='medium')||(dd.hdi_category=='low'))\n          hdiTestingData[dd.hdi_category].push(dd.avg_tests_per_1000);\n          if((dd.inform_severity=='very-high')||(dd.inform_severity=='high')||(dd.inform_severity=='medium')||(dd.inform_severity=='low')||(dd.inform_severity=='no-score'))\n          informTestingData[dd.inform_severity].push(dd.avg_tests_per_1000);\n\n          informDataPopulation[dd.inform_severity] += parseInt(dd.population);\n          informDataVaccines[dd.inform_severity] += parseInt(dd.total_vaccinations)||0;\n          // hdi index\n          hdiTotalCasesData[dd.hdi_category] += dd.cumulative_cases || 0;\n          informTotalCasesData[dd.inform_severity] += dd.cumulative_cases || 0;\n      })\n    }\n\n    var totalHdiPop = hdiDataPopulation['very-high']+hdiDataPopulation['high']+hdiDataPopulation['medium']+hdiDataPopulation['low'];\n    var totalInformPop = informDataPopulation['very-high']+informDataPopulation['high']+informDataPopulation['medium']+informDataPopulation['low']+informDataPopulation['no-score'];\n\n    // update additional indicators\n    // row 0 percent of vaccinations by hdi\n    d3.select('#hdi-percent-val-very-high tspan').text(parse((hdiTotalCasesData['very-high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-very-high').transition().duration(500).attr('width', (parse(hdiTotalCasesData['very-high']/totalCases)*70));\n    d3.select('#hdi-percent-val-high tspan').text(parse((hdiTotalCasesData['high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-high').transition().duration(500).attr('width', (parse(hdiTotalCasesData['high']/totalCases)*70));\n    d3.select('#hdi-percent-val-medium tspan').text(parse((hdiTotalCasesData['medium']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-medium').transition().duration(500).attr('width', (parse(hdiTotalCasesData['medium']/totalCases)*70));\n    d3.select('#hdi-percent-val-low tspan').text(parse((hdiTotalCasesData['low']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#hdi-percent-bar-low').transition().duration(500).attr('width', (parse(hdiTotalCasesData['low']/totalCases)*70));\n\n    d3.select('#inform-percent-val-very-high tspan').text(parse((informTotalCasesData['very-high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-very-high').transition().duration(500).attr('width', (parse(informTotalCasesData['very-high']/totalCases)*64));\n    d3.select('#inform-percent-val-high tspan').text(parse((informTotalCasesData['high']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-high').transition().duration(500).attr('width', (parse(informTotalCasesData['high']/totalCases)*64));\n    d3.select('#inform-percent-val-medium tspan').text(parse((informTotalCasesData['medium']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-medium').transition().duration(500).attr('width', (parse(informTotalCasesData['medium']/totalCases)*64));\n    d3.select('#inform-percent-val-low tspan').text(parse((informTotalCasesData['low']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-low').transition().duration(500).attr('width', (parse(informTotalCasesData['low']/totalCases)*64));\n    d3.select('#inform-percent-val-no-score tspan').text(parse((informTotalCasesData['no-score']/totalCases)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '16');\n    d3.select('#inform-percent-bar-no-score').transition().duration(500).attr('width', (parse(informTotalCasesData['no-score']/totalCases)*64));\n\n    d3.select('#hdi-toggle-very-high-val tspan').text(hdiData['very-high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-high-val tspan').text(hdiData['high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-medium-val tspan').text(hdiData['medium']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#hdi-toggle-low-val tspan').text(hdiData['low']).style('text-anchor', 'end').attr('dx', '10');\n\n    d3.select('#inform-toggle-very-high-val tspan').text(informData['very-high']).style('text-anchor', 'end').attr('dx', '6');\n    d3.select('#inform-toggle-high-val tspan').text(informData['high']).style('text-anchor', 'end').attr('dx', '10');\n    d3.select('#inform-toggle-medium-val tspan').text(informData['medium']).style('text-anchor', 'end').attr('dx', '9');\n    d3.select('#inform-toggle-low-val tspan').text(informData['low']).style('text-anchor', 'end').attr('dx', '7');\n    d3.select('#inform-toggle-no-score-val tspan').text(informData['no-score']).style('text-anchor', 'end').attr('dx', '13');\n\n    // row 1 percnet of vaccinations by hdi\n    d3.select('#hdi1val-very-high tspan').text(parse((hdiDataPopulation['very-high']/totalHdiPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi1bar-very-high').transition().duration(500).attr('width', (parse(hdiDataPopulation['very-high']/totalHdiPop)*70));\n    d3.select('#hdi1val-high tspan').text(parse((hdiDataPopulation['high']/totalHdiPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi1bar-high').transition().duration(500).attr('width', (parse(hdiDataPopulation['high']/totalHdiPop)*70));\n    d3.select('#hdi1val-medium tspan').text(parse((hdiDataPopulation['medium']/totalHdiPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi1bar-medium').transition().duration(500).attr('width', (parse(hdiDataPopulation['medium']/totalHdiPop)*70));\n    d3.select('#hdi1val-low tspan').text(parse((hdiDataPopulation['low']/totalHdiPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi1bar-low').transition().duration(500).attr('width', (parse(hdiDataPopulation['low']/totalHdiPop)*70));\n\n    d3.select('#inform1val-very-high tspan').text(parse((informDataPopulation['very-high']/totalInformPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform1bar-very-high').transition().duration(500).attr('width', (parse(informDataPopulation['very-high']/totalInformPop)*64));\n    d3.select('#inform1val-high tspan').text(parse((informDataPopulation['high']/totalInformPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform1bar-high').transition().duration(500).attr('width', (parse(informDataPopulation['high']/totalInformPop)*64));\n    d3.select('#inform1val-medium tspan').text(parse((informDataPopulation['medium']/totalInformPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform1bar-medium').transition().duration(500).attr('width', (parse(informDataPopulation['medium']/totalInformPop)*64));\n    d3.select('#inform1val-low tspan').text(parse((informDataPopulation['low']/totalInformPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform1bar-low').transition().duration(500).attr('width', (parse(informDataPopulation['low']/totalInformPop)*64));\n    d3.select('#inform1val-no-score tspan').text(parse((informDataPopulation['no-score']/totalInformPop)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform1bar-no-score').transition().duration(500).attr('width', (parse(informDataPopulation['no-score']/totalInformPop)*64));\n\n    // row 2 percent of total vaccinations\n    d3.select('#hdi2val-very-high tspan').text(parse((hdiDataVaccines['very-high']/totalVaccinations)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi2bar-very-high').transition().duration(500).attr('width', (parse(hdiDataVaccines['very-high']/totalVaccinations)*70));\n    d3.select('#hdi2val-high tspan').text(parse((hdiDataVaccines['high']/totalVaccinations)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi2bar-high').transition().duration(500).attr('width', (parse(hdiDataVaccines['high']/totalVaccinations)*70));\n    d3.select('#hdi2val-medium tspan').text(parse((hdiDataVaccines['medium']/totalVaccinations)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi2bar-medium').transition().duration(500).attr('width', (parse(hdiDataVaccines['medium']/totalVaccinations)*70));\n    d3.select('#hdi2val-low tspan').text(parse((hdiDataVaccines['low']/totalVaccinations)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi2bar-low').transition().duration(500).attr('width', (parse(hdiDataVaccines['low']/totalVaccinations)*70));\n\n    d3.select('#inform2val-very-high tspan').text(parse((informDataVaccines['very-high']/totalVaccinations)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform2bar-very-high').transition().duration(500).attr('width', (parse(informDataVaccines['very-high']/totalVaccinations)*64));\n    d3.select('#inform2val-high tspan').text(parse((informDataVaccines['high']/totalVaccinations)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform2bar-high').transition().duration(500).attr('width', (parse(informDataVaccines['high']/totalVaccinations)*64));\n    d3.select('#inform2val-medium tspan').text(parse((informDataVaccines['medium']/totalVaccinations)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform2bar-medium').transition().duration(500).attr('width', (parse(informDataVaccines['medium']/totalVaccinations)*64));\n    d3.select('#inform2val-low tspan').text(parse((informDataVaccines['low']/totalVaccinations)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform2bar-low').transition().duration(500).attr('width', (parse(informDataVaccines['low']/totalVaccinations)*64));\n    d3.select('#inform2val-no-score tspan').text(parse((informDataVaccines['no-score']/totalVaccinations)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform2bar-no-score').transition().duration(500).attr('width', (parse(informDataVaccines['no-score']/totalVaccinations)*64));\n\n    // row 3 total doses by hdi/inform\n    var maxhdivac = d3.max([ hdiDataVaccines['low'],hdiDataVaccines['medium'],hdiDataVaccines['high'],hdiDataVaccines['very-high'] ]);\n    var maxinformvac = d3.max([ informDataVaccines['low'],informDataVaccines['medium'],informDataVaccines['high'],informDataVaccines['very-high'],informDataVaccines['no-score'] ]);\n\n    d3.select('#hdi3val-very-high tspan').text(nFormatter(hdiDataVaccines['very-high'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi3bar-very-high').transition().duration(500).attr('width', (parse(hdiDataVaccines['very-high']/maxhdivac)*70));\n    d3.select('#hdi3val-high tspan').text(nFormatter(hdiDataVaccines['high'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi3bar-high').transition().duration(500).attr('width', (parse(hdiDataVaccines['high']/maxhdivac)*70));\n    d3.select('#hdi3val-medium tspan').text(nFormatter(hdiDataVaccines['medium'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi3bar-medium').transition().duration(500).attr('width', (parse(hdiDataVaccines['medium']/maxhdivac)*70));\n    d3.select('#hdi3val-low tspan').text(nFormatter(hdiDataVaccines['low'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi3bar-low').transition().duration(500).attr('width', (parse(hdiDataVaccines['low']/maxhdivac)*70));\n\n    d3.select('#inform3val-very-high tspan').text(nFormatter(informDataVaccines['very-high'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform3bar-very-high').transition().duration(500).attr('width', (parse(informDataVaccines['very-high']/maxinformvac)*64));\n    d3.select('#inform3val-high tspan').text(nFormatter(informDataVaccines['high'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform3bar-high').transition().duration(500).attr('width', (parse(informDataVaccines['high']/maxinformvac)*64));\n    d3.select('#inform3val-medium tspan').text(nFormatter(informDataVaccines['medium'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform3bar-medium').transition().duration(500).attr('width', (parse(informDataVaccines['medium']/maxinformvac)*64));\n    d3.select('#inform3val-low tspan').text(nFormatter(informDataVaccines['low'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform3bar-low').transition().duration(500).attr('width', (parse(informDataVaccines['low']/maxinformvac)*64));\n    d3.select('#inform3val-no-score tspan').text(nFormatter(informDataVaccines['no-score'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform3bar-no-score').transition().duration(500).attr('width', (parse(informDataVaccines['no-score']/maxinformvac)*64));\n\n    // row 4 total vaccinations\n    d3.select('#hdi4val-very-high tspan').text(parse((hdiContactTracing['very-high']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi4bar-very-high').transition().duration(500).attr('width', (parse(hdiContactTracing['very-high']/numCountriesFiltered)*70));\n    d3.select('#hdi4val-high tspan').text(parse((hdiContactTracing['high']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi4bar-high').transition().duration(500).attr('width', (parse(hdiContactTracing['high']/numCountriesFiltered)*70));\n    d3.select('#hdi4val-medium tspan').text(parse((hdiContactTracing['medium']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi4bar-medium').transition().duration(500).attr('width', (parse(hdiContactTracing['medium']/numCountriesFiltered)*70));\n    d3.select('#hdi4val-low tspan').text(parse((hdiContactTracing['low']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi4bar-low').transition().duration(500).attr('width', (parse(hdiContactTracing['low']/numCountriesFiltered)*70));\n\n    d3.select('#inform4val-very-high tspan').text(parse((informContactTracing['very-high']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform4bar-very-high').transition().duration(500).attr('width', (parse(informContactTracing['very-high']/numCountriesFiltered)*64));\n    d3.select('#inform4val-high tspan').text(parse((informContactTracing['high']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform4bar-high').transition().duration(500).attr('width', (parse(informContactTracing['high']/numCountriesFiltered)*64));\n    d3.select('#inform4val-medium tspan').text(parse((informContactTracing['medium']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform4bar-medium').transition().duration(500).attr('width', (parse(informContactTracing['medium']/numCountriesFiltered)*64));\n    d3.select('#inform4val-low tspan').text(parse((informContactTracing['low']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform4bar-low').transition().duration(500).attr('width', (parse(informContactTracing['low']/numCountriesFiltered)*64));\n    d3.select('#inform4val-no-score tspan').text(parse((informContactTracing['no-score']/numCountriesFiltered)*100).toFixed(0)+'%').style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform4bar-no-score').transition().duration(500).attr('width', (parse(informContactTracing['no-score']/numCountriesFiltered)*64));\n\n    // row 5 average testing\n    hdiTestingData['low'] = Math.round(d3.mean(hdiTestingData['low']))||0;\n    hdiTestingData['medium'] = Math.round(d3.mean(hdiTestingData['medium']))||0;\n    hdiTestingData['high'] = Math.round(d3.mean(hdiTestingData['high']))||0;\n    hdiTestingData['very-high'] = Math.round(d3.mean(hdiTestingData['very-high']))||0;\n    informTestingData['no-score'] = Math.round(d3.mean(informTestingData['no-score']))||0;\n    informTestingData['low'] = Math.round(d3.mean(informTestingData['low']))||0;\n    informTestingData['medium'] = Math.round(d3.mean(informTestingData['medium']))||0;\n    informTestingData['high'] = Math.round(d3.mean(informTestingData['high']))||0;\n    informTestingData['very-high'] = Math.round(d3.mean(informTestingData['very-high']))||0;\n\n    var maxhditest = d3.max([ hdiTestingData['low'],hdiTestingData['medium'],hdiTestingData['high'],hdiTestingData['very-high'] ]);\n    var maxinformtest = d3.max([ informTestingData['low'],informTestingData['medium'],informTestingData['high'],informTestingData['very-high'],informTestingData['no-score'] ]);\n\n    d3.select('#hdi5val-very-high tspan').text(addCommas(hdiTestingData['very-high'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi5bar-very-high').transition().duration(500).attr('width', (parse(hdiTestingData['very-high']/maxhditest)*70));\n    d3.select('#hdi5val-high tspan').text(addCommas(hdiTestingData['high'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi5bar-high').transition().duration(500).attr('width', (parse(hdiTestingData['high']/maxhditest)*70));\n    d3.select('#hdi5val-medium tspan').text(addCommas(hdiTestingData['medium'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi5bar-medium').transition().duration(500).attr('width', (parse(hdiTestingData['medium']/maxhditest)*70));\n    d3.select('#hdi5val-low tspan').text(addCommas(hdiTestingData['low'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#hdi5bar-low').transition().duration(500).attr('width', (parse(hdiTestingData['low']/maxhditest)*70));\n\n    d3.select('#inform5val-very-high tspan').text(addCommas(informTestingData['very-high'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform5bar-very-high').transition().duration(500).attr('width', (parse(informTestingData['very-high']/maxinformtest)*64));\n    d3.select('#inform5val-high tspan').text(addCommas(informTestingData['high'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform5bar-high').transition().duration(500).attr('width', (parse(informTestingData['high']/maxinformtest)*64));\n    d3.select('#inform5val-medium tspan').text(addCommas(informTestingData['medium'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform5bar-medium').transition().duration(500).attr('width', (parse(informTestingData['medium']/maxinformtest)*64));\n    d3.select('#inform5val-low tspan').text(addCommas(informTestingData['low'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform5bar-low').transition().duration(500).attr('width', (parse(informTestingData['low']/maxinformtest)*64));\n    d3.select('#inform5val-no-score tspan').text(addCommas(informTestingData['no-score'])).style('text-anchor', 'end').attr('dx', '');\n    d3.select('#inform5bar-no-score').transition().duration(500).attr('width', (parse(informTestingData['no-score']/maxinformtest)*64));\n\n    // num countries filtered (table)\n    d3.select('#countries_filtered tspan').text(numCountriesFiltered+' countries filtered').style('text-anchor', 'end').attr('dx', '105');\n\n  }\n\n  d3.select('#prev').style('cursor', 'pointer')\n  .attr('opacity', 0.5)\n  .on('click',function(){\n    if(options.page==1) return false;\n    options.page = options.page-1;\n    updateTable(data, options);\n  })\n\n\n  d3.select('#next').style('cursor', 'pointer').on('click',function(){\n    if(options.page==options.numPages) return false;\n    options.page = options.page+1;\n    updateTable(data, options);\n  })\n\n  async function updateTable(data, options){\n\n    // var lastRecord = data.vaccines_data_cumulative.filter(d=>d.date.getTime()==data.max_date.getTime());\n    // var vGroup = d3.flatGroup(lastRecord, d => d.iso_code);\n\n    // data.country.forEach(function(d,i){\n    //   var vaccine_acceptance_percent = (d.vaccine_acceptance_percent) || 0\n    //   if(!vGroup.some(item => item[0] === d.country_iso3)){\n    //     vGroup.push([d.country_iso3, [{\n    //       country_name: d.country_name,\n    //       country_code: d.country_iso2,\n    //       vaccine_acceptance_percent: vaccine_acceptance_percent\n    //     }]])\n    //   }\n    //   vGroup.forEach(function(dd,ii){\n    //     if(dd[0]==d.country_iso3){\n    //       dd[1][0].vaccine_acceptance_percent = vaccine_acceptance_percent;\n    //       dd[1][0].country_name = d.country_name;\n    //       dd[1][0].country_code = d.country_iso2;\n    //     }\n    //   })\n    // })\n\n    var sortKey;\n    if(options.table_sort=='col0_sort') sortKey = 'country_name';\n    if(options.table_sort=='col1_sort') sortKey = 'total_vaccinations_per_hundred';\n    if(options.table_sort=='col2_sort') sortKey = 'people_vaccinated_per_hundred';\n    if(options.table_sort=='col3_sort') sortKey = 'people_fully_vaccinated_per_hundred';\n    if(options.table_sort=='col4_sort') sortKey = 'vaccine_acceptance_percent';\n    if(options.table_sort=='col5_sort') sortKey = 'total_vaccinations';\n\n    for(var x = 0; x<6; x++){\n      d3.select('#col'+x+'_sort_desc').attr('opacity', 0);\n      d3.select('#col'+x+'_sort_asc').attr('opacity', 0);\n    }\n\n    d3.select('#'+options.table_sort+'_'+options.table_sort_direction)\n    .attr('opacity', 1);\n\n    if(sortKey=='country_name'){\n      if(options.table_sort_direction=='asc') {\n        data.country.sort(function(b, a){\n          return a.country_name.localeCompare(b.country_name);\n        })\n      } else {\n        data.country.sort(function(a, b){\n          return a.country_name.localeCompare(b.country_name);\n        })    \n      }\n\n    } else {\n      if(options.table_sort_direction=='desc') {\n        data.country.sort(function(a,b){\n            return b[sortKey] - a[sortKey];\n        });\n      } else {\n        data.country.sort(function(b,a){\n          return b[sortKey] - a[sortKey];\n        });\n      }\n    }\n\n  //   data.vGroup = vGroup;\n\n  //   data.vGroup.forEach(function(d,i){\n  //     data.equity_data.forEach(function(dd,ii){\n  //         if(d[0] == dd.country_iso3){\n  //             dd.people_fully_vaccinated_per_hundred = parseFloat(d[1][0].people_fully_vaccinated_per_hundred);\n  //             dd.people_vaccinated_per_hundred = parseFloat(d[1][0].people_vaccinated_per_hundred);\n  //             dd.total_vaccinations = parseFloat(d[1][0].total_vaccinations);\n  //             dd.total_vaccinations_per_hundred = parseFloat(d[1][0].total_vaccinations_per_hundred);\n  //         }\n  //     })\n  // })\n\n\n    d3.selectAll('.tablerow').remove();\n    d3.selectAll('.col1bar').attr('opacity', 0);\n    d3.selectAll('.col2bar').attr('opacity', 0);\n    d3.selectAll('.col3bar').attr('opacity', 0);\n    d3.selectAll('.col4bar').attr('opacity', 0);\n    d3.selectAll('.colbg').attr('opacity', 0);\n    d3.selectAll('.table_country_name tspan').text('');\n\n    options.numPages = Math.ceil(data.country.length/10);\n\n    d3.select('#next').attr('opacity', function(){\n      if(options.page==options.numPages) return 0.5;\n      return 1;\n    })\n\n    d3.select('#prev')\n    .attr('opacity', function(){\n      if(options.page==1) return 0.5;\n      return 1;\n    })\n\n    d3.select('#pagination_text').attr('text-anchor', 'end');\n    d3.select('#pagination_text tspan').attr('x', 40);\n    d3.select('#pagination_text tspan').text('Page '+options.page + ' of '+options.numPages)\n\n    var i = 0;\n    var delay = 10;\n    const timer = ms => new Promise(res => setTimeout(res, ms));\n\n    for(let k = ((options.page-1)*10); k < ((options.page)*10); k++){\n\n      var d = data.country[k];\n      if(!data.country[k]) {\n        d3.select('#col1bar'+i)\n        .attr('width', 0);\n        d3.select('#col2bar'+i)\n        .attr('width', 0)\n        d3.select('#col3bar'+i)\n        .attr('width', 0)\n        d3.select('#col4bar'+i)\n        .attr('width', 0)\n        continue;\n      }\n\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow table_country_name')\n      .text(function(){\n        var name;\n        if(d.country_name) { name = d.country_name; } else {\n          name = d.country_code;\n        }\n        name = name.substring(0,17);\n        if(name.length==17)name=name+'.';\n        return name;\n      })\n      .attr('x', 0)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 1 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow table_country_name')\n      .text(function(){\n        var val = parseFloat(d.total_vaccinations_per_hundred).toFixed(1);\n        if((isNaN(val))||(val==0)){ return ''} else { return val }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 112)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 1 bar\n      d3.select('#col1bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(200)\n      .attr('width', function(){\n        var val = d.total_vaccinations_per_hundred;\n        if(d.total_vaccinations_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n\n      d3.select('#col1bg'+i)\n      .attr('opacity', 1);\n\n      // col 2 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = parseFloat(d.people_vaccinated_per_hundred).toFixed(1);\n        if((isNaN(val))||(val==0)){ return ''} else { return val+'%' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 223)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 2 bar\n      d3.select('#col2bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(200)\n      .attr('width', function(){\n        var val = d.people_vaccinated_per_hundred;\n        if(d.people_vaccinated_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n\n      d3.select('#col2bg'+i)\n      .attr('opacity', 1);\n\n      // col 3 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = parseFloat(d.people_fully_vaccinated_per_hundred).toFixed(1);\n        if((isNaN(val))||(val==0)){ return ''} else { return val+'%' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 335)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 3 bar\n      d3.select('#col3bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(200)\n      .attr('width', function(){\n        var val = d.people_fully_vaccinated_per_hundred;\n        if(d.people_fully_vaccinated_per_hundred>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n      \n      d3.select('#col3bg'+i)\n      .attr('opacity', 1);\n\n      // col 4 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = parseFloat(d.vaccine_acceptance_percent).toFixed(1);\n        if((isNaN(val))||(val==0)){ return ''} else { return val+'%' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 450)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n\n      // col 4 bar\n      d3.select('#col4bar'+i)\n      .attr('opacity', 1)\n      .transition()\n      .duration(200)\n      .attr('width', function(){\n        var val = d.vaccine_acceptance_percent;\n        if(d.vaccine_acceptance_percent>100){\n          val = 100\n        } \n        if(isNaN(val)){ return 0} else { return 68*(val/100) }\n      });\n      \n      d3.select('#col4bg'+i)\n      .attr('opacity', 1);\n\n\n      var dayFormat = d3.timeFormat(\"%b %d\");\n      // col 5 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = (d.total_vaccinations);\n        if((isNaN(val))||(val==0)){ return ''} else { return nFormatter(val) }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 572)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n      \n      // col 6 val\n      d3.select('#vac-tab').append('text')\n      .attr('class','tablerow')\n      .text(function(){\n        var val = (d.data_updated);\n        if((val)){ return dayFormat(val)} else { return '' }\n      })\n      .style('text-anchor', 'end')\n      .attr('x', 620)\n      .attr('y', function(){\n        return 80+(i*24.8);\n      })\n      .style('fill', '#000')\n      .style('font-size', '9px');\n      \n      i++;\n      \n      await timer(15);\n    }\n\n  }\n\n  function createSelects(){\n     // region select\n      $('#regionSelect').select2({\n        data: [{\n          id: 'regions',\n          text: 'IFRC Regions',\n          children: regionOptions\n        },{\n          id: 'countries',\n          text: 'Countries',\n          children: countryOptions\n        }],\n        placeholder: '',\n        scrollAfterSelect: true,\n        renderTemplate: item => item.text || '\\u200B',\n        dropdownParent: $('#regionDrop'),\n        shouldFocusInput: function() {\n        return false;\n      },\n        templateResult: function(data) {\n        var $state = $('<span>' + data.text + '<span>');\n        return $state;\n      }\n      }).on('select2:unselecting', function() {\n          $(this).data('unselecting', true);\n      }).on('select2:opening', function(e) {\n          if ($(this).data('unselecting')) {\n              $(this).removeData('unselecting');\n              e.preventDefault();\n          }\n      });\n\n      $('#regionSelect').on('select2:select', function (e) {\n          var data = e.params.data;\n          filter([data.id]);\n      });\n\n      $('#regionSelect').on('select2:unselect', function (e) {\n        var data = e.params.data;\n        filter([data.id]);\n    });\n\n      // reset locations\n      d3.select('#reset_locations').style('cursor', 'pointer')\n      .on('click', function(){\n        filter('clear');\n      }); \n\n      // bubble map select color by\n      $('#colorSelect').select2({\n        scrollAfterSelect: true,\n        minimumResultsForSearch: -1,\n        renderTemplate: item => item.text || '\\u200B',\n        dropdownParent: $('#regionDrop'),\n        shouldFocusInput: function() {\n        return false;\n      },\n        templateResult: function(data) {\n        var $state = $('<span>' + data.text + '<span>');\n        return $state;\n      }\n      }).on('select2:select', function(e) {\n        var d = e.params.data;\n        options.bubble_chart_color_by = d.id;\n        updateBubblechart(data, options, filter);\n      });\n\n      // bubble map select y-axis\n      $('#ySelect').select2({\n        scrollAfterSelect: true,\n        minimumResultsForSearch: -1,\n        renderTemplate: item => item.text || '\\u200B',\n        dropdownParent: $('#regionDrop'),\n        shouldFocusInput: function() {\n        return false;\n      },\n        templateResult: function(data) {\n        var $state = $('<span>' + data.text + '<span>');\n        return $state;\n      }\n      }).on('select2:select', function(e) {\n        var d = e.params.data;\n        options.bubble_chart_y_axis = d.id;\n        updateBubblechart(data, options, filter);\n      });\n\n  }\n\n  function handleSelectLength(){\n    var values = $('#regionSelect').select2('data');\n    // handle height for many selections\n    var select2HeightRatio = $('#regionSelectContainer').width()/$('#regionSelectContainer').height();\n    if(select2HeightRatio<10){\n      $('.select2-selection__choice').hide();\n      $('.select2-search__field').attr('placeholder', values.length+' LOCATIONS SELECTED' ).css('width', '100%')\n    } else {\n      $('.select2-search__field').attr('placeholder', '' );\n      $('.select2-selection__choice').show();\n    }\n  }\n\n  useEffect(() => {\n    init();\n  }, [])\n\n\n  const selectStyle = {\n    control: (base, state) => ({\n      ...base,\n      border: '1px solid #D8D8D8',\n      boxShadow: 'none',\n      '&:hover': {\n          border: '1px solid #D8D8D8',\n      }\n  })\n  };\n\n  return (\n    <div>\n      <div id=\"loaderDiv\">\n        <div id=\"loaderText\">{loaderText}</div>\n        <div id=\"loaderBar\">\n          <div id=\"loaderProgress\" style={{width: progress*100+'%'}}></div>\n        </div>\n      </div>\n\n      <div id=\"regionSelectContainer\">\n        <select id=\"regionSelect\" className=\"js-example-responsive\" name=\"region[]\" multiple=\"multiple\"></select>\n        <div id=\"regionDrop\"></div>\n      </div>\n\n      <div id=\"bubbleSelectContainer\">\n        <div id=\"colorSelectContainer\">Color by&nbsp;&nbsp;\n        <select id=\"colorSelect\" className=\"js-example-responsive\" name=\"colorby[]\" defaultValue=\"hdi\">\n          <option value=\"region\">IFRC region</option>\n          <option value=\"hdi\">Human Development Index (HDI)</option>\n          <option value=\"inform-severity\">INFORM Severity Index</option>\n        </select>\n        <div id=\"colorDrop\"></div>\n        </div>\n        <div id=\"ySelectContainer\">\n          y-Axis&nbsp;&nbsp;\n        <select id=\"ySelect\" className=\"js-example-responsive\" name=\"yaxis[]\">\n          <option value=\"percent-vaccinated-at-least-1-dose\">% vaccinated at least 1 dose</option>\n          <option value=\"percent-fully-vaccinated\">% fully vaccinated</option>\n          <option value=\"percent-vaccine-acceptance\">% vaccine acceptance</option>\n        </select>\n        <div id=\"yDrop\"></div>\n        </div>\n      </div>\n\n\n    <div id=\"svg_container\" className=\"App\">\n\n    </div>\n    <div id=\"map_div_outer\">\n      <div id=\"map_div\">\n      </div>\n    </div>\n    \n    <div id=\"footer\">Data Sources - <a href=\"https://covid19.who.int/info/\" target=\"_blank\">WHO Daily cases and deaths by date, vaccination data</a>, <a href=\"https://github.com/owid/covid-19-data/tree/master/public/data/vaccinations\" target=\"_blank\">OWID vaccinations csv</a></div>\n\n    </div>\n  );\n}\n\nfunction parse(p){\n  if(isNaN(p)){\n    return 0\n  } else {\n    return p;\n  }\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}